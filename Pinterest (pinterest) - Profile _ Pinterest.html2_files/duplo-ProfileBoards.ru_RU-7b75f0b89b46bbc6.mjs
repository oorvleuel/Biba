(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[91704,51879,13047,90984,77221,5719,23019,44722,28153,71866],{361600:e=>{var t,i,n,a,o,r,s,l,d={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"inviteCode"},i={defaultValue:null,kind:"LocalArgument",name:"inviteType"},n={defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"AllShareOptionsUtilityMutation",selections:[{alias:null,args:a=[{fields:[{kind:"Variable",name:"inviteCode",variableName:"inviteCode"},{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteSentExternalMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"fromUserId",storageKey:null}],storageKey:null}],type:"V3InviteSentExternal",abstractKey:null},{kind:"InlineFragment",selections:[o,l={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"InvalidParameters",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[i,t,n],kind:"Operation",name:"AllShareOptionsUtilityMutation",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3InviteSentExternalMutation",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[r,s,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3InviteSentExternal",abstractKey:null},{kind:"InlineFragment",selections:[l],type:"InvalidParameters",abstractKey:null}],storageKey:null}]},params:{id:"1705ed8db84c79dc12b83cafd1757686fa888571bbecd699295d011693ddd4cf",metadata:{},name:"AllShareOptionsUtilityMutation",operationKind:"mutation",text:null}};d.hash="7e73aab163ac599c2451f08566f2eb15",e.exports=d},865107:e=>{var t,i,n,a,o={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"inviteType"},{defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",selections:[{alias:null,args:i=[{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a={alias:null,args:null,concreteType:"InviteUserExternal",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inviteCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inviteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[n,{kind:"InlineFragment",selections:[a],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}]},params:{id:"6312848b4bb08588587683a04a42e4d0333e2e986fcab0cef4ed200786d3f5d9",metadata:{},name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",operationKind:"query",text:null}};o.hash="bc8b32c56a4a58de585c9a05ae69bd9c",e.exports=o},833045:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupRelatedModuleConfiguration_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"02bde8dfbac8f0ee5b08d5f677e73dfe"};e.exports=t},7745:e=>{var t,i,n,a,o,r,s,l={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"invite_code"}],kind:"Fragment",metadata:null,name:"PinCardSharedHeaderQuery",selections:[{alias:null,args:i=[{kind:"Variable",name:"inviteCode",variableName:"invite_code"}],concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[a={alias:"first_name",args:null,kind:"ScalarField",name:"firstName",storageKey:null},o={alias:"is_default_image",args:null,kind:"ScalarField",name:"isDefaultImage",storageKey:null},r={alias:"image_medium_url",args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"PinCardSharedHeaderQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[a,o,r,s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},s],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}]},params:{id:"6ecc0f5ef5b300806765351890d4c30338f4cba0f2ed6262aebb971f8d13cedd",metadata:{},name:"PinCardSharedHeaderQuery",operationKind:"query",text:null}};l.hash="6113bb3593481961950c5053449014f3",e.exports=l},906587:e=>{var t,i,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinRecipe_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"474x")'},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"diets",storageKey:null},{alias:null,args:null,concreteType:"CookTimes",kind:"LinkedField",name:"cookTimes",plural:!1,selections:[{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"cook",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"m",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"total",plural:!1,selections:t,storageKey:null}],storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,concreteType:"ParsedIngredientMetadata",kind:"LinkedField",name:"ingredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},i],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"summary",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="72951c99039e6492a3eb8e9fcb5a22c3",e.exports=n},922275:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinStory_pin",selections:[{args:null,kind:"FragmentSpread",name:"CloseupRelatedModuleConfiguration_pin"}],type:"Pin",abstractKey:null,hash:"ae543539bb18673977d412b8bef960ed"};e.exports=t},276667:e=>{var t,i,n,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeeMoreButton_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},n,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null}],storageKey:null},t,{args:null,kind:"FragmentSpread",name:"VaseSection_pin"}],type:"Pin",abstractKey:null};a.hash="64effb4f1e63deaf1d53b77187d996de",e.exports=a},584818:e=>{var t,i,n,a,o,r,s,l,d,c,u={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TodayArticleModule",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"contentPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"images170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o=[i={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"170x")'},{alias:"images236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"236x")'},{alias:"images736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"736x")'},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:c=[t,r={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},d={alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[t,l,s,r,d],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pageCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"contentPinOfficialUser",plural:!1,selections:c,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedSource",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"headerPinId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageUrls",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isProductPinFeed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showCreator",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"videoPin",plural:!1,selections:[t,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},n,a],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"TodayArticle",abstractKey:null};u.hash="3afdada2f3d905a39bf4a6d5bf55a160",e.exports=u},133132:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicImageWithText_topic",selections:[{alias:"background_color",args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"follower_count",args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Interest",abstractKey:null,hash:"b5b71fb4390c1d3835e468a25f687669"};e.exports=t},964820:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicRepFragment_topic",selections:[{alias:"is_followed",args:null,kind:"ScalarField",name:"isFollowed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"TopicImageWithText_topic"}],type:"Interest",abstractKey:null,hash:"e5a0b7dce2aa2313e4cf2c9871cbedf7"};e.exports=t},12617:e=>{var t,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthDesktopContextMenu_pin",selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImagesFragment_pin"}],type:"Pin",abstractKey:null};i.hash="6cc486603fe4bb19b18741c21346a49b",e.exports=i},167074:e=>{var t,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthMobileContextMenu_pin",selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImagesFragment_pin"}],type:"Pin",abstractKey:null};i.hash="74f28c48f3a5ddb4a53f101389981c63",e.exports=i},85934:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseAnnotations_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"}],type:"Pin",abstractKey:null,hash:"594237c2ea6ccfb8bbc0e3e8c62cac9f"};e.exports=t},877821:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseSection_pin",selections:[{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"}],type:"Pin",abstractKey:null,hash:"5645b1c5850647c98e4d2fefbb484bf4"};e.exports=t},604955:e=>{var t,i,n,a,o={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"boardId"}],kind:"Fragment",metadata:null,name:"boards_AcceptInvite_Mutation",selections:[{alias:null,args:i=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3AcceptBoardCollaboratorInviteMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"boards_AcceptInvite_Mutation",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3AcceptBoardCollaboratorInviteMutation",plural:!1,selections:[n,{kind:"InlineFragment",selections:[a],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"684be4cb6a79ca32f82ddfa38f308039fdcaff0720a6118743e1e198085f1237",metadata:{},name:"boards_AcceptInvite_Mutation",operationKind:"mutation",text:null}};o.hash="c73ed7e5b29f046197e7dfcf7d7a7cd0",e.exports=o},518190:e=>{var t,i,n,a,o={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"boards_ApproveInvite_Mutation",selections:[{alias:null,args:i=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"user",variableName:"userId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3ApproveBoardCollaboratorInviteMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"boards_ApproveInvite_Mutation",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3ApproveBoardCollaboratorInviteMutation",plural:!1,selections:[n,{kind:"InlineFragment",selections:[a],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"1380a15fe95dc7713c5d72fd6104da573f3db5b8b0ab66f883bec351df4c8a71",metadata:{},name:"boards_ApproveInvite_Mutation",operationKind:"mutation",text:null}};o.hash="216cdb449b148a3d36e9d0621dcfcac5",e.exports=o},90105:e=>{var t,i,n,a,o,r,s={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"ban"},i={defaultValue:null,kind:"LocalArgument",name:"boardId"},n={defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"boards_DeclineOrDeleteBoardCollaboratorInvite_Mutation",selections:[{alias:null,args:a=[{fields:[{kind:"Variable",name:"ban",variableName:"ban"},{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"user",variableName:"userId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3DeclineOrDeleteBoardCollaboratorInviteMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[i,n,t],kind:"Operation",name:"boards_DeclineOrDeleteBoardCollaboratorInvite_Mutation",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3DeclineOrDeleteBoardCollaboratorInviteMutation",plural:!1,selections:[o,{kind:"InlineFragment",selections:[r],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"533aad425ad868e5a9d811bf76dccd56e54e0cc48c4c8b526ccbcd7c68efb981",metadata:{},name:"boards_DeclineOrDeleteBoardCollaboratorInvite_Mutation",operationKind:"mutation",text:null}};s.hash="b03dba13d39482d785778ba0feadca06",e.exports=s},472297:e=>{var t,i,n,a,o,r,s,l,d={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"board"},{defaultValue:null,kind:"LocalArgument",name:"collaboratorIds"}],kind:"Fragment",metadata:null,name:"boards_RemoveBoardCollaborators_Mutation",selections:[{alias:null,args:i=[{fields:[{kind:"Variable",name:"board",variableName:"board"},{kind:"Variable",name:"collaboratorIds",variableName:"collaboratorIds"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3RemoveBoardCollaboratorsMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"collaboratorCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[{kind:"InlineFragment",selections:[n,{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null}],storageKey:null}],type:"V3RemoveBoardCollaborators",abstractKey:null},{kind:"InlineFragment",selections:[n,s={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"boards_RemoveBoardCollaborators_Mutation",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3RemoveBoardCollaboratorsMutation",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[o,r,l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},l],storageKey:null}],type:"V3RemoveBoardCollaborators",abstractKey:null},{kind:"InlineFragment",selections:[s],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"e100ea491b53ee042f6d9a7f42b583afafd9b8a730b43e06b81b9132821866ea",metadata:{},name:"boards_RemoveBoardCollaborators_Mutation",operationKind:"mutation",text:null}};d.hash="ecec88eadc69c1153ca5e0c4bfe03fd9",e.exports=d},787525:e=>{var t,i,n,a,o={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"board"},{defaultValue:null,kind:"LocalArgument",name:"emails"},{defaultValue:null,kind:"LocalArgument",name:"message"}],kind:"Fragment",metadata:null,name:"boards_emails_Mutation",selections:[{alias:null,args:i=[{fields:[{kind:"Variable",name:"board",variableName:"board"},{kind:"Variable",name:"emails",variableName:"emails"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorEmailMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"V3InviteBoardCollaboratorEmail",abstractKey:null},{kind:"InlineFragment",selections:[n,a={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"boards_emails_Mutation",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorEmailMutation",plural:!1,selections:[n,{kind:"InlineFragment",selections:[a],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"4d372bf76e6f77707e9106c02f73ec23773c4bd7e457dc684ea7dd1b87985c7c",metadata:{},name:"boards_emails_Mutation",operationKind:"mutation",text:null}};o.hash="0659a1edf1c7935aff1deef3f51f2add",e.exports=o},16945:e=>{var t,i,n,a,o,r,s={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"boardId"},i={defaultValue:null,kind:"LocalArgument",name:"collaboratorIds"},n={defaultValue:null,kind:"LocalArgument",name:"message"}],kind:"Fragment",metadata:null,name:"boards_users_Mutation",selections:[{alias:null,args:a=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"collaboratorIds",variableName:"collaboratorIds"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorsMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[i,t,n],kind:"Operation",name:"boards_users_Mutation",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorsMutation",plural:!1,selections:[o,{kind:"InlineFragment",selections:[r],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"9495c71001fb315e3dc5e63ec17a8d8d5a4fb53ebc7f791b44093a4a92665835",metadata:{},name:"boards_users_Mutation",operationKind:"mutation",text:null}};s.hash="743ce0da1ac8191550520ebe045b4fb0",e.exports=s},569772:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useAnnotationsWithLinksFragment_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"35075da6e1f4b526ac4314727015c44d"};e.exports=t},96795:e=>{var t,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinImagesFragment_pin",selections:[{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"60x60")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"736x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"600x315")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"orig")'}],type:"Pin",abstractKey:null};i.hash="8dd4c9c753d2a67c0606dfff23b820e9",e.exports=i},110767:e=>{var t,i,n,a,o,r,s={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"useUnauthContextMenuQuery",selections:[{alias:null,args:i=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"UnauthDesktopContextMenu_pin"},{args:null,kind:"FragmentSpread",name:"UnauthMobileContextMenu_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"useUnauthContextMenuQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:a,storageKey:null},n],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null},{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},o,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"60x60")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"736x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"600x315")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},n],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"a3c7af73694bf4bca337151ae03a4ab0cd268d45aad7d6a29c9cab3ffedebaa3",metadata:{},name:"useUnauthContextMenuQuery",operationKind:"query",text:null}};s.hash="28d48aeed76d97d5b2fc59af2e75669f",e.exports=s},422908:e=>{e.exports="https://s.pinimg.com/webapp/CS@2x-ecc1d35a.png"},832637:e=>{e.exports="https://s.pinimg.com/webapp/DA@2x-0a8213db.png"},986021:e=>{e.exports="https://s.pinimg.com/webapp/DE@2x-e398675a.png"},252881:e=>{e.exports="https://s.pinimg.com/webapp/EL@2x-5895bc67.png"},216462:e=>{e.exports="https://s.pinimg.com/webapp/EN@2x-c3eda626.png"},435574:e=>{e.exports="https://s.pinimg.com/webapp/ES@2x-d867d9a4.png"},890398:e=>{e.exports="https://s.pinimg.com/webapp/FI@2x-47fa27f7.png"},597437:e=>{e.exports="https://s.pinimg.com/webapp/FR@2x-bf910b39.png"},358787:e=>{e.exports="https://s.pinimg.com/webapp/HI@2x-58486090.png"},403529:e=>{e.exports="https://s.pinimg.com/webapp/HU@2x-1705acdc.png"},687096:e=>{e.exports="https://s.pinimg.com/webapp/ID@2x-1dc864b9.png"},720069:e=>{e.exports="https://s.pinimg.com/webapp/IT@2x-60e3683e.png"},154047:e=>{e.exports="https://s.pinimg.com/webapp/JA@2x-15535147.png"},899338:e=>{e.exports="https://s.pinimg.com/webapp/KO@2x-1099f44a.png"},532492:e=>{e.exports="https://s.pinimg.com/webapp/ML@2x-e7a6773b.png"},361316:e=>{e.exports="https://s.pinimg.com/webapp/MS@2x-58f3c917.png"},671307:e=>{e.exports="https://s.pinimg.com/webapp/NL@2x-5f1515db.png"},450914:e=>{e.exports="https://s.pinimg.com/webapp/NN@2x-f061e9b4.png"},888784:e=>{e.exports="https://s.pinimg.com/webapp/NO@2x-d7864990.png"},979730:e=>{e.exports="https://s.pinimg.com/webapp/PL@2x-7b44a0ea.png"},267569:e=>{e.exports="https://s.pinimg.com/webapp/PT@2x-1cf70049.png"},554154:e=>{e.exports="https://s.pinimg.com/webapp/RO@2x-112e3f0c.png"},234540:e=>{e.exports="https://s.pinimg.com/webapp/RU@2x-7e4486d9.png"},209153:e=>{e.exports="https://s.pinimg.com/webapp/SK@2x-2a81803e.png"},271648:e=>{e.exports="https://s.pinimg.com/webapp/SV@2x-61ea661d.png"},108806:e=>{e.exports="https://s.pinimg.com/webapp/TH@2x-0a53c197.png"},505944:e=>{e.exports="https://s.pinimg.com/webapp/TL@2x-3af02ef3.png"},373750:e=>{e.exports="https://s.pinimg.com/webapp/TR@2x-ec2d7ab5.png"},354593:e=>{e.exports="https://s.pinimg.com/webapp/UK@2x-5787bbf9.png"},523673:e=>{e.exports="https://s.pinimg.com/webapp/VI@2x-09999946.png"},934348:e=>{e.exports="https://s.pinimg.com/webapp/arSA@2x-024c511e.png"},70098:e=>{e.exports="https://s.pinimg.com/webapp/zhCN@2x-d3d7eda9.png"},692169:e=>{e.exports="https://s.pinimg.com/webapp/zhTW@2x-af9e1419.png"},908601:e=>{e.exports="https://s.pinimg.com/webapp/CS@2x-488e8cc6.png"},198667:e=>{e.exports="https://s.pinimg.com/webapp/DA@2x-e5d12354.png"},324637:e=>{e.exports="https://s.pinimg.com/webapp/DE@2x-22831293.png"},669639:e=>{e.exports="https://s.pinimg.com/webapp/EL@2x-e764ccf8.png"},882786:e=>{e.exports="https://s.pinimg.com/webapp/EN@2x-ca0773fb.png"},598188:e=>{e.exports="https://s.pinimg.com/webapp/ES@2x-55483593.png"},143832:e=>{e.exports="https://s.pinimg.com/webapp/FI@2x-695433d6.png"},484974:e=>{e.exports="https://s.pinimg.com/webapp/FR@2x-62177ec4.png"},629958:e=>{e.exports="https://s.pinimg.com/webapp/HI@2x-e55c64e4.png"},7747:e=>{e.exports="https://s.pinimg.com/webapp/HU@2x-2916bbea.png"},939492:e=>{e.exports="https://s.pinimg.com/webapp/ID@2x-34da9a4a.png"},800202:e=>{e.exports="https://s.pinimg.com/webapp/IT@2x-5749beff.png"},799486:e=>{e.exports="https://s.pinimg.com/webapp/JA@2x-a57c5839.png"},511036:e=>{e.exports="https://s.pinimg.com/webapp/KO@2x-c909bac5.png"},83365:e=>{e.exports="https://s.pinimg.com/webapp/ML@2x-8998d852.png"},309285:e=>{e.exports="https://s.pinimg.com/webapp/MS@2x-fa38b8b6.png"},186665:e=>{e.exports="https://s.pinimg.com/webapp/NL@2x-d31d4a18.png"},452833:e=>{e.exports="https://s.pinimg.com/webapp/NN@2x-c4b8da55.png"},759050:e=>{e.exports="https://s.pinimg.com/webapp/NO@2x-fd9bd702.png"},9046:e=>{e.exports="https://s.pinimg.com/webapp/PL@2x-5685a97f.png"},27322:e=>{e.exports="https://s.pinimg.com/webapp/PT@2x-2939b38c.png"},501796:e=>{e.exports="https://s.pinimg.com/webapp/RO@2x-188b728d.png"},791841:e=>{e.exports="https://s.pinimg.com/webapp/RU@2x-888d9aa1.png"},50486:e=>{e.exports="https://s.pinimg.com/webapp/SK@2x-bfa2f8d5.png"},417658:e=>{e.exports="https://s.pinimg.com/webapp/SV@2x-0e099997.png"},461619:e=>{e.exports="https://s.pinimg.com/webapp/TH@2x-988a46e6.png"},350421:e=>{e.exports="https://s.pinimg.com/webapp/TL@2x-1e888ea6.png"},97776:e=>{e.exports="https://s.pinimg.com/webapp/TR@2x-c216b517.png"},394445:e=>{e.exports="https://s.pinimg.com/webapp/UK@2x-fb5c6e06.png"},948992:e=>{e.exports="https://s.pinimg.com/webapp/VI@2x-abdc2e13.png"},993235:e=>{e.exports="https://s.pinimg.com/webapp/arSA@2x-1bf8e802.png"},137404:e=>{e.exports="https://s.pinimg.com/webapp/zhCN@2x-0b2349f4.png"},697072:e=>{e.exports="https://s.pinimg.com/webapp/zhTW@2x-0ef5b95c.png"},618552:(e,t,i)=>{var n=i(610852)(i(555639),"DataView");e.exports=n},853818:(e,t,i)=>{var n=i(610852)(i(555639),"Promise");e.exports=n},458525:(e,t,i)=>{var n=i(610852)(i(555639),"Set");e.exports=n},288668:(e,t,i)=>{var n=i(883369),a=i(90619),o=i(572385);function r(e){var t=-1,i=null==e?0:e.length;for(this.__data__=new n;++t<i;)this.add(e[t])}r.prototype.add=r.prototype.push=a,r.prototype.has=o,e.exports=r},70577:(e,t,i)=>{var n=i(610852)(i(555639),"WeakMap");e.exports=n},234963:e=>{e.exports=function(e,t){for(var i=-1,n=null==e?0:e.length,a=0,o=[];++i<n;){var r=e[i];t(r,i,e)&&(o[a++]=r)}return o}},862488:e=>{e.exports=function(e,t){for(var i=-1,n=t.length,a=e.length;++i<n;)e[a+i]=t[i];return e}},282908:e=>{e.exports=function(e,t){for(var i=-1,n=null==e?0:e.length;++i<n;)if(t(e[i],i,e))return!0;return!1}},868866:(e,t,i)=>{var n=i(862488),a=i(701469);e.exports=function(e,t,i){var o=t(e);return a(e)?o:n(o,i(e))}},690939:(e,t,i)=>{var n=i(902492),a=i(637005);e.exports=function e(t,i,o,r,s){return t===i||(null==t||null==i||!a(t)&&!a(i)?t!=t&&i!=i:n(t,i,o,r,e,s))}},902492:(e,t,i)=>{var n=i(646384),a=i(967114),o=i(518351),r=i(916096),s=i(664160),l=i(701469),d=i(644144),c=i(936719),u="[object Arguments]",p="[object Array]",h="[object Object]",m=Object.prototype.hasOwnProperty;e.exports=function(e,t,i,_,g,v){var y=l(e),f=l(t),x=y?p:s(e),b=f?p:s(t),w=(x=x==u?h:x)==h,P=(b=b==u?h:b)==h,S=x==b;if(S&&d(e)){if(!d(t))return!1;y=!0,w=!1}if(S&&!w)return v||(v=new n),y||c(e)?a(e,t,i,_,g,v):o(e,t,x,i,_,g,v);if(!(1&i)){var k=w&&m.call(e,"__wrapped__"),I=P&&m.call(t,"__wrapped__");if(k||I){var T=k?e.value():e,j=I?t.value():t;return v||(v=new n),g(T,j,i,_,v)}}return!!S&&(v||(v=new n),r(e,t,i,_,g,v))}},400280:(e,t,i)=>{var n=i(225726),a=i(86916),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return a(e);var t=[];for(var i in Object(e))o.call(e,i)&&"constructor"!=i&&t.push(i);return t}},727561:(e,t,i)=>{var n=i(567990),a=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(a,""):e}},274757:e=>{e.exports=function(e,t){return e.has(t)}},967114:(e,t,i)=>{var n=i(288668),a=i(282908),o=i(274757);e.exports=function(e,t,i,r,s,l){var d=1&i,c=e.length,u=t.length;if(c!=u&&!(d&&u>c))return!1;var p=l.get(e),h=l.get(t);if(p&&h)return p==t&&h==e;var m=-1,_=!0,g=2&i?new n:void 0;for(l.set(e,t),l.set(t,e);++m<c;){var v=e[m],y=t[m];if(r)var f=d?r(y,v,m,t,e,l):r(v,y,m,e,t,l);if(void 0!==f){if(f)continue;_=!1;break}if(g){if(!a(t,(function(e,t){if(!o(g,t)&&(v===e||s(v,e,i,r,l)))return g.push(t)}))){_=!1;break}}else if(v!==y&&!s(v,y,i,r,l)){_=!1;break}}return l.delete(e),l.delete(t),_}},518351:(e,t,i)=>{var n=i(562705),a=i(611149),o=i(977813),r=i(967114),s=i(668776),l=i(321814),d=n?n.prototype:void 0,c=d?d.valueOf:void 0;e.exports=function(e,t,i,n,d,u,p){switch(i){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!u(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var m=1&n;if(h||(h=l),e.size!=t.size&&!m)return!1;var _=p.get(e);if(_)return _==t;n|=2,p.set(e,t);var g=r(h(e),h(t),n,d,u,p);return p.delete(e),g;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},916096:(e,t,i)=>{var n=i(458234),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,i,o,r,s){var l=1&i,d=n(e),c=d.length;if(c!=n(t).length&&!l)return!1;for(var u=c;u--;){var p=d[u];if(!(l?p in t:a.call(t,p)))return!1}var h=s.get(e),m=s.get(t);if(h&&m)return h==t&&m==e;var _=!0;s.set(e,t),s.set(t,e);for(var g=l;++u<c;){var v=e[p=d[u]],y=t[p];if(o)var f=l?o(y,v,p,t,e,s):o(v,y,p,e,t,s);if(!(void 0===f?v===y||r(v,y,i,o,s):f)){_=!1;break}g||(g="constructor"==p)}if(_&&!g){var x=e.constructor,b=t.constructor;x==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof b&&b instanceof b||(_=!1)}return s.delete(e),s.delete(t),_}},458234:(e,t,i)=>{var n=i(868866),a=i(799551),o=i(3674);e.exports=function(e){return n(e,o,a)}},799551:(e,t,i)=>{var n=i(234963),a=i(770479),o=Object.prototype.propertyIsEnumerable,r=Object.getOwnPropertySymbols,s=r?function(e){return null==e?[]:(e=Object(e),n(r(e),(function(t){return o.call(e,t)})))}:a;e.exports=s},664160:(e,t,i)=>{var n=i(618552),a=i(357071),o=i(853818),r=i(458525),s=i(70577),l=i(644239),d=i(680346),c="[object Map]",u="[object Promise]",p="[object Set]",h="[object WeakMap]",m="[object DataView]",_=d(n),g=d(a),v=d(o),y=d(r),f=d(s),x=l;(n&&x(new n(new ArrayBuffer(1)))!=m||a&&x(new a)!=c||o&&x(o.resolve())!=u||r&&x(new r)!=p||s&&x(new s)!=h)&&(x=function(e){var t=l(e),i="[object Object]"==t?e.constructor:void 0,n=i?d(i):"";if(n)switch(n){case _:return m;case g:return c;case v:return u;case y:return p;case f:return h}return t}),e.exports=x},668776:e=>{e.exports=function(e){var t=-1,i=Array(e.size);return e.forEach((function(e,n){i[++t]=[n,e]})),i}},86916:(e,t,i)=>{var n=i(205569)(Object.keys,Object);e.exports=n},90619:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},572385:e=>{e.exports=function(e){return this.__data__.has(e)}},321814:e=>{e.exports=function(e){var t=-1,i=Array(e.size);return e.forEach((function(e){i[++t]=e})),i}},567990:e=>{var t=/\s/;e.exports=function(e){for(var i=e.length;i--&&t.test(e.charAt(i)););return i}},23279:(e,t,i)=>{var n=i(513218),a=i(707771),o=i(14841),r=Math.max,s=Math.min;e.exports=function(e,t,i){var l,d,c,u,p,h,m=0,_=!1,g=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var i=l,n=d;return l=d=void 0,m=t,u=e.apply(n,i)}function f(e){return m=e,p=setTimeout(b,t),_?y(e):u}function x(e){var i=e-h;return void 0===h||i>=t||i<0||g&&e-m>=c}function b(){var e=a();if(x(e))return w(e);p=setTimeout(b,function(e){var i=t-(e-h);return g?s(i,c-(e-m)):i}(e))}function w(e){return p=void 0,v&&l?y(e):(l=d=void 0,u)}function P(){var e=a(),i=x(e);if(l=arguments,d=this,h=e,i){if(void 0===p)return f(h);if(g)return clearTimeout(p),p=setTimeout(b,t),y(h)}return void 0===p&&(p=setTimeout(b,t)),u}return t=o(t)||0,n(i)&&(_=!!i.leading,c=(g="maxWait"in i)?r(o(i.maxWait)||0,t):c,v="trailing"in i?!!i.trailing:v),P.cancel=function(){void 0!==p&&clearTimeout(p),m=0,l=h=d=p=void 0},P.flush=function(){return void 0===p?u:w(a())},P}},618446:(e,t,i)=>{var n=i(690939);e.exports=function(e,t){return n(e,t)}},3674:(e,t,i)=>{var n=i(14636),a=i(400280),o=i(498612);e.exports=function(e){return o(e)?n(e):a(e)}},707771:(e,t,i)=>{var n=i(555639);e.exports=function(){return n.Date.now()}},770479:e=>{e.exports=function(){return[]}},14841:(e,t,i)=>{var n=i(727561),a=i(513218),o=i(733448),r=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,d=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var i=s.test(e);return i||l.test(e)?d(e.slice(2),i?2:8):r.test(e)?NaN:+e}},782677:(e,t,i)=>{function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function s(e){return!(!e||"function"!=typeof e.hasOwnProperty||!(e.hasOwnProperty("__ownerID")||e._map&&e._map.hasOwnProperty("__ownerID")))}function l(e,t,i){return Object.keys(e).reduce((function(t,n){var a=""+n;return t.has(a)?t.set(a,i(t.get(a),e[a])):t}),t)}i.d(t,{Fv:()=>b,fK:()=>x});var d=function(){function e(e,t,i){if(void 0===t&&(t={}),void 0===i&&(i={}),!e||"string"!=typeof e)throw new Error("Expected a string key for Entity, but found "+e+".");var n=i,a=n.idAttribute,r=void 0===a?"id":a,l=n.mergeStrategy,d=void 0===l?function(e,t){return o({},e,t)}:l,c=n.processStrategy,u=void 0===c?function(e){return o({},e)}:c,p=n.fallbackStrategy,h=void 0===p?function(e,t){}:p;this._key=e,this._getId="function"==typeof r?r:function(e){return function(t){return s(t)?t.get(e):t[e]}}(r),this._idAttribute=r,this._mergeStrategy=d,this._processStrategy=u,this._fallbackStrategy=h,this.define(t)}var t=e.prototype;return t.define=function(e){this.schema=Object.keys(e).reduce((function(t,i){var n,a=e[i];return o({},t,((n={})[i]=a,n))}),this.schema||{})},t.getId=function(e,t,i){return this._getId(e,t,i)},t.merge=function(e,t){return this._mergeStrategy(e,t)},t.fallback=function(e,t){return this._fallbackStrategy(e,t)},t.normalize=function(e,t,i,n,a,o){var r=this,s=this.getId(e,t,i),l=this.key;if(l in o||(o[l]={}),s in o[l]||(o[l][s]=[]),o[l][s].some((function(t){return t===e})))return s;o[l][s].push(e);var d=this._processStrategy(e,t,i);return Object.keys(this.schema).forEach((function(t){if(d.hasOwnProperty(t)&&"object"==typeof d[t]){var i=r.schema[t],s="function"==typeof i?i(e):i;d[t]=n(d[t],d,t,s,a,o)}})),a(this,d,e,t,i),s},t.denormalize=function(e,t){var i=this;return s(e)?l(this.schema,e,t):(Object.keys(this.schema).forEach((function(n){if(e.hasOwnProperty(n)){var a=i.schema[n];e[n]=t(e[n],a)}})),e)},a(e,[{key:"key",get:function(){return this._key}},{key:"idAttribute",get:function(){return this._idAttribute}}]),e}(),c=function(){function e(e,t){t&&(this._schemaAttribute="string"==typeof t?function(e){return e[t]}:t),this.define(e)}var t=e.prototype;return t.define=function(e){this.schema=e},t.getSchemaAttribute=function(e,t,i){return!this.isSingleSchema&&this._schemaAttribute(e,t,i)},t.inferSchema=function(e,t,i){if(this.isSingleSchema)return this.schema;var n=this.getSchemaAttribute(e,t,i);return this.schema[n]},t.normalizeValue=function(e,t,i,n,a,o){var r=this.inferSchema(e,t,i);if(!r)return e;var s=n(e,t,i,r,a,o);return this.isSingleSchema||null==s?s:{id:s,schema:this.getSchemaAttribute(e,t,i)}},t.denormalizeValue=function(e,t){var i=s(e)?e.get("schema"):e.schema;return this.isSingleSchema||i?t((this.isSingleSchema?void 0:s(e)?e.get("id"):e.id)||e,this.isSingleSchema?this.schema:this.schema[i]):e},a(e,[{key:"isSingleSchema",get:function(){return!this._schemaAttribute}}]),e}(),u=function(e){function t(t,i){if(!i)throw new Error('Expected option "schemaAttribute" not found on UnionSchema.');return e.call(this,t,i)||this}r(t,e);var i=t.prototype;return i.normalize=function(e,t,i,n,a,o){return this.normalizeValue(e,t,i,n,a,o)},i.denormalize=function(e,t){return this.denormalizeValue(e,t)},t}(c),p=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var i=t.prototype;return i.normalize=function(e,t,i,n,a,r){var s=this;return Object.keys(e).reduce((function(t,i,l){var d,c=e[i];return null!=c?o({},t,((d={})[i]=s.normalizeValue(c,e,i,n,a,r),d)):t}),{})},i.denormalize=function(e,t){var i=this;return Object.keys(e).reduce((function(n,a){var r,s=e[a];return o({},n,((r={})[a]=i.denormalizeValue(s,t),r))}),{})},t}(c),h=function(e){if(Array.isArray(e)&&e.length>1)throw new Error("Expected schema definition to be a single schema, but found "+e.length+".");return e[0]},m=function(e){return Array.isArray(e)?e:Object.keys(e).map((function(t){return e[t]}))},_=function(e,t,i,n,a,o,r){return e=h(e),m(t).map((function(t,s){return a(t,i,n,e,o,r)}))},g=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var i=t.prototype;return i.normalize=function(e,t,i,n,a,o){var r=this;return m(e).map((function(e,s){return r.normalizeValue(e,t,i,n,a,o)})).filter((function(e){return null!=e}))},i.denormalize=function(e,t){var i=this;return e&&e.map?e.map((function(e){return i.denormalizeValue(e,t)})):e},t}(c),v=function(e,t,i,n,a,r,s){var l=o({},t);return Object.keys(e).forEach((function(i){var n=e[i],o="function"==typeof n?n(t):n,d=a(t[i],t,i,o,r,s);null==d?delete l[i]:l[i]=d})),l},y=function(e,t,i){if(s(t))return l(e,t,i);var n=o({},t);return Object.keys(e).forEach((function(t){null!=n[t]&&(n[t]=i(n[t],e[t]))})),n},f=function e(t,i,n,a,o,r){return"object"==typeof t&&t?"object"!=typeof a||a.normalize&&"function"==typeof a.normalize?a.normalize(t,i,n,e,o,r):(Array.isArray(a)?_:v)(a,t,i,n,e,o,r):t},x={Array:g,Entity:d,Object:function(){function e(e){this.define(e)}var t=e.prototype;return t.define=function(e){this.schema=Object.keys(e).reduce((function(t,i){var n,a=e[i];return o({},t,((n={})[i]=a,n))}),this.schema||{})},t.normalize=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return v.apply(void 0,[this.schema].concat(t))},t.denormalize=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return y.apply(void 0,[this.schema].concat(t))},e}(),Union:u,Values:p},b=function(e,t){if(!e||"object"!=typeof e)throw new Error('Unexpected input given to normalize. Expected type to be "object", found "'+(null===e?"null":typeof e)+'".');var i={},n=function(e){return function(t,i,n,a,o){var r=t.key,s=t.getId(n,a,o);r in e||(e[r]={});var l=e[r][s];e[r][s]=l?t.merge(l,i):i}}(i);return{entities:i,result:f(e,e,null,t,n,{})}}},17314:(e,t,i)=>{i.d(t,{Z:()=>d});var n,a,o=i(813653),r=i(861470),s=0,l=0;const d=function(e,t,i){var d=t&&i||0,c=t||new Array(16),u=(e=e||{}).node||n,p=void 0!==e.clockseq?e.clockseq:a;if(null==u||null==p){var h=e.random||(e.rng||o.Z)();null==u&&(u=n=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==p&&(p=a=16383&(h[6]<<8|h[7]))}var m=void 0!==e.msecs?e.msecs:Date.now(),_=void 0!==e.nsecs?e.nsecs:l+1,g=m-s+(_-l)/1e4;if(g<0&&void 0===e.clockseq&&(p=p+1&16383),(g<0||m>s)&&void 0===e.nsecs&&(_=0),_>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=m,l=_,a=p;var v=(1e4*(268435455&(m+=122192928e5))+_)%4294967296;c[d++]=v>>>24&255,c[d++]=v>>>16&255,c[d++]=v>>>8&255,c[d++]=255&v;var y=m/4294967296*1e4&268435455;c[d++]=y>>>8&255,c[d++]=255&y,c[d++]=y>>>24&15|16,c[d++]=y>>>16&255,c[d++]=p>>>8|128,c[d++]=255&p;for(var f=0;f<6;++f)c[d+f]=u[f];return t||(0,r.Z)(c)}},397066:(e,t,i)=>{i.d(t,{b:()=>c,h:()=>u});var n=i(983722),a=i(768559),o=i(43760),r=i(170168),s=i(619937),l=i(48714),d=i(366284);const c=({href:e,pinId:t,pin:i,location:o,auxData:c},u)=>{if(i&&i.is_promoted){var p,h,m,_;const w=(0,a.Z)({boardUrl:null===(p=i.board)||void 0===p?void 0:p.url,callToCreateSourcePinId:i.call_to_create_source_pin_id,location:o,pinId:i.id,pinnerUserName:null===(h=i.pinner)||void 0===h?void 0:h.username,storyPinDataId:i.story_pin_data_id,trackingParams:i.tracking_params,trackingParamsMap:i.tracking_params_map}),P=(0,l.nS)({url:e,pinId:t,csrId:null,clientTrackingParams:w,auxData:c}),S=(0,n.Z)();if((0,d.G6)(null!==(m=null==S?void 0:S.userAgent.browserName)&&void 0!==m?m:"")){var g,v;const{group:n}=null!==(g=null==S?void 0:S.experimentsClient.checkExperiment("m10n_event_conversion_measurement"))&&void 0!==g?g:{},a=null!=S&&null!==(v=S.userAgent)&&void 0!==v&&v.browserVersion?S.userAgent.browserVersion:"0.0",o=parseFloat(a.split(".")[0]+"."+a.split(".")[1]);if(void 0!==i.campaign_id&&o>=14.1&&["enabled_safari"].includes(n)){var y;const n=i.attribution_source_id?((e,t,i)=>{const n=document.createElement("a");return n.setAttribute("href",t),n.setAttribute("target","_blank"),n.setAttribute("rel","noopener nofollow noreferrer"),n.style.cursor="pointer",n.style.display="block",n.setAttribute(s.$N.ATTRIBUTION_SOURCE_ID,e),n.setAttribute(s.$N.ATTRIBUTE_DESTINATION,i),n.setAttribute(s.$N.ATTRIBUTE_ON,i),n.click(),e})(i.attribution_source_id,P,e):((e,t,i)=>{const n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("target","_blank"),n.setAttribute("rel","noopener nofollow noreferrer"),n.style.cursor="pointer",n.style.display="block";const a=""+(e%32*8+Math.floor(((new Date).getTime()-16409952e5)/864e5)%8);return n.setAttribute(s.$N.ATTRIBUTION_SOURCE_ID,a),n.setAttribute(s.$N.ATTRIBUTE_DESTINATION,i),n.setAttribute(s.$N.ATTRIBUTE_ON,i),n.click(),a})(null!==(y=i.pin_promotion_id)&&void 0!==y?y:0,P,e);return u({event_type:101,clientTrackingParams:w,object_id_str:t||"",aux_data:{pin_id:t||"",click_measurement_ppid:i.pin_promotion_id||"",click_measurement_campaign_id:i.campaign_id||"",is_pcm:!0,attribution_source_id:n,page_url:e}}),!0}}else if((0,d.i7)(null!==(_=null==S?void 0:S.userAgent.browserName)&&void 0!==_?_:"")){var f,x;const{group:n}=null!==(f=null==S?void 0:S.experimentsClient.checkExperiment("m10n_event_conversion_measurement_chrome"))&&void 0!==f?f:{},a=null!=S&&null!==(x=S.userAgent)&&void 0!==x&&x.browserVersion?parseInt(S.userAgent.browserVersion.split(".")[0],10):0;if(void 0!==i.attribution_source_id&&a>=101&&["enabled"].includes(n)){var b;const n=((e,t,i)=>{const n=new URL(`${r.C0}/attribution_source/`);n.searchParams.set(s.NR.ATTRIBUTION_SOURCE_EVENT_ID,e),n.searchParams.set(s.NR.ATTRIBUTION_DESTINATION,i),n.searchParams.set(s.NR.ATTRIBUTION_EXPIRY,""+s.uV);const a=document.createElement("a");return a.setAttribute("href",t),a.setAttribute("target","_blank"),a.setAttribute("rel","noopener nofollow noreferrer"),a.style.cursor="pointer",a.style.display="block",a.setAttribute(s.NR.ATTRIBUTION_SOURCE,n.toString()),a.click(),e})(null!==(b=i.attribution_source_id)&&void 0!==b?b:"0",P,e);return u({event_type:101,clientTrackingParams:w,object_id_str:t||"",aux_data:{pin_id:t||"",click_measurement_ppid:i.pin_promotion_id||"",click_measurement_campaign_id:i.campaign_id||"",is_arapi:!0,attribution_source_id:n,page_url:e}}),!0}}}return!1},u=({href:e,pinId:t,pin:i,location:n,auxData:r},s)=>{if("undefined"!=typeof window&&window.Windows)(0,o.Z)({url:e,pinId:t,pin:i,location:n,auxData:r});else{var d,u;if(c({href:e,pinId:t,pin:i,location:n,auxData:r},s))return;(0,l.Gj)({url:e,pinId:t,csrId:null,clientTrackingParams:(0,a.Z)({boardUrl:null==i||null===(d=i.board)||void 0===d?void 0:d.url,callToCreateSourcePinId:null==i?void 0:i.call_to_create_source_pin_id,location:n,pinId:null==i?void 0:i.id,pinnerUserName:null==i||null===(u=i.pinner)||void 0===u?void 0:u.username,storyPinDataId:null==i?void 0:i.story_pin_data_id,trackingParams:null==i?void 0:i.tracking_params,trackingParamsMap:null==i?void 0:i.tracking_params_map}),auxData:r})}}},485710:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(667294),a=i(898781),o=i(883119),r=i(785893);function s({children:e,heading:t}){const[i,s]=(0,n.useState)(!1),l=(0,a.ZP)();return(0,r.jsxs)(o.kC,{direction:"column",dataTestId:"collapsible-layout",children:[(0,r.jsxs)(o.X6,{align:"start",size:"400",accessibilityLevel:2,children:[(0,r.jsx)(o.xu,{"data-test-id":"collapsible-layout-heading",display:"inlineBlock",children:t}),(0,r.jsx)(o.xu,{"data-test-id":"collapse-button",display:"inlineBlock",marginStart:1,children:(0,r.jsx)(o.hU,{accessibilityLabel:l.bt("    ", "Show more details drop-down", "Closeup.common.CollapsibleLayout", undefined, true),icon:i?"arrow-forward":"arrow-down",onClick:()=>{s(!i)},size:"md"})})]}),!i&&(0,r.jsx)(n.Fragment,{children:e})]})}},319530:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(667294),a=i(883119),o=i(785893);function r({children:e,maxLines:t=10}){const i=(0,n.useRef)(null),[r,s]=(0,n.useState)({isFirstLoad:!0,isTruncated:!1}),{isFirstLoad:l,isTruncated:d}=r;return(0,n.useEffect)((()=>{var e;l&&i.current&&((e=i.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&s({isFirstLoad:!1,isTruncated:!0})}),[l,d]),(0,o.jsxs)(a.xu,{position:"relative","data-test-id":"truncated-text",children:[(0,o.jsx)(a.xv,{ref:i,lineClamp:l||d?t:0,children:e}),d&&(0,o.jsx)(a.xu,{position:"absolute",display:"block",width:"100%",bottom:!0,children:(0,o.jsxs)(a.kC,{flex:"grow",children:[(0,o.jsx)(a.xu,{width:"120px",display:"inlineBlock",dangerouslySetInlineStyle:{__style:{background:"linear-gradient(to right, transparent, white 100%)"}},height:"18px"}),(0,o.jsx)(a.xu,{"data-test-id":"more-button",display:"inlineBlock",dangerouslySetInlineStyle:{__style:{background:"white"}},children:(0,o.jsx)(a.iP,{fullWidth:!1,onTap:()=>s({...r,isTruncated:!1}),children:(0,o.jsx)(a.xv,{inline:!0,size:"200",weight:"bold",children:" more"})})}),(0,o.jsx)(a.xu,{display:"inlineBlock",flex:"grow",height:"18px",dangerouslySetInlineStyle:{__style:{background:"white"}}})]})})]})}},807592:(e,t,i)=>{function n(e){const{max_price:t,min_price:i,price:n}=e;return t&&i?`${i}-${t}`:n}i.d(t,{Z:()=>n})},157796:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(667294),a=i(883119),o=i(785893);function r({color:e="red",duration:t,finalProgress:i,shape:r="pill"}){const[s,l]=(0,n.useState)(!1);(0,n.useEffect)((()=>{const e=setTimeout((()=>{l(!0)}),0);return()=>{clearTimeout(e)}}),[]);const d="pill"===r;return(0,o.jsx)(a.xu,{color:e,height:d?8:6,rounding:d?"pill":2,width:`${i}%`,dangerouslySetInlineStyle:{__style:{transform:d?`translateX(${s?"-5px":"-100%"})`:`scaleX(${s?1:0})`,transformOrigin:"left",transitionDuration:`${t}ms`,transitionTimingFunction:"ease-in"}}})}},27255:(e,t,i)=>{i.d(t,{Z:()=>n});const n={AMP_TRACKING_DOMAIN:"amp.pinterest.com",BoardPrivacy:{SECRET:"secret",PUBLIC:"public",PROTECTED:"protected"},BoardType:{PROTECTED:"protected"},BulkAction:{MOVE:"bulkMove",COPY:"bulkCopy",CREATE_SECTION:"bulkCreateSection",DELETE:"bulkDelete"},MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION:500,MAX_CHARS_FOR_BOARD_TITLE:50,MAX_CHARS_FOR_FIRST_NAME:30,MAX_FETCH_NUM_FOLLOWERS_PER_PAGE:50,MAX_STORED_VISITED_PIN_PAGES:10,VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY:"_video_autoplay_state",VIDEO_IFRAME_ID:"video-iframe"}},558068:(e,t,i)=>{i.d(t,{Hv:()=>l,aX:()=>u,nK:()=>p});var n=i(667294),a=i(425288),o=i(276775),r=i(785893);const{Provider:s,useHook:l}=(0,a.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),d=e=>e&&e.pathname?e.pathname+(e.search||""):"";function c(e,t){var i;const n={action:t.type,location:t.location,match:t.match};if(t.location===(null===(i=e.current)||void 0===i?void 0:i.location))return e;switch(t.type){case"POP":return e.forward.length>0&&d(e.forward[0].location)===d(n.location)?{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:t.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous}:{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:t.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:n,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:n};default:return e}}function u(){const{current:e,previous:t}=l();return(0,n.useMemo)((()=>e?t.concat(e):t),[e,t])}function p({children:e}){const t=(0,o.useHistory)(),i=(0,o.useLocation)(),a=(0,o.useRouteMatch)(),l={forward:[],current:{action:t.action,location:i,match:a},previous:[]},[d,u]=(0,n.useReducer)(c,l);return(0,n.useEffect)((()=>{const{action:e}=t;u({type:e,location:i,match:a})}),[i]),(0,r.jsx)(s,{value:d,children:e})}},391254:(e,t,i)=>{i.d(t,{Z:()=>o});i(441143);var n=i(785893);class a{static factory(e){return e instanceof a?e:new a(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function o(e){const{css:t,unsafeCSS:i,...o}=e,r=String(t||"")||i||"";return!!r?(0,n.jsx)("style",{...o,dangerouslySetInnerHTML:{__html:String(a.factory(r))}}):null}},310227:(e,t,i)=>{i.d(t,{Dv:()=>o,Ml:()=>r,Oc:()=>n,mv:()=>a});const n=16,a=4,o={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"},r=120},700398:(e,t,i)=>{i.d(t,{Z:()=>a});const n=new Set([90,88,89,91,101,92,131]);function a(e){return n.has(e)}},941646:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(883119),a=i(785893);function o(e){const{children:t,display:i,id:o}=e;return(0,a.jsx)(n.xu,{"data-test-id":o,display:i,children:t})}},512176:(e,t,i)=>{i.d(t,{Z:()=>c});var n=i(667294),a=i(898781),o=i(112690),r=i(967181),s=i(883119),l=i(785893);const d={sm:12,md:16,lg:20,xl:24};function c({isVerifiedMerchant:e,size:t,showText:i,showVerifiedIdentity:c,inspirationalBadges:u,inspirationalBadgesColor:p}){const h=(0,a.ZP)(),[m,_]=(0,n.useState)(!1),{dangerousInlineStyle:g,iconColor:v}=(0,r.W)(!!e),y=(0,o.Z)();return(0,l.jsxs)(n.Fragment,{children:[(0,l.jsx)(s.iP,{onTap:()=>{y({component:13534,element:11717,event_type:102}),_(!0)},rounding:"circle",children:(0,l.jsxs)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:g,display:"flex","data-test-id":"verified-badge-icon",children:[(0,l.jsx)(s.JO,{accessibilityLabel:e?h.bt("  ", "Merchant verification badge icon", "merchantVerification.badge.icon", undefined, true):h.bt(" ", "Badge icon", "merchantVerification.badge.icon", undefined, true),icon:"workflow-status-ok",color:v,inline:!0,size:d[t]}),i&&!c&&(0,l.jsx)(s.xu,{marginStart:2,children:(0,l.jsx)(s.xv,{color:"shopping",inline:!0,weight:"bold",children:(0,l.jsx)(s.xu,{dangerouslySetInlineStyle:g,children:h.bt(" ", "Verified merchant", "creator.header.verifiedMerchant", undefined, true)})})})]})}),(e||i&&!c)&&(0,l.jsx)(r.Z,{showModal:m,setShowModal:_,inspirationalBadges:u,inspirationalBadgesColor:p})]})}},967181:(e,t,i)=>{i.d(t,{W:()=>u,Z:()=>p});var n=i(667294),a=i(121151),o=i(898781),r=i(112690),s=i(966113),l=i(752403),d=i(883119),c=i(785893);const u=e=>{const t=e?"shopping":"error";return{iconColor:t,dangerousInlineStyle:{__style:{color:t}}}};function p({inspirationalBadges:e=[],inspirationalBadgesColor:t,showModal:i,setShowModal:p}){const h=(0,o.ZP)(),[m,_]=(0,n.useState)(!0),{dangerousInlineStyle:g,iconColor:v}=u(!0),y=(0,r.Z)();return(0,n.useEffect)((()=>{i&&m&&(_(!1),y({event_type:13,component:13534}))}),[i]),(0,c.jsx)(a.ZP,{"data-test-id":"modal",isOpen:i,mobileAccessibilityCloseIconLabel:h.bt("", "Close", "Close modal window", undefined, true),onDismiss:()=>{y({component:13534,element:11716,event_type:102}),p(!1)},type:"verified_merchant_modal",children:(0,c.jsx)(d.xu,{padding:3,children:(0,c.jsxs)(d.xu,{display:"flex",direction:"column",padding:2,"data-test-id":"verified-badge-modal",children:[(0,c.jsx)(d.xu,{display:"flex",dangerouslySetInlineStyle:g,justifyContent:"center",children:(0,c.jsx)(d.JO,{accessibilityLabel:h.bt("  ", "Merchant verification badge icon", "creator.verifiedMerchant.modalIcon", undefined, true),color:v,icon:"workflow-status-ok",size:24})}),(0,c.jsx)(d.xu,{marginTop:4,children:(0,c.jsx)(d.xv,{color:"shopping",weight:"bold",align:"center",children:(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:g,children:h.bt(" ", "Verified merchant", "creator.verifiedMerchant.modalHeader", undefined, true)})})}),(0,c.jsx)(d.xu,{marginTop:4,marginBottom:4,children:(0,c.jsx)(d.xv,{align:"center",overflow:"normal",children:h.bt("    Pinterest  ", "This retailer meets Pinterest's Merchant Guidelines", "creator.verifiedMerchant.modalText.", undefined, true)})}),e.map((e=>(0,c.jsxs)(d.xu,{display:"flex",direction:"column",marginTop:4,children:[(0,c.jsx)(d.kC,{alignItems:"stretch",justifyContent:"center",children:(0,c.jsx)(d.xv,{overflow:"noWrap",size:"100",weight:"bold",children:(0,c.jsx)(d.xu,{display:"inlineBlock",rounding:1,paddingX:2,paddingY:2,dangerouslySetInlineStyle:{__style:(0,l.ym)(t)},"data-test-id":"verified-badge-modal-inspirational-badge",children:e.label})})}),(0,c.jsx)(d.xu,{marginTop:2,children:(0,c.jsx)(d.xv,{align:"center",overflow:"normal",children:e.description})})]},e.id))),(0,c.jsx)(d.xu,{display:"flex",marginTop:8,justifyContent:"center",width:"100%","data-test-id":"verified-badge-modal-learn-more",children:(0,c.jsx)(d.zx,{role:"link",accessibilityLabel:h.bt("", "Learn more", "creator.verifiedMerchant.buttonText", undefined, true),target:"blank",size:"lg",href:s.vB,text:h.bt("", "Learn more", "creator.verifiedMerchant.buttonText", undefined, true)})})]})})})}},619937:(e,t,i)=>{i.d(t,{$N:()=>p,GY:()=>l,MZ:()=>r,NR:()=>c,Vn:()=>d,fm:()=>n,kM:()=>o,q6:()=>a,qp:()=>s,uV:()=>u});const n={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",RESOURCES:"RESOURCES"},a={GENERAL:"GENERAL",CAMPAIGNS:"CAMPAIGNS",AD_GROUPS:"AD_GROUPS",ADS:"ADS",KEYWORDS:"KEYWORDS",PRODUCT_GROUPS:"PRODUCT_GROUPS",ERROR_CODES:"ERROR_CODES"},o={BILLING_HISTORY:"BILLING_HISTORY",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",DOCUMENTS:"DOCUMENTS",PREPAID_CAMPAIGN_SPEND:"PREPAID_CAMPAIGN_SPEND_SUMMARY"},r={GOOGLE_TAG_MANAGER:"Google Tag Manager",SHOPIFY:"Shopify",WOO_COMMERCE:"WooCommerce",WORDPRESS:"WordPress",SQUARESPACE:"Squarespace",WEEBLY:"Weebly",TEALIUM:"Tealium",MAGENTO:"Magento",ECWID:"Ecwid",BIG_COMMERCE:"BigCommerce"},s={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_EVENTS:"PINTEREST_TAG_EVENTS",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_HEALTH:"CONVERSION_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD",CONVERSIONS_API:"CONVERSIONS_API",CONVERSIONS_API_ACCESS_TOKEN:"CONVERSIONS_API_ACCESS_TOKEN",CONVERSIONS_API_DEDUPLICATION:"CONVERSIONS_API_DEDUPLICATION",PINTEREST_EVENTS_OVERVIEW:"PINTEREST_EVENTS_OVERVIEW",PINTEREST_EVENT_HISTORY:"PINTEREST_EVENT_HISTORY"},l={PINTEREST_TAG_DASHBOARD:"PINTEREST_TAG_DASHBOARD",PINTEREST_TAG_LANDING:"PINTEREST_TAG_LANDING",PINTEREST_TAG_INSTRUCTIONS:"PINTEREST_TAG_INSTRUCTIONS",CONVERSION_UPLOAD_LANDING:"CONVERSION_UPLOAD_LANDING",CONVERSION_UPLOAD_VALIDATION:"CONVERSION_UPLOAD_VALIDATION",CONVERSION_UPLOAD_HISTORY:"CONVERSION_UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD_LANDING:"PCA_UPLOAD_LANDING",PCA_UPLOAD_VALIDATION:"PCA_UPLOAD_VALIDATION"},d={UNREAD:"UNREAD",READ:"READ",ACCEPTED:"ACCEPTED",REJECTED:"REJECTED",DISMISSED:"DISMISSED",INVALID:"INVALID",MUTED:"MUTED",SNOOZED:"SNOOZED",PMP_REPORTED:"PMP_REPORTED",EMAILED:"EMAILED",BULK_DOWNLOADED:"BULK_DOWNLOADED",FILTERED:"FILTERED",PUSHED:"PUSHED"},c={ATTRIBUTION_DESTINATION:"destination",ATTRIBUTION_EXPIRY:"expiry",ATTRIBUTION_SOURCE:"attributionsrc",ATTRIBUTION_SOURCE_EVENT_ID:"source_event_id"},u=604800,p={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"}},283698:(e,t,i)=>{function n(e){return"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"requestAnimationFrame")||e&&e(),window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{e&&e()}))}))}i.d(t,{Z:()=>n})},100183:(e,t,i)=>{i.d(t,{CC:()=>n,Ll:()=>o,XF:()=>a});const n=(e,t)=>((e,t,i)=>({x:Math.floor(e*Math.cos(i)),y:Math.floor(t*Math.sin(i))}))(t/2,e/2,2*Math.random()*Math.PI),a=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,o=e=>["@-webkit-keyframes","@keyframes"].map((t=>e.map((e=>t+" "+e)).join("\n"))).join("\n")},613316:(e,t,i)=>{function n(e){return[0,24,21,26].includes(e)}function a({articleType:e,id:t,title:i}){const n=i.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\'"]/g,"").trim().replace(/\s+/g,"-");return"today"===e?`/today/shop/${n}/${t}/`:`/discover/article/${n}/${t}/`}i.d(t,{x:()=>a,y:()=>n})},366284:(e,t,i)=>{i.d(t,{G6:()=>o,i7:()=>r,oi:()=>n,u$:()=>a,un:()=>l,vU:()=>s});const n=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),a=e=>{switch(!0){case e.includes("Chrome"):return n.CHROME;case e.includes("Safari"):return n.SAFARI;case e.includes("Firefox"):return n.FIREFOX;case e.includes("Opera"):return n.OPERA;case e.includes("IE"):return n.IE;case e.includes("Edge"):return n.EDGE;default:return n.OTHER}};function o(e){return a(e)===n.SAFARI}function r(e){return a(e)===n.CHROME}function s(e){return a(e)===n.FIREFOX}function l(e){return a(e)===n.EDGE}},56641:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(567831),a=i(867820);function o(e,t){if(t&&!(()=>{try{return window.localStorage.test=2,!1}catch(e){return!0}})()){const t=window.open(e,"_blank");return t&&(t.opener=null),t}{const t=(0,n.Z)(e);return setTimeout((()=>{(0,a.My)("setting_new_window_location")}),0),window.location.href=t,window}}},126098:(e,t,i)=>{function n(){if("undefined"!=typeof navigator&&"serviceWorker"in navigator&&void 0!==navigator.serviceWorker&&"Notification"in window&&"PushManager"in window)try{return window.Notification.permission}catch(e){return}}i.d(t,{Z:()=>n})},436851:(e,t,i)=>{i.d(t,{$:()=>a,d:()=>n});const n=e=>/instagram/i.test(e||""),a=e=>(e||"").includes("[Pinterest/iOS]")||(e||"").includes("[Pinterest/Android]")},792182:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(667294),a=i(23279),o=i.n(a);function r(){const[e,t]=(0,n.useState)(null);return(0,n.useEffect)((()=>{const e=()=>t({width:window.innerWidth,height:window.innerHeight});e();const i=o()(e,50);return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)}),[]),e}},752403:(e,t,i)=>{i.d(t,{Bu:()=>m,Dm:()=>s,I:()=>v,NG:()=>p,QP:()=>c,S4:()=>d,Xe:()=>u,_f:()=>h,eT:()=>_,hm:()=>g,yQ:()=>l,ym:()=>f});var n=i(642345);const a=Object.freeze({AFRICAN_AMERICAN_OR_BLACK:"african_american_or_black",BLACK_AFRICAN_DIASPORA:"black_african_diaspora",HISPANIC_OR_LATINX:"hispanic_or_latinx",NATIVE_OR_INDIGENOUS:"native_or_indigenous",ABORIGINAL_OR_INDIGENOUS:"aboriginal_or_indigenous",NATIVE_AMERICAN_OR_ALASKA_NATIVE_OR_INDIGENOUS_PEOPLES:"native_american_or_alaska_native_or_indigenous_peoples",ASIAN_OR_PACIFIC_ISLANDERS:"asian_or_pacific_islanders",ASIAN:"asian",LGBTQ:"lgbtq",MIDDLE_EASTERN:"middle_eastern",TURKISH:"turkish",ROMA:"roma",MIDDLE_EASTERN_TURKISH_ROMA:"middle_eastern_turkish_roma",NORTH_AFRICAN:"north_african",MIDDLE_EASTERN_OR_NORTH_AFRICAN:"middle_eastern_or_north_african",NONE:"none"}),o=Object.freeze({PERSON_OF_COLOR:"person_of_color",LGBTQ:"lgbtq",DISABILITY:"disability",WOMAN:"woman",NONE:"none"}),r=Object.freeze({INVESTED_IN_GOOD:"invested_in_good",ECO_FRIENDLY:"eco_friendly",RESPONSIBLY_SOURCED:"responsibly_sourced",INCLUSIVE:"inclusive",PERSONAL_TOUCH:"personal_touch"}),s=[...Object.keys(a).map((e=>a[e])),...Object.keys(o).map((e=>o[e]))],l=[...Object.keys(r).map((e=>r[e]))],d=3,c=["#EFEFEF","#F8E3D1","#F6F1C1","#DDEEAF","#C9F2EE","#DBD5F4","#EFBCEE"],u={business_diversity_labels:[],created_at:"",disapproval_reasons:[],is_inspirational:!1,review_criteria:[],review_labels:[],updated_at:"",inspirational_badge_selection:{badgeColor:c[0],badgeOptOut:[]},is_eligible_for_storefront_badges:!1,badge_details:[],profile_badges:[]},p="https://help.pinterest.com/article/merchant-details",h="https://help.pinterest.com/business/article/add-merchant-details-to-your-profile";function m({verifiedMerchant:e}){var t,i;const n=null==e?void 0:e.isVerifiedMerchant,a=null==e||null===(t=e.inspirational_signal)||void 0===t?void 0:t.is_inspirational,o=null==e||null===(i=e.inspirational_signal)||void 0===i?void 0:i.is_eligible_for_storefront_badges;return Boolean(n&&a&&o)}function _(e){return e.badge_details?e.badge_details.map((e=>e.id)):[]}function g(e){return(null==e?void 0:e.profile_badges)||[]}function v(e,t,i){return t&&i?t.map((e=>i.find((t=>t.id===e.trim())))).filter(Boolean):[]}function y(e){const t=(0,n.oo)(e);if(!t)return"white";const[i,a,o]=t;return(0,n.DW)(i,a,o)<=n.I?"white":"black"}function f(e){const t=e||c[0];return{backgroundColor:t,color:y(t)}}},768559:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(826067);const a=/\/today\/(article|best|trending)\/[\w-]+\/(\d+)/,o=/\/discover\/article\/[\w-]+\/(\d+)/,r=(e,t)=>t?e.substring(t.length).split("/")[0]:e,s=({boardUrl:e,callToCreateSourcePinId:t,path:i,pinId:s,pinnerUserName:l,query:d,search:c,storyPinDataId:u})=>{var p,h;if(!i)return"";let m="";switch(i){case"/":case"/homefeed/":return"UserHomefeedResource";case l&&`/${l}/pins/`:return"UserPinsResource";case l&&`/${l}/`:case/\/_activity\//.test(i)&&i:return"UserActivityPinsResource";case/\/_created\//.test(i)&&i:return u?"UserStoryPinsFeedResource":"UserActivityPinsResource";case/\/_community\//.test(i)&&i:return"UserDiscoveredPinsResource";case/\/_shop\//.test(i)&&i:return"StoreFrontFeedResource";case/\/_saved\//.test(i)&&i:return"BoardlessPinsResource";case l&&`/${l}/_shopping_list/`:return"ShoppingListFeedResource";case/\/visual-search\//.test(i)&&i:return"VisualLiveSearchResource";case/\/pin\//.test(i)&&i:m="/pin/";const _=r(i,m);if(s!==_)return t?`ApiResource_callToCreatePins_${_}`:`RelatedPinFeedResource_${_}`;break;case/\/search\//.test(i)&&i:if(c){return`SearchResource_${((0,n.mB)(c,{shouldDecode:!1}).q||"").toLowerCase()}`}if(d)return`SearchResource_${encodeURIComponent(d.q||"").toLowerCase()}`;break;case o.test(i)&&i:return`ExploreArticleResource_${(null===(p=i.match(o))||void 0===p?void 0:p[2])||"unknown"}`;case/\/discover\/article\//.test(i)&&i:m="/discover/article/";return`ExploreArticleResource_${r(i,m)}`;case/\/categories\//.test(i)&&i:m="/categories/";return`CategoryFeedResource_${r(i,m)}`;case/\/discover\/topics\//.test(i)&&i:return"CategoryFeedResource";case/\/news_hub\//.test(i)&&i:m="/news_hub/";return`NewsHubDetailsResource_${r(i,m)}`;case/\/_tools\/more-ideas\//.test(i)&&i:return"BoardContentRecommendationResource";case/\/topics\//.test(i)&&i:m="/topics/";return`TopicFeedResource_${r(i,m)}`;case l&&`/${l}/products/`:return"StoreFrontFeedResource";case/\/source\//.test(i)&&i:m="/source/";return`DomainFeedResource_${r(i,m)}`;case/\/explore\//.test(i)&&i:m="/explore/";return`SearchResource_${r(i,m)}`;case e:case!!e&&/\/more_ideas\//.test(i)&&i:return"BoardFeedResource";case e&&i.indexOf(e)>-1&&i:return"BoardSectionPinsResource";case/\/following\//.test(i)&&i:return"FollowingFeedResource";case/\/brand_catalog\//.test(i)&&i:return"BrandCatalogFeedResource";case a.test(i)&&i:return`TodayArticleFeedResource_${(null===(h=i.match(a))||void 0===h?void 0:h[2])||"unknown"}`;case/\/today\//.test(i):return"TodayTabResource";case/\story_feed\//.test(i)&&i:if(c){const{feed_type:e,request_params:t}=(0,n.mB)(c);return`StoryFeedResource_${e}_${t}`}}return""},l=({boardUrl:e,callToCreateSourcePinId:t,location:i,pinId:n,pinnerUserName:a,previousHistory:o,storyPinDataId:r,trackingParams:l,trackingParamsMap:d={}})=>{if(!n||!l||!i)return;if(!d)return`${l}~0`;const{pathname:c,search:u,query:p}=i,h=s({boardUrl:e,callToCreateSourcePinId:t,path:c,pinId:n,pinnerUserName:a,query:p,search:u,storyPinDataId:r,trackingParams:l,trackingParamsMap:d}),m=Object.keys(d);let _;if((c||"").startsWith("/pin/")){const e=m.find((e=>"PinResource"!==e));_=e?d[e]:d.PinResource}else _=d[h];let g;if(!_&&o&&o.length){const i=(e=>{let t=null==e?void 0:e.pathname;return t?(t.match(/\/search\//)&&null!=e&&e.search&&(t+=e.search),t.toLowerCase()):""})(o[o.length-1].location);g=s({boardUrl:e,callToCreateSourcePinId:t,path:i,pinId:n,pinnerUserName:a,query:p,search:u,storyPinDataId:r,trackingParams:l,trackingParamsMap:d}),_=d[g]}return _||(_=`${l||""}~0`),_}},642345:(e,t,i)=>{i.d(t,{DW:()=>s,I:()=>r,oo:()=>o,vq:()=>a});const n=e=>{const t=e.toString(16);return 1===t.length?"0"+t:t},a=(e,t,i)=>"#"+n(e)+n(t)+n(i),o=e=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]},r=.18,s=(e,t,i)=>.2126*(e/255)**2.2+.7151*(t/255)**2.2+.0721*(i/255)**2.2},81636:(e,t,i)=>{i.d(t,{Q:()=>d,Z:()=>c});var n=i(667294),a=i(682492),o=i.n(a),r=i(112690),s=i(780280),l=i(385740);function d(e,t){const{setViewContextData:i}=(0,l.sV)(),{requestIdentifier:a}=(0,s.B)(),d=(0,r.Z)(),{viewData:c}=(0,l.SU)();(0,n.useEffect)((()=>{var t;e&&(i({viewType:null!==(t=e.view_type)&&void 0!==t?t:1,viewParameter:e.view_parameter,viewData:e.view_data?o()(c,e.view_data):o()({},c),component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),d({...e,event_type:13,request_identifier:a}))}),[t])}function c(e){const{children:t,log:i}=e;return d(i),t||null}},745760:(e,t,i)=>{i.d(t,{Ch:()=>p,nc:()=>b,a:()=>w,ZP:()=>P,cA:()=>f,li:()=>x,h1:()=>c});var n=i(682492),a=i.n(n),o=i(6637),r=i(594881),s=i(706922);var l=i(385740),d=i(172045);const c=()=>1e6*Date.now(),u=[6945,170],p={3829:"articleImpressions",18:"pinImpressions",3700:"boardImpressions",3803:"searchImpressions",170:"storyImpression",3704:"userImpressions"},h=[4700,4701,4702,4703,7042,7043],m=e=>function(e){let t=e.length;for(let i=e.length-1;i>=0;i-=1){const n=e.charCodeAt(i);n>127&&n<=2047?t+=1:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&(i-=1)}return t}(JSON.stringify(e)),_=e=>u.includes(e);let g;function v(){const e=new Date;g?g&&g.getUTCDate()!==e.getUTCDate()&&(g=e,(0,r.Z)()):g=e}function y(e){return e.reduce(((e,t)=>{const i=e.find((n=t,e=>e.view_type===n.viewType&&e.view_parameter===n.viewParameter&&e.event_type===n.eventType&&e.object_id_str===n.objectIdStr&&(0,s.Z)(e.view_data,n.viewData)));var n;if(i&&!_(t.eventType))t.impressionType in i.event_data?i.event_data[t.impressionType].push(t.eventData):i.event_data[t.impressionType]=[t.eventData];else{const i={event_type:t.eventType,view_parameter:t.viewParameter,view_type:t.viewType,view_data:t.viewData,time:c(),component:t.component,clientUUID:(0,d.Z)(),aux_data:t.auxData||{},appState:t.appState,event_data:{[t.impressionType]:_(t.eventType)?{...t.eventData,...(t.eventData||{})[t.impressionType]}:[t.eventData]},object_id_str:t.objectIdStr||void 0};e.push(i)}return e}),[])}const f=e=>{const t=e.event_type,i=h.includes(t),n=(0,l.BE)();return!(!i&&13!==t&&!n)},x=(e,t)=>{const i=e.event_type,n=h.includes(i),o=(0,l.BE)();return n?e:13===i&&e.view_type?(null==t||t({viewType:e.view_type,viewParameter:e.view_parameter,viewData:null!=o&&o.viewData?a()(o.viewData,e.view_data):a()({},e.view_data)}),e):!o||e.view_type&&e.view_parameter?e:{...e,view_type:o.viewType,view_parameter:o.viewParameter,view_data:e.view_data?a()(e.view_data,o.viewData):a()({},o.viewData)}},b=(e,t)=>{var i,n;const a=e.component,o=e.object_id_str,r=e.view_type,s=e.event_type,l=e.appState;return null!==(i=((null===(n=e.event_data)||void 0===n?void 0:n[t])||[]).map((i=>({auxData:e.aux_data,...a?{component:a}:{},eventData:i,...s?{eventType:s}:{},...r?{viewType:r}:{},viewData:e.view_data,viewParameter:e.view_parameter,...o?{objectIdStr:o}:null,impressionType:t,appState:l}))))&&void 0!==i?i:[]},w=(e,t)=>({...e.component?{component:e.component}:{},...e.object_id_str?{objectIdStr:e.object_id_str}:null,...e.view_type?{viewType:e.view_type}:{},eventType:e.event_type,auxData:e.aux_data,impressionType:t,viewData:e.view_data,viewParameter:e.view_parameter,eventData:e.event_data});function P(){let e=[],t=[],i=0;function n(){return[...e,...y(t)]}function a(){e=[],t=[],i=0}function r(e=!1){const t=n();t.length&&(o.Z.create("ContextLogResource",{events:t,report_time:c()}).callCreate({async:!e,showError:!1}),a(),v())}return{flushContextEvents:r,getContextEvents:n,logContextEvent:function({object_id_str:t,...n}){const a={aux_data:{},event_data:{},view_data:{},...n,time:c(),clientUUID:(0,d.Z)(),...t?{object_id_str:t}:null};a.aux_data=function(e){if(!e)return e;const{element:t,eventData:i,component:n,objectId:a,view:o,viewParameter:r,viewData:s,durationNs:l,pairId:d,clientTrackingParams:c,...u}=e;return u}(a.aux_data),i+m(a)>20480&&r(!1),e.push(a),v()},logImpression:function(e){i+m(e)>20480&&r(!1),t.push(e)},resetEventsBuffer:a}}},112690:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(407043);const a=()=>(0,n.v)().logContextEvent},643010:(e,t,i)=>{i.d(t,{F6:()=>u,Hs:()=>c,Uf:()=>r,Yc:()=>l,vs:()=>d});var n=i(667294),a=i(867820),o=i(844974);const r="theme",s="dark"===(0,o.qn)(r),l=()=>s;function d(){const[e,t]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{t(l())}),[t]),e}const c=()=>{(0,o.Nh)(r,"dark"),(0,a.My)("mweb.dark_mode.enable"),window.location.reload()},u=()=>{(0,o.L_)(r),(0,a.My)("mweb.dark_mode.disable"),window.location.reload()}},81226:(e,t,i)=>{function n(e){const t=Math.round(e/1e3),i=t%60;return Math.floor(t/60)+":"+(i<10?"0":"")+i}i.d(t,{Z:()=>n})},816068:(e,t,i)=>{i.d(t,{Z:()=>n});const n=e=>Math.floor(new Date(e).getTime()/1e3)},766935:(e,t,i)=>{function n(e,t){let i;return(...n)=>{clearTimeout(i),i=setTimeout((()=>e(...n)),t)}}i.d(t,{Z:()=>n})},966476:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(667294);const a=()=>{const[e,t]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{t(!0)}),[]),e}},722767:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(667294),a=i(973935);function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class r extends n.Component{constructor(...e){super(...e),o(this,"observer",null),o(this,"handleVisibilityChanged",((e,t)=>{this.props.onVisibilityChange(e,t)}))}componentDidMount(){const e=a.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}render(){return n.Children.only(this.props.children)}}const s=r},780679:(e,t,i)=>{i.d(t,{g:()=>r,t:()=>o});var n=i(667294);const a=(0,n.createContext)(null),o=a.Provider,r=()=>(0,n.useContext)(a)},903095:(e,t,i)=>{i.d(t,{Mi:()=>a,lO:()=>o});var n=i(425288);const{Provider:a,useMaybeHook:o}=(0,n.Z)("pageContext")},121093:(e,t,i)=>{i.d(t,{Z:()=>d});var n=i(667294),a=i(702664),o=i(332611),r=i(242923);function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class l extends n.Component{constructor(...e){super(...e),s(this,"state",{hasCompleted:[],hasDismissed:[]}),s(this,"view",(()=>{const{experience:e,isBackendExperience:t,targeting:i,viewExperience:n,viewExperienceObject:a}=this.props;e&&"viewed"!==e.status&&(t?(e.status="viewed",a(e)):i?n(e.placement_id,e.experience_id,i):n(e.placement_id,e.experience_id))})),s(this,"complete",(e=>{const{completeExperience:t,completeExperienceObject:i,experience:n,isBackendExperience:a,preventRemoval:o,targeting:r}=this.props,s=e||1;if(n&&!this.state.hasCompleted.includes(n.experience_id)){const{placement_id:e,experience_id:l}=n||{},d=o||2===s;(1===s||d)&&e&&l&&(a?i(n,d):r?t(e,l,d,r):t(e,l,d),this.setState((e=>({hasCompleted:[...e.hasCompleted,l]}))))}})),s(this,"dismiss",(()=>{const{dismissExperience:e,dismissExperienceObject:t,experience:i,isBackendExperience:n,preventRemoval:a,targeting:o}=this.props,{placement_id:r,experience_id:s}=i||{};i&&!this.state.hasDismissed.includes(s)&&(n?t(i):o?e(r,s,!!a,o):e(r,s,!!a),this.setState((e=>({hasDismissed:[...e.hasDismissed,s]}))))})),s(this,"shouldRenderExperience",(()=>{const{experience:e}=this.props;if(e){const{eligibleIds:t,eligibleTypes:i,predicate:n,transitionType:a}=this.props,{experience_id:o,type:r}=e;if(t&&t.includes(o))return!0;if(null==t||!t.length){if(n&&n(e))return!0;if(i&&i.includes(r))return!0;if(a&&a===r)return!0}}return!1}))}componentDidMount(){if(this.props.disableAutoView)return;const{experience:e}=this.props;e&&this.shouldRenderExperience()&&this.view()}componentDidUpdate(e){if(this.props.disableAutoView)return;const t=e.experience,i=this.props.experience;i&&this.shouldRenderExperience()&&(t&&t.experience_id===i.experience_id||this.view())}render(){const{children:e,experience:t,disableAutoView:i}=this.props;return t&&this.shouldRenderExperience()?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,...i?{view:this.view}:Object.freeze({})}):n.Children.only(e):null}}s(l,"defaultProps",{eligibleIds:[],eligibleTypes:[]});const d=(0,a.connect)((({experiences:e},t)=>({experience:t.experience||(t.placementId?e[t.placementId]:void 0)})),(e=>({completeExperience:(t,i,n,a)=>e((0,o.CK)(t,i,n,!1,{},a)),completeExperienceObject:(t,i)=>e((0,r.Tl)(t,i)),dismissExperience:(t,i,n,a)=>e((0,o.Qu)(t,i,n,void 0,a)),dismissExperienceObject:t=>e((0,r.CF)(t)),viewExperience:(t,i,n)=>e((0,o.UT)(t,i,!1,!1,void 0,n)),viewExperienceObject:t=>e((0,r.dy)(t))})))(l)},332611:(e,t,i)=>{i.d(t,{CK:()=>p,N:()=>v,Qu:()=>h,UT:()=>u,YX:()=>g,d9:()=>m,fO:()=>l,kd:()=>_,pz:()=>d});var n=i(6637),a=i(764990),o=i(172071),r=i(957191);let s;const l=(e,t)=>i=>{const a=t?{extra_context:e,targeting:t}:{extra_context:e};return n.Z.create("UserExperiencePlatformResource",a).callGet().then((e=>e.resource_response?i((0,r.OD)(e.resource_response.data)):void 0))},d=(e,t,i,o)=>(l,d)=>{if(t)return Promise.resolve();if(o&&(s=o),1===e.length){const t=e[0],n=d().experiences[t],o=(null==n?void 0:n.extraContext)||null;if(JSON.stringify(o)===JSON.stringify(i)||(0,a.E3)(n)&&!(i&&Object.keys(i).length>0))return Promise.resolve()}return n.Z.create("UserExperienceResource",{placement_ids:e,extra_context:i||null,targeting:o}).callGet().then((e=>e.resource_response?l((0,r.cL)(e.resource_response.data)):void 0))},c=(e,t)=>(i,a,o,d=!1,c,u)=>(p,h)=>{const{experiences:m,experiencesMulti:_}=h();let g=null,v=!0;var y;d||(v=m[i]&&m[i].experience_id===a,g=v?m[i]:Array.isArray(_[i])&&(null===(y=_[i])||void 0===y?void 0:y.find((e=>e.experience_id===a))));if(g&&g.experience_id===a||d&&i&&a){const d=n.Z.create(e,{placed_experience_id:`${i}%3A${a}`,extra_context:null!=c?c:{},targeting:u}),h=v?r.Yb:r.xW;switch(t){case"dismissed":return d.callDelete().then((()=>{p(h(i,a,t)),p(l(void 0,s))}));case"completed":return d.callUpdate().then((()=>{o||(p(h(i,a,t)),p(l(void 0,s)))}));case"viewed":return p(h(i,a,t)),d.callUpdate().then((()=>{1000162===i&&p(l())}));case"completedWithoutHomefeed":return d.callUpdate().then((()=>{o||p(h(i,a,t))}));default:return Promise.resolve()}}return Promise.resolve()},u=c("UserExperienceViewedResource","viewed"),p=c("UserExperienceCompletedResource","completed"),h=c("UserExperienceResource","dismissed"),m=c("UserExperienceCompletedResource","completedWithoutHomefeed"),_=(e,t)=>(i,a)=>{const{experiences:r}=a(),s=r[e];s&&s.triggerable_placed_exps&&s.triggerable_placed_exps.length&&s.triggerable_placed_exps.forEach((i=>{const[,a]=i.split(":");let r=t;s.metadata&&s.metadata[a]&&(r={...t,...s.metadata[a]}),n.Z.create("UserExperienceTriggerResource",{placed_experience_id:i.replace(":","%3A"),extra_context:r}).callUpdate().then((()=>{((e,t,i={})=>{o.Z.increment(`${e}.${t}`,1,i)})("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:a})}))}))},g=e=>(t,i)=>{t(_(e));const{experiences:n}=i();return n[e]},v=(e,t,i)=>n=>{i&&(s=i),n(_(e,t)),t&&Object.keys(t).length>0&&n(d([e],!1,t,i))}},242923:(e,t,i)=>{i.d(t,{CF:()=>s,Tl:()=>r,dy:()=>l});var n=i(6637),a=i(332611);const o=(e,t)=>(i,o)=>r=>{if(i&&i.id){const s=n.Z.create(e,{placed_experience_id:i.id,extra_context:{}});switch(t){case"dismissed":s.callDelete().then((()=>{r((0,a.fO)())}));break;case"completed":s.callUpdate().then((()=>{o||r((0,a.fO)())}));break;case"viewed":s.callUpdate()}}},r=o("UserExperienceCompletedResource","completed"),s=o("UserExperienceResource","dismissed"),l=o("UserExperienceViewedResource","viewed")},764990:(e,t,i)=>{function n(e){return!!e&&0!==e.type}i.d(t,{A0:()=>o,E3:()=>n,MQ:()=>a});const a=(e,t,i)=>{const a=e[i];return t[i]&&n(a)?a:null};function o(e){var t;return null===(t=e.display_data)||void 0===t?void 0:t.anchor}},131108:(e,t,i)=>{i.d(t,{HI:()=>r,f8:()=>l,hm:()=>s,sH:()=>o});var n=i(883119),a=i(785893);const o=({children:e})=>(0,a.jsx)(n.xu,{padding:4,position:"absolute",bottom:!0,left:!0,right:!0,children:e}),r=({children:e})=>(0,a.jsx)(n.xu,{padding:2,children:e}),s=({children:e})=>(0,a.jsx)(n.xu,{display:"flex",position:"absolute",top:!0,height:"100%",width:"100%",alignItems:"center",justifyContent:"center",children:e}),l=({children:e})=>(0,a.jsx)(n.xu,{padding:4,position:"absolute",top:!0,left:!0,right:!0,children:e})},599997:(e,t,i)=>{i.d(t,{Ec:()=>d,IA:()=>g,LX:()=>c,Mf:()=>_,SF:()=>s,_e:()=>l,l0:()=>r,ml:()=>o,q4:()=>a,zn:()=>n});const n=e=>["feed_card_default","feed_card_video"].includes(e),a=2/3,o=2/3,r=1/3,s="36px",l="28px",d=.4,c=.65,u={0:"start",1:"center",2:"end"},p={web:{0:"16",1:"20",2:"24"},mweb:{0:"12",1:"16",2:"18",3:"20"}},h={1:"italics",0:"normal"},m={1:"bold",0:"normal"},_=({color:e,font_style:t,font_weight:i,horizontal_alignment:n,size:a},o)=>({color:e,fontStyle:h[null!=t?t:0],fontWeight:m[null!=i?i:1],horizontalAlignment:u[null!=n?n:0],fontSize:p[o][null!=a?a:0]+"px"}),g=e=>e<=280?1.2:e>280&&e<=375?.85:e>375&&e<=540?.75:e>540&&e<1024?c:e>=1024?d:0},207737:(e,t,i)=>{i.d(t,{$S:()=>n,V$:()=>a,_4:()=>r,iY:()=>s,mR:()=>o});const n="REFRESH_ALL_EXPERIENCES_MULTI",a="UPDATE_EXPERIENCE_MULTI",o="FETCH_EXPERIENCES",r="REFRESH_ALL_EXPERIENCES",s="UPDATE_EXPERIENCE"},957191:(e,t,i)=>{i.d(t,{NW:()=>r,OD:()=>l,Yb:()=>s,cL:()=>d,xW:()=>o});var n=i(6637),a=i(207737);const o=(e,t,i)=>({type:a.V$,payload:{placementId:e,experienceId:t,status:i}}),r=e=>t=>n.Z.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then((e=>{return e.resource_response?t((i=e.resource_response.data,{type:a.$S,payload:{experiencesMulti:i}})):void 0;var i})),s=(e,t,i)=>({type:a.iY,payload:{placementId:e,experienceId:t,status:i}}),l=e=>({type:a._4,payload:{experiences:e}}),d=e=>({type:a.mR,payload:{experiences:e}})},570470:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(667294),a=i(883119),o=i(785893);function r({anchor:e,children:t,zIndex:i,leftOverride:r,topOverride:s}){const l=(0,n.useRef)(null),[d,c]=(0,n.useState)(0),[u,p]=(0,n.useState)(0),{height:h,width:m}=e.getBoundingClientRect();(0,n.useEffect)((()=>{const{current:t}=l;if(e&&t){const{height:e,width:i}=t.getBoundingClientRect(),{horizontalOffset:n,verticalOffset:a}=((e,t,i,n)=>({horizontalOffset:-(n/2-t/2),verticalOffset:-(i/2-e/2)}))(h,m,e,i);c(n),p(a)}}));const _=r||d,g=s||u;return(0,o.jsx)(a.xu,{position:"absolute",zIndex:i?new a.Ry(i):void 0,dangerouslySetInlineStyle:{__style:{left:_,top:g}},ref:l,children:t})}const s=function(e){const{anchor:t,leftOverride:i,onTouch:n,onMouseEnter:s,paused:l,size:d,topOverride:c,zIndex:u}=e;return t?(0,o.jsx)(r,{anchor:t,leftOverride:i,topOverride:c,zIndex:u,children:(0,o.jsx)(a.iP,{fullWidth:!1,onTap:({event:e})=>n(e),onMouseEnter:s,rounding:"circle",children:(0,o.jsx)(a.o3,{paused:l,size:d})})}):null}},839534:(e,t,i)=>{i.d(t,{Z:()=>d});var n=i(667294),a=i(570470),o=i(883119),r=i(785893);const s=new o.Ry(669),l={1:"up",2:"right",3:"down",4:"left"},d=({anchors:e={},complete:t,dismiss:i,displayData:d,idealDirection:c,onCompleteByAnchor:u={},platform:p,positionRelativeToAnchor:h=!0,touchToDismiss:m=!0,useMasonryFlyout:_=!1})=>{var g;const{anchors_by_platform:v={},button_text:y,button_uri:f,display_type:x,flyout_direction:b,scroll_to_dismiss:w,scroll_to_dismiss_delay_in_seconds:P=0,text:S}=d||{},k=null===(g=v[p])||void 0===g?void 0:g.anchor,I=e[k],T=(0,n.useCallback)((()=>{w&&(window.removeEventListener("scroll",T),window.removeEventListener("touchmove",T)),m&&I&&I.removeEventListener("click",T),setTimeout((()=>i()),1e3*P)}),[I]);if((0,n.useEffect)((()=>{I&&(w&&(window.addEventListener("scroll",T),window.addEventListener("touchmove",T)),m&&I.addEventListener("click",T))}),[I]),!I)return null;const j=({children:e})=>{if(_)return(0,r.jsx)(o.mh,{zIndex:s,children:e});if(2===x){const t={};if(h)t.top=I.offsetTop,t.left=I.offsetLeft,t.width=I.offsetWidth,t.height=I.offsetHeight;else{const e=I.getBoundingClientRect();t.top=e.top+window.pageYOffset,t.left=e.left+window.pageXOffset,t.width=e.width,t.height=e.height}return(0,r.jsx)(o.xu,{position:"absolute",top:!0,left:!0,zIndex:s,dangerouslySetInlineStyle:{__style:t},children:e})}return(0,r.jsx)(o.xu,{zIndex:s,children:e})},C=l[b],A=f&&(f.startsWith("https://")||f.startsWith("http://")),E=(u||{})[k],R=()=>{w&&(window.removeEventListener("scroll",T),window.removeEventListener("touchmove",T)),m&&I.removeEventListener("click",T),t()};return(0,r.jsxs)(n.Fragment,{children:[2===x&&(0,r.jsx)(j,{children:(0,r.jsx)(a.Z,{anchor:I,onTouch:()=>{R(),E?E():I instanceof HTMLElement&&I.click()},zIndex:670})}),1===x&&(0,r.jsx)(j,{children:(0,r.jsx)(o.J2,{anchor:I,color:"blue",idealDirection:C||c||"down",onDismiss:T,positionRelativeToAnchor:!_&&h,shouldFocus:!1,showCaret:!0,size:"md",children:(0,r.jsxs)(o.xu,{padding:4,width:"220px",children:[(0,r.jsx)(o.xv,{align:"center",color:"inverse",weight:"bold",children:S}),y?(0,r.jsx)(o.xu,{display:"flex",justifyContent:"center",marginTop:4,children:(0,r.jsx)(o.xu,{column:8,children:f?(0,r.jsx)(o.zx,{fullWidth:!0,color:"white",href:f,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),R()},role:"link",size:"md",target:A?"blank":null,text:y}):(0,r.jsx)(o.zx,{fullWidth:!0,color:"white",onClick:R,size:"md",text:y})})}):null]})})})]})}},378518:(e,t,i)=>{i.d(t,{_:()=>d,a:()=>c});var n=i(667294),a=i(702664),o=i(618446),r=i.n(o),s=i(780280),l=i(332611);const d=({extraContext:e,id:t,shouldUsePlacedExperience:i=!0})=>{const o=(0,n.useRef)(),d=(0,a.useDispatch)(),{isBot:c}=(0,s.B)(),u=(0,a.useSelector)((e=>e.experiences[t]));return(0,n.useEffect)((()=>{d((0,l.kd)(t))}),[d,u,t]),(0,n.useEffect)((()=>{i||r()(o.current,e)||(d((0,l.pz)([t],c,e)),o.current=e)}),[d,e,c,t,i]),u},c=e=>(d(e),(0,a.useSelector)((t=>t.experiencesMulti[e.id])))},116303:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(883119),a=i(785893);const o=(e,t)=>{const i=null==e?void 0:e.includes("images/user/default");return Boolean(i&&t)};function r({accessibilityLabel:e,name:t,outline:i,size:r,src:s,verified:l}){return(0,a.jsx)(n.qE,{accessibilityLabel:e,name:t,outline:i,size:r,src:o(s,t)?void 0:s,verified:l})}},920231:(e,t,i)=>{i.d(t,{Z:()=>m});var n=i(667294),a=i(319915);function o({flexible:e,gutterWidth:t,id:i,isRTL:n,itemWidth:a,maxColumns:o,minColumns:r}){const s=i.replace(/\:/g,"\\:"),l=a+t;return`\n    .gridCentered {\n      margin-left: auto;\n      margin-right: auto;\n    }\n\n    .gridCentered .static {\n      position: absolute !important;\n      visibility: hidden !important;\n    }\n\n    ${Array.from({length:o+1-r},((e,t)=>t+r)).map((i=>{const d=i===o?null:(i+1)*l-1;return`\n      @media (min-width: ${i===r?0:i*l}px) ${d?`and (max-width: ${d}px)`:""} {\n        #${s} .static:nth-child(-n+${i}) {\n          position: static !important;\n          visibility: visible !important;\n          float: ${n?"right":"left"};\n          display: block;\n        }\n\n        ${e?`\n      #${s} .static {\n        width: calc(100% / ${i}) !important;\n      }\n    `:`\n      #${s} {\n        width: ${i*l}px;\n      }\n\n      #${s} .static {\n        padding: 0 ${t/2}px;\n        width: ${a}px !important;\n      }\n    `}\n      }\n    `})).join("")}\n  `}var r=i(757184),s=i(391254),l=i(50286),d=i(883119),c=i(773285),u=i(780280),p=i(444445),h=i(785893);function m({cacheKey:e,columnWidth:t,gutterWidth:i,id:m,renderItem:_,items:g,layout:v,loadItems:y,masonryRef:f,minCols:x,scrollContainerRef:b,serverRender:w,resetPositions:P,virtualize:S=!0}){var k;const{isRTL:I}=(0,u.B)(),T="desktop"!==(0,l.ZP)(),j=w?"serverRenderedFlexible":"flexible",C=(0,n.useCallback)((()=>(null==b?void 0:b.current)||window),[b]),A=(0,r.Z)(e),[E,R]=(0,n.useState)(!1);(0,n.useEffect)((()=>{P&&!E&&(null==A||A.reset(),R(!0))}),[A,P,E]);const{checkExperiment:D}=(0,c.F)(),L=null!==(k={enabled_0_3:"0.3",enabled_0_5:"0.5",enabled_0_9:"0.9",enabled_1_1:"1.1",enabled_1_3:"1.3"}[D("duplo_masonry_virtual_buffer_factor").group])&&void 0!==k?k:.7;return(0,h.jsxs)("div",{id:m,className:"gridCentered","data-test-id":"masonry-container",children:[w&&m&&(0,h.jsx)(s.Z,{"data-test-id":"mobile-grid-styles",unsafeCSS:o({flexible:T,gutterWidth:i||0,id:m,isRTL:I,itemWidth:t||p.yF,maxColumns:g.length||p.g5,minColumns:x||p.yc})}),(0,h.jsx)(d.Rk,{columnWidth:t,renderItem:e=>(0,h.jsx)(a.Z,{name:"MobileGridItem",children:_(e)}),gutterWidth:i||1,layout:T?j:null!=v?v:"basic",items:g,loadItems:y,measurementStore:(0,r.Z)(e),minCols:x||p.yc,ref:e=>{f&&(f.current=e)},scrollContainer:C,virtualize:S,virtualBufferFactor:L})]})}},757184:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(883119);const a={};function o(e){if(null!=e)return a[e]&&a[e].screenWidth===window.innerWidth||(a[e]={screenWidth:window.innerWidth,cache:n.Rk.createMeasurementStore()}),a[e].cache}},121151:(e,t,i)=>{i.d(t,{ZP:()=>c,b7:()=>s.b7,bN:()=>l,p4:()=>d});var n=i(50286),a=i(883119),o=i(240684),r=i(785893),s=i(968121);const l=(0,o.ZP)({resolved:{},chunkName:()=>"DesktopModal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>i.e(51879).then(i.bind(i,373420)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve(){return 373420}}),d=(0,o.ZP)({resolved:{},chunkName:()=>"MobileModal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>i.e(72430).then(i.bind(i,430322)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve(){return 430322}});function c(e){const t=(0,n.ZP)(),i=void 0===e.isOpen||e.isOpen;if("desktop"===t&&i){const{isOpen:t,mobileAccessibilityCloseIconLabel:i,mobileAllowScroll:n,mobileHideCloseIcon:a,mobileIsFullscreen:o,mobileIsSlideUp:s,type:d,...c}=e;return(0,r.jsx)(l,{...c})}const{allowClickAndDrag:a,allowMediaPlay:o,allowScroll:s,role:c,size:u,...p}=e;return(0,r.jsx)(d,{...p,isOpen:i})}},373420:(e,t,i)=>{i.r(t),i.d(t,{default:()=>d});var n=i(667294),a=i(124580),o=i(223815),r=i(968121),s=i(883119),l=i(785893);function d({_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:i,allowClickAndDrag:d,allowMediaPlay:c,allowScroll:u,children:p,closeOnOutsideClick:h,footer:m,heading:_,onDismiss:g,role:v,size:y,subHeading:f}){(0,n.useEffect)((()=>(a.Z.pause(),function(){a.Z.resume()})),[]);return(0,l.jsx)(s.mh,{zIndex:r.b7,children:(0,l.jsx)(o.Z,{allowClickAndDrag:d,allowEsc:!0,allowMediaPlay:c,allowScroll:u,children:(0,l.jsx)(s.u_,{_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:i,closeOnOutsideClick:h,heading:_,footer:m,onDismiss:()=>{a.Z.resume(),g()},role:v,size:y,subHeading:f,padding:"none",children:p})})})}},430322:(e,t,i)=>{i.r(t),i.d(t,{default:()=>_});var n=i(667294),a=i(124580),o=i(283698),r=i(223815),s=i(50286),l=i(898781),d=i(965900),c=i(780280),u=i(883119),p=i(968121),h=i(867820),m=i(785893);function _({_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:i="center",allowScroll:_=!1,children:g,closeOnOutsideClick:v=!0,footer:y,heading:f,mobileAccessibilityCloseIconLabel:x,mobileHideCloseIcon:b,mobileIsFullscreen:w,isOpen:P,mobileIsSlideUp:S,modalStyle:k,onDismiss:I,overrideZDepth:T,subHeading:j,type:C}){const A=(0,l.ZP)(),{isRTL:E}=(0,c.B)(),R=(0,n.useRef)(!1),[D,L]=(0,n.useState)(!1),{setAppFocusState:F}=(0,d.I)(),O=(0,s.ZP)();(0,n.useEffect)((()=>{(0,h.My)(`mweb_unauth.mobile_modal.${C||"unknown_type"}.did_mount.is_open.${String(!!P)}`)}),[P,C]),(0,n.useEffect)((()=>(R.current=(0,o.Z)((()=>{R.current&&L(!0)})),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&R.current&&(window.cancelAnimationFrame(R.current),R.current=null)})),[]),(0,n.useEffect)((()=>(P?(a.Z.pause(),F(!1)):(a.Z.resume(),F(!0)),()=>{P&&(a.Z.resume(),F(!0))})),[F,P]);const z=P&&!_;(0,n.useEffect)((()=>(z&&(()=>{if(document.body){const{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}})(),()=>{z&&(()=>{if(document.body){const{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}})()})),[z]);const N=(0,p.bf)();if(!P)return null;const M=S?(0,p.Vf)({isFullscreen:w,isTablet:"tablet"===O,isShowing:D,type:C}):(0,p.JN)({isFullscreen:w,isTablet:"tablet"===O,modalStyle:k,type:C});return(0,m.jsx)(r.Z,{children:(0,m.jsx)(u.mh,{children:(0,m.jsxs)(u.xu,{"aria-label":t,display:"inlineBlock",zIndex:T?new u.Ry(T):p.ZM,position:"relative",role:"dialog",children:[(0,m.jsx)(u.iP,{accessibilityLabel:A.bt("      ", "Mobile Signup Modal Mask", "mweb.signup_modal.mask", undefined, true),onTap:({event:e})=>{const t=e,i=I?"with":"without",n=C||"unknown_type";(0,h.tj)(`mweb_unauth.mobile_modal.wash_tap.${n}.${i}_dismissal`,{x:t.clientX,y:t.clientY}),v&&I&&I()},tapStyle:"none",children:(0,m.jsx)(u.xu,{position:"fixed",top:!0,left:!0,dangerouslySetInlineStyle:N})}),(0,m.jsxs)(u.xu,{position:"fixed",color:"default",dangerouslySetInlineStyle:M,children:[(0,m.jsxs)(u.kC,{alignItems:"center",justifyContent:"start",width:"100%",gap:{row:2,column:0},children:[x&&!b?(0,m.jsx)(u.xu,{padding:2,"data-test-id":"mobile-modal-cancel-button",children:(0,m.jsx)(u.hU,{accessibilityLabel:x,iconColor:"darkGray",icon:"cancel",onClick:I,padding:4,size:"sm"})}):null,f?(0,m.jsx)(u.kC.Item,{flex:"grow",children:(0,m.jsx)(u.kC,{direction:"column",alignItems:"center",justifyContent:"center",children:(0,m.jsxs)(u.xu,{dangerouslySetInlineStyle:x&&!b?(0,p.ju)(E):{__style:{}},children:[w?f:(0,m.jsx)(u.xv,{align:i,weight:"bold",size:"400",children:f}),j?(0,m.jsx)(u.xv,{align:i,children:j}):null]})})}):null]}),(0,m.jsxs)(u.xu,{overflow:e?"visible":"auto",children:[g,y]})]})]})})})}},968121:(e,t,i)=>{i.d(t,{JN:()=>u,Vf:()=>p,ZM:()=>s,b7:()=>r,bf:()=>c,i_:()=>l,ju:()=>h});var n=i(379764),a=i(643010),o=i(883119);const r=new o.Ry(1e3),s=new o.H3([n.Z]),l=12,d={headingOffset:{__style:{marginLeft:-10,marginRight:50}},RTLheadingOffset:{__style:{marginRight:-10,marginLeft:50}},mask:{baseStyles:{backgroundColor:"rgba(0,0,0, .5)",height:"100%",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out",width:"100%",zIndex:1}},modal:{baseStyles:{border:(0,a.Yc)()?void 0:"1px solid #efefef",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1,left:"0px",bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden"},tabletStyles:{border:void 0,borderRadius:"32px",top:"50%",left:"50%",minWidth:"350px",touchAction:"none",transform:"translate(-50%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1},nonTabletSignUpStyles:{border:void 0,borderRadius:"32px",top:"50%",touchAction:"none",transform:"translate(0%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1,left:"8px",right:"8px",background:"#FFFFFF"},baseStylesSliding:{border:(0,a.Yc)()?void 0:"1px solid #efefef",touchAction:"none",width:"100vw",height:"",zIndex:1,left:0,bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"},fullscreenStyles:{touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"90vw",height:"70vh",borderRadius:"8px",zIndex:1,left:"5vw",bottom:"13vh",overflowY:"hidden"},tabletNarrowStyle:{width:425,left:"50%",transform:"translateX(-50%)"}}},c=()=>({__style:d.mask.baseStyles}),u=({isFullscreen:e,isTablet:t,modalStyle:i,type:n})=>{const a=d.modal.fullscreenStyles;let o;return o=e?a:t?d.modal.tabletStyles:"signup"===n?d.modal.nonTabletSignUpStyles:{...d.modal.baseStyles,borderRadius:"32px 32px 0 0"},{__style:i||o}},p=({isFullscreen:e,isTablet:t,isShowing:i,type:n})=>{let a=d.modal.baseStylesSliding,o=i?"translateY(0)":"translateY(100vh)";return a.height=e?"100vh":"",t&&"related_interests_modal"===n&&(a={...a,...d.modal.tabletNarrowStyle},o=i?"translate(-50%, 0)":"translate(-50%, 100vh)"),{__style:{...a,transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:o}}},h=e=>e?d.RTLheadingOffset:d.headingOffset},499128:(e,t,i)=>{i.d(t,{UZ:()=>d,Vg:()=>l,ZP:()=>c});var n=i(667294),a=i(829407),o=i(50286),r=i(883119),s=i(785893);const l=200,d=({deviceType:e,hiding:t,visible:i})=>{const n="desktop"===e;let a=0,o=n?"translateY(200px)":"translateY(-200px)",r="opacity 0.1s ease-in-out",s="hidden";return i&&!t&&(a=1,o="translateY(0)",r="all 0.7s cubic-bezier(.19, 1.15, .48, 1)",s="visible"),i&&t&&(o="scale(1.1)",r="opacity transform 0.2s"),{opacity:a,pointerEvents:"auto",position:"relative",marginTop:n?10:0,transform:o,transition:r,visibility:s}};function c({_dangerouslySetPrimaryAction:e,text:t,primaryAction:i,thumbnailShape:c,variant:u,dataTestId:p,duration:h=2e3,onHide:m,href:_,onClick:g,openNewPage:v,iconThumbnail:y,imageUrl:f}){const x=(0,o.ZP)(),[b,w]=(0,n.useState)(!1),[P,S]=(0,n.useState)(!1),k=(0,n.useRef)(),I=()=>{w(!0),k.current=setTimeout(m,l)},T=()=>{k.current=setTimeout(I,h)},j=()=>{k.current&&clearTimeout(k.current)};let C;(0,a.Z)((()=>(setTimeout((()=>S(!0)),100),T(),j))),y?C=y:f&&(C=(0,s.jsx)(r.xu,{height:48,overflow:"hidden",width:48,children:(0,s.jsx)(r.Ee,{alt:"string"==typeof t?t:`${t[0]} ${t[1]}`,fit:"cover",naturalHeight:1,naturalWidth:1,src:f})}));const A=(0,s.jsx)(r.FN,{_dangerouslySetPrimaryAction:e,primaryAction:i,text:t,thumbnail:C,thumbnailShape:c,variant:u}),{marginTop:E,opacity:R,pointerEvents:D,position:L,transform:F,transition:O,visibility:z}=d({deviceType:x,hiding:b,visible:P});return(0,s.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{transform:F,transition:O,visibility:z,pointerEvents:D}},"data-test-id":null!=p?p:"toast",onMouseEnter:j,onMouseLeave:T,opacity:R,position:L,marginTop:E,display:"flex",children:_?(0,s.jsx)(r.iP,{role:"link",href:_,onTap:({event:e})=>null==g?void 0:g(e),target:v?"blank":null,rounding:"pill",children:A}):A})}},934494:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(995228),a=i(785893);function o({useGraphQLAdapter:e,useLegacyAdapter:t}){const i=({children:t,data:i})=>t({enabled:!0,data:e(i)}),o=({children:e,data:i})=>e({enabled:!1,data:t(i)});return function({children:e,input:t}){const r=t.enabled?(0,a.jsx)(i,{data:t.data,children:e}):(0,a.jsx)(o,{data:t.data,children:e});return t.suspense?(0,a.jsx)(n.Z,{fallback:t.suspense.fallback,children:r}):r}}},444445:(e,t,i)=>{i.d(t,{$H:()=>r,$q:()=>v,D6:()=>l,KN:()=>y,Lo:()=>a,P2:()=>m,ZZ:()=>c,g5:()=>u,jC:()=>s,lX:()=>h,nW:()=>p,oX:()=>_,qG:()=>g,tG:()=>o,yF:()=>n,yc:()=>d});const n=236,a=2*n/3,o=175,r=24,s=4,l=2,d=2,c=14,u=16,p=12,h=16,m=24,_=16,g=-1,v=(e=!1,t=!1)=>e?t?h:p:m,y=(e,t,i,n,a=c)=>{const o=e+a;return`\n@media (min-width: ${t*o}px) and (max-width: ${(i+1)*o-1}px) {\n  ${n}\n}\n`}},298361:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(898781),a=i(349700),o=i(202139);function r(){const e=(0,n.ZP)();return function(t,i){const n=new Date(t),r=new Date-n,s=Math.floor(r/o.FS),l=Math.floor(r/o.UK),d=Math.floor(r/o.F4),c=Math.floor(r/o.VL),u=Math.floor(r/o.N1),p=e.nbt(["{{ minutes }} ", "{{ minutes }} ", "{{ minutes }} "], s, " - ", true),h=e.nbt(["{{ hours }} ", "{{ hours }} ", "{{ hours }} "], l, " - ", true),m=e.nbt(["{{ days }} ", "{{ days }} ", "{{ days }} "], d, " - ", true),_=e.nbt(["{{ weeks }} ", "{{ weeks }} ", "{{ weeks }} "], c, " - ", true),g=e.nbt(["{{ years }} ", "{{ years }} ", "{{ years }} "], u, " - ", true),v=e.nbt(["{{ minutes }}.", "{{ minutes }}.", "{{ minutes }}."], s, "minutes ago abbreviated", true),y=e.nbt(["{{ hours }}.", "{{ hours }}.", "{{ hours }}."], l, "hours ago abbreviated", true),f=e.nbt(["{{ days }}.", "{{ days }}.", "{{ days }}."], d, "days ago abbreviated", true),x=e.nbt(["{{ weeks }}.", "{{ weeks }}.", "{{ weeks }}."], c, "weeks ago abbreviated", true),b=e.nbt(["{{ years }}", "{{ years }}", "{{ years }}"], u, "years ago abbreviated", true);return u>0?(0,a.nk)(i?b:g,{years:u}).join(""):c>0?(0,a.nk)(i?x:_,{weeks:c}).join(""):d>0?(0,a.nk)(i?f:m,{days:d}).join(""):l>0?(0,a.nk)(i?y:h,{hours:l}).join(""):s>0?(0,a.nk)(i?v:p,{minutes:s}).join(""):e.bt(" ", "Just now", " - ", undefined, true)}}},898781:(e,t,i)=>{i.d(t,{ZP:()=>s,oz:()=>o,q6:()=>a});var n=i(425288);const{Provider:a,Consumer:o,useHook:r}=(0,n.Z)("i18n"),s=r},892819:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(66699),a=i(898781);const o=(e,t)=>{const i=t||0,n=10**i,a=+(i?e*n:e).toFixed(8),o=Math.floor(a),r=a-o,s=r>.5-1e-8&&r<.5+1e-8?o%2==0?o:o+1:Math.round(a);return i?s/n:s},r=e=>{try{(0).toLocaleString([e])}catch(t){return!1}return!0};function s(){const e=(0,a.ZP)();return(t,i,a)=>{let s=0,l=0;const d=a&&a.style||void 0,c=a&&a.shortform||!1,u=a&&a.uplimit||void 0,p=a&&a.currency||void 0,h=!!u&&i>=u,m=u&&h?u:i;if("currency"===d){const{minimumFractionDigits:e,maximumFractionDigits:i}=((e,t)=>{if(t){const{minimumFractionDigits:i,maximumFractionDigits:n}=new Intl.NumberFormat(e,{style:"currency",currency:t}).resolvedOptions();if(void 0!==i&&void 0!==n)return{minimumFractionDigits:i,maximumFractionDigits:n}}return{minimumFractionDigits:2,maximumFractionDigits:2}})(t,p);s=void 0===a||void 0===a.maximum_fraction_digits?i:a.maximum_fraction_digits,l=void 0===a||void 0===a.minimum_fraction_digits?e:a.minimum_fraction_digits}else s=void 0===a||void 0===a.maximum_fraction_digits?0:a.maximum_fraction_digits,l=void 0===a||void 0===a.minimum_fraction_digits?0:a.minimum_fraction_digits;if(c&&m>999&&(s=void 0===a||void 0===a.shortform_maximum_fraction_digits?2:a.shortform_maximum_fraction_digits,l=0),s<l)return String(m);let _=m,g="";const v=[{"100M":{value:1e8,localeKey:e.bt(".", "", "Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.", undefined, true)}},{"10k":{value:1e4,localeKey:e.bt(" .", "", "Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.", undefined, true)}}],y=[{b:{value:1e9,localeKey:e.bt("", "B", "Abbreviation for one billion.", undefined, true)}},{m:{value:1e6,localeKey:e.bt("", "M", "Abbreviation for one million.", undefined, true)}},{k:{value:1e3,localeKey:e.bt(".", "k", "Abbreviation for one thousand.", undefined, true)}}],f=/^zh|ja|ko/.test(t);if(c&&m>999){const e=f?v:y;for(let t=0;t<e.length;t+=1){const i=Object.keys(e[t])[0],n=e[t][i].value;if(m>=n){_=o(m/n*Math.pow(10,s))/Math.pow(10,s),g=e[t][i].localeKey;break}}}if(null==_)return"";const x=_.toLocaleString([r(t)&&"ar-SA"!==t?t:"en-US"],(({maximumFractionDigits:e,minimumFractionDigits:t,style:i,currency:n})=>{const a={maximumFractionDigits:e,minimumFractionDigits:t};return i?{...a,style:i,..."currency"===i?{currency:n,currencyDisplay:"symbol"}:{}}:a})({maximumFractionDigits:s,minimumFractionDigits:l,currency:p,style:d}));return g&&g.length>0?(0,n.Z)(e.bt("{{formattedNumber}}{{numberSuffix}}", "{{formattedNumber}}{{numberSuffix}}", "i18n.usePrettyNumberFormat.prettyNumberFormat", undefined, true),{formattedNumber:x,numberSuffix:g})+(h?"+":""):x+(h?"+":"")}}},366428:(e,t,i)=>{i.d(t,{F:()=>l,Z:()=>s});var n=i(667294),a=i(124580),o=i(407043);const r={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704}};function s({carouselData:e,closeupImpressionType:t,closeupNavigationType:i,componentType:s,contextLogData:l,clientTrackingParams:d,elementType:c,impressionAuxFields:u,inImpressionExp:p,impressionType:h,impressionsFramework:m,isPaused:_,loggingId:g,objectIdStr:v,slotIndex:y,trackCarousel:f,viewData:x,viewParameter:b,viewType:w}){const{logContextEvent:P}=(0,o.v)(),S=m||a.Z,k=(0,n.useRef)(null),I=n=>{const a=r[h],o=a.idType,p={endTime:n.endTime,[o]:g,slotIndex:y,time:n.startTime,renderDuration:n.endTime-n.startTime,type:t,...u,forcedExit:"removed"===n.forcedExit?0:void 0},m={component:s,object_id_str:v,view_type:w,view_data:x||{},view_parameter:b};if(f){if(e){var _,S,k;P({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...p,carouselDataId:Number(e.id),carouselSlotId:(null===(_=e.carousel_slots)||void 0===_?void 0:_[null!==(S=e.index)&&void 0!==S?S:0])&&Number(e.carousel_slots[null!==(k=e.index)&&void 0!==k?k:0].id),slotIndex:e.index}]},...m,aux_data:{...l}})}}else P({clientTrackingParams:d,event_type:a.eventType,...m,element:c,event_data:{[a.impressionType]:"Story"===h?p:[p]},aux_data:{closeup_navigation_type:i,...l}})},T=(0,n.useCallback)((()=>{try{k.current instanceof HTMLElement&&S.start(k.current).onExitViewport(I).setDebugId(g||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),[k.current]);(0,n.useEffect)((()=>(p&&!S.inExperiment&&S.setExperimentStatus(!0),_||T(),()=>{k.current instanceof HTMLElement&&S.stop(k.current)})),[T]);const j=(0,n.useRef)(_);return(0,n.useEffect)((()=>{j.current&&!_&&T(),j.current=_}),[_,T]),k}const l=({children:e,...t})=>e({impressionTrackerRef:s(t)})},12610:(e,t,i)=>{function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,{Z3:()=>p,LU:()=>h,ZP:()=>m});const a=1e6,o=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,r={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},s={},l={background:"#FF8A8A",transform:"scale(.98)"},d={init:e=>({transform:`scale(${s[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[r.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[r.exit]:l,[r.stopped]:l,[r.paused]:l,[r.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class c{constructor(e){n(this,"setMutationObserver",(e=>(this.mutationObserver=e,this))),n(this,"startMutationObserver",(e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)})),n(this,"stopMutationObserver",(()=>{this.mutationObserver&&this.mutationObserver.disconnect()})),n(this,"handleIntersectionChange",(e=>{const t=e.intersectionRatio>0||e.isIntersecting;if(t&&!this.inViewport){const e=Date.now();this.startTime=e,this._debug(r.enter,{startTime:e,node:this.node}),this.enterCallbacks.forEach((e=>e()))}else!t&&this.inViewport&&(this._debug(r.exit,!0),this.exitCallbacks.forEach((e=>e(this.toJSON()))));this.inViewport=t})),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId=""}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,o&&Object.assign(this.node.style,d.init(e)),this}pause(){return this.inViewport&&(this._debug(r.paused,!0),this.exitCallbacks.forEach((e=>e(this.toJSON())))),this}resume(){if(this.inViewport){const e=Date.now();this._debug(r.resumed,{startTime:e}),this.startTime=e}return this}stop(e){return this.inViewport&&(this._debug(r.stopped,!0),this.exitCallbacks.forEach((t=>t(this.toJSON(e))))),this}toJSON(e=""){return{startTime:this.startTime*a,endTime:Date.now()*a,forcedExit:e}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:(Date.now()-this.startTime)/1e3+" seconds"}}_debug(e,t){if(o)switch(window.console.log(` ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),d[e]&&Object.assign(this.node.style,d[e]),e){case r.flushed:case r.paused:case r.exit:s[this.debugId]=!0}}}function u(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const p=!0,h=!1;class m{constructor(){u(this,"_delegateChange",(e=>{e.forEach((e=>{const t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)}))})),u(this,"_handleMutations",((e,t)=>{const i=this.mutationObservers.get(t);i&&i.offsetHeight<1&&i&&this.stop(i,"removed")})),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=h,this.observer=new window.IntersectionObserver(this._delegateChange),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){const i=this.activeImpressions.get(e);i&&(i.stop(t),this.mutationObservers.delete(i.mutationObserver),i.stopMutationObserver(),this.activeImpressions.delete(e),this.observer.unobserve(e))}start(e){let t=this.activeImpressions.get(e);if(!t){t=new c(e),this.activeImpressions.set(e,t),this.observer.observe(e);const i=(e,t)=>this._handleMutations(e,t);t.setMutationObserver(new window.MutationObserver(i)),this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})}return t}pause(e=p){this.paused||(Array.from(this.activeImpressions.values()).forEach((e=>e.pause())),this.paused=!0,this.pausePriority===h&&(this.pausePriority=e))}resume(e=p){e===h&&this.pausePriority===p||this.paused&&(Array.from(this.activeImpressions.values()).forEach((e=>e.resume())),this.paused=!1,this.pausePriority=h)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){const e=Array.from(this.topObstructions).reduce(((e,t)=>{const{bottom:i}=t.getBoundingClientRect();return i>e?i:e}),0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce(((e,t)=>{const{top:i}=t.getBoundingClientRect();return i<e?i:e}),window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){const i={rootMargin:`${-e}px 0px ${-t}px`};this.observer.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,i),Array.from(this.activeImpressions.values()).forEach((e=>this.observer.observe(e.node))),this.topHeight=e,this.bottomHeight=t}}}},124580:(e,t,i)=>{i.d(t,{Z:()=>n});const n=new(i(12610).ZP)},349700:(e,t,i)=>{function n(e,t,i){return e.split(i).map((e=>{if(e.match(i)){const i=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,i))return t[i]}return e}))}i.d(t,{Wc:()=>r,bF:()=>l,nk:()=>o});const a=/(\{\{\s*\w+\s*\}\})/g;function o(e,t){return n(e,t,a)}function r(e,t){return n(e,t,a).join("")}const s=/(\{\s*\w+\s*\})/g;function l(e,t){return n(e,t,s)}},926275:(e,t,i)=>{i.d(t,{Z:()=>n});function n(e){if(!e)return!1;const t=new Date(e);return t.setDate(t.getDate()+28),(new Date).getTime()<t.getTime()}},313047:(e,t,i)=>{i.r(t),i.d(t,{DEFAULT_HEIGHT:()=>u,DEFAULT_PADDING_Y:()=>p,FixedFooter:()=>_,FixedHeader:()=>m});var n=i(667294),a=i(124580),o=i(53987),r=i(773285),s=i(834256),l=i(883119),d=i(643010),c=i(785893);const u=64,p=3;function h({children:e,footerConfig:t,headerConfig:i,height:o,hideOnScroll:s,hideOnScrollState:{isHidden:h,updateHiddenState:m},showDockedNavBar:_,dockNavBarForAuthTablet:g,isTablet:v,noPadding:y,paddingY:f=p,type:x,zIndex:b}){const{headerLimitedOverflow:w,ignoreObstructions:P,zIndexForGestaltBug:S}=i||{},{appUpsellFooterConfig:k,footerInLego:I,footerWidth:T}=t||{},j=!!k,C="header"===x?"top":"bottom",{anyEnabled:A}=(0,r.F)().checkExperiment("hfp_hf_ssr_mweb",{dangerouslySkipActivation:!0}),E=(0,d.vs)(),R=A?E:(0,d.Yc)(),D=(0,n.useRef)(null),L=(0,n.useRef)(null);(0,n.useEffect)((()=>{try{if(!P){const e=D.current;L.current=w&&e&&Array.isArray(e.children)?e.children[0]:e,L.current instanceof HTMLElement&&a.Z.addObstruction(C,L.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{P||L.current instanceof HTMLElement&&a.Z.removeObstruction(C,L.current)}}),[P,w,C,R]);const F="top"===C?"relative":"fixed",O=y?0:f,z=(null!=o?o:u)+((null==i?void 0:i.overrideTop)||0),N=s||_||g?{transition:I?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...h?{transform:`translateY(${"top"===C?-z:z}px)`,opacity:I?0:1}:Object.freeze({})}:{},M="relative"!==F||null!=i&&i.noGutter?0:2,Z=M?-M:0,U=R?"rgba(0,0,0,.95)":"rgba(255,255,255,.95)";let B,V;return R&&("header"===x?B=-1:V=-1),(0,c.jsx)(l.xu,{ref:D,dangerouslySetInlineStyle:{__style:{top:B,bottomStyle:V,...!b||S?{zIndex:S||1}:Object.freeze({}),...w?{background:"transparent",overflow:"hidden",paddingBottom:100,marginBottom:-100,pointerEvents:"none"}:Object.freeze({}),...null!=i&&i.hasBorder?{borderBottom:"1px solid #efefef"}:Object.freeze({}),...null!=t&&t.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...N}},zIndex:S?void 0:b,"data-test-id":x,display:j?"flex":void 0,height:o&&!I?o:void 0,position:F,bottom:"footer"===x,top:"header"===x,left:!0,right:!0,marginStart:I?"auto":Z,marginEnd:I?"auto":Z,onTransitionEnd:()=>{(s||_||g)&&L.current&&(h?a.Z.removeObstruction(C,L.current):a.Z.addObstruction(C,L.current))},width:I||"fixed"!==F?void 0:"100%",children:(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:(null==i?void 0:i.isTranslucent)&&U||(null==i?void 0:i.isTransparentBackground)&&"transparent"||"var(--color-background-default)",height:I?j?void 0:null!=o?o:u:"100%",boxShadow:I?"0px 0px 8px rgba(0, 0, 0, 0.1)":void 0,marginBottom:!I||_&&!v?void 0:16,...w?{pointerEvents:"auto"}:Object.freeze({}),...null!=i&&i.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},paddingX:("footer"!==x||y?0:4)+M,paddingY:O,position:"relative",width:I&&T?T:j?void 0:"100%",rounding:!I||_&&!v?void 0:"pill",display:I||null!=t&&t.alignCenter?"flex":void 0,marginStart:I?"auto":void 0,marginEnd:I?"auto":void 0,alignItems:null!=t&&t.alignCenter?"center":void 0,children:"function"==typeof e?e({updateHiddenState:m}):e})})}function m({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:i,isTranslucent:n,isTransparentBackground:a,noGutter:o,overrideTop:r,useRoundedCorners:d,zIndexForGestaltBug:u,...m}){const{noPadding:_,paddingY:g=p,zIndex:v}=m,y=_?0:g;return(0,c.jsx)(l.Le,{top:r||0,height:t?44+2*y*4:void 0,zIndex:v||void 0,children:(0,c.jsx)(s.Z,{hideOnScroll:m.hideOnScroll,children:s=>(0,c.jsx)(h,{...m,hideOnScrollState:s,type:"header",headerConfig:{isTranslucent:n,isTransparentBackground:a,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:i,noGutter:o,overrideTop:r,zIndexForGestaltBug:u,useRoundedCorners:d}})})})}function _({alignCenter:e,appUpsellFooterConfig:t,footerInLego:i,footerWidth:n,forceShow:a,hasTopShadow:r,location:l,showDockedNavBar:d,dockNavBarForAuthTablet:u,isTablet:p,isModal:m,onScroll:_,...g}){const v=!!l&&(0,o.uM)(l)&&(!!d||!!u);return(0,c.jsx)(s.Z,{appUpsellFooterConfig:t,forceShow:a,hideOnScroll:g.hideOnScroll,location:l,isDockedNavOnPlp:v,isModal:m,onScroll:_,children:a=>(0,c.jsx)(h,{...g,hideOnScrollState:a,showDockedNavBar:d,dockNavBarForAuthTablet:u,isTablet:p,type:"footer",footerConfig:{alignCenter:e,appUpsellFooterConfig:t,footerInLego:i,footerWidth:n,hasTopShadow:r}})})}},834256:(e,t,i)=>{i.d(t,{Z:()=>s,m:()=>r});var n=i(667294),a=i(700380);function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const r=20;class s extends n.Component{constructor(...e){super(...e),o(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!!this.props.isDockedNavOnPlp}),o(this,"lastScrollPos",0),o(this,"updateHiddenState",(e=>{this.reqAnimationId=window.requestAnimationFrame((()=>{this.setState({isHidden:e})}))})),o(this,"handleScroll",(0,a.Z)((()=>{const{appUpsellFooterConfig:e,isModal:t,onScroll:i,isDockedNavOnPlp:n}=this.props,{isHidden:a}=this.state,o=window.scrollY,s=o-this.lastScrollPos;let l="none";const{scrollHeight:d,clientHeight:c}=document.documentElement||{};if(!Number.isNaN(d)&&!Number.isNaN(c))if(s<0){const e=window.scrollMinY||0;l=o<=Math.abs(e+Math.max(s,r))?"start":"none"}else{l=o>=(window.scrollMaxY||d-c)-Math.max(s,r)?"end":"none"}const u=t?0:55;if(e)if(s>r&&a&&o>=500){e.shouldShowAfterScroll()&&(this.updateHiddenState(!1),i&&i(!1))}else(s<-r&&!a||o<=u)&&(this.updateHiddenState(!0),i&&i(!0));else!this.props.hideOnScroll&&n?"start"===l&&!a||o<=u?(this.updateHiddenState(!0),i&&i(!0)):(o>u||"end"===l)&&a&&(this.updateHiddenState(!1),i&&i(!1)):(s<-r||"start"===l)&&a||o<=u?(this.updateHiddenState(!1),i&&i(!1)):(s>r||"end"===l)&&!a&&(this.updateHiddenState(!0),i&&i(!0));this.lastScrollPos=o}),30))}componentDidMount(){try{(this.props.hideOnScroll||this.props.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){(this.props.hideOnScroll||this.props.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){!e.hideOnScroll&&this.props.hideOnScroll||!e.isDockedNavOnPlp&&this.props.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||e.isDockedNavOnPlp&&!this.props.isDockedNavOnPlp)&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){const{children:e,forceShow:t}=this.props,{isHidden:i}=this.state;return e({isHidden:!t&&i,updateHiddenState:this.updateHiddenState})}}},166300:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(50286),a=i(883119),o=i(444445),r=i(134879),s=i(785893);const l=({children:e,roundedForLargeDevice:t})=>{const i="phone"!==(0,n.ZP)()&&t;return(0,r.V)()?(0,s.jsx)(a.xu,{marginStart:-o.D6,marginEnd:-o.D6,rounding:i?6:void 0,overflow:i?"hidden":void 0,children:(0,s.jsx)(r.C,{value:!1,children:e})}):e}},134879:(e,t,i)=>{i.d(t,{C:()=>o,V:()=>r});var n=i(667294);const a=(0,n.createContext)(!1),o=a.Provider,r=()=>(0,n.useContext)(a)},48714:(e,t,i)=>{i.d(t,{nS:()=>b,iw:()=>P,gV:()=>f,G3:()=>S,lI:()=>k,Gj:()=>w,Jd:()=>y,$3:()=>x});var n=i(231486),a=i(56641),o=i(768559),r=i(250059);const s=e=>"string"!=typeof e&&e?e.state:null;var l=i(643913),d=i(547239),c=i(508847),u=i(102500),p=i(43760),h=i(579164),m=i(333155),_=i(397066),g=i(623568),v=i(226198);const y=()=>{window&&window.focus(),document.activeElement&&document.activeElement.blur()},f=({isOffsiteUrl:e,event:t})=>!e&&(t.metaKey||t.ctrlKey),x=({location:e,pin:{id:t,is_downstream_promotion:i,promoter:n},surface:a})=>!(0,g.jL)(i,n)&&(({location:e,pinId:t,surface:i})=>{const n=Boolean(i),a=m.ZF.includes(i),o=e.pathname.includes(t);return n&&!a||o})({location:e,pinId:t,surface:a}),b=e=>{const t=Math.round(1e3*Math.random())+"",i=Math.round(1e3*Math.random())+"";n.t8((0,v.GS)(t),i);const a=`${t}-${i}`,{queryParams:o,url:r}=e;let s={token:a,url:r};if(!o){const{pinId:t,csrId:i,clientTrackingParams:n,auxData:a}=e;s={...s,pin:null!=t?t:void 0,csr:i&&!t?i:void 0,client_tracking_params:n,aux_data:a?JSON.stringify(a):void 0}}o&&(s={...s,...o});return`/offsite/?${(0,l.Z)(s)}`},w=e=>{(0,a.Z)(b(e),!0)},P=async({isMounted:e,pin:t,location:i,spamCheckCallback:n,href:a})=>{var r,s;const l=await(0,u.Z)({check_only:!0,client_tracking_params:(0,o.Z)({boardUrl:null==t||null===(r=t.board)||void 0===r?void 0:r.url,callToCreateSourcePinId:null==t?void 0:t.call_to_create_source_pin_id,location:i,pinId:null==t?void 0:t.id,pinnerUserName:null==t||null===(s=t.pinner)||void 0===s?void 0:s.username,storyPinDataId:null==t?void 0:t.story_pin_data_id,trackingParams:null==t?void 0:t.tracking_params,trackingParamsMap:null==t?void 0:t.tracking_params_map}),pin_id:null==t?void 0:t.id,url:a}).callGet({showError:!1});if(!l.resource_response.error&&e){const e=l.resource_response.data||{},{message:t,redirect_status:i,url:a}=e;n({blocked:["blocked","suspicious","porn"].includes(i),message:t,redirectStatus:i,sanitized_url:a})}},S=({event:e,onHistoryChange:t,href:i,history:n,target:o})=>{const l=(0,r.Z)(i),u=s(i),p=(0,d.Z)(l);p===h.Z.TRUSTED_DIFFERENT_ORIGIN||"blank"===o?(0,a.Z)(l,"blank"===o):n&&p===h.Z.SAME_ORIGIN&&(n.push((0,c.Z)({url:l}),null!=u?u:{}),t&&t({event:e}))},k=({href:e,pinId:t,pin:i,location:n,auxData:a,spamCheck:r,queryParams:s},l,d)=>{"undefined"!=typeof window&&window.Windows?(0,p.Z)({url:e,pinId:t,pin:i,location:n,auxData:a}):i?(({spamCheck:e,auxData:t,location:i,pin:n,pinId:a,href:r},s,l)=>{if(null!=e&&e.blocked)null==l||l(e);else{var d,c;if((0,_.b)({href:r,pinId:a,pin:n,location:i,auxData:t},s))return;w({url:r,pinId:a,csrId:null,clientTrackingParams:(0,o.Z)({boardUrl:null===(d=n.board)||void 0===d?void 0:d.url,callToCreateSourcePinId:n.call_to_create_source_pin_id,location:i,pinId:n.id,pinnerUserName:null===(c=n.pinner)||void 0===c?void 0:c.username,storyPinDataId:n.story_pin_data_id,trackingParams:n.tracking_params,trackingParamsMap:n.tracking_params_map}),auxData:t})}})({spamCheck:r,auxData:a,location:n,pin:i,pinId:t,href:e},l,d):w({url:e,pinId:t,queryParams:s})}},102500:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(6637);function a(e){return n.Z.create("ApiResource",{url:"/v3/offsite/",data:e})}},287072:(e,t,i)=>{i.d(t,{Z:()=>c,p:()=>u});var n=i(667294),a=i(250059),o=i(149230),r=i(407043),s=i(108234),l=i(48714),d=i(276775);function c(e){var t;const{externalData:i,href:c,onHistoryChange:u,target:p}=e,{logContextEvent:h}=(0,r.v)(),[m,_]=(0,n.useState)(null),[g,v]=(0,n.useState)(!1),y=(0,d.useHistory)(),f=(0,d.useLocation)(),x=(0,o.Z)({url:(0,a.Z)(c)}),{showWarning:b}=null!==(t=(0,s.s)())&&void 0!==t?t:{};return(0,n.useEffect)((()=>(v(!0),()=>{v(!1)})),[]),(0,n.useEffect)((()=>{x&&null!=i&&i.pin&&null===m&&g&&(0,l.$3)({location:f,pin:i.pin,surface:i.surface})&&(0,l.iw)({isMounted:g,pin:i.pin,location:f,spamCheckCallback:e=>_(e),href:(0,a.Z)(c)})}),[null==i?void 0:i.pin,null==i?void 0:i.surface,c,x,g,f,m]),({event:e})=>{var t;(0,l.gV)({isOffsiteUrl:x,event:e})||(e.preventDefault(),c&&(x||null!=i&&i.dangerouslyForceOffsiteUrl?(0,l.lI)({auxData:null==i?void 0:i.auxData,href:(0,a.Z)(c),pinId:null==i||null===(t=i.pin)||void 0===t?void 0:t.id,pin:null==i?void 0:i.pin,queryParams:null==i?void 0:i.queryParams,location:f,spamCheck:m},h,b):(0,l.G3)({event:e,href:c,history:y,onHistoryChange:u,target:"blank"===p?"blank":null})))}}const u=({children:e,...t})=>e({handleClick:c(t)})},713930:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(172071);function a(e,t){return new Promise(((i,a)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if("FACEBOOK"===t)if(window.FB)i();else{const t=setInterval((()=>{window.FB||20===e?(clearInterval(t),i()):(e+=1,n.Z.increment(`mweb.loadScript.facebook.tries_${e}`,.01))}),100)}else if("GSI"===t)if(window.google)i();else{const t=setInterval((()=>{window.google||20===e?(clearInterval(t),i()):(e+=1,n.Z.increment(`mweb.loadScript.gsi.tries_${e}`,.01))}),100)}else i()}else{const t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",(()=>i())),t.addEventListener("error",a),document.getElementsByTagName("head")[0].appendChild(t)}}))}},53987:(e,t,i)=>{i.d(t,{wy:()=>F,Fw:()=>te,ey:()=>Q,dt:()=>y,bo:()=>$,oF:()=>oe,bW:()=>v,AX:()=>p,Fy:()=>u,XE:()=>c,am:()=>r,pD:()=>h,OJ:()=>l,LO:()=>me,Gl:()=>se,Y8:()=>w,lY:()=>x,dK:()=>b,PY:()=>S,ah:()=>P,Ni:()=>f,pV:()=>O,L6:()=>L,bb:()=>ve,b0:()=>g,jC:()=>G,O7:()=>le,LM:()=>K,OK:()=>R,mP:()=>k,C$:()=>I,dr:()=>M,gT:()=>N,Fr:()=>X,Xn:()=>T,l4:()=>D,b_:()=>ae,J:()=>s,dZ:()=>d,FO:()=>A,re:()=>C,RU:()=>de,Ui:()=>m,KY:()=>_,fY:()=>ee,uM:()=>J,x7:()=>ie,rk:()=>_e,cD:()=>q,dW:()=>ge,Pu:()=>re,En:()=>z,ej:()=>pe,f1:()=>B,E0:()=>W,gf:()=>E,mY:()=>ce,kY:()=>he,cY:()=>ne,$Y:()=>H,Zz:()=>j,$V:()=>V,j8:()=>Y,ip:()=>Z,tZ:()=>U,YW:()=>ue});const n=new RegExp(/^\/(?!(?:pin|categories|report|search|password|terms|discover|help|email|topics|explore|pw|login|signup|about|business|source|ideas|today|tv))[\w\d\-]+\/(?!(?:following|followers|_tools|_created|_saved|tried))[\w\d\-]+(?=\/|$)/),a=["/BingSiteAuth.xml","/about","/add-account","/ads","/age_verification","/all","/apple-app-site-association","/apple-app-site-association.p7m","/attribution_source","/bot.html","/branded-pins","/browserbutton","/buy-it","/careers","/categories","/close-account","/content-claiming","/content-safety-portal","/convert-business","/convert-personal","/create-business","/create-linked-business","/create-personal","/creation-inspiration","/creator-onboarding-landing","/csrf_error","/ct.html","/deactivate-account","/deed6a3ef3a44d41bb3ae2bad137db84.txt","/developers","/discover","/edit","/email_verification_error","/engagement","/explore","/favicon.ico","/fb.html","/following","/google_gdn.html","/google_search.html","/googlef5dc42d6e03f6e61.html","/guidedsearch","/help","/holidays-celebrations","/homefeed","/idea-pin-builder","/idea-pin-invite","/ideas","/inbox","/install-shuffles","/invited","/jobs","/live-session","/login","/login_redirect","/logout","/manifest.json","/manifest.webapp","/me","/messages","/mobile","/notifications","/oauth","/app-factory-oauth","/appealed-pin","/oembed.json","/offline.html","/offsite","/opensearch.xml","/parent_contact_info","/pin-builder","/pin-editor","/pin_catalog","/pin_redirect","/pinterest-wellbeing","/pinterest-predicts","/pinterestlens","/pinterestlenstryon","/pinterestwellbeing","/policy","/product-catalogs","/recently-viewed","/report","/robots.txt","/safe-redirect","/search","/settings","/shopping","/signup","/socialmanager","/story-pin-builder","/story-pin-invite","/story_feed","/sw-shell.html","/sw.html","/sw.js","/switch_account","/terms","/today","/topics","/transparent.html","/tv","/unauth-profile","/unlink","/upload-image","/upload-profile-image","/verified","/verify","/videos","/web-mentorship","/welcome","/windows-app-web-link","/your-shop"];var o=i(276775);const r=e=>n.test(e.pathname),s=(e,t)=>{const{pathname:i}=e;return r(e)&&i.match(t||"?")},l=e=>{const{pathname:t}=e;return!!(0,o.matchPath)(t,{path:"/:username/:boardId/:boardSectionId",exact:!0})&&!t.match(/^\/.+\/.+\/(_tools)/i)},d=(e,t)=>{const{pathname:i}=e;return l(e)&&i.match(t||"?")},c=e=>!!(0,o.matchPath)(e.pathname,{path:"/board/:id/edit",exact:!0}),u=e=>!!(0,o.matchPath)(e.pathname,{path:"/board/:id/edit/collaborators",exact:!0}),p=e=>!!(0,o.matchPath)(e.pathname,{path:"/board/:id/edit/add_collaborators",exact:!0}),h=e=>!!(0,o.matchPath)(e.pathname,{path:"/boardsection/:id/edit",exact:!0}),m=e=>!!(0,o.matchPath)(e.pathname,{path:"/pin/:id/comments",exact:!0}),_=e=>!!(0,o.matchPath)(e.pathname,{path:"/pin/:id/edit",exact:!0}),g=e=>!!(0,o.matchPath)(e.pathname,{path:"/conversation/:id",exact:!0}),v=e=>!!(0,o.matchPath)(e.pathname,{path:"/appealed-pin/",exact:!0}),y=e=>e.pathname.startsWith("/age-appeal"),f=e=>e.pathname.startsWith("/business/"),x=e=>!!(0,o.matchPath)(e.pathname,{path:"/business/business-access/:userBizId/dashboard",exact:!0}),b=e=>!!(0,o.matchPath)(e.pathname,{path:"/business/business-access/:userBizId/hierarchy",exact:!0}),w=e=>!!(0,o.matchPath)(e.pathname,{path:"/business/business-access/:userBizId/asset-groups",exact:!0}),P=e=>!!(0,o.matchPath)(e.pathname,{path:"/business/business-access/:userBizId/members",exact:!0}),S=e=>e.pathname.startsWith("/business/invite/"),k=e=>!!(0,o.matchPath)(e.pathname,{path:"/pin/:id/visual-search/",exact:!0}),I=e=>"/"===e.pathname,T=e=>e.pathname.startsWith("/login"),j=e=>!!(0,o.matchPath)(e.pathname,{path:"/today",exact:!0}),C=e=>e.pathname.startsWith("/password/reset")||!!(0,o.matchPath)(e.pathname,{path:"/pw/:username",exact:!0}),A=e=>e.pathname.startsWith("/secure/panic"),E=e=>e.pathname.startsWith("/signup"),R=e=>e.pathname.startsWith("/email/subscription"),D=e=>e.pathname.startsWith("/notifications/"),L=e=>!!(0,o.matchPath)(e.pathname,{path:"/pin/:id",exact:!0}),F=e=>L(e)&&void 0===e.state,O=e=>e.pathname.startsWith("/pin_redirect"),z=e=>e.pathname.startsWith("/search"),N=e=>!!(0,o.matchPath)(e.pathname,{path:"/ideas",exact:!0}),M=e=>!!(0,o.matchPath)(e.pathname,{path:"/ideas/:interest/:id",exact:!0}),Z=e=>!!(0,o.matchPath)(e.pathname,{path:"/videos/:category/:id",exact:!0}),U=e=>e.pathname.startsWith("/videos"),B=e=>!!(0,o.matchPath)(e.pathname,{path:"/shopping/",exact:!0}),V=e=>e.pathname.startsWith("/topics"),H=e=>e.pathname.startsWith("/today/article/")||e.pathname.startsWith("/today/best/")||e.pathname.startsWith("/today/trending/"),W=e=>e.pathname.startsWith("/today/shop/"),$=e=>j(e)||H(e)||e.pathname.startsWith("/today/popular/"),K=e=>/^\/discover\/article\/\S+\/?/i.test(e.pathname),G=e=>e.pathname.startsWith("/pin/create/"),q=e=>!!(0,o.matchPath)(e.pathname,{path:"/:username/",exact:!0})&&!a.includes(e.pathname.replace(/\/$/,"")),Y=e=>e.pathname.startsWith("/unauth-profile"),J=e=>e.pathname.startsWith("/pin/"),X=e=>"#imgViewer"===e.hash,Q=e=>new RegExp("invite_code").test(e.search),ee=e=>!!(0,o.matchPath)(e.pathname,{path:"/pin/:id",exact:!1})&&(e.pathname.includes("/sent/")||e.pathname.includes("/feedback/")),te=e=>Q(e)&&((ee(e)?"pin":r(e)&&"board")||q(e)&&"profile")||null,ie=e=>e.pathname.includes("/repin/x"),ne=e=>e.pathname.startsWith("/_/storyboard"),ae=e=>e.pathname.startsWith("/oauth"),oe=e=>e.pathname.startsWith("/app-factory-oauth"),re=e=>e.pathname.includes("/scheduled-pin/"),se=e=>e.pathname.startsWith("/business/convert"),le=e=>e.pathname.startsWith("/pin-editor"),de=e=>e.pathname.startsWith("/pin-builder"),ce=e=>e.pathname.startsWith("/story-pin-builder")||e.pathname.startsWith("/idea-pin-builder"),ue=e=>e.pathname.startsWith("/advertiser/quick-promote"),pe=e=>e.pathname.startsWith("/settings"),he=e=>e.pathname.startsWith("/story-pin-invite")||e.pathname.startsWith("/idea-pin-invite"),me=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/business-access/")&&e.pathname.includes("/dashboard/"),_e=e=>void 0!==e.pathname&&e.pathname.startsWith("/tv/studio"),ge=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/schedule_call/"),ve=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/commerce-integrations/")},627995:(e,t,i)=>{i.d(t,{Z:()=>c});var n=i(927104),a=i(898781),o=i(903095),r=i(112690),s=i(883119),l=i(785893);const d=(e,t)=>{let i={};if(e){const{pinData:n,viewData:a}=e;i={unauth_click_pin_id:n.id,unauth_click_pin_image_signature:n.imageSignature},3===t?i={...i,unauth_page_pin_id:a.id,unauth_page_pin_image_signature:a.imageSignature}:5===t&&(i={...i,unauth_page_board_id:a.id})}return i},c=({clickLoggingOptions:e,domain:t,link:i,onClick:c})=>{var u;const p=null===(u=(0,o.lO)())||void 0===u?void 0:u.logging,h=(0,a.ZP)(),m=(0,r.Z)(),_=()=>[{event_type:8948},{event_type:12},{event_type:101,element:0,aux_data:d(e.unauthRankingLoggingData,null==p?void 0:p.viewType)}].map((t=>({component:0,element:162,view_type:null==p?void 0:p.viewType,view_parameter:null==p?void 0:p.viewParameter,aux_data:e.auxData,object_id_str:e.auxData.objectId,...t})));return(0,l.jsx)(s.iP,{onTap:({event:e})=>{e.stopPropagation(),_().forEach((e=>m(e))),c(e)},children:(0,l.jsxs)(s.xu,{marginBottom:4,marginStart:4,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",left:!0,bottom:!0,children:[(0,l.jsx)(s.xu,{marginEnd:1,children:(0,l.jsx)(s.JO,{size:9,icon:"arrow-up-right",color:"light",accessibilityLabel:h.bt("", "Link", "unauth.pin.domain.link", undefined, true)})}),(0,l.jsx)("a",{href:i,onClick:e=>{e.stopPropagation(),_().forEach((e=>m(e))),c(e)},rel:"nofollow noopener noreferrer",target:"_blank",type:"button",children:(0,l.jsx)(s.xv,{size:"200",inline:!0,weight:"bold",lineClamp:1,color:"inverse",children:(0,n.Z)(t,27)})})]})})}},55275:(e,t,i)=>{i.d(t,{P:()=>r,t:()=>s});var n=i(6637);const a=()=>{};const o={complaint:function(e,t){n.Z.create("PinFeedbackResource",e).callUpdate().then((()=>t()))},followBoard:function(e,t){n.Z.create("BoardFollowResource",e).callCreate().then((()=>t()))},followPinner:function(e,t){n.Z.create("UserFollowResource",e).callCreate().then((()=>t()))},followTopic:function(e,t){n.Z.create("InterestFollowResource",e).callCreate().then((()=>t()))},newsHubPinHide:function(e,t){n.Z.create("NewsHubPinFeedbackResource",e).callUpdate().then((()=>t()))},promotedComplaint:function(e,t){n.Z.create("PinFeedbackResource",e).callUpdate().then((()=>t()))},relatedPinHide:function(e,t){n.Z.create("RelatedPinFeedbackResource",e).callUpdate().then((()=>t()))},reportPin:function(e,t){t()},showAdReasons:function(e,t){t()},unfollowBoard:function(e,t){n.Z.create("BoardFollowResource",e).callDelete().then((()=>t()))},unfollowPinner:function(e,t){n.Z.create("UserFollowResource",e).callDelete().then((()=>t()))},unfollowTopic:function(e,t){n.Z.create("InterestFollowResource",e).callDelete().then((()=>t()))},unrelatedSearchPin:function(e,t){n.Z.create("SearchPinFeedbackResource",e).callUpdate().then((()=>t()))}},r=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function s(e,t,i=a){const n=e?o[e]:null;return n?n(t,i):i()}},680046:(e,t,i)=>{i.d(t,{EF:()=>u,XZ:()=>d,ZP:()=>s,nb:()=>c,yl:()=>l});var n=i(55275),a=i(966113),o=i(760372);const r=e=>e.length>32?`${e.substring(0,32).trim()}...`:e,s=({i18n:e,interpolateNamedTemplate:t})=>({getLearnMoreUrl:e=>{switch(e){case 1:return"https://www.pinterest.com/_/_/help/articles/personalized-ads-pinterest";case 2:case 3:return"https://www.pinterest.com/_/_/help/articles/personalized-ads-pinterest";default:return a.m7}},getRecommendationDescription:({ad_match_reason:i,board:n,feedbackType:a,makeNavigateLink:o,pinner:s,promoter:l,recommendationReason:d,sourceInterest:c})=>{switch(a){case"pfy":return e.bt("    ,    ", "This Pin was inspired by your recent activity", "Pin feedback reason", undefined, true);case"pfyBoard":const{name:a,url:u}=d.board,p=o("navigation",u,a);return t(e.bt("      {{ boardLink }}", "This Pin was inspired by your board {{ boardLink }}", "Pin feedback - inspired by your board", undefined, true),{boardLink:p});case"topic":const{name:h,url_name:m}=c,_=o("topicUrl",`/topics/${m}`,h);return t(e.bt("     {{ formattedTopic }}", "This Pin was inspired by {{ formattedTopic }}", "Pin feedback", undefined, true),{formattedTopic:_});case"followed":const g=`/${s.username}`,v=o("boardUrl",n.url,r(n.name)),y=o("pinnerUrl",g,r(s.full_name));return s.explicitly_followed_by_me?t(e.bt("     {{ formattedPinner }},    .", "This Pin is from {{ formattedPinner }}, a profile you follow", "Pin feedback", undefined, true),{formattedPinner:y}):t(e.bt("    {{ formattedBoard }},    .", "This Pin is from {{ formattedBoard }}, a board you follow", "Pin feedback", undefined, true),{formattedBoard:v});case"promoted":switch(i){case 1:case 2:case 3:return e.bt("           .", "This ad was personalized for you using info from one of our partners", "Pin feedback", undefined, true);default:const{full_name:i,username:n}=l,a=o("promotedLink",n?"/"+n+"/":"/",i);return t(e.bt(" {{ promoterLink }}     ,      ", "{{ promoterLink }} paid to have this Pin show up where youd be more likely to notice it", "Pin feedback", undefined, true),{promoterLink:a})}default:return null}},getFeedbackType({board:e,feedback:t,viewParameter:i,pin:{promoter:n,is_downstream_promotion:a,recommendation_reason:o},pinner:r}){const s=t&&t.type;return n&&!a?"promoted":s||((e=>!!e&&"FOLLOWED_INTEREST"!==e.reason&&"FOLLOWING_FEED"!==e.reason&&"RECENT_FOLLOWED_BOARD"!==e.reason&&!0)(o)?o.board?"pfyBoard":"pfy":o&&"FOLLOWED_INTEREST"===o.reason?"topic":e&&e.followed_by_me||r&&r.explicitly_followed_by_me?"followed":140===i||144===i||141===i||145===i||139===i||3173===i?"related":92===i?"default":3082===i?"newsHub":null)},getHidePinAction:({feedbackData:e,feedbackType:t,pinId:i,recommendationReasonId:n,pinFeedbackType:a,complaintReason:o,throughId:r,throughProperties:s,clientTrackingParams:l})=>{const d="promoted"===t;let c,u;switch(t){case"promoted":c="promotedComplaint";break;case"search":c="unrelatedSearchPin";break;case"related":c="relatedPinHide";break;case"newsHub":c="newsHubPinHide";break;default:c="complaint"}switch(t){case"search":u={query:e.query,pin_id:i};break;case"related":u={pin:i};break;case"newsHub":u={pinId:i,newsId:e.newsId};break;default:u={complaint_reason:o||0,pin_id:i,...n?{recommendation_reason_id:n}:{},feedback_type:a||1,promoted:d,...r?{through_id:r}:{},...s?{through_properties:s}:{},...l?{client_tracking_params:l}:{}}}return{action:c,actionOptions:u}},getUnfollowAction:({board:i,feedbackType:n,makeNavigateLink:a,pinner:r,sourceInterest:s})=>{if("topic"===n){if(s){const{id:i,name:n,url_name:r}=s,l=a("topicUrl",`/topics/${r}`,n,!0),d=t(e.bt("         {{ formattedTopic }}.", "Well show you less Pins from {{ formattedTopic }} in the future.", "pin.contextualMenu.feedback.unfollowTopic.subtitle", undefined, true),{formattedTopic:l});return{action:"unfollowTopic",actionOptions:{interest_id:i,interest_list:o.X},title:"",subTitle:d}}}else if("followed"===n&&i&&r){const{id:n,name:o,url:s}=i||{},{explicitly_followed_by_me:l,full_name:d,username:c}=r,u=`/${c}`,p=a("boardUrl",s,o,!0),h=a("pinnerUrl",u,d,!0);let m=l?t(e.bt("     {{ formattedBoard }}  {{ formattedPinner }}.       .", "Youve unfollowed {{ formattedPinner }}s Board {{ formattedBoard }}. You can follow it again by searching for it.", "Confirmation text after unfollowing a board", undefined, true),{formattedPinner:h,formattedBoard:p}):t(e.bt("     {{ formattedBoard }}.       .", "Youve unfollowed {{ formattedBoard }}. You can follow it again by searching for it.", "Confirmation text after unfollowing a board", undefined, true),{formattedBoard:p});return m=l?t(e.bt("    {{ formattedPinner }}       .", "You unfollowed {{ formattedPinner }} and wont see Pins they save anymore.", "Confirmation text after unfollowing a user", undefined, true),{formattedPinner:h}):t(e.bt("    {{ formattedBoard }}        .", "You unfollowed the board {{ formattedBoard }} and wont see Pins saved to it anymore.", "Confirmation text after unfollowing a board", undefined, true),{formattedBoard:p}),{action:"unfollowBoard",actionOptions:{board_id:n},title:"",subTitle:m}}return null}});function l(e){return null!=e&&e.reason_id?e.reason_id:null!=e&&e.board?e.board.id:null!=e&&e.pin?e.pin.id:null!=e&&e.interest?e.interest.id:""}function d(e){return null==e?void 0:e.through_properties}function c(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}function u(e,t,i,a,o,r,s){return()=>{const l={...e,undo:!0};let d=t;"unfollowPinner"===t?d="followPinner":"unfollowBoard"===t?d="followBoard":"unfollowTopic"===t&&(d="followTopic"),(0,n.t)(d,l),r(i),s({event_type:101,component:0,element:11181,view_type:a,view_parameter:o})}}},248975:(e,t,i)=>{function n({embedSrc:e,embedType:t,images:i,preferredResolution:n}){if(!e&&!t&&!i)return"";if("gif"===t)return e||"";const a=i;if(!a)return"";if(n){const e="474x"===n&&a["474x"]||"236x"===n&&a["236x"]||a["736x"];if(e&&e.url)return e.url}const o=Object.keys(a).map((e=>{try{const t=e.split("x")[0];return Number.isNaN(Number(t))?(a[t]=a[e],t):e}catch(t){return""}}));o.sort();const r=o.pop();return a[r]&&a[r].url||""}i.d(t,{Z:()=>n})},958007:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(992750);const a=e=>(e||"").trim().replace(/\s+/g," "),o=({storyPinDataId:e,pinDescription:t,richMetadataDescription:i,richSummaryDisplayName:o,placeSummaryName:r,closeupDescription:s,closeupUnifiedDescription:l})=>!!e?a(t):a((0,n.eK)({richMetadataDescription:i,richSummaryDisplayName:o,placeSummaryName:r,closeupUnifiedDescription:l}).description)||a(l||"")||a(s)||a(t)||a(i)||""},164985:(e,t,i)=>{i.d(t,{Z:()=>n});function n(){let e=800,t=400;return"undefined"!=typeof window&&(e=window.innerHeight,t=window.innerWidth),{windowHeight:e,windowWidth:t}}},623568:(e,t,i)=>{i.d(t,{Js:()=>r,NK:()=>v,Nc:()=>y,VX:()=>s,Zt:()=>_,_J:()=>c,_S:()=>f,cL:()=>h,dZ:()=>w,hb:()=>g,hy:()=>d,iR:()=>o,jL:()=>l,o:()=>x,oN:()=>n,pU:()=>b,rM:()=>m,sV:()=>u,sY:()=>p});const n=5e3,a=["Uploaded by user"],o=e=>!!e&&!!e.video_list,r=(e,t)=>{let i=e&&e.url?e.url.split("/")[1]:"";return t&&t.full_name&&(i=t.full_name),i},s=(e,t)=>t&&t.products&&t.products.length>0||(null==e?void 0:e.products)&&e.products.length>0||!1,l=(e,t)=>!!t&&!e,d=e=>!!e,c=e=>!!e.video_status&&5!==e.video_status,u=e=>["email","messages","deep_linking"].includes(e),p=e=>!!e&&"gif"===e,h=({embedSrc:e,embedSubtype:t,embedType:i})=>!!e&&!p(i)&&!(e=>"pinstory"===e)(t),m=({link:e,mobileLink:t,trackedLink:i})=>!t&&!i&&!e,_=({link:e,mobileLink:t,origImageUrl:i,trackedLink:n})=>t||n||e||i||"",g=({isStoryPin:e,isVideoPin:t})=>e?"storyPin":t?"video":"image",v=(e,t)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:t.state?t.state.trackingParams:""}}});function y(e,t,i){var n;return!o(i)&&!d(t)&&0!==Object.keys((null==e||null===(n=e.creator_analytics)||void 0===n?void 0:n["30d_realtime"])||{}).length}function f(e){for(const t of a)if(e===t)return!1;return!0}function x(e){return 0!==Object.keys((null==e?void 0:e["30d_realtime"])||{}).length}function b(e){return 0!==Object.keys((null==e?void 0:e.all_time_realtime)||{}).length}function w(e){var t;return!(null==e||null===(t=e["30d_realtime"])||void 0===t||!t.is_realtime)}},992750:(e,t,i)=>{i.d(t,{hP:()=>u,fs:()=>l,eK:()=>d,Ly:()=>c,BY:()=>p,bN:()=>h,RC:()=>r,EU:()=>s});const n=/\s\s+/g,a=e=>e.replace(n," ");var o=i(883561);const r=({storyPinDataMetadataPinTitle:e,pinTitle:t})=>e||t,s=(e,t)=>e?e.trim().length>t?(0,o.ZP)(e.trim(),t).trim():e.trim():"",l=({pinTitle:e,gridTitle:t,richSummaryDisplayName:i,richMetadataTitle:n,storyPinDataId:a,storyPinDataMetadataPinTitle:o,placeSummaryName:r})=>{const l=o||e,d=s(t,200);return d||(i||(r||(n||(a&&l?l:null))))},d=e=>{var t,i,n,r;const{richSummaryDisplayName:s,placeSummaryName:l}=e,d=null!==(t=e.pinJoinVisualAnnotation)&&void 0!==t?t:[],c=null!==(i=e.pinJoinAnnotationsWithLinks)&&void 0!==i?i:{},u=null!==(n=e.richMetadataDescription)&&void 0!==n?n:"",p=null!==(r=e.closeupUnifiedDescription)&&void 0!==r?r:"",h=d.map((e=>(c||{})[e]||{name:e,url:""}));let m="";const _=(({richSummaryDisplayName:e,placeSummaryName:t})=>e||t||"")({richSummaryDisplayName:s,placeSummaryName:l}).toLocaleLowerCase().trim(),g=u.toLocaleLowerCase().trim(),v=p.toLocaleLowerCase().trim();return p&&p.length>3&&v!==_?m=p:u&&u.length>3&&g!==_&&(m=u),m&&(m=a((0,o.ZP)(m,496)).trim()),{description:m,annotationsWithLinks:h}},c=({pinTitle:e,gridTitle:t,richSummaryDisplayName:i,richMetadataTitle:n,storyPinDataId:a,storyPinDataMetadataPinTitle:o,placeSummaryName:r,pinJoinVisualAnnotation:s,pinJoinAnnotationsWithLinks:c})=>{const{annotationsWithLinks:u}=d({pinJoinVisualAnnotation:s,pinJoinAnnotationsWithLinks:c}),p=(u||[]).map((e=>e.name)),h=e=>(e||[])[0]||null;return l({pinTitle:e,gridTitle:t,richSummaryDisplayName:i,richMetadataTitle:n,storyPinDataId:a,storyPinDataMetadataPinTitle:o,placeSummaryName:r})||h(s)||h(p)||e},u=(e,t,i,n)=>{var a;let o=(a=e,"string"==typeof a?a:"").trim();return i?(n&&n.trim().length&&(o=n),i.length>0&&(o&&(o+=" "),o+=i.join(", ")),o):n&&n.trim().length?n:o},p=e=>`/pin/${e}/`,h=({pinId:e,seoUrl:t})=>t&&"string"==typeof t?t:p(e)},467570:(e,t,i)=>{i.d(t,{$:()=>d,GH:()=>l,JF:()=>g,Jb:()=>h,MI:()=>_,sl:()=>u,we:()=>p});var n=i(935879),a=i(713930),o=i(816068),r=i(6637),s=i(867820);const l="274266067164",d=["public_profile","email","user_birthday","user_friends"],c=["picture.type(large)","id","first_name","last_name","email","gender","birthday"],u=e=>{e&&(0,s.dy)({event:"load_script_success",provider:"facebook"}),"undefined"!=typeof window&&window.FB?(e&&(0,s.dy)({event:"initialize_library",provider:"facebook"}),window.FB.init({appId:l,status:!0,xfbml:!0,version:"v2.7"})):e&&(0,s.dy)({event:"global_object_not_found",provider:"facebook"})},p=(e,t)=>{t&&(0,s.dy)({event:"load_script_start",provider:"facebook"});return(0,a.Z)((0,n.Z)(e),"FACEBOOK").then((()=>u(t)))},h=()=>new Promise((e=>{"undefined"!=typeof window&&window.FB&&window.FB.getLoginStatus(e)})),m=({userID:e,accessToken:t,data:{birthday:i,email:n,first_name:a,gender:r,last_name:s,picture:l}})=>({type:"facebook",facebook_id:e,facebook_token:t,birthday:i?(0,o.Z)(i):void 0,email:n,first_name:a,gender:r,image_url:l&&!l.data.is_silhouette?l.data.url:void 0,last_name:s});async function _(e){var t;const i=(null===(t=(await r.Z.create("ApiResource",{url:"/v3/facebook/profile_data/",data:{access_token:e,pii_safe_birthday:!0,fields:c.join(",")}}).callCreate()).resource_response)||void 0===t?void 0:t.data)||{};return{access_token:e,birthday:i.birthday,email:i.email,first_name:i.first_name,gender:i.gender,id:i.id,last_name:i.last_name,picture:i.picture}}const g=()=>new Promise((e=>{window.FB.login(e,{scope:d.join(",")})})).then((e=>((e,t)=>new Promise(((i,n)=>{if("connected"!==e.status)return void n({status:e.status||"unknown"});const{userID:a,accessToken:o}=e.authResponse;_(o).then((e=>{i({creds:{facebook_id:a,facebook_token:o,facebook_autologin:(null==t?void 0:t.autologin)||!1},signupOptions:m({userID:a,accessToken:o,data:e})})}),n)})))(e)))},935879:(e,t,i)=>{i.d(t,{Z:()=>n});const n=e=>`//connect.facebook.net/${(e=>{const t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}})(e)}/sdk.js`},760372:(e,t,i)=>{i.d(t,{X:()=>n});const n="favorited"},813401:(e,t,i)=>{i.d(t,{kf:()=>g,l5:()=>m,of:()=>p,xC:()=>_,yz:()=>h});var n=i(667294),a=i(172071),o=i(829407),r=i(807609),s=i(30287),l=i(425288),d=i(785893);const{Provider:c,useMaybeHook:u}=(0,l.Z)("PwaContext"),p=({children:e,initialContext:t})=>{const[i,r]=(0,n.useState)(null),l=t||{pwaType:"unknown",twaType:null},u=l.pwaType;(0,o.Z)((()=>{const e=(0,s.FB)(window)||"unknown";r(e),u!==e&&a.Z.increment("pwa.type_mismatch",1,{serverPwaType:u,clientPwaType:e,conflict:"unknown"!==u&&"unknown"!==e})}));const p="unknown"===u&&i?i:u,h=l.twaType,m=(0,n.useMemo)((()=>({pwaType:p,twaType:h})),[p,h]);return(0,d.jsx)(c,{value:m,children:e})},h=()=>{var e;const t=u();return null!==(e=null==t?void 0:t.pwaType)&&void 0!==e?e:"unknown"},m=()=>{var e;const t=u();return null!==(e=null==t?void 0:t.twaType)&&void 0!==e?e:null},_=()=>"android-twa"===h(),g=()=>{const e=h(),t=(0,r.Z)();return"unknown"===e&&t?null:"windows"===e}},317254:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(969853),a=i(667294),o=i(276602),r=i(543059);var s=i(198462);function l({children:e,isAtEndOfFeed:t,pinData:i,itemCount:l,includeBackgroundImages:d=!1,includeVideos:c=!1,includeSections:u=!1}){var p;return(null===(p=(0,s.N5)())||void 0===p?void 0:p.isAuthenticated)||(u=!0),(0,n.Z)({pinData:i,isAtEndOfFeed:t,includeBackgroundImages:d,includeVideos:c,includeSections:u}),function(e){const t=(0,o.EV)(),i=(0,a.useRef)(null);(0,a.useEffect)((()=>{e!==i.current&&(i.current=e,t&&(0,r.ZP)(r.at))}),[!!t,e])}(l),e}},561195:(e,t,i)=>{i.d(t,{A:()=>r,Z:()=>s});var n=i(667294),a=i(883119),o=i(785893);const r=({fill:e,width:t,color:i})=>{const r="half"===e?(0,o.jsxs)(n.Fragment,{children:[(0,o.jsx)(a.xu,{position:"absolute",children:(0,o.jsx)(a.JO,{accessibilityLabel:"",color:"default",icon:"star-half",size:12})}),(0,o.jsx)(a.JO,{accessibilityLabel:"",color:"subtle",icon:"star",size:12})]}):(0,o.jsx)(a.JO,{accessibilityLabel:"",color:"full"===e?"default":"subtle",icon:"star",size:12});return(0,o.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},display:"inlineBlock","data-test-id":`rating-star-${e}`,children:r})};function s({max_rating:e,rating:t,width:i,color:a}){const s=[],l=function(e,t){return 5*(t=t<=e?t:e)/e}(parseFloat(e)||5,parseFloat(t)||0);if(Number.isNaN(l))return null;const d=Math.floor(l),c=l-d;return[...Array(d).keys()].forEach((e=>s.push((0,o.jsx)(r,{color:a,fill:"full",width:i},e)))),c>=.75?s.push((0,o.jsx)(r,{color:a,fill:"full",width:i},s.length)):c>=.25&&s.push((0,o.jsx)(r,{color:a,fill:"half",width:i},s.length)),[...Array(5-s.length).keys()].forEach((()=>s.push((0,o.jsx)(r,{color:a,fill:"empty",width:i},s.length)))),(0,o.jsx)(n.Fragment,{children:s})}},923297:(e,t,i)=>{function n({m:e=0,h:t=0}){let i;return i=t<=0?t:e>45?t+1:e>15?t+.5:t,{m:e,h:t,rm:t>0?0:e,rh:i}}function a(e){const t=Math.floor(e/3600);return n({m:Math.floor(e%3600/60),h:t})}i.d(t,{X:()=>n,u:()=>a})},932995:(e,t,i)=>{function n(e,t,i){const n=[...e],a=n.splice(t,1)[0];return n.splice(i,0,a),n}i.d(t,{Z:()=>n})},505920:(e,t,i)=>{i.d(t,{UZ:()=>u,Z8:()=>p,my:()=>h});var n=i(667294),a=(i(702664),i(6637)),o=i(425288),r=i(785893);function s(e,t,i){var n;const a=[...null!==(n=t[e][i.payload.name])&&void 0!==n?n:[],i.payload.handler],o={...t};return o[e]={...t[e],[i.payload.name]:a},o}function l(e,t,i){if(!t[e][i.payload.name])return t;const n=t[e][i.payload.name].filter((e=>e!==i.payload.handler)),a={...t};return a[e]={...t[e],[i.payload.name]:n},a}const{Provider:d,useHook:c}=(0,o.Z)("ResourceContext");function u({children:e}){const[{listeners:t,moreListeners:i},o]=(0,n.useReducer)(((e,t)=>{switch(t.type){case"addListener":return s("listeners",e,t);case"addMoreListener":return s("moreListeners",e,t);case"removeListener":return l("listeners",e,t);case"removeMoreListener":return l("moreListeners",e,t);default:return e}}),{listeners:{},moreListeners:{}});a.Z.fetchCompleteCallback=({resource:e,options:i,response:n,normalizedResponse:a,refresh:o,resourceSchema:r})=>{t[e]&&t[e].forEach((t=>t({isRefresh:o,normalizedResponse:a,options:i,schema:r,resource:e,response:n})))},a.Z.fetchMoreCompleteCallback=({resource:e,options:t,response:n,normalizedResponse:a,refresh:o,resourceSchema:r})=>{i[e]&&i[e].forEach((i=>i({isRefresh:o,normalizedResponse:a,options:t,schema:r,resource:e,response:n})))};const c=(0,n.useMemo)((()=>({listenerDispatch:o})),[]);return(0,r.jsx)(d,{value:c,children:e})}function p(e,t){const{listenerDispatch:i}=c();(0,n.useEffect)((()=>(i({type:"addListener",payload:{name:e,handler:t}}),()=>{i({type:"removeListener",payload:{name:e,handler:t}})})))}function h(e,t){const{listenerDispatch:i}=c();(0,n.useEffect)((()=>(i({type:"addMoreListener",payload:{name:e,handler:t}}),()=>{i({type:"removeMoreListener",payload:{name:e,handler:t}})})))}},176843:(e,t,i)=>{function n(e,t){let i;if(e.error){const{httpStatus:n,api_error_code:a,redirectUrl:o}=e.error;if(404===n||401===n&&7===a){i={pathname:t?"/ideas/":"/",state:{showError:!0}}}301===n&&o&&(i={pathname:o})}return i}i.d(t,{Z:()=>n})},989726:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(176843),a=i(784590),o=i(19121),r=i(53987),s=i(276775);function l(e){const t=(0,s.useHistory)(),i=(0,s.useLocation)(),{isAuth:l}=(0,o.Z)(),d=!l&&(0,r.L6)(i),c=(0,a.Z)(e),u=(0,n.Z)(c,d);return u&&t.replace(u.pathname,u.state),c}},134185:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(785893);const a=e=>{const t=e.itemType?{itemScope:!0,itemType:e.itemType}:{};return(0,n.jsx)("div",{"data-test-id":"rich-pin-information",...t,children:e.children||null})}},578661:(e,t,i)=>{i.d(t,{G:()=>n});const n="https://schema.org/Recipe"},857079:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(883119),a=i(785893);function o({accessibilityLabel:e}){return(0,a.jsx)(n.kC,{alignItems:"center",justifyContent:"center",children:(0,a.jsx)(n.$j,{accessibilityLabel:e,show:!0})})}},995228:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(667294),a=i(966476),o=i(464228),r=i(785893);function s({children:e,fallback:t,dangerouslyServerRenderForGraphQL:i=!1}){const s=t||null,l=(0,a.Z)(),d=(0,o.P)();return d&&"legacy"!==d?i||l?(0,r.jsx)(n.Suspense,{fallback:s,children:e}):s:(0,r.jsx)(n.Suspense,{fallback:s,children:e})}},947599:(e,t,i)=>{i.d(t,{Z:()=>n});const n=i(995228).Z},740990:(e,t,i)=>{i.d(t,{Z:()=>n});const n=(0,i(667294).createContext)("undefined"!=typeof window?window:null)},909499:(e,t,i)=>{i.d(t,{Hd:()=>r,_R:()=>a,lw:()=>n,wF:()=>o});const n={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",USERS:"users",IDEA_PINS:"idea_pins"},a=e=>{switch(e){case n.PINS:return 43;case n.PINS_MINE:return 107;case n.PINS_BUYABLE:return 254;case n.PINS_VIDEO:return 3306;case n.BOARDS:return 44;case n.USERS:return 45;default:return null}},o=e=>{switch(e){case n.PINS:return 60;case n.PINS_MINE:return 63;case n.PINS_BUYABLE:return 3800;case n.PINS_VIDEO:return 64;case n.BOARDS:return 61;case n.USERS:return 62;default:return null}},r=e=>{switch(e){case n.USERS:return 1000392;case n.PINS_BUYABLE:return 1000391;case n.PINS:default:return 29}}},862628:(e,t,i)=>{function n(e){return(e||"").trim().replace(/\s+/g," ")}i.d(t,{Z:()=>n})},648284:(e,t,i)=>{function n({appliedProductFilters:e,autoCorrectionDisabled:t,filters:i,query:n,scope:a,selectedPinImgSig:o,user:r}){const s=[a,i,e,r,o,n].map((e=>null!=e?e:"")).join(":");return t?"auto-correction-disabled:"+s:s}function a(e){const{autoCorrectionDisabled:t,appliedProductFilters:i,appliedFilters:n,filters:a,selectedPinImgSig:o,query:r,rs:s,scope:l,bubbleId:d,user:c}=e;return{name:"BaseSearchResource",options:function({autoCorrectionDisabled:e=!1,appliedFilters:t=null,appliedProductFilters:i=null,bubbleId:n=null,filters:a=null,query:o=null,rs:r="direct_navigation",scope:s="pins",selectedPinImgSig:l=null,sourceId:d=null,user:c}){return{article:n,applied_filters:t,appliedProductFilters:i,auto_correction_disabled:e,corpus:l?"personalize":null,customized_rerank_type:l?"manas_graph_sage_only_wand_rewrite":null,filters:a,query:o,query_pin_sigs:l,redux_normalize_feed:!0,rs:r,scope:s,source_id:d,user:c}}({autoCorrectionDisabled:!!t,appliedProductFilters:i,appliedFilters:n,filters:a,query:r,rs:s,scope:l,selectedPinImgSig:o,bubbleId:d,user:c})}}i.d(t,{Ht:()=>a,Tb:()=>n})},706922:(e,t,i)=>{function n(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function a(e,t){if(n(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(let o=0;o<i.length;o+=1)if(!Object.prototype.hasOwnProperty.call(t,i[o])||!n(e[i[o]],t[i[o]]))return!1;return!0}i.d(t,{Z:()=>a})},458882:(e,t,i)=>{i.d(t,{l:()=>o,r:()=>r});var n=i(667294);const a=(0,n.createContext)(null),o=()=>(0,n.useContext)(a),r=a.Provider},667679:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(458882),a=i(780679);const o=()=>{const e=(0,a.g)(),t=(0,n.l)();return i=>{const{mobileOptions:n,desktopOptions:a,reason:o,attributionLabel:r}=i;e?e.showDesktopSignupModal({signupFlow:"login"===(null==a?void 0:a.modalType)?{type:"login"}:{type:"signup"},reason:o,attributionLabel:r,...null==a?void 0:a.modalOptions}):t&&t.showMobileSignupModal({reason:o,attributionLabel:r,headingType:null==n?void 0:n.headingType})}}},90771:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(785893);function a({size:e=56}){return(0,n.jsxs)("svg",{fill:"none",height:e,width:e,viewBox:"0 0 56 56",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("rect",{fill:"#1a73e8",height:"56",rx:"28",width:"56"}),(0,n.jsx)("path",{d:"m37.086 39.782h-18.454c-2.624 0-4.914-1.983-4.914-4.607v-.028 1.536c0 2.624 2.29 4.913 4.914 4.913h18.454c2.653 0 4.914-2.317 4.914-4.913v-1.536c0 2.624-2.29 4.635-4.914 4.635zm-23.395-13.234v-2.094l-3.434-5.667c-.196-.307-.28-.586-.252-.866v2.401c0 .224.084.447.223.698z",fill:"#185abc"}),(0,n.jsx)("path",{d:"m37.086 17h-25.853c-1.033 0-1.619.893-.92 1.843l3.377 5.863v10.469c0 2.68 1.955 4.914 4.607 4.914h18.761c2.653 0 4.914-2.262 4.914-4.914v-13.233c.028-2.68-2.234-4.942-4.886-4.942z",fill:"#fff"}),(0,n.jsx)("path",{d:"m36.78 24.39h-17.842c-.782 0-1.535-.474-1.535-1.228 0-.753.753-1.228 1.535-1.228h17.84c.782 0 1.536.475 1.536 1.228 0 .754-.754 1.229-1.536 1.229zm0 4.915h-17.842c-.782 0-1.535-.475-1.535-1.229s.753-1.228 1.535-1.228h17.84c.782 0 1.536.474 1.536 1.228s-.754 1.229-1.536 1.229zm-4.942 4.941h-12.928c-.782 0-1.535-.474-1.535-1.228s.753-1.229 1.535-1.229h12.927c.781 0 1.535.475 1.535 1.229s-.754 1.228-1.535 1.228z",fill:"#8ab4f8"})]})}},31149:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(785893);function a({size:e=56}){return(0,n.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#EFEFEF"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.1106 19.6408C18.2759 19.551 18.4653 19.5 18.6667 19.5H37.3333C37.5535 19.5 37.7594 19.561 37.9351 19.667C37.9351 19.667 37.9352 19.667 37.9352 19.667L28.7395 27.2024C28.3095 27.5547 27.6905 27.5547 27.2605 27.2024L18.0648 19.667C18.0799 19.6579 18.0951 19.6492 18.1106 19.6408ZM14 20.8611V20.6667C14 18.0893 16.0893 16 18.6667 16H37.3333C39.9107 16 42 18.0893 42 20.6667V20.8611V34.6667C42 37.244 39.9107 39.3333 37.3333 39.3333H18.6667C16.0893 39.3333 14 37.244 14 34.6667V20.8611ZM38.5 23.7292V34.6667C38.5 35.311 37.9777 35.8333 37.3333 35.8333H18.6667C18.0223 35.8333 17.5 35.311 17.5 34.6667V23.7292L25.0422 29.9095C26.7622 31.319 29.2378 31.319 30.9578 29.9096L38.5 23.7292Z",fill:"black"})]})}},659522:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(785893);function a({size:e=56}){return(0,n.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("path",{d:"M56 28C56 12.536 43.464 0 28 0S0 12.536 0 28c0 13.975 10.24 25.56 23.625 27.66V36.094h-7.11V28h7.11v-6.169c0-7.017 4.18-10.893 10.576-10.893 3.064 0 6.268.546 6.268.546v6.891h-3.53c-3.479 0-4.564 2.159-4.564 4.373V28h7.766l-1.242 8.094h-6.524V55.66C45.761 53.56 56 41.975 56 28Z",fill:"#1877F2"}),(0,n.jsx)("path",{d:"M38.9 36.094 40.14 28h-7.765v-5.252c0-2.215 1.085-4.373 4.563-4.373h3.53v-6.89s-3.203-.547-6.267-.547c-6.396 0-10.576 3.876-10.576 10.893V28h-7.11v8.094h7.11V55.66a28.206 28.206 0 0 0 8.75 0V36.094h6.524Z",fill:"#fff"})]})}},214680:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(785893);function a({size:e=56}){return(0,n.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"url(#paint0_linear_4144_9512)"}),(0,n.jsx)("path",{d:"M27.7512 13C23.3085 13 19.0478 14.47 15.9063 17.0867C12.7649 19.7033 11 23.2522 11 26.9526C11.004 29.3596 11.7556 31.7247 13.1816 33.8182C14.6076 35.9117 16.6595 37.6624 19.138 38.9C18.4779 40.3778 17.4878 41.7636 16.2089 43C18.6891 42.5646 21.0173 41.65 23.0123 40.3273C24.5505 40.708 26.1465 40.9027 27.7512 40.9053C32.1939 40.9052 36.4546 39.4352 39.5961 36.8186C42.7375 34.202 44.5024 30.6531 44.5024 26.9526C44.5024 23.2522 42.7375 19.7033 39.5961 17.0867C36.4546 14.47 32.1939 13 27.7512 13Z",fill:"white"}),(0,n.jsx)("defs",{children:(0,n.jsxs)("linearGradient",{id:"paint0_linear_4144_9512",x1:"28.4444",y1:"52.2827",x2:"28.4444",y2:"6.94986",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#0CBD2A"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#5BF675"})]})})]})}},331744:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(785893);function a({size:e=56}){return(0,n.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("path",{d:"M28 56c15.464 0 28-12.536 28-28S43.464 0 28 0 0 12.536 0 28s12.536 28 28 28Z",fill:"#00B900"}),(0,n.jsx)("path",{d:"M46.625 26.32c0-8.335-8.354-15.115-18.625-15.115-10.267 0-18.625 6.78-18.625 15.115 0 7.471 6.627 13.73 15.578 14.91.606.13 1.432.401 1.642.92.187.47.122 1.208.06 1.684l-.265 1.596c-.08.471-.373 1.843 1.615 1.003 1.988-.835 10.724-6.314 14.634-10.812 2.693-2.964 3.986-5.969 3.986-9.3Z",fill:"#fff"}),(0,n.jsx)("path",{d:"M24.215 22.293H22.91c-.201 0-.364.163-.364.364v8.115c0 .2.163.364.364.364h1.306c.2 0 .364-.163.364-.364v-8.12a.363.363 0 0 0-.364-.36ZM33.208 22.293H31.9c-.2 0-.364.163-.364.364v4.82l-3.72-5.02c-.009-.015-.018-.024-.027-.038l-.005-.005-.023-.023c-.005 0-.005-.005-.005-.005-.005-.005-.014-.01-.019-.014l-.009-.01c-.005-.004-.014-.008-.019-.013-.004-.005-.009-.005-.009-.005a.036.036 0 0 0-.019-.01c-.004 0-.009-.004-.009-.004-.005-.004-.014-.004-.019-.01-.004 0-.009-.004-.014-.004l-.023-.01c-.005 0-.01 0-.014-.004-.01 0-.014-.005-.019-.005h-.014c-.004 0-.014 0-.018-.004H26.212c-.2 0-.364.163-.364.364v8.115c0 .2.164.364.364.364h1.307c.2 0 .364-.163.364-.364v-4.82l3.724 5.03a.283.283 0 0 0 .093.089s.005 0 .005.005c.01.004.014.009.023.014.005 0 .005.004.01.004.004.005.01.005.018.01.005.004.01.004.02.009.004 0 .008.005.008.005.01.004.02.004.024.009h.004c.028.01.061.014.094.014h1.306c.201 0 .364-.163.364-.364v-8.125a.37.37 0 0 0-.368-.36ZM21.065 29.097h-3.551v-6.445c0-.2-.164-.364-.364-.364h-1.307c-.2 0-.364.163-.364.364v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306a.358.358 0 0 0-.359-.364ZM40.422 24.323c.201 0 .364-.163.364-.364v-1.307c0-.2-.163-.364-.364-.364h-5.217a.353.353 0 0 0-.252.103l-.005.005c0 .004-.004.004-.004.004a.373.373 0 0 0-.103.252v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55c.201 0 .364-.164.364-.364v-1.307c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55v.005Z",fill:"#00B900"})]})}},757146:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(785893);function a({size:e=56}){return(0,n.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#fff"}),(0,n.jsx)("rect",{x:".5",y:".5",width:"55",height:"55",rx:"27.5",stroke:"#767676",strokeOpacity:".4"}),(0,n.jsx)("path",{d:"M28 12c-9.012 0-16 6.604-16 15.52 0 4.664 1.912 8.696 5.024 11.48.26.232.42.56.428.912l.088 2.848c.028.908.964 1.5 1.796 1.132l3.176-1.4c.268-.12.572-.14.856-.064 1.46.4 3.012.616 4.632.616 9.012 0 16-6.604 16-15.52S37.012 12 28 12Z",fill:"url(#paint0_radial_3730_649)"}),(0,n.jsx)("path",{d:"m18.392 32.06 4.7-7.456a2.401 2.401 0 0 1 3.472-.64l3.74 2.804a.96.96 0 0 0 1.156-.004l5.048-3.832c.672-.512 1.552.296 1.104 1.012l-4.704 7.452a2.401 2.401 0 0 1-3.472.64l-3.74-2.804a.96.96 0 0 0-1.156.004l-5.048 3.832c-.672.512-1.552-.292-1.1-1.008Z",fill:"#fff"}),(0,n.jsx)("defs",{children:(0,n.jsxs)("radialGradient",{id:"paint0_radial_3730_649",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(18.16 43.826) scale(34.8672)",children:[(0,n.jsx)("stop",{stopColor:"#09F"}),(0,n.jsx)("stop",{offset:".61",stopColor:"#A033FF"}),(0,n.jsx)("stop",{offset:".935",stopColor:"#FF5280"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#FF7061"})]})})]})}},862960:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(785893);function a({size:e=56}){return(0,n.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"url(#paint0_linear_4401_2673)"}),(0,n.jsx)("path",{d:"M22.452 39.991c-.907 0-.753-.342-1.066-1.206l-2.667-8.779 20.533-12.181",fill:"#C8DAEA"}),(0,n.jsx)("path",{d:"M22.452 39.991c.7 0 1.01-.32 1.4-.7l3.734-3.63-4.657-2.808",fill:"#A9C9DD"}),(0,n.jsx)("path",{d:"m22.928 32.854 11.284 8.336c1.288.71 2.217.343 2.538-1.195l4.593-21.645c.47-1.885-.719-2.74-1.95-2.181l-26.971 10.4c-1.841.738-1.83 1.765-.336 2.223l6.921 2.16 16.024-10.109c.757-.458 1.45-.212.881.294",fill:"url(#paint1_linear_4401_2673)"}),(0,n.jsxs)("defs",{children:[(0,n.jsxs)("linearGradient",{id:"paint0_linear_4401_2673",x1:"37.352",y1:"9.352",x2:"23.352",y2:"42",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#37AEE2"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#1E96C8"})]}),(0,n.jsxs)("linearGradient",{id:"paint1_linear_4401_2673",x1:"31.096",y1:"27.16",x2:"35.466",y2:"37.116",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#EFF7FC"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#fff"})]})]})]})}},464240:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(785893);function a({size:e=56}){return(0,n.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#1DA1F2"}),(0,n.jsx)("path",{d:"M24.34 42c11.37 0 17.591-9.429 17.591-17.591 0-.265 0-.53-.012-.796a12.596 12.596 0 0 0 3.087-3.207c-1.11.494-2.303.82-3.557.976a6.22 6.22 0 0 0 2.725-3.424 12.299 12.299 0 0 1-3.93 1.495 6.17 6.17 0 0 0-4.51-1.953 6.19 6.19 0 0 0-6.186 6.185c0 .483.06.953.157 1.411-5.136-.253-9.694-2.725-12.744-6.463a6.184 6.184 0 0 0-.832 3.111 6.2 6.2 0 0 0 2.749 5.148 6.254 6.254 0 0 1-2.797-.771v.084a6.196 6.196 0 0 0 4.955 6.065 6.028 6.028 0 0 1-1.628.217c-.397 0-.783-.036-1.157-.109a6.182 6.182 0 0 0 5.775 4.293 12.4 12.4 0 0 1-7.68 2.652c-.494 0-.989-.024-1.471-.084A17.587 17.587 0 0 0 24.34 42Z",fill:"#fff"})]})}},89396:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(785893);function a({size:e=56}){return(0,n.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#7360F2"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.362 31.327s.57.05.875-.33l.597-.75c.288-.374.984-.61 1.665-.232.902.509 2.067 1.309 2.866 2.054.44.371.542.918.242 1.495l-.002.012a6.278 6.278 0 0 1-1.243 1.53l-.012.009c-.587.489-1.261.773-1.983.538l-.013-.018c-1.296-.367-4.405-1.952-6.386-3.532-3.242-2.558-5.546-6.776-6.183-9.038l-.02-.013c-.235-.724.052-1.398.539-1.984l.01-.01a6.224 6.224 0 0 1 1.53-1.243l.012-.003c.576-.3 1.122-.198 1.494.243.49.505 1.408 1.721 2.054 2.865.378.68.141 1.377-.231 1.664l-.752.598c-.379.306-.33.876-.33.876s1.113 4.207 5.271 5.269Zm6.543-3.488a.405.405 0 0 1-.406-.403c-.018-2.44-.752-4.384-2.178-5.776-1.43-1.393-3.236-2.108-5.37-2.122a.403.403 0 0 1-.4-.408.403.403 0 0 1 .403-.402h.003c2.35.016 4.344.808 5.93 2.352 1.586 1.55 2.402 3.687 2.422 6.35a.406.406 0 0 1-.401.409h-.003Zm-2.127-.832h-.01a.405.405 0 0 1-.395-.414c.032-1.384-.364-2.503-1.208-3.425-.84-.918-1.993-1.42-3.527-1.532a.406.406 0 0 1-.374-.433.406.406 0 0 1 .433-.375c1.725.127 3.093.73 4.065 1.794.977 1.066 1.456 2.409 1.42 3.989a.406.406 0 0 1-.404.396Zm-2.077-.696a.404.404 0 0 1-.404-.386c-.068-1.373-.716-2.045-2.036-2.117a.404.404 0 1 1 .043-.808c1.744.093 2.712 1.092 2.8 2.886a.403.403 0 0 1-.383.423l-.02.002Zm9.09 4.625c-.808 6.503-5.563 6.913-6.44 7.195-.374.12-3.843.982-8.203.698 0 0-3.251 3.92-4.266 4.94-.158.159-.344.223-.469.194-.175-.043-.223-.251-.22-.553l.027-5.354v-.001c-6.35-1.764-5.98-8.394-5.908-11.864.072-3.47.724-6.315 2.661-8.227 3.48-3.152 10.65-2.681 10.65-2.681 6.054.027 8.955 1.85 9.628 2.46 2.234 1.912 3.371 6.49 2.54 13.193Zm-.87-14.817c-.796-.73-4.01-3.064-11.167-3.096 0 0-8.44-.51-12.554 3.267-2.29 2.29-3.096 5.64-3.181 9.797-.085 4.157-.195 11.944 7.311 14.056l.008.002-.005 3.221s-.047 1.306.812 1.572c1.039.322 1.648-.669 2.641-1.738a88.708 88.708 0 0 0 1.863-2.107c5.135.43 9.082-.556 9.532-.701 1.036-.337 6.902-1.088 7.857-8.876.984-8.03-.477-13.106-3.117-15.397Z",fill:"#fff"})]})}},22641:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(785893);function a({size:e=56}){return(0,n.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#25D366"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39.206 16.65A15.75 15.75 0 0 0 27.99 12c-8.74 0-15.854 7.113-15.857 15.855a15.821 15.821 0 0 0 2.117 7.927L12 44l8.406-2.205a15.837 15.837 0 0 0 7.577 1.93h.007c8.74 0 15.853-7.114 15.856-15.857a15.76 15.76 0 0 0-4.64-11.218ZM27.99 41.047h-.005c-2.365 0-4.684-.636-6.708-1.837l-.482-.286-4.988 1.309 1.331-4.864-.313-.499a13.146 13.146 0 0 1-2.015-7.014c.003-7.266 5.915-13.178 13.185-13.178a13.09 13.09 0 0 1 9.318 3.865 13.098 13.098 0 0 1 3.856 9.324c-.003 7.267-5.915 13.18-13.179 13.18Zm7.23-9.871c-.397-.199-2.345-1.157-2.708-1.289-.364-.132-.628-.198-.891.198-.264.397-1.024 1.29-1.255 1.554-.231.264-.462.297-.858.099-.396-.199-1.673-.617-3.187-1.966-1.178-1.051-1.973-2.348-2.204-2.745-.231-.397-.024-.611.173-.808.178-.178.397-.463.595-.695.198-.23.264-.396.396-.66.132-.265.066-.496-.033-.695-.098-.198-.89-2.148-1.221-2.941-.322-.773-.649-.668-.892-.68a16.01 16.01 0 0 0-.759-.014c-.264 0-.693.099-1.057.495-.363.397-1.387 1.356-1.387 3.305 0 1.95 1.42 3.835 1.618 4.1.199.264 2.794 4.265 6.769 5.982.945.409 1.683.653 2.259.835.948.302 1.812.26 2.495.157.76-.114 2.344-.958 2.674-1.884.33-.925.33-1.719.23-1.884-.098-.166-.362-.266-.758-.464Z",fill:"#fff"})]})}},619277:(e,t,i)=>{i.d(t,{o$:()=>a,ty:()=>o,vE:()=>r});var n=i(425288);const{Provider:a,MaybeConsumer:o,useMaybeHook:r}=(0,n.Z)("inviteContext")},296011:(e,t,i)=>{i.d(t,{Z:()=>l,t:()=>d});var n=i(667294),a=i(6637),o=i(167912);function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const s={};class l extends n.Component{constructor(...e){super(...e),r(this,"state",{invite:s[this.props.invite_code]||null,loaded:this.props.invite_code in s})}componentDidMount(){const{invite_code:e}=this.props;a.Z.create("InviteCodeMetadataResource",{invite_code:e}).callGet().then((t=>{if(t&&t.resource_response){const i=t.resource_response.data;s[e]=i,this.setState({invite:i,loaded:!0})}})).catch((()=>{this.setState({invite:null,loaded:!0})}))}render(){const{invite:e,loaded:t}=this.state;return t?this.props.children(e):null}}class d extends n.Component{constructor(...e){super(...e),r(this,"state",{invite:s[this.props.invite_code]||null,loaded:this.props.invite_code in s})}componentDidMount(){const{invite_code:e,relayEnvironment:t,inviteQuery:i}=this.props;(0,o.fetchQuery)(t,i,{invite_code:e}).subscribe({next:e=>{var t;if(null!==(t=e.v3GetInviteCodeQuery)&&void 0!==t&&t.data){const t=e.v3GetInviteCodeQuery;this.setState({invite:t,loaded:!0})}},error:()=>{this.setState({invite:null,loaded:!0})}})}render(){const{invite:e,loaded:t}=this.state;return t?this.props.children(e):null}}},867060:(e,t,i)=>{i.d(t,{c:()=>n,y:()=>a});const n={10:13098,11:13099,6:13100,5:13101,14:13102,12:13103,15:13104,8:13105,4:13106,1:13107,18:13108,19:13109,20:13110,21:13111,22:13112,23:13113,26:13114,27:13115,29:13116,9:13286},a={pin:1,board:2,did_it:6,pinner:3,user:3,today_article:8}},844974:(e,t,i)=>{i.d(t,{L_:()=>a,Nh:()=>o,qn:()=>n});const n=(e,t=null)=>{try{return"undefined"!=typeof window&&window.localStorage.getItem(e)||t}catch(i){return console.error("Cannot access localStorage."),t}},a=e=>{try{if("undefined"==typeof window)return;window.localStorage.removeItem(e)}catch(t){console.error("Cannot access localStorage.")}},o=(e,t)=>{try{if("undefined"==typeof window)return;window.localStorage.setItem(e,t)}catch(i){console.error("Cannot access localStorage.")}}},339363:(e,t,i)=>{i.d(t,{L_:()=>a,Nh:()=>o,qn:()=>n});const n=(e,t)=>{if("undefined"==typeof window)return t;try{return window.sessionStorage.getItem(e)}catch(i){return window.console.error("Cannot access sessionStorage."),t}},a=e=>{if("undefined"!=typeof window)try{window.sessionStorage.removeItem(e)}catch(t){window.console.error("Cannot access sessionStorage.")}},o=(e,t)=>{if("undefined"!=typeof window)try{window.sessionStorage.setItem(e,t)}catch(i){window.console.error("Cannot access sessionStorage.")}}},858416:(e,t,i)=>{i.d(t,{Wr:()=>u,Hx:()=>h,RC:()=>p});var n=i(667294);var a=i(311541),o=i(425288),r=i(924687),s=i(785893);const l=()=>Promise.resolve().then(i.bind(i,924687)),{Provider:d,useHook:c}=(0,o.Z)("IdeaPinVideoPlayer");function u({children:e}){const[t,i]=(0,a.Z)(l,r.initialState),o=(0,n.useMemo)((()=>({dispatch:i,ideaPinVideoPlayerControls:t})),[i,t]);return(0,s.jsx)(d,{value:o,children:e})}function p(){const{dispatch:e}=c();return(0,n.useMemo)((()=>({updateSeekTime:(t,i)=>{e({type:"UPDATE_SEEK_TIME",payload:{seekTime:t,pinId:i||""}})},clearSeekTime:t=>{e({type:"CLEAR_SEEK_TIME",payload:{seekTime:void 0,pinId:t||""}})},updateSeekingIdeaPin:t=>{e(t?{type:"UPDATE_SEEKING_IDEA_PIN",payload:{isSeekingIdeaPin:t}}:{type:"UPDATE_SEEKING_IDEA_PIN",payload:{isSeekingIdeaPin:t,seekTime:void 0}})},updateCurrentTime:t=>{e({type:"UPDATE_CURRENT_TIME",payload:{currentTime:t}})},updateDuration:t=>{e({type:"UPDATE_DURATION",payload:{duration:t}})}})),[e])}function h(){const{ideaPinVideoPlayerControls:e}=c();return e}},924687:(e,t,i)=>{i.r(t),i.d(t,{default:()=>a,initialState:()=>n});const n={seekTime:void 0,seekTimes:{},isSeekingIdeaPin:!1,currentProgressInfo:{currentTime:0,duration:0}};function a(e=n,t){switch(t.type){case"UPDATE_SEEK_TIME":return{...e,seekTimes:{...e.seekTimes,[t.payload.pinId]:t.payload.seekTime},seekTime:t.payload.seekTime};case"CLEAR_SEEK_TIME":return{...e,seekTimes:{...e.seekTimes,[t.payload.pinId]:t.payload.seekTime},seekTime:void 0};case"UPDATE_SEEKING_IDEA_PIN":return{...e,isSeekingIdeaPin:t.payload.isSeekingIdeaPin};case"UPDATE_CURRENT_TIME":return{...e,currentProgressInfo:{...e.currentProgressInfo,currentTime:t.payload.currentTime}};case"UPDATE_DURATION":return{...e,currentProgressInfo:{...e.currentProgressInfo,duration:t.payload.duration}};default:return e}}},940882:(e,t,i)=>{i.d(t,{J:()=>n,Z:()=>a});const n=-1;function a(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},985913:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(858142);const a=/\{\{\s*(\w+)\s*\}\}/g,o=(e,t)=>(0,n.Z)(a,e,t)},858791:(e,t,i)=>{i.d(t,{Z:()=>n});const n=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},936776:(e,t,i)=>{i.d(t,{Z:()=>a});const n=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,a=e=>n.test(e)},927104:(e,t,i)=>{i.d(t,{Z:()=>n});const n=(e,t)=>e.length>t?e.substr(0,t-3).trim()+"":e},858142:(e,t,i)=>{i.d(t,{Z:()=>n});const n=(e,t,i)=>t?t.replace(e,((e,t)=>i&&Object.prototype.hasOwnProperty.call(i,t)?i[t]:"")):""},66699:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(985913),a=i(858791);const o=(e,t)=>{const i={};return Object.keys(t).forEach((e=>{i[e]=t[e]?(0,a.Z)(t[e].toString()):""})),(0,n.Z)(e,i)}},883561:(e,t,i)=>{i.d(t,{ZP:()=>n});function n(e,t=80,i="",n=false){let a;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||n)a=e.substring(0,t);else{const i=e.lastIndexOf(" ",t);a=e.substring(0,i)}return a=a.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""),a+i}},700380:(e,t,i)=>{function n(e,t){let i;const n=(...n)=>{i||(e(...n),i=setTimeout((()=>i=null),t))};return n.cancel=()=>{void 0!==i&&clearTimeout(i)},n}i.d(t,{Z:()=>n})},430323:(e,t,i)=>{i.d(t,{Z:()=>y});var n=i(667294),a=i(722767),o=i(706922),r=i(245474),s=i(558068),l=i(350118),d=i(780280),c=i(790123),u=i(425288);const{Provider:p,useMaybeHook:h}=(0,u.Z)("timeSpentContext");var m=i(785893);function _(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class g extends n.Component{constructor(e){super(e),_(this,"componentWillUnmount",(()=>{this.unregisterComponent()})),_(this,"getContext",(()=>{const{clientTrackingParams:e,component:t,element:i,objectId:n,timeSpentContext:a,view:o,viewParameter:r}=this.props;return{view:o||a&&a.view,viewParameter:r||a&&a.viewParameter,component:t||a&&a.component,element:i,objectId:n||a&&a.objectId,clientTrackingParams:e||a&&a.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}})),_(this,"getLoggerContext",(()=>{const e={...this.getContext()};return delete e.getParentUuid,e})),_(this,"getParentId",(()=>{const{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){const t=e.getGrandparentUuid();if(t)return t}return e&&e.getParentUuid?e.getParentUuid():void 0})),_(this,"getUuid",(()=>this.state.timedPair?this.state.timedPair.uuid:void 0)),_(this,"getTimedPair",(()=>this.state.timedPair)),_(this,"setTimedPair",(e=>this.setState({timedPair:e}))),_(this,"isRegistered",!1),_(this,"registerComponent",(()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0})),_(this,"unregisterComponent",(()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)})),_(this,"handleVisibilityChange",(e=>{const{intersectionRatio:t}=e[0],{bottom:i,left:n,right:a,top:o}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===i&&0===n&&0===a&&0===o?this.unregisterComponent():this.registerComponent())})),this.state={timedPair:new r.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,o.Z)(e.auxData,this.props.auxData)&&(0,o.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){const{children:e}=this.props;return(0,m.jsx)(p,{value:this.getContext(),children:(0,m.jsx)(a.Z,{options:{threshold:0},onVisibilityChange:this.handleVisibilityChange,children:n.Children.only(e)})})}}function v(e){var t;const i=(0,s.Hv)(),a=h(),o=(0,c.w)(),r=(0,l.H0)(),{requestIdentifier:u=""}=(0,d.B)(),p={app_instance_id:u.slice(0,8),...null!==(t=e.auxData)&&void 0!==t?t:{}};return(0,n.useEffect)((()=>{null==o||o.setHistoryStackContext(i)}),[i,o]),(0,n.useEffect)((()=>{null==o||o.setPins(null!=r?r:{})}),[r,o]),o?(0,m.jsx)(g,{...e,auxData:p,timeSpentContext:a,timeSpentManager:o,children:e.children}):e.children}v.displayName="TimeSpent";const y=v},790123:(e,t,i)=>{i.d(t,{j:()=>u,w:()=>c});var n=i(829407),a=i(19121),o=i(407043),r=i(50286),s=i(425288),l=i(785893);const{Provider:d,useMaybeHook:c}=(0,s.Z)("TimeSpentManagerContext");function u({children:e,value:t}){const i=(0,o.v)(),s=(0,r.HG)(),{isAuth:c}=(0,a.Z)(),u=s&&c;return(0,n.Z)((()=>{document.hasFocus()&&t(i,u).registerApp(),t(i,u).addEventListeners()})),(0,l.jsx)(d,{value:t(i,u),children:e})}},245474:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(172045),a=i(17314);function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const r="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor(1e6*window.performance.now()):()=>1e6*Date.now();const s=class{constructor(e){o(this,"start",(()=>(this.startTime=r(),this.startTime))),o(this,"end",(()=>(this.endTime=r(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration)));try{this.uuid=(0,n.Z)()}catch(t){this.uuid=(0,a.Z)()}e&&Object.assign(this,e)}}},784641:(e,t,i)=>{i.d(t,{E5:()=>d,T7:()=>o,Y_:()=>c,bl:()=>s,d9:()=>p,nx:()=>u,xt:()=>l});var n=i(19121),a=i(780280);i(883119);function o(e,t,i,n){const a=function(e,t){return t?"shop":0===e||2===e?"trending":1===e?"best":"article"}(e,t),o=function(e){return e.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\'"]/g,"").trim().replace(/\s+/g,"-")}(i);return`/today/${a}/${encodeURIComponent(o)}/${n}/`}const r={en:["US","GB","CA","IN","AU","ID"],es:["MX","PE","AR","CL","CO","ES","VE","UY","PY","EC","BO","CR","DO","SV","GT","HN","NI","PR","PA"],pt:["BR"],de:["DE","AT","CH"],fr:["FR"],id:["ID"],ja:["JP"],it:["IT"],sv:["SE"]};function s(){var e;const t=(0,a.B)(),i=(0,n.Z)(),o=i.isAuth?i.country:t.country,s=t.locale.substring(0,2);return null===(e=r[s])||void 0===e?void 0:e.includes(o)}const l=(e,t,i)=>e||(t||i||""),d=(e,t)=>e||((null==t?void 0:t.origin_pinner)||(null==t?void 0:t.pinner)),c=e=>"todayarticle"===e.type,u=e=>Array.isArray(e)&&e.length>0&&e.every((e=>"story"===e.type)),p=e=>{var t,i;return(null!==(t=e.height)&&void 0!==t?t:1)/(null!==(i=e.width)&&void 0!==i?i:1)}},867820:(e,t,i)=>{i.d(t,{yl:()=>c,qJ:()=>p,Nc:()=>v,dy:()=>y,NC:()=>g,My:()=>m,tj:()=>h});var n=i(6637);const a="unauthHistories",o="authHistories",r="trackHistoryClickInternalUrl";var s=i(339363);let l=[];let d;function c(e){l.length&&(n.Z.create("UserRegisterTrackActionResource",{actions:l}).callUpdate({showError:!1,async:!e}),l=[],d=null)}function u(e,t){const i=(0,s.qn)(r);if((0,s.L_)(r),i)return;let n=(0,s.qn)(e);if(n=n?n.split(","):[],n.length){const e=`${t}.${n.reduce(((e,t)=>e+"-"+t))}`;l.push({name:e,aux_data:{}})}(0,s.L_)(e)}const p=e=>{u(a,e),u(o,`${e}_auth`),l.length&&c(!0)};function h(e,t){let i="undefined"!=typeof window&&window.encodeURIComponent&&encodeURIComponent(e)||e;t||(t={}),-1!==i.indexOf("%")&&(t.invalid_action&&(t.invalid_action_original=t.invalid_action),t.invalid_action=i,i="track_register_action.web.invalid_action.with_percent"),l.push({name:i,aux_data:t}),d||(d=setTimeout((()=>c()),5e3)),function(e,t){if("undefined"!=typeof window)try{const i=new URL(window.location.href).searchParams.get("consoleTra");if(window.PINTEREST_DEV_LOG||i){const i=window.PINTEREST_DEV_REGEX||"";i&&!(e||"").match(i)||(t&&"object"==typeof t&&Object.keys(t).length?console.log(e+": %O",t):console.log(e))}}catch(i){}}(e,t)}function m(e,t){h(e,{tags:t?{...t}:Object.freeze({})})}function _(e,t,i=!1){if("undefined"==typeof window)return;let n=(0,s.qn)(e);n=n?n.split(","):[],n.push(t),(0,s.Nh)(e,n.join()),e!==o&&m(`lex.${t}`),i&&(0,s.Nh)(r,!0)}function g(e,t=!1){_(a,e,t)}function v(e,t=!1){_(o,e,t)}const y=({event:e,provider:t})=>{m(`pinner_conversion.autologin.${t}.${e}`)}},52022:(e,t,i)=>{i.d(t,{S:()=>s,Z:()=>l});var n=i(667294),a=i(867820),o=i(53987),r=i(276775);const s=e=>(0,o.L6)(e)?"pin":(0,o.am)(e)?"board":(0,o.Xn)(e)?"login":(0,o.C$)(e)?"home":(0,o.cD)(e)?"profile":(0,o.dr)(e)?"ideas":(0,o.gT)(e)?"ideas-root":(0,o.tZ)(e)?"videos":(0,o.$Y)(e)?"article":(0,o.E0)(e)?"shopping-spotlight":(0,o.Zz)(e)?"today":(0,o.j8)(e)?"unauth-profile":(0,o.f1)(e)?"shopping-root":"other";function l(){const e=(0,r.useLocation)();return(0,n.useCallback)((({action:t,item:i,within:n})=>{const o=s(e);(0,a.My)(`logged_out_product.interaction.${o}.${t}`,{item:i||"none",within:n||"none"})}),[e])}},758127:(e,t,i)=>{i.d(t,{U:()=>o,Z:()=>r});var n=i(883119),a=i(785893);const o=", ";function r(){return(0,a.jsx)(n.xu,{display:"visuallyHidden",children:o})}},477802:(e,t,i)=>{i.d(t,{W:()=>r,Z:()=>o});var n=i(883119),a=i(785893);function o({data:e}){return(0,a.jsx)(n.xu,{overflow:"auto",dangerouslySetInlineStyle:{__style:{border:"2px solid red"}},"data-test-id":"debug-info",children:(0,a.jsx)("pre",{children:JSON.stringify(e,null,2).replace(/\\n/g,"\n")})})}const r=e=>(0,a.jsx)(n.xu,{width:236,dangerouslySetInlineStyle:{__style:{marginTop:10}},children:(0,a.jsx)(o,{...e})})},948618:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(883119),a=i(785893);function o({ariaHidden:e=!1,color:t="darkGray",size:i}){return(0,a.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,a.jsx)(n.xv,{color:t,inline:!0,size:null!=i?i:"200",children:""})})}},343341:(e,t,i)=>{i.d(t,{F9:()=>r,Zo:()=>a,nE:()=>o});var n=i(425288);const{Provider:a,Consumer:o,useHook:r}=(0,n.Z)("toastManagerContext")},753311:(e,t,i)=>{i.d(t,{M:()=>r,Q:()=>o});var n=i(667294);const a=(0,n.createContext)(null),o=()=>(0,n.useContext)(a),r=a.Provider},690035:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(753311);const a=()=>{const e=(0,n.Q)();return t=>{if(e){const{pinId:i,location:n,seoPlacementConfig:a}=t;e.showUnauthContextMenu({pinId:i,location:n,seoPlacementConfig:a})}}}},170168:(e,t,i)=>{i.d(t,{Ag:()=>o,C0:()=>l,Vi:()=>r,YD:()=>u,kS:()=>a,oo:()=>s,vC:()=>d,vI:()=>c});var n=i(401060);const a="https://www.pinterest.com/business/hub/",o="https://www.pinterest.com/homefeed/",r="www.pinterest.com",s="https://help.pinterest.com",l="https://www.pinterest.com",d=(0,n.Z)({site:"developers"}),c=`${(0,n.Z)({site:"sterling"})}`,u=`${(0,n.Z)({site:"analytics"})}`},250059:(e,t,i)=>{i.d(t,{Z:()=>n});const n=e=>e?"string"==typeof e?e:e.pathname?e.pathname:"":""},149230:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(954931);const a=({url:e})=>!(!e||!e.match(/^https{0,1}:\/\//)||(0,n.Z)(e))},508847:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(567831);const a=(e,t)=>0===e.lastIndexOf(t,0),o=({url:e})=>{const t=(0,n.Z)("/");return a(e,t)?e.substr(t.length-1):e}},327476:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(773285);function a(){const{checkExperiment:e}=(0,n.F)();return t=>e("web_transform_promoted_text").anyEnabled?t.replace(" ","  "):t}},311541:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(667294);function a(e,t){const i=(0,n.useRef)([]),[a,o]=(0,n.useState)(),[r,s]=(0,n.useReducer)(null!=a?a:()=>t,t),l=(0,n.useCallback)((t=>{a?s(t):(i.current.length||e().then((e=>{o((()=>e.default))})),i.current=[...i.current,t])}),[e,a]);return(0,n.useEffect)((()=>{a&&(i.current.forEach(s),i.current=[])}),[a]),[r,l]}},829407:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(667294);const a=e=>{(0,n.useEffect)(e,[])}},198125:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(667294);function a(){const[e,t]=(0,n.useState)(!1);return{isHovering:e,handleMouseEnter:(0,n.useCallback)((()=>t(!0)),[t]),handleMouseLeave:(0,n.useCallback)((()=>t(!1)),[t])}}},807609:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(411465),a=i(966476);const o=()=>{const e=(0,n.Z)(),t=(0,a.Z)();return e&&!t}},411465:(e,t,i)=>{i.d(t,{G:()=>s,Z:()=>l});var n=i(667294),a=i(276775),o=i(785893);const r=(0,n.createContext)(!0);function s({children:e}){const t=(0,a.useLocation)(),[i,s]=(0,n.useState)(!0),l=(0,n.useRef)(t);return(0,n.useEffect)((()=>{l.current!==t&&(l.current=t,s(!1))}),[t]),(0,o.jsx)(r.Provider,{value:i,children:e})}function l(){return(0,n.useContext)(r)}},46584:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(667294);const a=new Map;let o=null;const r=e=>{e.forEach((e=>{const t=a.get(e.target);t&&t(e)}))};function s({onVisibilityChanged:e,inAdsDesktopVideoExperiment:t,trackFullVisible:i,rootMargin:s}){const l=(0,n.useRef)(null);let d=!1;const c=()=>{var t;l.current instanceof HTMLElement&&(t=l.current,a.has(t))&&(d&&(e(!1),d=!1))},u=(0,n.useCallback)((n=>{l.current instanceof HTMLElement&&((e,t="-64px 0px 0px 0px",i)=>{const n={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};o=o||new window.IntersectionObserver(r,n),a.set(e,i),o.observe(e)})(l.current,n,(n=>{if(!a.has(l.current))return;const o=t?n.intersectionRatio>=.5:n.intersectionRatio>0||n.isIntersecting,r=i?n.intersectionRatio>=1:o,s=i?0===n.intersectionRatio:!r;!d&&r?(t=>{const i=t.intersectionRatio>0||t.isIntersecting;d=i,d&&e(!0)})(n):d&&s&&c()}))}),[l.current]);return(0,n.useEffect)((()=>(u(s),()=>{var e;l.current instanceof HTMLElement&&(c(),e=l.current,o.unobserve(e),a.delete(e))})),[u]),l}},644035:(e,t,i)=>{i.d(t,{GW:()=>a,RL:()=>n,s4:()=>o});const n="ios",a="android",o="ipad"},562559:(e,t,i)=>{i.d(t,{Z:()=>x});var n=i(667294),a=i(867631),o=i.n(a),r=i(112690),s=i(19121),l=i(965900),d=i(773285),c=i(780280),u=i(883119),p=i(969315),h=i(179888),m=i(858416),_=i(785893);function g(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const v=(e,t)=>{if(t){const i="control"===t?"v3.pinimg.com":"v2.pinimg.com";return e.replace("v.pinimg.com",i)}return e},y=(e,t)=>"string"==typeof e?v(e,t):Array.isArray(e)?((e,t)=>e[0].src&&t?[{...e[0],src:v(e[0].src,t)}]:e)(e,t):e;class f extends n.PureComponent{constructor(...e){super(...e),g(this,"state",{canPlayVideo:!1,isManifestParsed:!1,playbackState:h.Cy.DEFAULT,videoStartTime:this.props.seekTime||0}),g(this,"errorRetryCount",1),g(this,"firstFragBuffered",!1),g(this,"hasPlaybackStarted",!1),g(this,"hasVideoSessionStarted",!1),g(this,"hasVideoSessionEnded",!1),g(this,"hls",null),g(this,"fragStartupTime",{}),g(this,"lastLevelSwitchKbps",null),g(this,"lastStallTime",null),g(this,"lastPauseTime",null),g(this,"logSessionStartOnNextPlay",!1),g(this,"playerId",""),g(this,"videoSessionId",""),g(this,"videoVisibleTime",null),g(this,"playbackPerformance",{canPlayTime:null,detailedErrors:"",downloadedKiloBytes:0,errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numberOfStalls:0,numberOfSeeks:0,playbackStartTimestamp:null,segments:[],srcString:"string"==typeof this.props.src?v(this.props.src,this.props.quicExpGroup):v(this.props.src[0].src,this.props.quicExpGroup),totalStallDurationMs:0,totalPauseDurationMs:0,videoCreatedTime:null}),g(this,"initializeHls",(()=>{this.destroyHls();const{src:e,hlsConfig:t,quicExpGroup:i}=this.props,n=new(o())(t),a=y(e,i);n.loadSource(a),this.videoPlayerRef&&n.attachMedia(this.videoPlayerRef.video),n.on(o().Events.FRAG_BUFFERED,this.handleHlsFragBuffered),n.on(o().Events.FRAG_CHANGED,this.handleHlsFragChanged),n.on(o().Events.FRAG_LOADING,this.handleHlsFragLoading),n.on(o().Events.FRAG_LOADED,this.handleHlsFragLoaded),n.on(o().Events.MANIFEST_PARSED,(()=>{this.setState({isManifestParsed:!0})})),n.on(o().Events.LEVEL_SWITCHED,this.handleHlsLevelSwitched),n.on(o().Events.ERROR,this.handleHlsError),this.hls=n})),g(this,"destroyHls",(()=>{const{hls:e}=this;e&&e.destroy()})),g(this,"addSegment",(e=>{const{segments:t}=this.playbackPerformance,i=t&&t[t.length-1];if(this.hls&&t.length&&i&&i.uri!==e.url){this.updateWatchDurationForCurrentSegment();const i=this.videoPlayerRef&&this.videoPlayerRef.video,n=this.hls&&this.hls.levels||{},a="number"==typeof e.level?n[e.level]:{},o=this.fragStartupTime[e.url];let r=-1;o&&o.startLoadTime&&o.endLoadTime&&(r=o.endLoadTime-o.startLoadTime);const s={indicatedKbps:a.bitrate/h.bR,duration:e.duration,level:e.level,lastStartPlayTime:this.getCurrentVideoTime(),numServerAddressChange:-1,observedKbps:this.hls&&this.hls.bandwidthEstimate/h.bR||-1,playbackStartDate:Date.now(),serverAddress:"",sn:e.sn,sourceWidth:a.width,sourceHeight:a.height,startupTimeMs:r,switchBitrateKbps:this.lastLevelSwitchKbps||-1,uri:e.url,viewportWidth:i&&i.clientWidth||-1,viewportHeight:i&&i.clientHeight||-1,watchedDurationMs:0};t.push(s)}})),g(this,"initializeSegments",(e=>{const{contextLogData:t={}}=this.props,{is_closeup_video:i=!1}=t,{segments:n}=this.playbackPerformance;if(!n.length)if(this.hls&&this.videoPlayerRef&&this.videoPlayerRef.video&&e){if(!n.length&&"number"==typeof e.level){const t=this.videoPlayerRef&&this.videoPlayerRef.video,i=this.hls.levels,a="number"==typeof e.level?i[e.level]:{},o=this.fragStartupTime[e.url];let r=-1;o&&o.startLoadTime&&o.endLoadTime&&(r=o.endLoadTime-o.startLoadTime),this.lastLevelSwitchKbps=this.hls.bandwidthEstimate/h.bR;const s={indicatedKbps:a.bitrate/h.bR,duration:e.duration,level:e.level,lastStartPlayTime:null,numServerAddressChange:-1,observedKbps:this.hls.bandwidthEstimate/h.bR||-1,playbackStartDate:null,serverAddress:"",sn:e.sn,sourceWidth:a.width,sourceHeight:a.height,startupTimeMs:r,switchBitrateKbps:this.lastLevelSwitchKbps||-1,uri:e.url,viewportWidth:t.clientWidth,viewportHeight:t.clientHeight,watchedDurationMs:0};n.push(s)}}else(0,p.tE)("initializeSegmentsFailed",!0,i)})),g(this,"getCurrentVideoTime",(()=>this.videoPlayerRef&&this.videoPlayerRef.video?this.videoPlayerRef.video.currentTime*h.gJ:null)),g(this,"handleCanPlayVideo",(e=>{const{contextLogData:t={},onReady:i,playing:n}=this.props,{is_closeup_video:a=!1}=t,{canPlayVideo:o}=this.state;(0,p.tE)("handleCanPlayVideo",!0,a,{firstCanPlayEvent:!o,playing:n}),this.playbackPerformance.hasFatalError=!1,o||(this.playbackPerformance.canPlayTime=new Date),this.setState({canPlayVideo:!0}),i&&i(e)})),g(this,"handleEnded",(e=>{const{loop:t,onEnded:i}=this.props,{segments:n}=this.playbackPerformance,a=n&&n[n.length-1];t&&this.videoPlayerRef&&this.videoPlayerRef.video?(this.updateWatchDurationForCurrentSegment(),a&&(a.lastStartPlayTime=0),this.fragStartupTime={}):t||this.logPlaybackPerformance(h.$f,{initiator:"videoEnded",loop:t}),this.setState({playbackState:h.Cy.ENDED}),i&&i(e)})),g(this,"handleHlsError",((e,t)=>{var i;const{contextLogData:n={}}=this.props,{is_closeup_video:a=!1}=n;if(this.playbackPerformance.detailedErrors+=`${this.playbackPerformance.detailedErrors.length>0?", ":""}${t.details}`,t.fatal){var r,s,l,d;this.playbackPerformance.hasFatalError=!0,this.playbackPerformance.errorName=t.type,this.playbackPerformance.errorReason=t.details,this.playbackPerformance.errorCode=t.response&&t.response.code?t.response.code:0;const e={errorName:t.type,errorReason:t.details,errorRetryCount:this.errorRetryCount,errorMessage:(null===(r=t.err)||void 0===r||null===(s=r.message)||void 0===s?void 0:s.slice(0,50))||"unknown",errorResponse:(null===(l=t.response)||void 0===l||null===(d=l.text)||void 0===d?void 0:d.slice(0,50))||"unknown",playbackState:this.state.playbackState};if((0,p.tE)("fatalError",!0,a,e),this.errorRetryCount>0)switch(this.errorRetryCount-=1,t.type){case o().ErrorTypes.NETWORK_ERROR:if(t.details===o().ErrorDetails.MANIFEST_LOAD_ERROR||t.details===o().ErrorDetails.MANIFEST_LOAD_TIMEOUT||t.details===o().ErrorDetails.MANIFEST_LOAD_PARSING_ERROR){var c;const{src:e,quicExpGroup:t}=this.props,i=y(e,t);null===(c=this.hls)||void 0===c||c.loadSource(i)}else{var u;null===(u=this.hls)||void 0===u||u.startLoad()}break;case o().ErrorTypes.MEDIA_ERROR:null===(i=this.hls)||void 0===i||i.recoverMediaError()}}this.updateWatchDurationForCurrentSegment(),this.setState({playbackState:h.Cy.FAILED})})),g(this,"handleHlsFragBuffered",((e,t)=>{this.firstFragBuffered||(this.initializeSegments(t.frag),this.firstFragBuffered=!0)})),g(this,"handleHlsFragChanged",((e,t)=>{this.addSegment(t.frag)})),g(this,"handleHlsFragLoading",((e,t)=>{var i;const n=null===(i=t.frag)||void 0===i?void 0:i.url;n&&!this.fragStartupTime[n]&&(this.fragStartupTime[n]={startLoadTime:new Date})})),g(this,"handleHlsFragLoaded",((e,t)=>{var i;t.frag&&t.frag.loaded&&(this.playbackPerformance.downloadedKiloBytes+=t.frag.loaded/h.Fm);const n=null===(i=t.frag)||void 0===i?void 0:i.url;n&&this.fragStartupTime[n]&&this.fragStartupTime[n].startLoadTime&&(this.fragStartupTime[n].endLoadTime=new Date)})),g(this,"handleHlsLevelSwitched",(()=>{this.hls&&this.hls.bandwidthEstimate&&(this.lastLevelSwitchKbps=this.hls.bandwidthEstimate/h.bR)})),g(this,"handleLoadedMetadata",(()=>{this.setState({playbackState:h.Cy.LOADED_METADATA})})),g(this,"handleLoadStart",(()=>{this.playbackPerformance.loadStartTime=new Date,this.setState({playbackState:h.Cy.LOAD_START})})),g(this,"handleLoadedData",(()=>{this.setState({playbackState:h.Cy.LOADED_DATA})})),g(this,"handlePlaying",(()=>{this.playbackPerformance.hasFatalError=!1,this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.updateStallDuration(),this.updatePauseDuration(),this.setState({playbackState:h.Cy.PLAYING}),this.props.clearSeekTime()})),g(this,"handleUserPause",(e=>{const{onControlsPause:t}=this.props;this.lastPauseTime=new Date,t&&t(e)})),g(this,"handleVideoPause",(()=>{this.state.playbackState!==h.Cy.STALLING&&this.state.playbackState!==h.Cy.SEEKING&&(this.updateWatchDurationForCurrentSegment(),this.lastPauseTime||this.updateStallDuration()),this.setState({playbackState:h.Cy.PAUSED})})),g(this,"handleSeeking",(()=>{this.playbackPerformance.numberOfSeeks+=1;const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&(t.lastStartPlayTime=null),this.state.playbackState!==h.Cy.ENDED&&this.setState({playbackState:h.Cy.SEEKING})})),g(this,"handleStalled",(()=>{null===this.lastStallTime&&this.state.playbackState!==h.Cy.ENDED&&(this.lastStallTime=new Date,this.playbackPerformance.numberOfStalls+=1),this.setState({playbackState:h.Cy.STALLING})})),g(this,"handleTimeUpdate",(e=>{const{onTimeChange:t}=this.props;t&&t(e),this.state.playbackState===h.Cy.PLAYING&&(this.updateWatchDurationForCurrentSegment(),this.setLastSegmentStartPlayTime())})),g(this,"resetPlaybackMetrics",(()=>{this.hasPlaybackStarted=!1,this.hasVideoSessionStarted=!1,this.hasVideoSessionEnded=!0,this.lastLevelSwitchKbps=null,this.lastStallTime=null,this.lastPauseTime=null,this.videoSessionId="",this.videoVisibleTime=null,this.logSessionStartOnNextPlay=!1;const e={...this.playbackPerformance.segments[this.playbackPerformance.segments.length-1],lastStartPlayTime:null,playbackStartDate:null,switchBitrateKbps:-1,watchedDurationMs:0};this.playbackPerformance.detailedErrors="",this.playbackPerformance.downloadedKiloBytes=0,this.playbackPerformance.errorCode=0,this.playbackPerformance.errorName="",this.playbackPerformance.errorReason="",this.playbackPerformance.hasFatalError=!1,this.playbackPerformance.numberOfStalls=0,this.playbackPerformance.numberOfSeeks=0,this.playbackPerformance.playbackStartTimestamp=null,this.playbackPerformance.totalStallDurationMs=0,this.playbackPerformance.segments=[e]})),g(this,"setLastSegmentStartPlayTime",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.lastStartPlayTime&&(t.lastStartPlayTime=this.getCurrentVideoTime())})),g(this,"setLastSegmentPlaybackStartDate",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.playbackStartDate&&(t.playbackStartDate=Date.now())})),g(this,"setPlaybackStartTime",(()=>{this.hasPlaybackStarted||(this.playbackPerformance.playbackStartTimestamp=Date.now(),this.hasPlaybackStarted=!0)})),g(this,"setVideoPlayerRef",(e=>{const{setVideoRef:t}=this.props;if(e&&(t&&t(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){const e=this.videoPlayerRef.video;e.addEventListener("loadedmetadata",this.handleLoadedMetadata),e.addEventListener("loadeddata",this.handleLoadedData),e.addEventListener("pause",this.handleVideoPause),e.readyState>=3&&(this.setState({canPlayVideo:!0}),this.playbackPerformance.canPlayTime=new Date)}})),g(this,"updateStallDuration",(()=>{null!==this.lastStallTime&&(this.playbackPerformance.totalStallDurationMs+=new Date-this.lastStallTime,this.lastStallTime=null)})),g(this,"updatePauseDuration",(()=>{if(null!==this.lastPauseTime){const e=this.lastPauseTime;this.playbackPerformance.totalPauseDurationMs+=new Date-e,this.lastPauseTime=null}})),g(this,"updateWatchDurationForCurrentSegment",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1],i=t?t.lastStartPlayTime:null,n=this.getCurrentVideoTime();if(t&&null!==i&&"number"==typeof n&&"number"==typeof i){const e=n-i;e>0&&(t.watchedDurationMs+=e,t.lastStartPlayTime=null)}})),g(this,"logPlaybackPerformance",((e,t)=>{const{contextLogData:i={},userId:n,isAutoPlay:a,logContextEvent:o}=this.props,{is_closeup_video:r=!1}=i,{canPlayTime:s,detailedErrors:l,downloadedKiloBytes:d,errorCode:c,errorName:u,errorReason:m,hasFatalError:_,playbackStartTimestamp:g,totalPauseDurationMs:v,totalStallDurationMs:y,segments:f,srcString:x,loadStartTime:b,numberOfStalls:w,numberOfSeeks:P}=this.playbackPerformance,S=this.videoPlayerRef&&this.videoPlayerRef.video,k=e===h.DR,I=k&&!this.hasVideoSessionStarted,T=!k&&!this.hasVideoSessionEnded&&this.hasVideoSessionStarted;if(this.hls&&S&&(I||T)){var j;let I=-1;s&&b&&(I=s>b?s-b:0);let T=-1;s&&this.videoVisibleTime&&(T=s>this.videoVisibleTime?s-this.videoVisibleTime:0),k&&(this.videoSessionId=(0,h.Y7)(n),this.playerId=this.playerId||(0,h.EB)());const C={autoplaying:a,averageVideoKbps:-1,detailedErrors:l,downloadedKiloBytes:d,isCellular:!1,errorCode:c,errorName:u,errorReason:m,fatalError:_,nativeVideoDurationMs:S.duration*h.gJ||-1,numberOfStalls:w,numberOfSeeks:P,overallPausedDurationMs:v,overallBufferDurationMs:y,overallWatchedDurationMs:-1,rebufferRate:-1,playbackSessionId:this.videoSessionId,playbackStartTimestamp:g||-1,segments:[],sessionMark:e,screenPixelScale:null!==(j=window)&&void 0!==j&&j.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:S.clientWidth,startupPlayerHeight:S.clientHeight,startupTimeMs:I,startupLatencyMs:T,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:S.videoWidth,startupVariantHeight:S.videoHeight,videoUrl:x};if(!k&&f.length){const e=this.hls.levels,t=f[0];this.updateWatchDurationForCurrentSegment(),this.updateStallDuration();const i=f.reduce(((t,i)=>{if(i&&"number"==typeof i.level&&e&&e.length>0){return t+(e[i.level]||{}).bitrate*(i.watchedDurationMs||0)/h.gJ}return t}),0),n=f.reduce(((e,t)=>e+(t.watchedDurationMs||0)),0);let a=null,o=0,r=0;do{o+=f[r].watchedDurationMs,a=a||f[r].level,r+=1}while(r<f.length&&f[r].level===a);C.startupVariantKbps=t.indicatedKbps,C.startupVariantWatchedDurationMs=o,C.startupVariantWidth=t.sourceWidth,C.startupVariantHeight=t.sourceHeight,C.startupPlayerWidth=t.viewportWidth,C.startupPlayerHeight=t.viewportHeight,C.overallWatchedDurationMs=n,n>0?(C.averageVideoKbps=i/(n/h.gJ),C.rebufferRate=this.playbackPerformance.totalStallDurationMs/n):0===n&&(C.averageVideoKbps=-1,C.rebufferRate=-1,C.errorName="invalid_watch_duration"),C.segments=f}else C.errorName="invalid_watch_duration";(0,p.ZP)(C,!0,r,{playbackState:this.state.playbackState,...t});const{clientTrackingParams:A,component:E,durationNs:R,element:D,objectId:L,pairId:F,viewData:O,view:z,viewParameter:N,...M}=i;o({aux_data:{...M,is_closeup_video:r,playback_session_id:this.videoSessionId},clientTrackingParams:A,component:E,duration_ns:R,element:D,event_data:{videoPerformanceData:C},event_type:3606,object_id_str:L,pair_id:F,view_data:O,view_parameter:N,view_type:z}),k?(this.hasVideoSessionStarted=!0,this.hasVideoSessionEnded=!1):this.resetPlaybackMetrics(),(0,p.tE)(k?"sessionStart":"sessionEnd",!0,r,{playbackState:this.state.playbackState,...t})}}))}componentDidMount(){const{contextLogData:e={},playing:t}=this.props,{is_closeup_video:i=!1}=e;this.playbackPerformance.videoCreatedTime=new Date,this.initializeHls(),(0,p.tE)("videoMounted",!0,i),t&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(h.DR,{initiator:"mount"}))}componentDidUpdate(e){const{loop:t,playing:i,src:n,visible:a,appInFocus:o,seekTime:r}=this.props;var s,l;r&&r!==e.seekTime&&this.setState({videoStartTime:r}),(typeof(s=e.src)!=typeof(l=n)||(Array.isArray(l)?s.length!==l.length||l.some(((e,t)=>!Array.isArray(s)||e.type!==s[t].type||e.src!==s[t].src)):l!==s))&&this.initializeHls(),e.appInFocus&&!o&&(this.logPlaybackPerformance(h.$f,{initiator:"update",loop:t}),this.logSessionStartOnNextPlay=!0),e.visible&&!1===a&&(this.logSessionStartOnNextPlay=!1,this.updatePauseDuration(),this.logPlaybackPerformance(h.$f,{initiator:"update",loop:t})),!1===e.visible&&!0===a&&(this.videoVisibleTime=this.videoVisibleTime||new Date,i?(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(h.DR,{initiator:"update"})):this.logSessionStartOnNextPlay=!0),i&&o&&this.logSessionStartOnNextPlay&&(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(h.DR,{initiator:"update"}),this.logSessionStartOnNextPlay=!1)}componentWillUnmount(){const{loop:e}=this.props;this.updatePauseDuration(),this.logPlaybackPerformance(h.$f,{initiator:"unmount",loop:e}),this.destroyHls()}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:n,accessibilityPlayLabel:a,accessibilityProgressBarLabel:o,accessibilityUnmuteLabel:r,aspectRatio:s,backgroundColor:l,captions:d,controls:c,loop:p,loopOverride:h,onDurationChange:m,onFullscreenChange:g,onLoadedChange:v,onControlsPlay:f,onPlayheadDown:x,onPlayheadUp:b,onSeek:w,onVolumeChange:P,playbackRate:S,playing:k,playsInline:I,poster:T,preload:j,quicExpGroup:C,src:A,volume:E}=this.props,{canPlayVideo:R,isManifestParsed:D,videoStartTime:L}=this.state,F=y(A,C);return(0,_.jsx)(u.nk,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:n,accessibilityPlayLabel:a,accessibilityProgressBarLabel:o,accessibilityUnmuteLabel:r,aspectRatio:s,backgroundColor:l,captions:d,controls:c,loop:void 0===h?p:h,onDurationChange:m,onEnded:this.handleEnded,onFullscreenChange:g,onLoadStart:this.handleLoadStart,onLoadedChange:v,onControlsPause:this.handleUserPause,onControlsPlay:f,onPlaying:this.handlePlaying,onPlayheadDown:x,onPlayheadUp:b,onReady:this.handleCanPlayVideo,onSeek:w,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:P,onWaiting:this.handleStalled,playbackRate:S,onPlay:()=>{},onPlayError:()=>{},playing:D&&R&&k,playsInline:I,poster:T,preload:j,ref:this.setVideoPlayerRef,src:F,startTime:L,volume:E})}}const x=(0,n.memo)((function(e){const{country:t,isAuthenticated:i,isBot:n,isSocialBot:a,unauthId:o,userAgent:u}=(0,c.B)(),h=(0,r.Z)(),g=(0,s.Z)(),{browserName:v,browserVersion:y,isMobile:x}=u,{contextLogData:b={}}=e,{is_closeup_video:w=!1,view:P,viewParameter:S}=b,{checkExperiment:k}=(0,d.F)(),{seekTime:I}=(0,m.Hx)(),{clearSeekTime:T}=(0,m.RC)();let j=null;i&&(j=k("web_video_quic").group.length?k("web_video_quic").group:null);const{appUI:C}=(0,l.I)(),A=k("web_video_fail_to_start_fix").anyEnabled?C.appInFocus:e.appInFocus,E={browserName:v,browserVersion:y,country:t,isAuthenticated:i,isBot:n,is_closeup_video:w,isMobile:x,isSocialBot:a,view:P,viewParameter:S};return(0,p.r$)(E),(0,_.jsx)(f,{...e,userId:g.id||o,appInFocus:A,quicExpGroup:j,logContextEvent:h,seekTime:I,clearSeekTime:T})}))},964082:(e,t,i)=>{function n(e,t){const{organicVideosAutoplaying:i,promotedVideosAutoplaying:n}=t,a={...i,...n};for(const o in a){const{paused:t}=a[o];if(o!==e&&!t)return!1}return!0}i.d(t,{Z:()=>n})},36971:(e,t,i)=>{function n(e,t){const{organicVideosAutoplaying:i,promotedVideosAutoplaying:n}=t,a={...i,...n};return a[e]&&a[e].currentTime}i.d(t,{Z:()=>n})},463045:(e,t,i)=>{function n(e,t){const{organicVideosAutoplaying:i,promotedVideosAutoplaying:n}=t,a={...i,...n};return!!a[e]&&!a[e].paused}i.d(t,{Z:()=>n})},969315:(e,t,i)=>{i.d(t,{ZP:()=>u,r$:()=>d,tE:()=>c});var n=i(311560),a=i(172071),o=i(179888);const r=["isCellular","videoUrl","sessionMark"];let s={},l="";const d=e=>{const{browserName:t,browserVersion:i,country:a,isAuthenticated:o,isBot:r,isMobile:d,isSocialBot:c,view:u="unknown",viewParameter:p="unknown"}=e;l=(c?"socialBot":r&&"bot")||"nonbot";const h=(0,n.Z)(a);s={browserName:t,browserVersion:(null==i?void 0:i.split(".")[0])||"0",isAuthenticated:o,isMobile:d,region:h,view:u,viewParameter:p}};function c(e,t,i,n={}){const o=i?"closeup":"nonCloseup",r=t?"hls":"nonHls",d={...n,...s},c=`web.video.${r}.${l}.${o}.${e}`;a.Z.increment(c,1,d)}function u(e,t,i,n={}){const d=i?"closeup":"nonCloseup",c=t?"hls":"nonHls",u=e.sessionMark===o.DR?"sessionStart":"sessionEnd",p={...n,...s};if(Object.entries(e).forEach((([t,i])=>{const n=`web.video.${c}.${l}.${d}.${u}.${t}`,o=parseInt(i,10),s="number"==typeof o?o:-1;var h;if(!r.includes(t))if(t.includes("fatalError")&&!0===i){const{errorCode:t,errorName:i,errorReason:o}=e;a.Z.increment(n,1,{errorCode:t,errorName:i,errorReason:o,...p})}else if(t.includes("Width")||t.includes("Height")){const e=(h=s)<0?"negative":0===h?"zero":h<200?"xs":h<400?"s":h<600?"m":h<800?"l":h<1e3?"xl":h<1200?"xxl":"over1200";a.Z.increment(n,1,{dimensionBucket:e,...p})}else if("numberOfStalls"===t){let e=i;s>1e3?e="over1000":s>10?e="over10":s<0&&(e="negative"),a.Z.increment(n,1,{numberOfStalls:e,...p})}else"screenPixelScale"===t?a.Z.increment(n,1,{screenPixelScale:i||-1,...p}):s>=0?(0===s&&a.Z.increment(`${n}.zero`,1,p),a.Z.timing(n,s,1),a.Z.timing(`${n}_with_tags`,s,1,p)):s<0&&a.Z.increment(`${n}.negative`,1,p)})),e.sessionMark!==o.DR){const{rebufferRate:t,screenPixelScale:i,startupLatencyMs:n,startupVariantWidth:o,startupPlayerWidth:r}=e,s=`web.video.${c}.${l}.${d}.${u}`;if("number"==typeof o&&"number"==typeof r&&"number"==typeof i){const e=1.5*o>i*r;a.Z.increment(`${s}.upscaled.${e?"good":"bad"}`,1,p)}"number"==typeof n&&a.Z.increment(`${s}.startupLatency.${n<500?"good":"bad"}`,1,p),"number"==typeof t&&a.Z.increment(`${s}.rebufferRate.${t<.01?"good":"bad"}`,1,p)}}},179888:(e,t,i)=>{i.d(t,{$f:()=>o,Cy:()=>d,DR:()=>a,EB:()=>p,Fm:()=>l,Y7:()=>u,bR:()=>s,gJ:()=>r,lG:()=>c});var n=i(172045);const a=1,o=2,r=1e3,s=1e3,l=1e3,d=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),c=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4});function u(e){return e+"-"+(0,n.Z)()}function p(){return(0,n.Z)()}},121630:(e,t,i)=>{i.d(t,{Z:()=>o,e:()=>a});var n=i(81226);const a=e=>{if("undefined"==typeof window)return"";let t=0;const i=document.querySelector('[data-test-id="header"]');if(null!==i){const{height:e}=i.getBoundingClientRect();t+=e}switch(e){case"AuthHomefeed":const e=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==e){const{height:i}=e.getBoundingClientRect();t+=i}break;case"SearchItem":const i=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==i){const{height:e}=i.getBoundingClientRect();t+=e}const n=document.querySelector('[data-test-id="search-tab-bar"],[data-root-margin="search-one-bar"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}}return-1*t+"px 0px 0px 0px"},o=e=>{var t,i,a,o,r;return(0,n.Z)((null===(t=e.videos)||void 0===t?void 0:t.duration)||(null===(i=e.videos)||void 0===i||null===(a=i.video_list)||void 0===a||null===(o=a.V_HLSV4)||void 0===o?void 0:o.duration)||(null===(r=e.story_pin_data)||void 0===r?void 0:r.total_video_duration)||0)}},43760:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(768559),a=i(102500),o=i(48714);function r({url:e,pinId:t,pin:i,location:r,auxData:s}){var l,d;const c={check_only:!0,client_tracking_params:i?(0,n.Z)({boardUrl:null===(l=i.board)||void 0===l?void 0:l.url,callToCreateSourcePinId:i.call_to_create_source_pin_id,location:r,pinId:i.id,pinnerUserName:null===(d=i.pinner)||void 0===d?void 0:d.username,storyPinDataId:i.story_pin_data_id,trackingParams:i.tracking_params,trackingParamsMap:i.tracking_params_map}):void 0,pin_id:i?i.id:t,url:e,aux_data:JSON.stringify(s)};(0,a.Z)(c).callGet().then((a=>{if(a&&a.resource_response&&!a.resource_response.error){const{resource_response:e}=a,{redirect_status:t,url:i}=e.data;if(!["blocked","suspicious","porn"].includes(t)){if(window.Windows.Foundation&&window.Windows.System&&window.Windows.System.Launcher&&window.Windows.System.Launcher.launchUriAsync){const e=new window.Windows.Foundation.Uri(i);window.Windows.System.Launcher.launchUriAsync(e)}return}}if(i){var l,d;const a=(0,n.Z)({boardUrl:null===(l=i.board)||void 0===l?void 0:l.url,callToCreateSourcePinId:i.call_to_create_source_pin_id,location:r,pinId:i.id,pinnerUserName:null===(d=i.pinner)||void 0===d?void 0:d.username,storyPinDataId:i.story_pin_data_id,trackingParams:i.tracking_params,trackingParamsMap:i.tracking_params_map});(0,o.Gj)({url:e,pinId:t,csrId:null,clientTrackingParams:a,auxData:s})}else(0,o.Gj)({url:e,pinId:t})}))}},965900:(e,t,i)=>{i.d(t,{g:()=>h,I:()=>p});var n=i(667294),a=i(567450),o=i(150361),r=i.n(o);const s={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},l=(e=s,t)=>{if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type)return{...e,showTypeaheadOverlay:t.payload};if("SET_CURRENT_VIDEO"===t.type){const{payload:i}=t,{pinId:n,isPromoted:a,currentTime:o,inVideoGridAutoplayExp:s}=i,{videosAutoplaying:l}=e,{currentlyPlayingOrganicVideoId:d,promotedVideosAutoplaying:c,organicVideosAutoplaying:u}=l,p=r()(c),h=r()(u);return!a&&d&&s?e:(a?p[n]={pinId:n,currentTime:o,paused:!1}:h[n]={pinId:n,currentTime:o,paused:!1},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:a?d:n,promotedVideosAutoplaying:p,organicVideosAutoplaying:h}})}if("SET_IS_AUTOPLAY"===t.type)return{...e,isAutoplay:t.payload};if("PAUSE_CURRENT_VIDEO"===t.type){const{payload:i}=t,{pinId:n,isPromoted:a,currentTime:o}=i,{videosAutoplaying:s}=e,{promotedVideosAutoplaying:l,organicVideosAutoplaying:d}=s,c=r()(l),u=r()(d);return a?c[n]={...c[n],paused:!0,currentTime:o}:u[n]={...u[n],paused:!0,currentTime:o},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:c,organicVideosAutoplaying:u}}}return"SET_APP_FOCUS_STATE"===t.type?{...e,appInFocus:t.payload}:"SET_VIEWPORT_SIZE"===t.type?{...e,viewportSize:t.payload}:"SET_FOOTER_VISIBILITY_STATE"===t.type?{...e,footerPlusButtonVisible:t.payload}:e};var d=i(425288),c=i(785893);const{Provider:u,useHook:p}=(0,d.Z)("AppUI");function h({children:e}){const[t,i]=(0,n.useReducer)(l,s),o=(0,n.useCallback)((e=>i({type:"PAUSE_CURRENT_VIDEO",payload:e})),[]),r=(0,n.useCallback)((e=>i({type:"SET_APP_FOCUS_STATE",payload:e})),[]),d=(0,n.useCallback)((e=>i({type:"SET_CURRENT_VIDEO",payload:e})),[]),p=(0,n.useCallback)((e=>i({type:"SET_FOOTER_VISIBILITY_STATE",payload:e})),[]),h=(0,n.useCallback)((e=>i({type:"SET_IS_AUTOPLAY",payload:e})),[]),m=(0,n.useCallback)((e=>i({type:"SET_VIEWPORT_SIZE",payload:e})),[]),_=(0,n.useCallback)((e=>i({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e})),[]),g=(0,n.useMemo)((()=>({pauseAutoplay:o,setCurrentVideo:d,setFooterPlusButtonVisible:p,setIsAutoplay:h,setViewportSize:m,toggleTypeaheadOverlay:_,setAppFocusState:r,appUI:t})),[o,d,p,h,m,_,r,t]);return(0,n.useEffect)((()=>{a.Z.onSessionResume((()=>{r(!0)})).onSessionPause((()=>{r(!1)}))}),[r]),(0,c.jsx)(u,{value:g,children:e})}},350445:(e,t,i)=>{i.d(t,{Z:()=>d});var n=i(898781),a=i(883119),o=i(785893);const r={__path:"M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},s={__path:"M17.496 14.572a1 1 0 0 1-1 1h-.001a1.001 1.001 0 0 1-.999-1.001l.002-4.652-7.29 7.288a.995.995 0 0 1-.707.293.999.999 0 0 1-.707-1.707l7.293-7.29L9.428 8.5a1 1 0 0 1 .001-2h.001l8.071.005-.005 8.067zM12 0C5.373 0 0 5.373 0 12c0 6.628 5.373 12 12 12 6.628 0 12-5.372 12-12 0-6.627-5.372-12-12-12z"},l={overlay:{__style:{backgroundColor:"#000"}}};function d({backgroundImage:e,naturalHeight:t,naturalWidth:i,onRestartVideo:d,pinTitle:c,pin:u}){const p=(0,n.ZP)(),{id:h}=u;return(0,o.jsxs)(a.Ee,{alt:c||p.bt(" ", "pin image", "image of a pin", undefined, true),naturalHeight:t,naturalWidth:i,src:e,children:[(0,o.jsx)(a.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:l.overlay}),(0,o.jsxs)(a.xu,{justifyContent:"center",direction:"column",display:"flex",position:"absolute",height:"100%",width:"100%","data-test-id":`video-end-card-${h}`,children:[(0,o.jsx)(a.iP,{rounding:2,children:(0,o.jsxs)(a.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,o.jsx)(a.JO,{accessibilityLabel:p.bt(" ", "Visit site", "Button when pressed goes to pin's website", undefined, true),color:"light",dangerouslySetSvgPath:s,size:25}),(0,o.jsx)(a.xu,{margin:1}),(0,o.jsx)(a.xv,{color:"light",lineClamp:1,weight:"bold",children:p.bt(" ", "Visit site", "Button when pressed goes to pin's website", undefined, true)})]})}),(0,o.jsx)(a.xu,{margin:3}),(0,o.jsx)(a.iP,{onTap:d,rounding:2,children:(0,o.jsxs)(a.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,o.jsx)(a.JO,{accessibilityLabel:p.bt(" ", "Watch again", "Button when pressed restarts the video", undefined, true),color:"light",dangerouslySetSvgPath:r,size:25}),(0,o.jsx)(a.xu,{margin:1}),(0,o.jsx)(a.xv,{color:"light",lineClamp:1,weight:"bold",children:p.bt(" ", "Watch again", "Button when pressed restarts the video", undefined, true)})]})})]})]})}},333155:(e,t,i)=>{i.d(t,{UP:()=>s,Wv:()=>a,ZF:()=>n,zI:()=>o,zl:()=>r});const n=["AuthHomefeed","CloseupRelatedProducts","FollowingFeedGrid","RelatedPinGrid","RelatedProductsFeed","SearchItem"],a=["ArticleProductsStory","CloseupRelatedProducts","ProductPinsFeed","RelatedProductsFeed","ShoppingPackageItem","RelatedProductsFeed","UserProfilePinGrid","ShoppingGridShippedMetadataWithVisitButton"],o=[...a,"ShoppingGridShippedMetadata","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ProductPinsFeed","ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid"],r=["ShoppingSquareGridDomain","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingGridShippedMetadataWithVisitButton"],s=["BaseBoardPinGrid"]},8320:(e,t,i)=>{i.d(t,{Z:()=>d});var n=i(63552),a=i(883119),o=i(785893);const r={__style:{borderRadius:"4px",padding:"10px 14px"}},s={borderWidth:"1px",borderStyle:"solid",borderColor:"white"},l={__style:{borderRadius:"4px",padding:"10px 14px 9px 8px",whiteSpace:"nowrap"}},d=({accessibilityLabel:e,color:t,customStyles:i,forwardedRef:d,icon:c,inline:u=!1,minHeight:p=40,minWidth:h=70,onTouch:m,pressState:_,shape:g,text:v})=>{const y=(e=>"primary"===e||"transparent"===e||"dark"===e?"inverse":"default")(t),f=(({color:e,icon:t})=>t?l:"transparent"===e?{__style:{...r.__style,...s}}:r)({color:t,icon:c}),x=(0,o.jsx)(a.xu,{position:"relative",children:(0,o.jsx)(a.xu,{color:t,display:u?"inlineBlock":"flex",justifyContent:"center",minHeight:p,minWidth:h,dangerouslySetInlineStyle:"pill"===g?(b=i,{__style:{borderRadius:"24px",paddingTop:"10px",paddingBottom:"10px",paddingLeft:"14px",paddingRight:"14px",...b}}):f,children:(0,o.jsxs)(a.kC,{alignItems:"center",justifyContent:"center",children:[c&&(0,o.jsx)(a.xu,{paddingX:"check"===c?2:0,children:(0,o.jsx)(a.JO,{accessibilityLabel:e,color:y,icon:c,inline:!0,size:"check"===c?16:20})}),(0,o.jsx)(a.xv,{color:y,inline:!0,size:"300",lineClamp:1,weight:"bold",children:v})]})})});var b;return m?(0,o.jsx)(n.Z,{onTouch:m,rounding:"pill"===g?"pill":2,pressState:_||"none",children:(0,o.jsx)(a.xu,{ref:d,children:x})}):x}},313951:(e,t,i)=>{i.d(t,{i5:()=>f,sX:()=>w,aX:()=>x,Z5:()=>y,NG:()=>b,MT:()=>P,iu:()=>S});var n=i(667294),a=i(6637),o=i(682492),r=i.n(o);const s=(e,t)=>e.data[t]&&e.data[t].messages||[];function l(e,t){const i={};return e.filter((e=>!!e)).reduce(((e,n)=>{const a=t(n);return i[a]?(r()(i[a],n),e):(i[a]=n,e.concat([n]))}),[])}function d(e){return[...e].sort(((e,t)=>new Date(e.created_ms||e.created_at)-new Date(t.created_ms||t.created_at)))}function c(e,t,i){return d(l(s(e,t).concat(i),(e=>e.id)))}const u={conversationsUnseenCount:0,data:{},newsHubCount:0,open:null,objectAttachment:null,showConversationsDropdown:!1,showNewMessageView:!1,ui:{},unread:0};function p(e=u,t){if("CONVERSATION_OPEN"===t.type)return{...e,open:t.payload.id,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:t.payload.isPreview}}};if("CONVERSATION_CLOSE"===t.type)return{...e,open:null,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:!1,isDeclined:t.payload.isDeclined}}};if("CONVERSATION_CREATE"===t.type){const{id:i}=t.payload;return{...e,data:{...e.data,[i]:{...e.data[i]||{},...t.payload}}}}if("CONVERSATION_DELETE"===t.type){const i={...e,data:{...e.data}},{id:n}=t.payload;return delete i.data[n],i}if("FETCH_COMPLETE"===t.type){const{options:i,resource:n,response:a}=t.payload,o=a.resource_response.data;if("ConversationMessagesResource"===n){const t=o||[],n=(null==i?void 0:i.conversation_id)||"",a=c(e,n,t),r=a[a.length-1];return{...e,data:{...e.data,[n]:{...e.data[n],id:n,messages:a,unread:0,last_message:r}}}}if("ConversationsResource"===n){const t=o||[],i={...e,data:{...e.data}};return t.forEach((e=>{const{id:t,created_at:n,name:a,board:o,emails:r,unread:s,users:l,last_message:d}=e,u=c(i,t,[d]);i.data[t]={...i.data[t],id:t,created_at:n,name:a,board:o,emails:r||[],unread:s||0,users:l||[],last_message:d,messages:u}})),i}if("ConversationResource"===n){const t=o||{},{id:i}=t,n={...e,data:{...e.data}};return i&&(n.data[i]={...n.data[i],...t}),n}if("NewsHubBadgeResource"===n){if(o){const t=o.conversations_unseen_count||0;return{...e,unread:t}}return e}}else{if("MESSAGE_SEND_PENDING"===t.type){const{id:i,message:n}=t.payload;return e.data[i]?{...e,data:{...e.data,[i]:{...e.data[i],id:i,messages:[...e.data[i].messages,n]}}}:e}if("MESSAGE_SEND_PENDING_SUCCESS"===t.type){const{id:i,tempMessage:n,newMessage:a}=t.payload;if(e.data[i]){if(s(e,i).find((e=>e.id===n.id&&e.created_ms===n.created_ms))){const t=d(l(s(e,i).filter((e=>e.id!==n.id)).concat([a]),(e=>e.id)));return{...e,data:{...e.data,[i]:{...e.data[i],last_message:a,messages:t}}}}}return e}if("MESSAGE_SEND_PENDING_FAILURE"===t.type){const{id:i,tempMessageId:n}=t.payload;if(e.data[i]){const t=s(e,i).filter((e=>e.id!==n));return{...e,data:{...e.data,[i]:{...e.data[i],messages:t}}}}return e}if("OPEN_NEW_MESSAGE"===t.type){const{objectAttachment:i}=t.payload||null;return{...e,showNewMessageView:!0,open:null,objectAttachment:i}}if("CLOSE_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!1,objectAttachment:null,showNewMessageView:!1};if("OPEN_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!0};if("UPDATE_NEWSHUB_COUNT"===t.type)return{...e,newsHubCount:t.payload};if("UPDATE_UNREAD_COUNT"===t.type)return{...e,conversationsUnseenCount:t.payload};if("CLEAR_MESSAGE_BADGE"===t.type){const{id:i}=t.payload;return{...e,data:{...e.data,[i]:{...e.data[i],unread:0}}}}if("CONVERSATION_SAVE_POSITION"===t.type){const{id:i,position:n}=t.payload;return{...e,data:{...e.data,[i]:{...e.data[i],position:n}}}}if("CONVERSATION_RESET_POSITION"===t.type){const{id:i}=t.payload;return{...e,data:{...e.data,[i]:{...e.data[i],position:null}}}}}return e}var h=i(425288),m=i(505920),_=i(785893);const g=(()=>{let e=0;return()=>e++})(),{Provider:v,useHook:y}=(0,h.Z)("Conversations");function f({children:e}){const[t,i]=(0,n.useReducer)(p,u),o=(0,n.useCallback)((e=>i({type:"FETCH_COMPLETE",payload:e})),[]);(0,m.Z8)("ConversationMessagesResource",o),(0,m.my)("ConversationMessagesResource",o),(0,m.Z8)("ConversationsResource",o),(0,m.Z8)("ConversationResource",o),(0,m.Z8)("NewsHubBadgeResource",o);const r=(0,n.useCallback)(((e,t=!1,n="")=>i({type:"CONVERSATION_OPEN",payload:{id:e,isPreview:t,contactRequestId:n}})),[]),s=(0,n.useCallback)(((e,t="",n=!1)=>i({type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:t,isDeclined:n}})),[]),l=(0,n.useCallback)((e=>i({type:"CONVERSATION_CREATE",payload:e})),[]),d=(0,n.useCallback)((e=>i({type:"CONVERSATION_DELETE",payload:{id:e}})),[]),c=(0,n.useCallback)(((e,t)=>i({type:"CONVERSATION_SAVE_POSITION",payload:{id:e,position:t}})),[]),h=(0,n.useCallback)((e=>i({type:"CONVERSATION_RESET_POSITION",payload:{id:e}})),[]),g=(0,n.useCallback)(((e,t,n)=>{a.Z.create("ConversationsResource",{user_ids:e,emails:t,text:""}).callCreate().then((e=>{const t=e&&e.resource_response.data;i({type:"CONVERSATION_OPEN",payload:{id:t.id}})})).catch((e=>{const t=e.message_detail||e.message||"";n(t)}))}),[]),y=(0,n.useCallback)((()=>{i({type:"CLOSE_DROPDOWN"})}),[]),f=(0,n.useCallback)((()=>{i({type:"OPEN_DROPDOWN"})}),[]),x=(0,n.useCallback)((e=>{i({type:"OPEN_NEW_MESSAGE",payload:{objectAttachment:e}})}),[]),b=(0,n.useCallback)(((e,t)=>i({type:"MESSAGE_SEND_PENDING",payload:{id:e,message:t}})),[]),w=(0,n.useCallback)(((e,t,n)=>i({type:"MESSAGE_SEND_PENDING_SUCCESS",payload:{id:e,tempMessage:t,newMessage:n}})),[]),P=(0,n.useCallback)(((e,t)=>i({type:"MESSAGE_SEND_PENDING_FAILURE",payload:{id:e,tempMessageId:t}})),[]),S=(0,n.useCallback)((e=>i({type:"UPDATE_NEWSHUB_COUNT",payload:e})),[]),k=(0,n.useCallback)((e=>i({type:"UPDATE_UNREAD_COUNT",payload:e})),[]),I=(0,n.useCallback)((e=>i({type:"CLEAR_MESSAGE_BADGE",payload:{id:e}})),[]),T=(0,n.useMemo)((()=>({clearMessageBadge:I,conversationOpen:r,conversationClose:s,conversationCreate:l,conversationDelete:d,conversationGet:g,saveConversationPosition:c,resetConversationPosition:h,dropdownClose:y,dropdownOpen:f,newMessageOpen:x,pendingMessageSend:b,pendingMessageSuccess:w,pendingMessageFailure:P,updateNewsHubCount:S,updateUnreadCount:k,conversations:t})),[I,r,s,l,d,g,c,h,y,f,x,b,w,P,S,k,t]);return(0,_.jsx)(v,{value:T,children:e})}function x(){const{conversationCreate:e}=y();return async t=>{let i;const n=a.Z.create("ConversationsResource",t);try{var o;const t=null===(o=(await n.callCreate()).resource_response)||void 0===o?void 0:o.data;t&&(e(t),i=t)}catch(r){throw new Error(r.message)}return i}}function b(){const{conversations:e,conversationCreate:t,pendingMessageSend:i,pendingMessageSuccess:n,pendingMessageFailure:o}=y();return async(r,s,l,d)=>{const{text:c,pinId:u,boardId:p,userId:h,didItId:m}=s;async function _(){const e=a.Z.create("ConversationMessagesResource",{conversation_id:r,text:c,pin:u,board:p,user:h,user_did_it_data:m,source:l}),t=`${g()}`,s={text:c,sender:d,created_at:(new Date).toString(),created_ms:Date.now(),id:t,type:"tempMessage"};i(r,s);try{var _;const t=null===(_=(await e.callCreate()).resource_response)||void 0===_?void 0:_.data;t&&n(r,s,t)}catch(v){throw o(r,t),new Error(v.message)}}if(e.data[r])await _();else{const e=a.Z.create("ConversationResource",{conversation_id:r});try{var v;const i=null===(v=(await e.callGet()).resource_response)||void 0===v?void 0:v.data;i&&(t(i),await _())}catch(y){throw new Error(y.message)}}}}function w(e){const{conversations:t}=y();return t.data[e]}function P(e){const{conversations:t}=y();return t.ui[e]||{contactRequestId:"",isDeclined:!1,isPreview:!1}}function S(){const{conversations:{data:e}}=y(),t=(i=e,Object.keys(i).map((e=>i[e]))).filter((e=>e.users&&e.last_message));var i,n;return n=t,Array.from(n).sort(((e,t)=>new Date((t.last_message||t).created_at)-new Date((e.last_message||e).created_at)))}},57791:(e,t,i)=>{i.d(t,{MZ:()=>A,di:()=>R,Ai:()=>E});var n=i(667294),a=i(296679),o=i(8320),r=i(329900),s=i(926275),l=i(250059),d=i(149230),c=i(407043),u=i(48714),p=i(276775);const h=({children:e,external:t,externalQueryParams:i,target:n,href:a})=>{const{logContextEvent:o}=(0,c.v)(),r=(0,p.useHistory)(),s=(0,p.useLocation)();if(!a)return null;const h=(0,l.Z)(a);return e({navigate:e=>{e.preventDefault(),(0,d.Z)({url:h})||t?(0,u.lI)({href:h,queryParams:i,location:s},o,null):(0,u.G3)({event:e,href:a,history:r,target:"blank"===n?"blank":null})}})};var m=i(883119),_=i(785893);const g=({accessibilityLabel:e,children:t,external:i,externalQueryParams:n,inline:a=!1,newTab:o,nofollow:r,onTouch:s,onBlur:d,onFocus:c,pressState:u,rounding:p,to:g})=>(0,_.jsx)(h,{external:i,target:o?"blank":null,externalQueryParams:n,href:g,children:({navigate:i})=>(0,_.jsx)(m.rU,{accessibilityLabel:e,onBlur:d?({event:e})=>d(e):void 0,onFocus:c?({event:e})=>c(e):void 0,underline:"none",href:(0,l.Z)(g),display:a?"inlineBlock":"block",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),null==s||s(e),e.defaultPrevented||i(e)},rel:r?"nofollow":"none",rounding:p,tapStyle:(Array.isArray(u)?u:[u]).includes("compress")?"compress":"none",children:t})}),v=({external:e,externalQueryParams:t,newTab:i,onTouch:n,to:a,...r})=>(0,_.jsx)(h,{external:e,target:i?"blank":null,externalQueryParams:t,href:a,children:({navigate:e})=>(0,_.jsx)(o.Z,{onTouch:t=>{null==n||n(t),t.defaultPrevented||e(t)},...r})});var y=i(938917),f=i(112690),x=i(19121),b=i(30287),w=i(948376),P=i(773285),S=i(780280),k=i(698330),I=i(844974),T=i(339363),j=i(53987);const C=(e,t=!1)=>function({isAppUpsellDisabled:i,...o}){const{children:l,clientTrackingParams:d,deeplinkUri:c,external:u,onTouch:h,refresh:g,to:v,viewParameter:C,viewType:A}=o,E=(0,y.Z)(),[R,D]=(0,n.useState)(!1),[L,F]=(0,n.useState)(!1),{isAuth:O}=(0,x.Z)(),{userAgent:{platform:z},locale:N}=(0,S.B)(),M=(0,k.Tt)(),Z=(0,f.Z)(),{checkExperiment:U}=(0,P.F)(),B=(0,p.useLocation)();(0,n.useEffect)((()=>{!async function(){if("getInstalledRelatedApps"in navigator){(await navigator.getInstalledRelatedApps()).length>0&&F(!0)}}()}),[]);const V=()=>{Z({event_type:1701,view_type:A,view_parameter:C}),R&&D(!1)};return(0,_.jsxs)(m.xu,{"data-test-id":"deeplink-wrapper",children:[R&&(0,_.jsx)(a.Z,{clientTrackingParams:d,deepLinkUri:c,isOpen:!0,onDismiss:()=>{Z({component:14157,element:10308,event_type:10220,view_type:A||202,view_parameter:C,aux_data:{app_upsell_type:"deep-link-app-upsell-modal"}})},onOpenInApp:()=>{(0,I.Nh)("deeplinkBehavior","branchfallback"),V()},shouldTrackDismiss:!0,to:v,viewParameter:C,viewType:A,within:"deep-link-app-upsell-modal"}),(0,_.jsx)(r.Z,{children:n=>(0,_.jsx)(e,{...o,onTouch:e=>{const a=E&&!i&&O&&!u&&!g&&!(0,b.FP)(window)&&!("ios"===z&&(N||"").startsWith("ar"))&&(0,w.kp)((0,s.Z)(null==M?void 0:M.created_at));if(a)if(U("mweb_auth_deep_link_app_upsell").group.startsWith("enabled_check_install")){"string"==typeof c&&(c||"").startsWith("/pin/")&&((0,j.uM)(B)||(0,j.am)(B)||(0,j.C$)(B))&&!L&&(e.stopPropagation(),e.preventDefault(),D(!0))}else e.stopPropagation(),e.preventDefault(),D(!0);else"branchfallback"!==(0,I.qn)("deeplinkBehavior")||(0,T.qn)("fallbackAttempt")||(e.stopPropagation(),e.preventDefault(),(0,T.Nh)("fallbackAttempt",1),n(c,`${window.location.origin}${o=v,"string"==typeof o?o:`${o.pathname||""}${o.search?`?${o.search}`:""}`}`),V());var o;t&&a||!h||h(e)},children:l})})]})},A=C(g),E=C(v),R=C(o.Z,!0)},329900:(e,t,i)=>{i.d(t,{Z:()=>g});var n=i(172071),a=i(826067);const o="http://play.google.com/store/apps/details?id=com.pinterest",r=["access_token","new_password","new_password_confirm","password","next"],s=(e,t)=>t?(0,a.ru)(e,{invite_code:t}):e,l=(e,t,i)=>{if("ios"===t&&"string"==typeof e&&e.startsWith("discover/article/")){const t=e.split("/")[2];e=`discover_article/${t}/?is_deeplink=1`}return"string"==typeof e?s(e,i):"ios"===t||"ipad"===t?s(e.iOS,i):"android"===t?s(e.android,i):null},d=({deeplinkUri:e,fallbackUrl:t,invite_code:i,platform:s,redirectToLite:d,unauthId:c,userAgent:u})=>{if(e){const p=(({deeplinkUri:e,invite_code:t,platform:i,fallbackUrl:n,unauthId:o})=>({deeplink_path:l(e,i,t),current_page_url:(0,a.Gw)("undefined"!=typeof window?window.location.href:"",r),install_id:o,utm_source:140,utm_medium:2152,...n?{af_r:n}:null}))({deeplinkUri:e,fallbackUrl:t,invite_code:i,platform:s,unauthId:c,userAgent:u});if(n.Z.increment("mweb.deeplink",1,{platform:s}),i&&n.Z.increment("mweb.deeplink.invite_code",1),n.Z.increment("mweb.deeplink.unauthId",1,{withUnauthId:Boolean(c)}),d){n.Z.increment("mweb.deeplink.lite_link",1);const e=(({unauthId:e})=>{const t=(0,a.XP)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:e});return{referrer:encodeURI(t)}})({unauthId:c});window.location.href=(0,a.ru)("http://play.google.com/store/apps/details?id=com.pinterest.twa",e)}else if("android"===s){const t=(({deeplinkUri:e,invite_code:t,platform:i,unauthId:n})=>{const o=JSON.stringify({deeplink_path:l(e,i,t),current_page_url:(0,a.Gw)("undefined"!=typeof window?window.location.href:"",r),install_id:n});return{referrer:(0,a.XP)({utm_source:"mweb",utm_medium:"upsell",utm_content:o})}})({deeplinkUri:e,invite_code:i,platform:s,unauthId:c});"getInstalledRelatedApps"in navigator?navigator.getInstalledRelatedApps().then((e=>{if(e.length>0){const e=(0,a.ru)(window.location.href,p);window.open(e)}else window.location.href=(0,a.ru)(o,t)})).catch(n.Z.increment("mweb_android.deeplink.playStore.error",1)):window.location.href=(0,a.ru)(o,t)}else{if(n.Z.increment("mweb.deeplink.appsflyer_link",1),"ios"===s&&"undefined"!=typeof window&&window.location.href.includes("show_yip_modal"))return void(window.location.href=(0,a.ru)("https://pinterest.com/pinterest-predicts",p));window.location.href=(0,a.ru)("https://pinterest.onelink.me/TVSr/21e04bfd",p)}}};var c=i(619277),u=i(948376),p=i(780280),h=i(785893);function m({children:e,invite_code:t}){const{unauthId:i,userAgent:{platform:n,raw:a}}=(0,p.B)();return e((async(e,o)=>{d({deeplinkUri:e,fallbackUrl:o,invite_code:t,platform:n,redirectToLite:(0,u.Rp)({platform:n,userAgent:a}),unauthId:i,userAgent:a})}))}const _=e=>(0,h.jsx)(c.ty,{children:t=>(0,h.jsx)(m,{...e,invite_code:t})});_.displayName="DeepLinkNavigator";const g=_},79113:(e,t,i)=>{i.d(t,{Z:()=>m});var n=i(667294),a=i(124580),o=i(740990),r=i(223815),s=i(643010),l=i(968121),d=i(965900),c=i(883119),u=i(785893);const p={border:(0,s.Yc)()?void 0:"1px solid #efefef",width:"100vw",maxHeight:"100%",height:"100%",overflow:"auto",top:"0",left:"0",position:"fixed",backgroundColor:(0,s.Yc)()?"#000":"#fff",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"},h={modalOpen:{__style:{...p}},modalClose:{__style:{...p,transform:"translate3d(0px, 100%, 0px)"}}};function m({accessibilityModalLabel:e,allowClickAndDrag:t,children:i,isOpen:s}){const{setAppFocusState:p}=(0,d.I)(),m=(0,n.useRef)(null);return(0,n.useEffect)((()=>(s&&(a.Z.pause(),p(!1),document.body&&(document.body.style.overflow="hidden")),()=>{s&&(a.Z.resume(),p(!0),document.body&&(document.body.style.overflow=""))})),[s,p]),(0,u.jsx)(r.Z,{allowClickAndDrag:t,children:(0,u.jsx)(c.mh,{zIndex:l.b7,children:(0,u.jsx)(c.xu,{display:"inlineBlock",role:"dialog","aria-label":e,children:(0,u.jsx)(c.xu,{ref:m,dangerouslySetInlineStyle:{__style:s?h.modalOpen.__style:h.modalClose.__style},children:(0,u.jsx)(o.Z.Provider,{value:m.current,children:i})})})})})}},326960:(e,t,i)=>{i.d(t,{Z:()=>p});var n=i(667294),a=i(172071),o=i(883119),r=i(813401),s=i(112690),l=i(785893);function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const c=(e,t)=>{const i=e&&e.replace(".","_");return t?i&&i.substring(0,50):i};class u extends n.Component{constructor(...e){super(...e),d(this,"state",{href:void 0}),d(this,"onEvent",(()=>new Promise(((e,t)=>{"undefined"==typeof window&&t();const{filename:i,imgSrc:n,isAndroidTwa:o,isChromeOnIOS:r,isUnauth:s,logContextEvent:l,category:d,viewParameter:u,viewType:p,pinId:h,imageSignature:m}=this.props,{href:_}=this.state;window.AndroidTwa&&window.AndroidTwa.downloadImage?(window.AndroidTwa.downloadImage(n,c(i,o)),e()):r?(this.imageDownload&&this.imageDownload.click(),e()):null==_&&fetch(n,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then((e=>e.blob())).then((t=>{this.setState({href:window.URL.createObjectURL(t)},(()=>{this.imageDownload&&(this.imageDownload.click(),e())}))})).catch((()=>this.setState({href:this.DOWNLOAD_ERROR}))),a.Z.increment(`mweb.${s?"unauth":"auth"}.download.click.${d||"no_category"}`),l({event_type:82,object_id_str:h,view_type:p||3,view_parameter:u||139,aux_data:{image_signature:m}})})))),d(this,"DOWNLOAD_ERROR","error")}render(){const{children:e,filename:t,imgSrc:i,isAndroidTwa:a,isChromeOnIOS:r}=this.props,{href:s}=this.state,d=null!=s&&s!==this.DOWNLOAD_ERROR;return(0,l.jsxs)(n.Fragment,{children:[e(this.onEvent),r&&i?(0,l.jsx)(o.xu,{display:"none",children:(0,l.jsx)("a",{ref:e=>this.imageDownload=e,rel:"noopener noreferrer",tabIndex:-1,target:"_blank",href:i})}):d&&(0,l.jsx)(o.xu,{display:"none",children:(0,l.jsx)("a",{ref:e=>this.imageDownload=e,tabIndex:-1,download:c(t,a),href:s})})]})}}function p(e){const t=(0,r.xC)(),i=(0,s.Z)();return(0,l.jsx)(u,{...e,isAndroidTwa:t,logContextEvent:i})}},994718:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(883119),a=i(785893);const o=({icon:e,iconLabel:t,message:i,url:o,onTouch:r})=>{const s=(0,a.jsxs)(n.xu,{alignItems:e?"center":void 0,color:"selected",display:e?"flex":"inlineBlock",justifyContent:e?"between":void 0,padding:2,rounding:2,children:[(0,a.jsx)(n.xu,{marginEnd:e?2:0,children:(0,a.jsx)(n.xv,{color:"inverse",overflow:"normal",weight:"bold",children:i})}),e&&t&&(0,a.jsx)(n.xu,{flex:"none",children:(0,a.jsx)(n.JO,{icon:e,color:"inverse",accessibilityLabel:t,size:32})})]});return(0,a.jsx)(n.xu,{paddingX:2,children:o?(0,a.jsx)(n.iP,{role:"link",href:o,rounding:2,tapStyle:"none",onTap:({event:e})=>null==r?void 0:r(e),children:s}):s})}},425713:(e,t,i)=>{i.d(t,{Zt:()=>se,iK:()=>le,G9:()=>ee,ZP:()=>de,kk:()=>Q,cV:()=>ie});var n=i(667294),a=i(702664),o=i(157796),r=i(391254),s=i(283698),l=i(313047),d=i(100183),c=i(639952),u=i(81636),p=i(898781),h=i(883119),m=i(785893);function _(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const g="BizNuxHomefeedLoader",v=[140,220,265],y=["#E2780D","#0074e8","#0FA573","#FAB904","#133A5E","#FF8A8A"],f=e=>({position:"absolute",width:"100%",height:"100%",top:"0px",left:"0px",zIndex:"1",pointerEvents:"none",...e?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:"1.15s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${g}_FadeOut`,animationDuration:".5s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:`${g}_FadeOut`}:{}}),x=e=>e?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:".5s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${g}_FadeOut`,animationDuration:".4s",animationDelay:".5s",animationFillMode:"forwards",animationName:`${g}_FadeOut`}:{},b=[`${g}_FadeOut {\n    from { opacity: 1 }\n    to { opacity: 0 }\n  }`,`${g}_SlideUp {\n    from {\n      -webkit-transform: translateY(100vh);\n      transform: translateY(100vh);\n    }\n    to {\n      -webkit-transform: translateY(0);\n      transform: translateY(0);\n    }\n  }`];class w extends n.PureComponent{constructor(...e){super(...e),_(this,"state",{enterAnimationFinished:!1,startExitAnimation:!1}),_(this,"enterAnimationDidFinished",(()=>{this.setState({enterAnimationFinished:!0})})),_(this,"startExitAnimation",(()=>{const{dismissLoader:e}=this.props;this.setState({startExitAnimation:!0},(()=>{this.exitAnimationTimeout=setTimeout((()=>{e()}),1700)}))}))}componentDidMount(){window.scrollTo(0,0),this.enterAnimationTimeout=setTimeout((()=>{this.enterAnimationDidFinished()}),2e3)}componentDidUpdate(e){const{homefeedLoading:t}=this.props,{enterAnimationFinished:i,startExitAnimation:n}=this.state;!i||t||n||(0,s.Z)(this.startExitAnimation)}componentWillUnmount(){clearTimeout(this.enterAnimationTimeout),clearTimeout(this.exitAnimationTimeout)}get gridCellDimensionsByColumn(){const{gridContainerRef:e}=this.props;if(!e.current)return null;const t=e.current.querySelectorAll(".PinCard__imageWrapper"),i=Array.from({length:this.numberOfColumns},(e=>[]));for(let n=0;n<t.length;n+=1){const e=t[n].getBoundingClientRect();i[Math.round(e.left/(window.innerWidth/this.numberOfColumns))].push(e)}return i}get numberOfColumns(){return Math.max(Math.floor(window.innerWidth/200),2)}computeGridCellLayout(e,t,i){const n=this.numberOfColumns+1,a=(window&&window.innerWidth-16*n)/this.numberOfColumns;return{left:e*a+16*(e+1),top:i,width:a,height:v[(e+t)%v.length]}}renderGrid(){const{selectedTopics:e}=this.props,{startExitAnimation:t}=this.state,i=Array(this.numberOfColumns).fill(l.DEFAULT_HEIGHT),n=this.gridCellDimensionsByColumn,a=e.map(((e,a)=>{const o=a%this.numberOfColumns,r=Math.floor(a/this.numberOfColumns),s=y[a%y.length],l=i[o],d=this.computeGridCellLayout(o,r,l),c=(({color:e,startAnimation:t,originDimension:i,destinationDimension:n={}})=>{const a=n&&n.height>0?{top:n.top,left:n.left,width:n.width,height:n.height}:{opacity:0};return{position:"absolute",WebkitTransitionDuration:".5s",WebkitTransitionDelay:".6s",WebkitTransitionProperty:"all",WebkitTransitionTimingFunction:"ease-in-out",transitionDuration:".5s",transitionDelay:".6s",transitionProperty:"all",transitionTimingFunction:"ease-in-out",height:i.height,width:i.width,left:i.left,top:i.top,backgroundColor:e,borderRadius:"8px",...t?a:{}}})({color:s,startAnimation:t,originDimension:d,destinationDimension:n&&n[o][r]});return i[o]+=16+d.height,(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:c},children:(0,m.jsx)(h.xu,{margin:5,display:"flex",justifyContent:"start",alignItems:"start",dangerouslySetInlineStyle:{__style:x(t)},children:(0,m.jsx)(h.X6,{color:"light",size:"500",children:e.name})})},a)}));return(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{position:"absolute",height:"100%",width:"100%",left:0,top:0,WebkitTransform:"translateY(100vh)",WebkitAnimationDuration:".8s",WebkitAnimationDelay:"1.2s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${g}_SlideUp`,transform:"translateY(100vh)",animationDuration:".8s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:`${g}_SlideUp`}},children:a})}render(){const{startExitAnimation:e}=this.state;return(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(r.Z,{unsafeCSS:(0,d.Ll)(b)}),(0,m.jsx)(h.xu,{color:"default",dangerouslySetInlineStyle:{__style:f(e)},children:(0,m.jsxs)(h.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(o.Z,{duration:3700,finalProgress:100}),(0,m.jsx)(h.xu,{margin:10,dangerouslySetInlineStyle:{__style:{WebkitAnimationDuration:".5s",WebkitAnimationDelay:"1.4s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${g}_FadeOut`,animationDuration:".5s",animationDelay:"1.25s",animationFillMode:"forwards",animationName:`${g}_FadeOut`}},children:(0,m.jsx)(h.X6,{children:this.props.i18n.bt("  ...", "Personalizing your feed with...", "Loading homefeed details", undefined, true)})})]}),this.renderGrid()]})})]})}}function P(e){const t=(0,p.ZP)(),i=(0,a.useSelector)((({topics:e})=>e)),n=(0,a.useDispatch)();return(0,u.Q)({view_type:24,view_parameter:261}),(0,m.jsx)(w,{...e,dismissLoader:()=>n((0,c.MI)(!1)),i18n:t,selectedTopics:Object.keys(i).filter((e=>i[e].is_followed)).map((e=>i[e]))})}var S=i(223019),k=i(491563),I=i(63552),T=i(920231),j=i(698629),C=i(635225);function A({text:e,isSelected:t,icon:i,animationType:n,position:a,hasStartPulling:o,isExecuted:r}){return(0,m.jsxs)(h.xu,{display:"flex",direction:"column",alignItems:"center",marginBottom:6,children:[(0,m.jsx)(h.xu,{color:t?"dark":"secondary","data-test-id":"action-animated-icon",rounding:"circle",padding:o?4:0,dangerouslySetInlineStyle:t&&r?{__style:{transform:"rotate(360deg)",transition:"all .9s ease-out"}}:{__style:{transition:"all .3s ease-out",marginTop:t&&"move"===n?40:0}},children:(0,m.jsx)(h.JO,{size:100*a<24?100*a:24,icon:i,accessibilityLabel:e,color:t?"light":"dark"})}),(0,m.jsx)(h.xu,{padding:1,"data-test-id":"action-animated-text",dangerouslySetInlineStyle:{__style:{opacity:t?1:0,transition:"all .3s ease-out"}},children:(0,m.jsx)(h.xv,{align:"center",size:"100",children:e})})]})}function E({enabled:e,onSelect:t,refreshing:i}){const a=(0,n.useRef)(null),[o,r]=(0,n.useState)(0),[s,l]=(0,n.useState)(!1),d=i?0:o/250,c=d>0,u=()=>{l(!1),r(0)};(0,n.useEffect)((()=>{if(e){const e=e=>{window.scrollY<=0&&!i&&(a.current=e.touches[0].clientY)},n=e=>{if(a.current){const t=.5*(e.touches[0].clientY-a.current);t>0&&(r(t),e.preventDefault())}},s=e=>{a.current&&(l(!0),t({pullDistance:o,position:d,resetState:u}),a.current=null)};return window.addEventListener("touchstart",e),window.addEventListener("touchmove",n,{passive:!1}),window.addEventListener("touchend",s),()=>{window.removeEventListener("touchstart",e),window.removeEventListener("touchmove",n,{passive:!1}),window.removeEventListener("touchend",s)}}}),[e,t,o,i,d]);const p=a.current;return{pullDistance:o,hasStartPulling:c,position:d,startYRefCurrent:p,PULL_MENU_DISTANCE:250,isExecuted:s}}var R=i(407043),D=i(276775);function L({enabled:e,onPull:t,refreshing:i}){const n=(0,p.ZP)(),a=(0,D.useHistory)(),{logContextEvent:o}=(0,R.v)(),r=e=>e>=.6,s=e=>e>.4&&e<.6,{position:l,hasStartPulling:d,PULL_MENU_DISTANCE:c,isExecuted:u}=E({enabled:e,onSelect:e=>{const{position:i,resetState:n}=e;s(i)?setTimeout((()=>{o({view_type:1,event_type:158,view_parameter:92}),t(),n()}),500):r(i)?setTimeout((()=>{o({view_type:1,event_type:10144,view_parameter:92}),a.push("edit/"),n()}),500):n()},refreshing:i}),_=n.bt("", "Refresh", "pullMenu.refresh", undefined, true),g=n.bt(" ", "Edit Feed", "pullMenu.goTuner", undefined, true);return(0,m.jsx)(h.xu,{children:e&&(0,m.jsxs)(h.xu,{display:"flex",alignItems:"center",direction:"column",height:l*c,justifyContent:"center",marginBottom:d?4:0,children:[(0,m.jsx)(A,{text:g,isSelected:r(l),icon:"edit",animationType:"move",position:l,hasStartPulling:d,isExecuted:u}),(0,m.jsx)(A,{text:_,isSelected:s(l),icon:"refresh",position:l,hasStartPulling:d,isExecuted:u})]})})}function F({enabled:e,onPull:t,refreshing:i}){const n=(0,p.ZP)(),{logContextEvent:a}=(0,R.v)(),{position:o,startYRefCurrent:r,pullDistance:s}=E({enabled:e,onSelect:e=>{const{pullDistance:i,resetState:n}=e;i>=120&&(a({view_type:1,event_type:158,view_parameter:92}),t()),n()},refreshing:i}),l=Math.min(o,1),d=n.bt(" ,  ", "Pull to refresh", "Pull down on grid to refresh items", undefined, true);return(0,m.jsx)(h.xu,{children:e&&(0,m.jsx)(h.xu,{display:"flex",alignItems:"center",justifyContent:"center",height:120*o,dangerouslySetInlineStyle:{__style:{opacity:l,transition:null===r?"all .3s ease-out":void 0}},children:(0,m.jsx)(h.JO,{size:40,icon:r&&s<120?"arrow-circle-down":"arrow-circle-up",accessibilityLabel:d})})})}var O=i(773285);function z({enabled:e,onPull:t,refreshing:i}){const{checkExperiment:a}=(0,O.F)(),{anyEnabled:o}=a("hfp_drive_traffic_to_homefeed_tuner_mweb");return(0,m.jsx)(n.Fragment,{children:o?(0,m.jsx)(L,{enabled:e,onPull:t,refreshing:i}):(0,m.jsx)(F,{enabled:e,onPull:t,refreshing:i})})}var N=i(740990),M=i(182476),Z=i(784590),U=i(19121),B=i(844887),V=i(305324),H=i(780280),W=i(317254),$=i(894023),K=i(50286),G=i(444445);const q=e=>`BREAK_IN_${e}`,Y=new Map,J=e=>{const t=Y.get(e);if(t)return t;const i=Object.freeze({type:"FEED_BREAK_IN",id:q(e)});return Y.set(e,i),i};function X(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const Q=({isDesktop:e})=>{const t=(0,$.pinRepPaddingInBoint)({isDesktop:e});return t?-t:0},ee=-2,te={},ie=e=>{te[e]&&te[e].handlePullToRefresh()},ne=()=>{const e="desktop"===(0,K.ZP)(),t=(0,$.pinRepPaddingInBoint)({isDesktop:e}),i=t?-t:0;return(0,m.jsx)(h.xu,{marginTop:i,marginBottom:i,paddingY:t})},ae=({children:e,feedRef:t,viewParameter:i,viewType:n})=>(0,U.Z)().isAuth?e:(0,m.jsx)(V.g,{feedRef:t,viewParameter:i,viewType:n,children:e}),oe=()=>{const{plpImageRenderData:e}=(0,B.HW)(),[t]=e;return t?t.pin_id:null};class re extends n.PureComponent{constructor(...e){super(...e),X(this,"state",{refreshing:!1,unauthLandingPinStateForAuthHomefeed:this.props.authHomefeedComponentDidUpdate?{pinId:oe(),feedItem:null}:null}),X(this,"backOnlineAutoFetchResource",(()=>{this.props.pagination.loadNext()})),X(this,"handlePullToRefresh",(()=>{this.props.pagination.refetch(),this.setState({refreshing:!0})})),X(this,"gridContainerRef",(0,n.createRef)()),X(this,"renderFeedPin",((e,t)=>{const{feedItemProps:i,location:n,performanceOptimization:a,renderSquarePins:o,showSeoMetadata:r,squarePins:s,trafficSource:l,duploUnauthRelatedPinsAutoplayExpGroup:d}=this.props,{auxData:c,componentType:u,feedback:p,imageOnly:h,impressionData:_,objectIdStr:g,oneTapSave:v,onFeedItemClick:y,onPinLinkClick:f,shouldAllowProductPriceIndicator:x,showSeoMetadata:b,viewData:w,viewParameter:P,viewType:S}=i||{},k=(n.search||"").includes("force_seo"),I=!(null==a||!a.lazyLoadBelowFoldIndex)&&t>a.lazyLoadBelowFoldIndex,T=!(null==a||!a.priorityFetchAboveFoldIndex)&&t<=a.priorityFetchAboveFoldIndex;return(0,m.jsx)($.default,{auxData:c,componentType:u||0,duploFeedItemProps:{onPinClick:y,onPinLinkClick:f,showSeoMetadata:r||k||b},duploIsSquarePin:o||s,duploLazyLoadImage:I,duploOneTapSave:v,duploPriorityFetchImage:T,duploShouldAllowProductPriceIndicator:x,feedback:p,imageOnlyOption:h?"image-only":"default",impressionData:_,objectIdStr:g,pinId:e.id,slotIndex:t,trackingParams:e.trackingParams,trafficSource:l,viewData:w,viewParameter:P,duploUnauthRelatedPinsAutoplayExpGroup:d,viewType:S||1})}))}componentDidMount(){var e,t;window.addEventListener("online",this.backOnlineAutoFetchResource),e=this.props.feedKey,t=this,te[e]=t}componentWillUnmount(){var e;window.removeEventListener("online",this.backOnlineAutoFetchResource),e=this.props.feedKey,delete te[e]}componentDidUpdate(e){const{refreshing:t,unauthLandingPinStateForAuthHomefeed:i}=this.state,{feedItems:n,authHomefeedComponentDidUpdate:a}=this.props,o=t&&e.pagination.isLoadingNext&&!this.props.pagination.isLoadingNext;if(o&&this.setState({refreshing:!1}),a&&i){const t=a({feedItems:n,prevFeedItems:e.feedItems,finishedRefresh:o,unauthLandingPinStateForAuthHomefeed:i});t&&this.setState({unauthLandingPinStateForAuthHomefeed:t})}}render(){const{deviceType:e,emptyState:t,feedItems:i,feedKey:a,gridConfig:o,pagination:r,pullToRefresh:s,serverRender:l,showBizNuxHomefeedLoader:d,trafficSource:c,feedItemProps:u,feedItemsAdjustment:p,renderFeedItem:_,visuallyCompleteProfilerOptions:g}=this.props,{unauthLandingPinStateForAuthHomefeed:v}=this.state,y=null!=v&&v.feedItem&&i.length?[v.feedItem,...i]:i,{viewParameter:f,viewType:x}=u||{},{key:b}=o||{},w=a+(b?`|${b}`:""),A="user_search"===c,E=A?window.innerWidth-16:200,R={columnWidth:"desktop"===e?G.yF:E,renderItem:({data:e,itemIdx:t})=>{if(_){const i=_(e,t);if("FALLBACK_TO_DEFAULT"!==i)return i}switch(e.type){case"pin":return(0,m.jsx)(I.Z,{onTouch:e=>{if(e.target instanceof HTMLElement&&"IMG"===e.target.tagName){const t=e.target.getBoundingClientRect().top+window.scrollY-70;window.scrollTo(window.scrollX,t)}},pressState:"none",children:this.renderFeedPin(e,t)});case"user":return(0,m.jsx)(k.Z,{truncateName:!0,userId:e.id,userSearchRepStyle:"user_search"===c,viewParameter:f,viewType:x});case"board":return(0,m.jsx)(S.Z,{boardId:e.id,type:"grid",viewParameter:f,viewType:x});case"topic":return(0,m.jsx)(M.Z,{id:e.id,shouldClickthrough:!0,showFollowButton:!0,showFollowerCount:!0,viewParameter:f,viewType:x});case"story":return"number"==typeof f?(0,m.jsx)(C.Z,{slotIndex:t,storyId:e.id,viewParameter:f,viewType:x||1,pinGraphqlRef:null}):null;case"FEED_BREAK_IN":return p&&"breakIn"===p.type&&p.value.content;default:return null}},gutterWidth:"desktop"===e?4*G.jC:void 0,loadItems:r.loadNext,minCols:A?1:2,...o},D=!d&&r.isLoadingNext&&0===y.length&&!this.state.refreshing,[L,F,O]="fullWidthBreakIn"===(null==p?void 0:p.type)?[y.slice(0,p.value.index),p.value.content,y.slice(p.value.index)]:[y,null,[]],Z="desktop"===e&&"flashlight"===c,U=Z?0:G.qG;return(0,m.jsxs)(h.xu,{"data-test-id":"MobileFeed",children:[(0,m.jsx)(z,{enabled:!!s,onPull:this.handlePullToRefresh,refreshing:this.state.refreshing}),(0,m.jsxs)(h.xu,{marginStart:U,marginEnd:U,"data-test-id":"grid",ref:this.gridContainerRef,opacity:this.state.refreshing?.5:1,children:[(0,m.jsx)(W.Z,{includeBackgroundImages:null==g?void 0:g.includeBackgroundImages,includeVideos:null==g?void 0:g.includeVideos,isAtEndOfFeed:!r.hasNext,itemCount:y.length,pinData:null==g?void 0:g.pins,children:y.length?(0,m.jsx)(h.xu,{"data-test-id":"feed",marginTop:Q({isDesktop:"desktop"===e}),children:(0,m.jsx)(N.Z.Consumer,{children:e=>(0,m.jsx)(n.Fragment,{children:(0,m.jsxs)(ae,{feedRef:this.gridContainerRef,viewParameter:f,viewType:x||1,children:[(0,m.jsx)(T.Z,{cacheKey:w,id:l?a:void 0,items:L,scrollContainerRef:e,serverRender:l,...R}),F,O.length>0&&(0,m.jsx)(T.Z,{cacheKey:`${w}_afterBreak`,items:O,scrollContainerRef:e,...R})]})})})}):r.isLoadingNext?(0,m.jsx)(ne,{}):null!=t?t:null}),D&&(0,m.jsx)(h.xu,{column:12,paddingY:2,children:(0,m.jsx)(j.Z,{partialViewportWidth:Z})}),d&&(0,m.jsx)(P,{homefeedLoading:r.isLoadingNext,gridContainerRef:this.gridContainerRef})]})]})}}function se({feedItems:e,pagination:t,...i}){const{feedItemsAdjustment:n}=i,o=(0,D.useLocation)(),r=(0,K.ZP)(),{isAuthenticated:s,isBot:l}=(0,H.B)(),{isBizNuxHomefeedLoadShown:d}=(0,a.useSelector)((({session:e})=>e));let c=e;return"breakIn"===(null==n?void 0:n.type)?c=(({breakIn:{index:e},items:t})=>t.length<e?t:[...t.slice(0,e),J(e),...t.slice(e)])({items:e,breakIn:n.value}):"offset"===(null==n?void 0:n.type)&&(c=e.slice(n.value)),(0,m.jsx)(re,{...i,deviceType:r,feedItems:c,isAuthenticated:s,pagination:t,location:o,showBizNuxHomefeedLoader:!!d,showSeoMetadata:l||!s})}function le({resource:{isAtEnd:e,isFetching:t,fetchMore:i,refresh:n},...o}){const r=(0,a.useSelector)((({feeds:e})=>{var t;return null!==(t=e[o.feedKey])&&void 0!==t?t:[]}));return(0,m.jsx)(se,{...o,feedItems:r,pagination:{hasNext:!e,isLoadingNext:t,loadNext:()=>i(),refetch:()=>n()}})}function de({resourceConfig:e,...t}){const i=(0,Z.Z)(e);return(0,m.jsx)(le,{...t,resource:i})}},815613:(e,t,i)=>{i.d(t,{Z:()=>P});var n=i(829407),a=i(898781),o=i(112690),r=i(927383),s=i(201155),l=i(667679),d=i(52022),c=i(19121),u=i(945698),p=i(62409),h=i(773285),m=i(350118),_=i(698330),g=i(50286),v=i(343341),y=i(640064),f=i(867820),x=i(883119),b=i(785893);const w=({children:e,pulsar:t,testId:i})=>t.show?(0,b.jsx)(x.xu,{position:"relative","data-test-id":i,children:(0,b.jsxs)(x.iP,{tapStyle:"none",onTap:t.onClick,children:[(0,b.jsx)(x.xu,{position:"absolute",marginTop:-5,dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},children:e}),(0,b.jsx)(x.xu,{position:"absolute",marginTop:-12,dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},children:(0,b.jsx)(x.o3,{})})]})}):(0,b.jsx)(x.xu,{"data-test-id":i,children:e});function P({auxData:e,disabled:t,disableLog:i,followEventType:P,id:S,inline:k,invertColors:I,isFollowed:T,isIdeaPin:j,isLegoEnabled:C,isSecondaryButton:A,isUserFollowButton:E,isUserMe:R,onFollow:D,onUnfollow:L,pinId:F,shouldUseLegoColors:O,showPulsar:z,size:N,textType:M="FollowFollowing",unfollowEventType:Z,viewParameter:U,viewType:B}){const V=(0,a.ZP)(),H=(0,g.HG)(),{showToast:W}=(0,v.F9)(),$=(0,d.Z)(),K=(0,o.Z)(),G=(0,l.Z)(),{checkExperiment:q}=(0,h.F)(),Y=(0,r.Z)(),J=(0,c.Z)(),X=J&&J.isAuth,{unauthFollowUserId:Q,setUnauthFollowUserId:ee}=(0,y.f)(),te=(0,_.mN)()(S),ie=(0,m.S6)()(null!=F?F:""),{link_domain:ne,native_creator:ae,origin_pinner:oe,pinner:re}=ie||{},se=(0,p.wS)(ne,ae,oe,re),le=null!=te?te:se;(0,n.Z)((()=>{!H&&X&&Q&&S&&Q===S&&D(S)}));const de=Y({fn:()=>{X?T?(L(S),i||K({event_type:Z,view_type:B,view_parameter:U,object_id_str:S,aux_data:e})):(D(S),E&&W((({hideToast:e})=>{if(!le)return null;const t=le.username?`/${le.username}/`:"";return(0,b.jsx)(s.Z,{handleHide:e,text:(0,b.jsx)(x.xv,{children:V.bt("   !        .", "Following! Their created Pins will show up in your home feed!", "followButton.follow.informationalToastText", undefined, true)}),userId:S,href:t,imageUrl:le.image_medium_url})})),i||K({event_type:P,view_type:B,view_parameter:U,object_id_str:S,aux_data:e})):((0,f.My)(`mweb_unauth_follow_button.tap.${String(B)}`),5===B&&26===P&&(0,f.My)("mweb_unauth_board_page_follow_button.tap"),(0,f.NC)(T?"press_profile_unfollow":"press_profile_follow"),$({action:"click",item:"board-follow-button"}),G({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:j?"tap.unauth_idea_pin.follow_button":"tap.unauth.follow_button",desktopOptions:{modalType:"signup",modalOptions:H&&q("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!H&&q("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0}),H||ee(null!=S?S:""),(0,f.NC)("clickthrough"))},modalHeader:(0,u.N4)({i18n:V,toFollow:!T})}),ce=!T&&!!z,ue=()=>{if(R)return V.bt(" .", "That's you!", "Follow button is disabled because this is you", undefined, true);if("AddRemove"===M)return T?V.bt("", "Remove", "unfollowButton.removeText", undefined, true):V.bt("", "Add", "followButton.addText", undefined, true);const e="FollowUnfollow"===M?V.bt("", "Unfollow", "unfollowButton.unfollowText", undefined, true):V.bt("", "Following", "Follow button label - followed state", undefined, true);return T?e:V.bt("", "Follow", "Follow button label - unfollowed state", undefined, true)};return(0,b.jsx)(w,{pulsar:ce?{show:!0,onClick:de}:{show:!1},testId:R||T?"board-unfollow-button":"board-follow-button",children:(0,b.jsx)(x.zx,{color:O||"AddRemove"===M||!C&&A||T?"gray":"red",disabled:R||t,fullWidth:k,onClick:ce?void 0:({event:t})=>{t.preventDefault(),t.stopPropagation(),i||K({event_type:101,component:13672,element:11951,object_id_str:S,view_type:B,view_parameter:U,aux_data:e}),de()},selected:I?!T:O&&T||!!T&&A,size:N,text:ue(),accessibilityLabel:ue()})})}},635974:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(702664),a=i(815613),o=i(698330),r=i(461773),s=i(785893);function l({user:e,invertColors:t,isSecondaryButton:i,onTap:l,size:d,viewParameter:c,viewType:u}){const p=(0,n.useDispatch)(),{id:h}=null!=e?e:{},m=(0,o.kW)(),_=m[h]?m[h].explicitly_followed_by_me:null==e?void 0:e.explicitly_followed_by_me;return(0,s.jsx)(a.Z,{id:h,onFollow:()=>{p((0,r.ZN)(h)),l&&l()},onUnfollow:()=>{p((0,r.fv)(h)),l&&l()},size:d,invertColors:t,isSecondaryButton:i,isFollowed:_,isUserFollowButton:!0,followEventType:45,unfollowEventType:46,viewParameter:c,viewType:u})}},861411:(e,t,i)=>{i.d(t,{fv:()=>g,GR:()=>p,Hs:()=>y,Mv:()=>m,uc:()=>_,dL:()=>h,qS:()=>v,Y4:()=>b,HE:()=>x,Cy:()=>f});var n=i(667294),a=i(973935),o=i(124580),r=i(407043),s=i(785893);function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class d extends n.Component{constructor(...e){super(...e),l(this,"observe",(()=>{try{if(this.node=(0,a.findDOMNode)(this),this.node instanceof HTMLElement){const{pinIdStr:e,newsIdStr:t}=this.props.eventData;o.Z.start(this.node).onExitViewport(this.logImpression).setDebugId(e||t||"unknown")}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}})),l(this,"logImpression",(e=>{this.props.logImpression({viewData:this.props.viewData||{},viewType:this.props.viewType,viewParameter:this.props.viewParameter,eventType:this.props.eventType,impressionType:this.props.impressionType,auxData:this.props.auxData,component:this.props.component,objectIdStr:this.props.objectIdStr,eventData:{endTime:e.endTime,time:e.startTime,...this.props.eventData}}),this.props.onTracked&&this.props.onTracked(this.props.eventData)}))}componentDidMount(){this.props.isPaused||this.observe()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.observe()}componentWillUnmount(){this.node instanceof HTMLElement&&o.Z.stop(this.node)}render(){return n.Children.only(this.props.children)}}function c(e){const{logImpression:t}=(0,r.v)();return(0,s.jsx)(d,{...e,logImpression:t})}function u({auxData:e,component:t,eventData:i,eventType:a,impressionType:s,isPaused:l,objectIdStr:d,onTracked:c,viewData:u,viewType:p,viewParameter:h}){const m=(0,n.useRef)(null),{logImpression:_}=(0,r.v)(),g=(0,n.useCallback)((()=>{const n=n=>{_({viewData:u||{},viewType:p,viewParameter:h,eventType:a,impressionType:s,auxData:e,component:t,objectIdStr:d,eventData:{endTime:n.endTime,time:n.startTime,...i}}),c&&c(i)};try{if(m.current instanceof HTMLElement){const{pinIdStr:e,newsIdStr:t}=i;o.Z.start(m.current).onExitViewport(n).setDebugId(e||t||"unknown")}}catch(r){window.console.error('Can only track impressions for type "HTMLElement"')}}),[m.current]);return(0,n.useEffect)((()=>{l||g();const e=m.current;return()=>{e instanceof HTMLElement&&o.Z.stop(e)}}),[l,g]),m}const p=e=>(0,s.jsx)(c,{eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),h=e=>{const t=u({eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},m=e=>{const t=u({eventData:{newsIdStr:e.notificationId,newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},auxData:e.auxData||{},eventType:4111,impressionType:"notificationDetailImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},_=e=>{const t=u({eventData:{newsIdStr:e.notificationId,newsType:e.newsType},auxData:e.auxData||{},eventType:4110,impressionType:"notificationFeedImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3081});return e.children({impressionTrackerRef:t})},g=e=>(0,s.jsx)(c,{eventData:{...e.impressionData||{},articleIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:3829,impressionType:"articleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),v=e=>{const t=u({eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},y=e=>(0,s.jsx)(c,{eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),f=e=>{const t=u({eventData:{...e.impressionData||{},userIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3704,impressionType:"userImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},x=e=>{const t=u({eventData:{...e.impressionData||{},topicIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3703,impressionType:"topicImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},b=e=>{const t=u({eventData:{...e.impressionData||{},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:8569,impressionType:"todayArticleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})}},63552:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(883119),a=i(785893);function o({children:e,onMouseEnter:t,onMouseLeave:i,onTouch:o,rounding:r,fullWidth:s=!1,pressState:l="none",accessibilityLabel:d,role:c}){const u=(Array.isArray(l)?l:[l]).includes("compress");return(0,a.jsx)(n.iP,{fullWidth:s,onMouseEnter:t&&(({event:e})=>t(e)),onMouseLeave:i&&(({event:e})=>i(e)),onTap:o&&(({event:e})=>o(e)),rounding:r,tapStyle:u?"compress":"none",accessibilityLabel:d,role:c,children:e})}},379764:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(183007);const a=new(i(883119).H3)([n.N])},948945:(e,t,i)=>{i.d(t,{Z:()=>de});var n=i(667294),a=i(81226),o=i(702664),r=i(8320),s=i(977734),l=i(499128),d=i(898781),c=i(112690),u=i(927383),p=i(662089),h=i(52022),m=i(332611),_=i(639952),g=i(57791),v=i(881802),y=i(698330),f=i(883119),x=i(276775),b=i(785893);const w=new f.Ry(1);function P({buttonText:e,clientTrackingParams:t,color:i="primary",deeplinkUri:a,experience:P,inline:S=!0,minWidth:k,onTouch:I,onUnsave:T,pinId:j,pinnedToBoardId:C,shape:A,shouldShowSavedButton:E,viewType:R,viewParameter:D,showSaveHandoffExperience:L}){var F;const O=(0,d.ZP)(),z=(0,o.useDispatch)(),N=(0,x.useHistory)(),M=(0,x.useLocation)().pathname.startsWith("/pin"),Z=(0,o.useSelector)((({session:e})=>e.hasSavedUnauthPin)),U=(0,o.useSelector)((({session:e})=>e.unauthSavePinId)),B=null===(F=(0,y.Tt)())||void 0===F?void 0:F.pin_count,V=(0,c.Z)(),H=(0,h.Z)(),{showToast:W,showRepinConfirmation:$}=(0,p.Z)(),K=()=>{z((0,s.Z)({history:N,i18n:O,logContextEvent:V,onSuccess:()=>{P&&z((0,m.CK)(P.placement_id,P.experience_id))},originalPinId:j,pinId:j,trackingParams:{clientTrackingParams:t,pinnedToBoardId:C},showRepinConfirmation:L&&!M?()=>{}:$,disableRepinAnimation:U===j,pinCount:B})).catch((e=>W((({hideToast:t})=>(0,b.jsx)(l.ZP,{variant:"error",text:e.message||O.bt(" ,  .", "Sorry! Something went wrong on our end.", "quickSave.toast.error.message", undefined, true),onHide:t})))))},G=(0,n.useRef)(null),q=L&&!Z,Y=(0,u.Z)()({fn:e=>{e.stopPropagation(),e.preventDefault(),I&&I(e),E?E&&T&&T():K()},modalHeader:(0,v.Bx)(O)});(0,n.useEffect)((()=>{q&&!G.current&&(H({action:"trigger",item:"unauth-save-button-quicksave"}),K(),z((0,_.e2)())),G.current=q}));const J=()=>O.bt("", "Pin", "quickSave.quickSaveButton.icon.accessibilityLabel", undefined, true),X=()=>e||O.bt("", "Save", "quickSave.quickSaveButton.buttonText", undefined, true);return Z&&!M?null:(0,b.jsx)(f.xu,{"data-test-id":"save-button-mobile",zIndex:w,children:a?(0,b.jsx)(g.di,{accessibilityLabel:J(),color:i,customStyles:{padding:"14px 16px"},deeplinkUri:a,inline:S,minHeight:48,minWidth:k,onTouch:Y,pressState:["compress","background"],shape:A,size:"lg",text:X(),to:N.location.pathname,upsellType:"save",viewType:R,viewParameter:D}):(0,b.jsx)(r.Z,{accessibilityLabel:J(),color:i,customStyles:{padding:"14px 16px"},inline:S,minHeight:48,minWidth:k,onTouch:Y,pressState:"compress",shape:A,size:"300",text:X()})})}var S=i(139574),k=i(850431),I=i(780280),T=i(177891),j=i(343341);function C(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class A extends n.PureComponent{constructor(...e){var t;super(...e),t=this,C(this,"state",{saveState:void 0}),C(this,"legoFixedZIndex",new f.Ry(2)),C(this,"onAddPin",(async function(){const{clientTrackingParams:e,dispatch:i,i18n:n,oneTapSave:a,pinId:o,pinnedToBoardId:r,showToast:s,viewType:d,historyPush:c}=t.props;try{const n=await i((0,k.w)({i18n:t.props.i18n,logContextEvent:t.props.logContextEvent,originalPinId:o,pinId:o,boardId:null==a?void 0:a.boardId,isOneTapSave:!0,onUndo:()=>{t.onDeletePin()},section:null==a?void 0:a.section,showToast:s,trackingParams:{clientTrackingParams:e,pinnedToBoardId:r},viewType:d,historyPush:c}));t.setState({saveState:"saved"}),i((0,T.a)({boardId:null==a?void 0:a.boardId,localPinId:n.id,pinId:o}))}catch(u){s((({hideToast:e})=>(0,b.jsx)(l.ZP,{variant:"error",text:u.message||n.bt(",  .  !", "Sorry! Something went wrong on our end.", "error during repin", undefined, true),onHide:e}))),t.setState({saveState:void 0})}})),C(this,"onDeletePin",(async function(){const{dispatch:e,clientTrackingParams:i,i18n:n,pinId:a,savedInfo:o,showToast:r}=t.props;if(o){e((0,T.k)({boardId:o.boardId,localPinId:o.localPinId,pinId:a}));try{await e((0,S.q)({pinId:o.localPinId,boardId:o.boardId,clientTrackingParams:i})),r((({hideToast:e})=>(0,b.jsx)(l.ZP,{text:n.bt(" ", "Pin deleted!", "User deleted their pin", undefined, true),onHide:e}))),t.setState({saveState:void 0})}catch(s){r((({hideToast:e})=>(0,b.jsx)(l.ZP,{variant:"error",text:n.bt(" ,     .", "Sorry! There was an error deleting your Pin.", "Error when user tried to delete pin", undefined, true),onHide:e}))),t.setState({saveState:"saved"})}}})),C(this,"handlePinAction",this.props.requireAuthForLimitedLogin({fn:({event:e})=>{e.stopPropagation(),e.preventDefault();const{saveState:t}=this.state,{history:i,pinId:n,isOneTapExploreLocalTab:a,pinnedToBoard:o}=this.props;["saving","deleting"].includes(t)||a&&o||(t||this.props.savedInfo?this.props.isOneTapExploreLocalTab||(this.setState({saveState:"deleting"}),this.onDeletePin()):(this.setState({saveState:"saving"}),a?i.push({pathname:`/pin/${n}/repin`,state:{isOneTapSave:!0}}):this.onAddPin()))},modalHeader:(0,v.Bx)(this.props.i18n)})),C(this,"shouldDisplayAsSaved",(({isOneTapExploreLocalTab:e,pinnedToBoard:t,savedInfo:i})=>e?!!t:!!i))}render(){const{children:e,clientTrackingParams:t,homepageExperience:i,i18n:a,isOneTapExploreLocalTab:o,isRTL:r,oneTapSave:s,pinId:l,pinnedToBoard:d,pinnedToBoardId:c,savedInfo:u,shouldShowSaveHandoffExp:p}=this.props;if(!s&&!o&&!p)return e;const h=this.shouldDisplayAsSaved({isOneTapExploreLocalTab:o,pinnedToBoard:d,savedInfo:u}),m="#000",_="rgba(255, 255, 255, 0.8)",g="light",v="dark";return(0,b.jsxs)(n.Fragment,{children:[e,(0,b.jsx)(f.xu,{bottom:!0,left:r,padding:2,position:"absolute",right:!r,zIndex:this.legoFixedZIndex,children:p?(0,b.jsx)(P,{buttonText:d?a.bt("", "Saved", "OneTapSave.QuickSaveButton.Saved", undefined, true):"",clientTrackingParams:t,color:d?"default":"primary",deeplinkUri:"deeplinkUri",experience:i,inline:!0,pinnedToBoardId:c,minWidth:54,pinId:l,shape:"pill",shouldShowSavedButton:!!d,showSaveHandoffExperience:p}):(0,b.jsx)(f.iP,{onTap:this.handlePinAction,rounding:"circle",children:(0,b.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:h?m:_}},padding:2,rounding:"circle",children:(0,b.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{opacity:100}},children:(0,b.jsx)(f.JO,{accessibilityLabel:h?a.bt("", "saved", "checkmark icon to show pin has been saved", undefined, true):a.bt("", "save", "button for saving quickly with one click", undefined, true),icon:h?"check":"add",color:h?g:v,size:"24"})})})})})]})}}const E=(0,o.connect)(((e,{pinId:t})=>({savedInfo:e.pins[t]&&e.pins[t].savedInfo,pinnedToBoard:e.pins[t]&&e.pins[t].pinned_to_board,homepageExperience:e.experiences[40001]})))((function(e){const{showToast:t}=(0,j.F9)(),i=(0,d.ZP)(),n=(0,c.Z)(),a=(0,u.Z)(),r=(0,x.useHistory)(),{isRTL:s,isAuthenticated:l}=(0,I.B)(),p=(0,o.useSelector)((({session:e})=>e.unauthSavePinId)),h=l&&!!p&&p===e.pinId;return(0,b.jsx)(A,{...e,i18n:i,requireAuthForLimitedLogin:a,history:r,logContextEvent:n,showToast:t,shouldShowSaveHandoffExp:h,isRTL:s,historyPush:e=>r.push(e)})}));E.displayName="OneTapSave";const R=E;var D=i(883561),L=i(349700);function F({boardUrl:e,boardName:t,isQuicksave:i,sectionName:n,sectionSlug:a}){const o=(0,d.ZP)(),r=(0,x.useHistory)(),s=new f.Ry(1),l=!!a&&`${e}${a}/`;return(0,b.jsx)(f.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,zIndex:s,dangerouslySetInlineStyle:{__style:{background:"rgb(0 0 0 / .4)"}},children:(0,b.jsx)(f.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"start",padding:4,children:(0,b.jsx)(f.iP,{onTap:t=>{t.event.preventDefault(),r.push(i?"/me/":l||e)},children:(0,b.jsx)(f.xv,{color:"light",children:n?(0,L.nk)(o.bt("   {{sectionName}}", "Saved to {{sectionName}}", "PinCard.SavedToSection.Overlay", undefined, true),{sectionName:(0,b.jsx)(f.xv,{color:"light",weight:"bold",inline:!0,children:(0,D.ZP)(n,22)},`pincard-${n}`)}):(0,L.nk)(o.bt("   {{boardName}}", "Saved to {{boardName}}", "PinCard.SavedToBoard.Overlay", undefined, true),{boardName:(0,b.jsx)(f.xv,{color:"light",weight:"bold",inline:!0,children:i?o.bt("", "Profile", "PinCard.SavedToProfile.Overlay", undefined, true):(0,D.ZP)(t,22)},`pincard-${t}`)})})})})})}var O=i(167525),z=i(964082),N=i(36971),M=i(463045);function Z({isSquarePin:e,color:t,description:i,imageUrl:n,imageHeight:a,imageWidth:o,onError:r,onLoad:s}){const l=(0,b.jsx)(f.Ee,{alt:i||"",color:t,naturalHeight:null!=a?a:1,naturalWidth:null!=o?o:1,onError:r,onLoad:s,src:null!=n?n:"",fit:e?"cover":void 0});return e?(0,b.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},children:(0,b.jsx)(f.xu,{top:!0,right:!0,bottom:!0,left:!0,position:"absolute",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:l})}):l}var U=i(350445),B=i(46584),V=i(926749),H=i(623568),W=i(965900),$=i(50286);function K({inAdsVideoExperiment:e,unauthRelatedPinsAutoplayExpGroup:t,isAutoplay:i,cropHeight:a,currentTime:o,onLoad:r,onError:s,onTimeChange:l,pin:c,playing:u,rootMargin:p,viewType:h,viewParameter:m,onVisibilityChanged:_,trackFullVisible:g,videoDuration:v,imageHeightModifier:y,image:x,isSquarePin:w}){var P,S,k,I;const T=(0,d.ZP)(),[j,C]=(0,n.useState)(!1),[A,E]=(0,n.useState)(!0),{is_downstream_promotion:R,promoter:D}=c,L=(0,H.jL)(R,D),F=L&&!c.is_eligible_for_web_closeup,z=3372===m||42===h,N=L&&c.is_eligible_for_web_closeup&&!z,{setCurrentVideo:M,pauseAutoplay:K}=(0,W.I)(),G=F||!L,q=(0,B.Z)({onVisibilityChanged:_,inAdsDesktopVideoExperiment:e,trackFullVisible:g,rootMargin:p});let Y=!u;(e||null!=t&&t.startsWith("enabled"))&&(Y=A,i&&u&&A&&E(!1));const{url:J}=(null===(P=c.images)||void 0===P?void 0:P["236x"])||{},{id:X}=c,Q=(0,$.HG)()&&c.videos?null===(S=c.videos.video_list)||void 0===S?void 0:S.V_HLSV4:null===(k=c.videos)||void 0===k||null===(I=k.video_list)||void 0===I?void 0:I.V_720P,ee=(0,$.HG)()&&c.videos?"video/m3u8":"video/mp4",te=(0,n.useCallback)((({event:e})=>{e.preventDefault(),e.stopPropagation(),M({pinId:X,isPromoted:Boolean(L),currentTime:0}),C(!1)}),[L,X,M]),ie=(0,n.useCallback)((()=>{L&&C(N),K({pinId:X,isPromoted:Boolean(L),currentTime:0})}),[N,L,X,K]);if(!c.videos||!Q)return null;const{height:ne,thumbnail:ae,width:oe,url:re}=Q||{},se=c.videos.id,le=[{type:ee,src:re}];let de,ce=(null!=oe?oe:1)/(null!=ne?ne:1);return e&&w&&(ce=1,de="transparent",y&&(ce-=y-1)),j&&L?(0,b.jsx)(f.xu,{"data-test-id":"pin-video-mobile-end-card",ref:q,children:(0,b.jsx)(U.Z,{backgroundImage:null!=J?J:"",naturalHeight:null!=ne?ne:1,naturalWidth:null!=oe?oe:1,pin:c,onRestartVideo:te})}):Y?(0,b.jsxs)(f.xu,{"data-test-id":"pin-video-mobile-image",ref:q,children:[v&&(0,b.jsx)(O.Z,{text:v}),(0,b.jsx)(Z,{imageHeight:null!==(ue=null==x?void 0:x.height)&&void 0!==ue?ue:1,imageWidth:null!==(pe=null==x?void 0:x.width)&&void 0!==pe?pe:1,onError:s,onLoad:r,imageUrl:null!==(he=null==x?void 0:x.url)&&void 0!==he?he:"",isSquarePin:w})]}):(0,b.jsx)(f.xu,{"data-test-id":"pin-video-mobile-video",ref:q,children:(0,b.jsx)(V.ZP,{isAutoPlay:!!i,cropHeight:a,rootMargin:p,inAdsDesktopVideoExperiment:e,contextLogData:{viewParameter:m,component:0,objectId:c.id,video_id:se,view:h},accessibilityMaximizeLabel:T.bt("", "Maximize", "pinLayouts.PinVideo.accessibilityMaxVideoBtn", undefined, true),accessibilityMinimizeLabel:T.bt("", "Minimize", "pinLayouts.PinVideo.accessibilityMinVideoBtn", undefined, true),accessibilityMuteLabel:T.bt(" ", "Mute", "pinLayouts.PinVideo.accessibilityMuteVideoBtn", undefined, true),accessibilityPauseLabel:T.bt("", "Pause", "pinLayouts.PinVideo.accessibilityPauseVideoBtn", undefined, true),accessibilityPlayLabel:T.bt("", "Play", "pinLayouts.PinVideo.accessibilityPlayVideoBtn", undefined, true),accessibilityProgressBarLabel:T.bt("  ", "Progress bar", "pinLayouts.PinVideo.accessibilityProgressBarLabel", undefined, true),accessibilityUnmuteLabel:T.bt(" ", "Unmute", "pinLayouts.PinVideo.accessibilityUnmuteVideoBtn", undefined, true),aspectRatio:ce,backgroundColor:de,captions:"",hlsConfig:{capLevelToPlayerSize:!0,startPosition:o||-1},loop:G,onTimeChange:l,playing:u,onPlay:()=>{},onPlayError:()=>{},poster:J||ae,src:null!=le?le:[],videoStartTime:o,volume:0,onEnded:ie})});var ue,pe,he}function G(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class q extends n.Component{constructor(...e){super(...e),G(this,"calculateCurrentVideoTime",(()=>{const{currentTimeFromPinRep:e,pin:t,videosAutoplaying:i}=this.props,{id:n}=t,a=(0,N.Z)(n,i);return this.currentVideoCurrentTime||a||e})),G(this,"handleVisibilityChanged",(e=>{const{currentTimeFromPinRep:t,pin:i,setCurrentVideo:n,pauseAutoplay:a,videosAutoplaying:o}=this.props,{id:r,is_downstream_promotion:s,promoter:l}=i,d=(0,H.jL)(s,l),c=(0,M.Z)(r,o),u=(0,z.Z)(r,o);e?d?n({pinId:r,isPromoted:d,currentTime:this.calculateCurrentVideoTime()}):u&&n({pinId:r,isPromoted:Boolean(d),currentTime:this.calculateCurrentVideoTime()}):!e&&c&&a({pinId:r,isPromoted:Boolean(d),currentTime:t||this.currentVideoCurrentTime})})),G(this,"handleVideoTimeChange",(e=>{const{pin:t,onTimeChange:i,videosAutoplaying:n}=this.props,{id:a}=t;(0,M.Z)(a,n)&&(this.currentVideoCurrentTime=e.time),i&&i(e)}))}componentDidUpdate(e){const{appInFocus:t}=e,{appInFocus:i,currentTimeFromPinRep:n,pauseAutoplay:a,pin:o,setCurrentVideo:r,videosAutoplaying:s}=this.props,{id:l,is_downstream_promotion:d,promoter:c}=o,u=(0,H.jL)(d,c),p=(0,M.Z)(l,s);i!==t&&!i&&p?(this.pausedDueToBrowserOutOfFocus=!0,a({pinId:l,isPromoted:Boolean(u),currentTime:n||this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&i&&(this.pausedDueToBrowserOutOfFocus=!1,r({pinId:l,isPromoted:Boolean(u),currentTime:this.calculateCurrentVideoTime()}))}componentWillUnmount(){const{currentTimeFromPinRep:e,pauseAutoplay:t,pin:i,videosAutoplaying:n}=this.props,{id:a,is_downstream_promotion:o,promoter:r}=i,s=(0,H.jL)(o,r);(0,M.Z)(a,n)&&t({pinId:a,isPromoted:Boolean(s),currentTime:e||this.currentVideoCurrentTime})}render(){const{cropHeight:e,isAutoplay:t,pin:i,videosAutoplaying:n,videoDuration:a,viewParameter:o,viewType:r,onError:s,onLoad:l,inAdsVideoExperiment:d,unauthRelatedPinsAutoplayExpGroup:c,isSquarePin:u,rootMargin:p,imageHeightModifier:h,image:m,isHovering:_}=this.props,{id:g}=i,v=(0,N.Z)(g,n),y="enabled_hover"===c,f=(0,M.Z)(g,n),x=_&&y||f&&t;return(0,b.jsx)(K,{cropHeight:e,rootMargin:p,currentTime:v,inAdsVideoExperiment:d,unauthRelatedPinsAutoplayExpGroup:c,isAutoplay:t,isSquarePin:u,image:m,viewParameter:o,viewType:r,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pin:i,playing:x,trackFullVisible:!1,onError:s,onLoad:l,imageHeightModifier:h,videoDuration:a})}}function Y(e){const{appUI:{appInFocus:t,isAutoplay:i,videosAutoplaying:n},pauseAutoplay:a,setCurrentVideo:o}=(0,W.I)();return(0,b.jsx)(q,{...e,appInFocus:t,isAutoplay:i,pauseAutoplay:a,setCurrentVideo:o,videosAutoplaying:n})}var J=i(690035),X=i(310227),Q=i(867820),ee=i(773285),te=i(130460),ie=i(350118),ne=i(780679),ae=i(627995);const oe=({domainLinkData:e})=>{const t=(0,d.ZP)(),i=(0,ne.g)();return(0,b.jsxs)(f.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(51, 51, 51, 0.8)"}},children:[(0,b.jsx)(f.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"center",paddingX:2,children:(0,b.jsx)(f.X6,{size:"400",align:"center",color:"light",children:t.bt("", "Open", "Text on hover of a pin leading to opening this pin in the same tab. This is for users who don't have an account on Pinterest.", undefined, true)})}),!!e&&(0,b.jsx)(f.xu,{position:"absolute",bottom:!0,left:!0,width:"100%",minWidth:"100%",children:(0,b.jsx)(ae.Z,{clickLoggingOptions:e.clickLoggingOptions,domain:e.domain,link:e.link,onClick:e.onClick||(null==i?void 0:i.pinLinkClickHandler)||(()=>{})})})]})};var re=i(53987);const se=({width:e,height:t,minY:i,maxY:n})=>{const a=t=>e<=0||!t?"0%":Math.round(t/e*100)+"%";return{top:i<=0?"0%":a(-1*i*t),bottom:n>=1?"0%":a(-1*(1-n)*t)}},le=({children:e,margin:t,disableRounding:i})=>(0,b.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:t?{marginTop:t.top,marginBottom:t.bottom}:{}},position:"relative","data-test-id":"pin-visual-wrapper",children:(0,b.jsx)(f.zd,{wash:!0,rounding:i?0:X.mv,children:e})}),de=({clientTrackingParams:e,color:t,description:i,domainLinkData:o,hideBottomCardText:r,image:s,imageAltText:l,imageCrop:c,isPromoted:u,isMessenger:p,isOneTapExploreLocalTab:m,isSquarePin:_,lazyLoadImage:g,onError:v,oneTapSave:y,onLoad:w,pinId:P,priorityFetchImage:S,disableDefaultContextMenu:k,pinnedToBoardId:T,pinVideo:j,videoUrl:C,productPrice:A,disableRounding:E,storyData:D,title:L,type:z,videoDuration:N,viewType:M,viewParameter:Z,unauthRelatedPinsAutoplayExpGroup:U})=>{var B,V,H,W,K,G,q,X,ne,ae,de;const ce=(0,d.ZP)(),ue=(0,J.Z)(),{checkExperiment:pe}=(0,ee.F)(),[he,me]=(0,n.useState)(!1),{isAuthenticated:_e}=(0,I.B)(),ge=(0,$.ZP)(),ve=(0,ie.S6)()(P),ye=(0,te.gC)()(T||(ve?String(null===(B=ve.board)||void 0===B?void 0:B.id):"")),fe=T&&(null==ve?void 0:ve.savedThisSession),xe=o&&o.link?"with-link":"without-link",be=!_e&&"desktop"!==ge,we=(0,n.useRef)(Date.now()),Pe=(0,n.useRef)(null),Se=pe("mweb_video_ads_autoplay").anyEnabled,ke="video"===z&&(U&&"enabled_hover"===U),Ie=(0,h.Z)();(0,n.useEffect)((()=>{ke||!he||_e||Ie({action:"view",item:"unauth-video-autoplay-on-hover"})}),[ke,he,Ie,_e]);const Te=(0,b.jsx)(f.Ee,{alt:l||L||i||"",color:t,naturalHeight:null!==(V=s.height)&&void 0!==V?V:1,naturalWidth:null!==(H=s.width)&&void 0!==H?H:1,onError:v,onLoad:w,src:null!==(W=s.url)&&void 0!==W?W:"",fit:_?"cover":void 0,loading:g?"lazy":"auto",fetchPriority:S?"high":"auto"}),je=_?(0,b.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},children:(0,b.jsx)(f.xu,{top:!0,right:!0,bottom:!0,left:!0,position:"absolute",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:Te})}):Te,Ce=(0,x.useLocation)(),Ae=()=>(0,re.C$)(Ce)?"homefeed":(0,re.L6)(Ce)?"related_pins":(0,re.En)(Ce)?"search":"unknown";return(0,b.jsx)("div",{className:"PinCard__imageWrapper",style:{position:"relative"},children:(0,b.jsxs)(f.xu,{onContextMenu:e=>{if("desktop"!==ge){const t=Ae();(0,Q.My)((_e?"auth":"unauth")+".mweb_pin_feed.pin_image.long_press",{page:t}),"related_pins"!==t||_e||(e.preventDefault(),e.stopPropagation())}},onTouchStart:e=>{if("desktop"!==ge){const t=Ae();if((0,Q.My)("unauth.mweb.related_pin.image.touch.start"),"related_pins"===t&&!_e&&(null==k||k(),we.current=Date.now(),e.changedTouches&&e.changedTouches.length>0)){const t=e.changedTouches.item(0);t&&(Pe.current={x:t.pageX,y:t.pageY})}}},onTouchEnd:e=>{if("desktop"!==ge){const t=Ae();if((0,Q.My)("unauth.mweb.related_pin.image.touch.end"),Date.now()-we.current>500&&!_e&&"related_pins"===t){const t=Pe.current;if(e.changedTouches&&e.changedTouches.length>0&&t){const i=e.changedTouches.item(0);if(i&&Math.pow(i.pageX-t.x,2)+Math.pow(i.pageY-t.y,2)>100)return;null==k||k(),ue({pinId:P,location:"related-pins-long-press"}),e.stopPropagation()}}}},"data-test-id":`pincard-${z}-${xe}`,dangerouslySetInlineStyle:{__style:{willChange:"transform",textDecoration:"none"}},overflow:"hidden",onMouseOver:be?void 0:()=>me(!0),onMouseLeave:be?void 0:()=>me(!1),position:"relative",rounding:E?0:4,children:[(0,b.jsxs)(R,{clientTrackingParams:e||"",oneTapSave:y,isOneTapExploreLocalTab:m,pinId:P,pinnedToBoardId:T,viewType:M,children:[(()=>{if("gif"===z&&!r&&!fe)return(0,b.jsx)(O.Z,{text:ce.bt("GIF", "GIF", "pin.pinCard.gifIconIdentifier", undefined, true)});if("video"===z&&N&&!r&&!fe)return(0,b.jsx)(O.Z,{text:N});if("storyPin"===z&&D&&!fe){const{page_count:e=0,total_video_duration:t=0}=(null==ve?void 0:ve.story_pin_data)||{};if(t>0)return(0,b.jsx)(O.Z,{text:(0,a.Z)(t)});if("number"==typeof e&&e>0)return(0,b.jsx)(O.Z,{icon:"idea-pin",text:e.toString()})}return"product"===z&&A?(0,b.jsx)(O.Z,{text:A}):null})(),(0,b.jsx)(le,{disableRounding:E,margin:c?se({width:null!==(K=s.width)&&void 0!==K?K:1,height:null!==(G=s.height)&&void 0!==G?G:1,minY:c.min_y,maxY:c.max_y}):void 0,children:"video"===z&&p&&j?(0,b.jsx)(f.nk,{autoplay:!0,accessibilityMaximizeLabel:"",accessibilityMinimizeLabel:"",accessibilityMuteLabel:"",accessibilityPauseLabel:"",accessibilityPlayLabel:"",accessibilityProgressBarLabel:ce.bt("  ", "Progress bar", "PinCardVisual.accessibilityProgressBarLabel", undefined, true),accessibilityUnmuteLabel:"",aspectRatio:j.width/j.height,captions:"",loop:!0,onPlay:()=>{},onPlayError:()=>{},playsInline:!0,poster:null!==(q=s.url)&&void 0!==q?q:"",src:j.url,volume:0}):j&&u&&Se&&ve||null!=U&&U.startsWith("enabled")&&C&&ve?(0,b.jsx)(Y,{image:s,inAdsVideoExperiment:Se,unauthRelatedPinsAutoplayExpGroup:U,isHovering:he,isSquarePin:_,onError:v,onLoad:w,pin:ve,videoDuration:N,viewParameter:Z,viewType:M}):je})]}),!ke&&he&&!_e&&(0,b.jsx)(oe,{domainLinkData:o}),_e&&fe&&(0,b.jsx)(F,{boardName:null!==(X=null==ye?void 0:ye.name)&&void 0!==X?X:"",boardUrl:null!==(ne=null==ye?void 0:ye.url)&&void 0!==ne?ne:"",sectionName:null==y||null===(ae=y.section)||void 0===ae?void 0:ae.title,sectionSlug:null==y||null===(de=y.section)||void 0===de?void 0:de.slug,isQuicksave:"quick_saves"===(null==ye?void 0:ye.layout)})]})})}},894023:(e,t,i)=>{i.r(t),i.d(t,{default:()=>Me,pinRepPaddingInBoint:()=>Te});var n=i(667294),a=i(702664),o=i(934494),r=i(319915),s=i(680046),l=i(886076),d=i(248975),c=i(830157),u=i(958007),p=i(926275),h=i(63552),m=i(81226),_=i(116303),g=i(561195),v=i(883119),y=i(785893);function f({maxRating:e,rating:t,text:i}){return(0,y.jsxs)(v.xu,{alignItems:"center",display:"flex",marginBottom:0,children:[(0,y.jsx)(g.Z,{max_rating:e||"",rating:t||"",width:10}),i&&(0,y.jsx)(n.Fragment,{children:(0,y.jsx)(v.xu,{marginStart:1,overflow:"hidden",children:(0,y.jsx)(v.xv,{size:"100",lineClamp:1,children:i})})})]})}var x=i(898781),b=i(62409),w=i(643010),P=i(350118);const S=({pinId:e})=>{var t;const i=(0,x.ZP)(),a=(0,P.S6)()(e),o=(0,w.Yc)();if(!a)return null;const{link_domain:r,rich_metadata:s,rich_summary:l}=a||{},d=(0,b.kb)(r,s,l);if(!d||!d.price)return null;const c=d.standard_price||d.price,u=d.min_price||"",p=d.max_price||"",h=d.in_stock||!1,m=null===(t=a.rich_summary)||void 0===t?void 0:t.site_name,{textColor:_,inStockColor:g}=(({isDarkMode:e,inStock:t})=>e?{textColor:"light",inStockColor:"light"}:{textColor:"dark",inStockColor:t?"dark":"subtle"})({isDarkMode:o,inStock:h});return(0,y.jsxs)(n.Fragment,{children:[m&&(0,y.jsx)(v.xv,{color:_,size:"100",children:m}),(0,y.jsxs)(v.xu,{display:"flex",alignItems:"center","data-test-id":"priceLego_price",children:[u&&p?(0,y.jsxs)(v.xv,{size:"100",color:g,weight:"bold",children:[u," - ",p]}):(0,y.jsx)(v.xv,{size:"100",color:g,weight:"bold",children:c}),!h&&(0,y.jsxs)(n.Fragment,{children:[(0,y.jsx)(v.xu,{paddingX:1,children:(0,y.jsx)(v.xv,{size:"100",color:g,weight:"bold",children:""})}),(0,y.jsx)(v.xv,{size:"100",color:g,weight:"bold",children:i.bt("  ", "Out of stock", "pinCard.priceLego.outOfStock", undefined, true)})]})]})]})};var k=i(947599),I=i(914142),T=i(941646),j=i(50286),C=i(865673),A=i(52022),E=i(350948),R=i(923297),D=i(867820),L=i(773285),F=i(130460),O=i(276775),z=i(780280),N=i(53987);const M=(0,n.lazy)((()=>i.e(94950).then(i.bind(i,494950)))),Z=({title:e})=>{const t=(0,j.ZP)(),i=(0,A.Z)();return(0,y.jsx)(T.Z,{id:"related-pins-title",children:(0,y.jsx)(v.iP,{onTap:()=>{i({action:"click",item:"related-pins-title"})},children:(0,y.jsx)(v.xv,{size:"desktop"===t?"300":"100",weight:"bold",children:e})})})},U=({allowPriceIndicator:e,contextMenu:t,credits:i,hidePinMetadata:a,hasAffiliatedProducts:o,isPromotedPin:s,isSponsoredPin:l,isSquarePin:d,marginTop:c,marginStart:u,marginEnd:p,onCreditsClick:m,pinDescription:g,pinId:b,pinnedToBoardId:w,pinReactionCounts:U,recipeCookTime:B,recipeMaxRating:V,recipeRating:H,recipeReviewCount:W,shouldShowReactions:$,style:K="default",title:G,type:q,duploConversationPin:Y})=>{var J,X,Q,ee,te,ie,ne,ae,oe;const re=(0,x.ZP)(),{checkExperiment:se}=(0,L.F)(),le=(0,O.useLocation)(),de=(0,A.Z)(),{isAuthenticated:ce}=(0,z.B)(),ue=(0,j.ZP)(),pe=G||g||"oneTap"===q,he=(0,P.S6)()(b),me=(0,F.gC)()(w||(he?String(null===(J=he.board)||void 0===J?void 0:J.id):"")),_e=null==he?void 0:he.pinner,ge=s&&(null==he||null===(X=he.promoter)||void 0===X?void 0:X.id)===(null==he||null===(Q=he.native_creator)||void 0===Q?void 0:Q.id),ve=null!=he&&he.sponsorship?(0,y.jsx)(v.xv,{inline:!0,size:"100",weight:"bold",children:null==i?void 0:i.subtitle}):void 0,ye="overlay"===K,fe=$&&U&&Object.keys(U).length>0&&(0,y.jsx)(v.xu,{height:18,display:ye?"flex":void 0,justifyContent:"center",children:(0,y.jsx)(r.Z,{name:"SafeSuspense_PinCardDetails_GridAggregation",children:(0,y.jsx)(k.Z,{children:(0,y.jsx)(M,{pinReactionCounts:U})})})}),xe=a?0:c||1,be=(0,y.jsx)(_.Z,{accessibilityLabel:(null==i?void 0:i.title)||"string"==typeof(null==i?void 0:i.subtitle)&&i.subtitle||re.bt(" ", "Creator's avatar", "pinCardDetails.tapArea.avatar", undefined, true),name:(null==i?void 0:i.title)||"",outline:ye,size:ye?"lg":"sm",src:ye&&(null==i?void 0:i.largeAvatar)||(null==i?void 0:i.mediumAvatar)||(null==i?void 0:i.avatar)||void 0}),we=(0,y.jsxs)(n.Fragment,{children:[(null==i?void 0:i.title)&&(0,y.jsx)(v.xv,{lineClamp:1,size:"100",weight:l&&!ge||o?"normal":"bold",children:i.title===(null==_e?void 0:_e.full_name)&&(null!=_e&&_e.is_verified_merchant||null!=_e&&null!==(ee=_e.verified_identity)&&void 0!==ee&&ee.verified)?(0,y.jsx)(C.Z,{badgeSize:"sm",badgeSpacing:2,fullName:i.title,verifiedType:_e.is_verified_merchant?"verifiedMerchant":"verifiedIdentity"}):i.title}),null!=i&&i.subtitle?(!l&&!a||ge)&&(0,y.jsx)(v.xv,{lineClamp:l||o?void 0:1,size:"desktop"===ue?"200":"100",weight:"desktop"===ue?"bold":"normal",children:i.subtitle}):!ce&&me&&"protected"!==me.privacy?(0,y.jsx)(T.Z,{id:"related-pin-text-below-name",children:(0,y.jsx)(v.rU,{underline:"hover",href:null!==(te=me.url)&&void 0!==te?te:"",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),e.stopPropagation(),(0,D.NC)("click_board_pin_attribution_profile"),de({action:"click",item:"related-pin-text-below-name"})},children:(0,y.jsx)(v.xv,{size:"200",children:me.name})})}):null]});return(0,y.jsx)(n.Fragment,{children:(0,y.jsxs)(v.xu,{display:"flex",height:d?e?104:72:void 0,marginEnd:p||1,marginStart:u||1,position:"relative",children:[(0,y.jsxs)(v.xu,{flex:"grow",children:[(0,y.jsx)(v.xu,{display:"flex",marginTop:xe,children:(0,y.jsx)(v.xu,{flex:"grow",children:(0,y.jsxs)(n.Fragment,{children:[(0,y.jsxs)(n.Fragment,{children:[(l||o)&&!ge&&(0,y.jsx)(v.xu,{marginBottom:1,children:(0,y.jsx)(v.xu,{flex:"grow",overflow:"hidden",children:(0,y.jsx)(I.Z,{hasAffiliatedProducts:o,isPromoted:s,sponsorName:ve,sponsorshipStatus:null==he||null===(ie=he.sponsorship)||void 0===ie?void 0:ie.status})})}),G&&(0,y.jsx)(v.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},children:ce&&!a&&(0,y.jsx)(Z,{title:G})}),"desktop"===ue&&!ce&&g&&!(0,N.$Y)(le)&&!(0,N.E0)(le)&&(0,y.jsx)(v.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},"data-test-id":"desc",children:(0,y.jsx)(v.iP,{onTap:()=>{de({action:"click",item:"related-pins-description"})},children:(0,y.jsx)(v.xv,{size:"100",inline:!0,children:g})})})]}),e&&(0,y.jsx)(S,{credits:i,pinId:b}),"recipe"===q&&!!W&&(0,y.jsx)(n.Fragment,{children:(0,y.jsxs)(v.xu,{alignItems:"center",display:"flex",marginTop:1,children:[!!W&&(0,y.jsx)(f,{maxRating:V||"",rating:H||"",text:""}),!!B&&(0,y.jsxs)(n.Fragment,{children:[(0,y.jsx)(v.xu,{paddingX:1,children:(0,y.jsx)(v.xv,{size:"100",children:""})}),(0,y.jsx)(v.xv,{size:"100",children:(0,E.IS)({...(0,R.u)(B),i18n:re})})]})]})})]})})}),!ye&&fe,i&&(0,y.jsx)(h.Z,{onTouch:e=>m&&m(e),pressState:"none",children:(0,y.jsx)(v.xu,{children:(!a||l||ge)&&(0,y.jsxs)(v.xu,{display:"flex",marginTop:ye?-9:c||(pe&&!a?1:0),marginBottom:a?2:0,position:"relative",direction:ye?"column":"row",children:[(0,y.jsx)(v.xu,{flex:"none",display:ye?"flex":void 0,justifyContent:"center","data-test-id":"related-pins-avatar-image",children:se(ce?"mweb_auth_feed_a11y_fix":"mweb_unauth_feed_a11y_fix").anyEnabled?be:(0,y.jsx)(v.iP,{onTap:()=>{de({action:"click",item:"related-pins-avatar-image"})},children:be})}),(0,y.jsx)(v.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",alignItems:ye?"center":void 0,marginStart:1,"data-test-id":"related-pins-name",children:se(ce?"mweb_auth_feed_a11y_fix":"mweb_unauth_feed_a11y_fix").anyEnabled?we:(0,y.jsx)(v.iP,{onTap:()=>{de({action:"click",item:"related-pins-name"})},children:we})})]})})}),!i&&"desktop"===ue&&!!_e&&((0,N.L6)(le)||(0,N.cD)(le)||(0,N.$Y)(le))&&(0,y.jsxs)(v.xu,{display:"flex",marginTop:pe?2:0,children:[(0,y.jsx)(v.xu,{flex:"none","data-test-id":"related-pins-avatar-image",children:(0,y.jsx)(v.iP,{onTap:()=>{de({action:"click",item:"related-pins-avatar-image"})},children:(0,y.jsx)(_.Z,{name:_e.username||"",size:"sm",src:null!==(ne=_e.image_small_url)&&void 0!==ne?ne:void 0})})}),(0,y.jsxs)(v.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,"data-test-id":"related-pins-name",children:[(0,y.jsx)(v.rU,{underline:"hover",href:`/${_e.username}/`,onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),e.stopPropagation(),(0,D.NC)("click_board_pin_attribution_board"),de({action:"click",item:"related-pins-name"})},children:(0,y.jsx)(v.xv,{size:"200",weight:"bold",children:_e.full_name||_e.username})}),me&&"protected"!==me.privacy?(0,y.jsx)(T.Z,{id:"related-pin-text-below-name",children:(0,y.jsx)(v.rU,{underline:"hover",href:null!==(ae=me.url)&&void 0!==ae?ae:"",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),e.stopPropagation(),(0,D.NC)("click_board_pin_attribution_profile"),de({action:"click",item:"related-pin-text-below-name"})},children:(0,y.jsx)(v.xv,{size:"200",children:null!==(oe=me.name)&&void 0!==oe?oe:""})})}):null]})]}),ye&&fe]}),(0,y.jsx)(v.xu,{position:ye?"absolute":void 0,right:!0,children:!Y&&t})]})})};var B,V=i(857079),H=i(349700),W=i(296011),$=i(167912);const K=void 0!==B?B:B=i(7745),G=(e,t)=>{const{checkExperiment:i}=(0,L.F)();return i("graphql_migration_sharelink_sgrowth_web").anyEnabled?((e,t)=>{const i=(0,$.useRelayEnvironment)();return(0,y.jsx)(W.t,{invite_code:e,relayEnvironment:i,inviteQuery:K,children:e=>{const i=null!=e&&e.data?e.data.sender:null,n=i&&i.first_name?i.first_name.substring(0,30):"";if(!n)return null;const a=i&&!i.is_default_image?i.image_medium_url:"",o=(0,H.nk)(t.bt(" {{ name }}     ", "{{ name }} shared this idea with you", "homefeed.pinSenderAvatar.heading", undefined, true),{name:n});return(0,y.jsxs)(v.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,y.jsx)(v.zd,{height:32,width:32,children:(0,y.jsx)(_.Z,{name:n,src:a})}),(0,y.jsx)(v.xu,{width:"80%",paddingY:2,children:(0,y.jsx)(v.xv,{align:"center",size:"200",weight:"bold",children:o})})]})}})})(e,t):((e,t)=>(0,y.jsx)(W.Z,{invite_code:e,children:e=>{const i=e?e.sender:null,n=i&&i.first_name?i.first_name.substring(0,30):"";if(!n)return null;const a=i&&!i.is_default_image?i.image_medium_url:"",o=(0,H.nk)(t.bt(" {{ name }}     ", "{{ name }} shared this idea with you", "homefeed.pinSenderAvatar.heading", undefined, true),{name:n});return(0,y.jsxs)(v.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,y.jsx)(v.zd,{height:32,width:32,children:(0,y.jsx)(_.Z,{name:n,src:a})}),(0,y.jsx)(v.xu,{width:"80%",paddingY:2,children:(0,y.jsx)(v.xv,{align:"center",size:"200",weight:"bold",children:o})})]})}}))(e,t)},q=({inviteCode:e})=>{const t=(0,x.ZP)();return(0,y.jsx)(v.xu,{minHeight:82,children:(0,y.jsx)(r.Z,{name:"SafeSuspense_PinCardSharedHeader_LoadingSpinner",children:(0,y.jsx)(k.Z,{fallback:(0,y.jsx)(V.Z,{accessibilityLabel:t.bt("  ", "Loading Invitation component", "Loading InviteFetch component", undefined, true)}),children:G(e,t)})})})};var Y=i(948945),J=i(55275);const X={initial:{opacity:0,transition:"opacity 0.25s ease-in"},fadeIn:{opacity:.8,transition:"opacity 1s ease"}},Q=(e,t,i)=>(0,y.jsx)(v.xv,{color:"inverse",inline:!0,size:"200",weight:"bold",children:(0,y.jsx)(v.rU,{display:"inlineBlock",href:t,tapStyle:"none",underline:"hover",children:i})},e);function ee({color:e,getFeedbackText:t,onUnfollow:i,showing:a,unfollowed:o}){const r=(0,x.ZP)(),[s,l]=(0,n.useState)(a?"fadeIn":"initial"),d=(0,n.useRef)(null);(0,n.useEffect)((()=>("initial"===s&&a&&(d.current=window.requestAnimationFrame((()=>l("fadeIn")))),()=>{d.current&&window.cancelAnimationFrame(d.current)})),[s,l,a]);const{subTitle:c,title:u,unfollow:p}=t(Q);let h=u,m=c;p&&o&&(h=p.title,m=p.subTitle);const _=()=>p?(0,J.t)(p.action,p.actionOptions,i):void 0;return a&&(0,y.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e,...X[s]}},margin:1,rounding:4,position:"absolute",top:!0,bottom:!0,left:!0,right:!0,children:(0,y.jsxs)(v.xu,{width:"100%",height:"100%",color:"dark",rounding:4,overflow:"auto",children:[(0,y.jsxs)(v.xu,{padding:3,rounding:2,display:"flex",direction:"column",height:"100%",justifyContent:"between",children:[(0,y.jsxs)(v.xu,{children:[(0,y.jsx)(v.X6,{size:"400",color:"light",children:h}),m&&(0,y.jsxs)(v.xu,{marginTop:1,children:[(0,y.jsx)(v.xv,{color:"light",size:"200",inline:!0,children:m}),(0,y.jsx)(v.xv,{color:"light",inline:!0,size:"200",weight:"bold",children:(0,y.jsx)(v.rU,{href:"/edit",display:"inlineBlock",rounding:2,tapStyle:"none",underline:"hover",children:r.bt(" ", "Tune your home feed", "Text on the button to navigate to homefeed control", undefined, true)})})]})]}),!o&&p&&(0,y.jsx)(v.xu,{paddingY:1,children:(0,y.jsx)(v.zx,{fullWidth:!0,color:"white",text:r.bt("", "Unfollow", "Text on the button to unfollow a specific board / user", undefined, true),onClick:_})})]}),!o&&p&&(0,y.jsx)(v.xu,{paddingY:1,children:(0,y.jsx)(v.zx,{fullWidth:!0,color:"white",text:r.bt("", "Unfollow", "Text on the button to unfollow a specific board / user", undefined, true),onClick:_})})]})})}var te=i(21384),ie=i(992750);function ne({description:e,gridTitle:t,pinId:i,placeSummaryName:n,richMetadataTitle:a,richSummaryDisplayName:o,storyPinDataId:r,storyPinDataMetadataPinTitle:s,title:l}){return(0,y.jsxs)(v.xu,{paddingX:2,marginBottom:-1,display:"flex",children:[(0,y.jsx)(v.xu,{flex:"grow",maxHeight:32,minHeight:12,overflow:"hidden",width:142,children:(0,y.jsx)(v.xv,{lineClamp:2,size:"100",weight:"bold",children:(0,ie.fs)({pinTitle:l,gridTitle:t,richSummaryDisplayName:o,richMetadataTitle:a,storyPinDataId:r,storyPinDataMetadataPinTitle:s,placeSummaryName:n})||e})}),(0,y.jsx)(v.xu,{children:(0,y.jsx)(te.Z,{pinId:i,size:"sm",graphqlRef:null})})]})}var ae=i(807592),oe=i(57791);const re=({attribute:e,deviceType:t,location:i})=>{const n=(0,A.S)(i);(0,D.My)("unuath.product_attribution.click",{item:e,page:n,device:t})};function se({description:e,domain:t,gridTitle:i,pinId:n,pinProduct:a,placeSummaryName:o,richMetadataTitle:r,richSummaryDisplayName:s,storyPinDataId:l,storyPinDataMetadataPinTitle:d,title:c}){const u=(0,j.ZP)(),p=(0,O.useLocation)();if(!n)return null;const h=a&&(a.price||a.standard_price||(0,ae.Z)(a)),m=(0,ie.fs)({pinTitle:c,gridTitle:i,richSummaryDisplayName:s,richMetadataTitle:r,storyPinDataId:l,storyPinDataMetadataPinTitle:d,placeSummaryName:o})||e,_=`/pin/${n}/`;return(0,y.jsx)(v.xu,{paddingX:2,marginBottom:-1,marginTop:1,display:"flex",direction:"column",children:(0,y.jsxs)(v.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[(0,y.jsx)(v.xu,{flex:"grow",minHeight:12,overflow:"hidden",width:142,children:(0,y.jsxs)(oe.MZ,{to:_,accessibilityLabel:m,deeplinkUri:_,children:[h&&(0,y.jsx)(v.iP,{onTap:()=>re({deviceType:u,attribute:"price",location:p}),children:(0,y.jsx)(v.xv,{size:"100",weight:"bold",children:h})}),(0,y.jsx)(v.xu,{marginTop:1,children:(0,y.jsx)(v.iP,{onTap:()=>re({deviceType:u,attribute:"title",location:p}),children:(0,y.jsx)(v.xv,{size:"100",weight:"bold",lineClamp:h?3:2,children:m})})}),t&&h&&(0,y.jsx)(v.xu,{marginTop:1,children:(0,y.jsx)(v.iP,{onTap:()=>re({deviceType:u,attribute:"merchant",location:p}),children:(0,y.jsx)(v.xv,{size:"100",lineClamp:1,children:t})})})]})}),(0,y.jsx)(v.xu,{children:(0,y.jsx)(te.Z,{pinId:n,size:"sm",graphqlRef:null})})]})})}var le=i(248299),de=i(327476),ce=i(394332),ue=i(529195);const pe=[],he=e=>(t,i)=>{const{pinId:n}=e,a=i().pins[n];a&&!a.impressed&&(pe.push(e),(e=>{e({type:"PIN_IMPRESSIONS",payload:pe.slice()}),pe.length=0})(t))};var me=i(477802),_e=i(255607),ge=i(874317),ve=i(861411),ye=i(639952),fe=i(772486),xe=i(447948),be=i(378518),we=i(813401),Pe=i(112690),Se=i(305324),ke=i(780679);function Ie(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const Te=({isDesktop:e})=>e?0:1,je=e=>Boolean(e.is_eligible_for_web_closeup),Ce=e=>Boolean(e.promoter&&!e.is_downstream_promotion),Ae={width:1,height:1,url:""},Ee=e=>{const{attribution:t,embed:i,is_eligible_for_web_closeup:n,rich_summary:a,videos:o,story_pin_data_id:r}=e,s=i||t&&t.embed;return n?"oneTap":o||s&&"video"===s.type?"video":s&&"gif"===s.type?"gif":a&&"product"===a.type_name?"product":a&&"recipe"===a.type_name?"recipe":r?"storyPin":"image"},Re=e=>{if(("video"===Ee(e)||Ce)&&e.videos&&e.videos.video_list){const{duration:t=0}=e.videos.video_list[Object.keys(e.videos.video_list)[0]]||{};return(0,m.Z)(t)}return""},De=e=>{var t;if("product"!==Ee(e))return null;const[i]=(null===(t=e.rich_summary)||void 0===t?void 0:t.products)||[];if(!i)return null;const n=i.offer_summary;return n&&(n.price||n.max_price)},Le=(0,n.lazy)((()=>i.e(26332).then(i.bind(i,926332))));class Fe extends n.Component{constructor(...e){super(...e),Ie(this,"state",{startImpressionTimer:!1,isShowingCustomContextMenu:!1}),Ie(this,"getPinImage",(()=>{const{data:{pin:e},duploIsSquarePin:t}=this.props;if(!e||!e.images)return Ae;var i;if(t)return{height:136,url:null===(i=e.images["236x"])||void 0===i?void 0:i.url,width:136};const n=["236x","170x","136x136","736x","474x","orig"];for(const a of n)if(e.images[a]&&e.images[a].url)return e.images[a];return Ae})),Ie(this,"getImpressionData",(()=>{var e,t;const{data:{pin:i}}=this.props,n=null===(e=i.videos)||void 0===e||null===(t=e.video_list)||void 0===t?void 0:t.V_720P,a=n?{isNativeVideoAndWatchable:!!(n&&n.url&&n.height&&n.width)||void 0,videoIdStr:n&&i.videos?i.videos.id:void 0}:{},o=this.getPinImage();return{richTypes:i.shopping_flags||[],imageURL:o.url||"",...a,...this.props.impressionData}})),Ie(this,"getAuxData",(()=>{const{auxData:e={},pwaType:t,data:{pin:i}}=this.props;return{commerce_data:(0,l.Z)({isEligibleForPdp:i.is_eligible_for_pdp,isOosProduct:i.is_oos_product,isStaleProduct:i.is_stale_product,pinShoppingFlags:i.shopping_flags}),pwa_type:t,...e}})),Ie(this,"getFeedbackType",(()=>{const{feedback:e,viewParameter:t,data:{board:i,pin:n}}=this.props;return this.feedbackHelpers.getFeedbackType({board:i,feedback:e,viewParameter:t,pin:n,pinner:n.pinner})})),Ie(this,"getRecommendationDescription",(e=>{const{data:{board:t,pin:i}}=this.props;return this.feedbackHelpers.getRecommendationDescription({ad_match_reason:i.ad_match_reason,board:t,feedbackType:this.getFeedbackType(),makeNavigateLink:e,pinner:i.pinner,promoter:i.promoter,recommendationReason:i.recommendation_reason,sourceInterest:i.source_interest})})),Ie(this,"getPinHiddenFeedbackText",(e=>{const{data:{board:t,pin:i}}=this.props,n=i.promoter,a=this.feedbackHelpers.getUnfollowAction({board:t,feedbackType:this.getFeedbackType(),makeNavigateLink:e,pinner:i.pinner,sourceInterest:i.source_interest});return Ce(i)&&null!=n&&n.full_name?{title:"",subTitle:(0,H.nk)(this.props.i18n.bt(" {{ promoter }}     ,      .", "{{ promoter }} has paid to have this pin show up where you'd be more likely to notice it.", "pinRep.promotedPinfeedbackText.subtitle", undefined, true),{promoter:n.full_name})}:a?{title:this.props.i18n.bt(" ", "Pin hidden", "message displayed after hiding a pin", undefined, true),subTitle:this.getRecommendationDescription(e),unfollow:a}:{title:this.props.i18n.bt(" ", "Pin hidden", "message displayed after hiding a pin", undefined, true),subTitle:this.props.i18n.bt("!         .", "Got it! We'll try to show you more relevant Pins in the future.", "message displayed after hiding a pin", undefined, true)}})),Ie(this,"feedbackHelpers",(0,s.ZP)({i18n:this.props.i18n,interpolateNamedTemplate:H.nk})),Ie(this,"logOneTap",(()=>{const{logContextEvent:e,trackingParams:t,viewType:i,viewParameter:n,auxData:a,pinId:o,data:{pin:r}}=this.props,s=(0,c.Z)(t,r.tracking_params),d={view_type:this.props.viewType,view_parameter:this.props.viewParameter,element:r.story_pin_data_id?12372:35,component:this.props.componentType,object_id_str:o,aux_data:{commerce_data:(0,l.Z)({isEligibleForPdp:r.is_eligible_for_pdp,isOosProduct:r.is_oos_product,isStaleProduct:r.is_stale_product,pinShoppingFlags:r.shopping_flags}),grid_index:this.props.slotIndex,image_signature:r.image_signature,...this.props.auxData},clientTrackingParams:s};e({event_type:8948,view_type:i,view_parameter:n,object_id_str:o,clientTrackingParams:s,aux_data:{image_signature:r.image_signature,closeup_navigation_type:"click",click_type:"clickthrough",cosmic_ray_count:"2",...a}}),(0,fe.jC)(d),e({component:this.props.componentType,event_type:13,view_type:3,clientTrackingParams:s,aux_data:{closeup_navigation_type:"web_closeup",image_signature:r.image_signature},object_id_str:o})})),Ie(this,"markPinAsSeen",(()=>this.props.data.markPinAsSeen(this.props.pinId))),Ie(this,"handleLoad",(()=>{this.setState({startImpressionTimer:!0})})),Ie(this,"handleError",(()=>{this.setState({startImpressionTimer:!1})})),Ie(this,"handleClick",(e=>{const{auxData:t,componentType:i,deviceType:n,logContextEvent:a,pinId:o,data:{pin:r},slotIndex:s,trackingParams:d,viewParameter:u,viewType:p,duploFeedItemProps:h,isAuth:m,trackInteraction:_,unauthDesktopSignupModalPageContext:g}=this.props,{onPinClick:v}=null!=h?h:{},y=e=>(0,D.My)(`unauth_pin_rep.${e}.${String(u)}`);if(y("click"),a({view_type:p,view_parameter:u,element:r.story_pin_data_id?12372:35,event_type:101,component:i,object_id_str:o,clientTrackingParams:(0,c.Z)(d,r.tracking_params),aux_data:{commerce_data:(0,l.Z)({isEligibleForPdp:r.is_eligible_for_pdp,isOosProduct:r.is_oos_product,isStaleProduct:r.is_stale_product,pinShoppingFlags:r.shopping_flags}),grid_index:s,image_signature:r.image_signature,...t}}),je(r)||a({event_type:8948,view_type:p,view_parameter:u,object_id_str:o,clientTrackingParams:(0,c.Z)(d,r.tracking_params),aux_data:{image_signature:r.image_signature,commerce_data:(0,l.Z)({isEligibleForPdp:r.is_eligible_for_pdp,isOosProduct:r.is_oos_product,isStaleProduct:r.is_stale_product,pinShoppingFlags:r.shopping_flags}),closeup_navigation_type:"click",grid_index:s,cosmic_ray_count:"3",...t}}),!m)switch(_({action:"click",item:"pin"}),p){case 3:(0,D.NC)("click_pin_related_image");break;case 5:(0,D.NC)("click_board_pin_image");break;case 210:(0,D.NC)("click_topic_pin_image")}if(je(r)&&this.logOneTap(),v&&v(),"desktop"===n){if(e.metaKey){y("click.cmd_button_pressed"),e.preventDefault();window.open(`/pin/${o}/`,"_blank").focus()}else if(!m&&g){const{pinImageClickHandler:t}=g;t({event:e,pin:r,linkTarget:"duploClientNav"})}}})),Ie(this,"handleCreditsClick",(e=>{var t;const{history:i,logContextEvent:n,data:{pin:a}}=this.props,{id:o,sponsorship:r,story_pin_data_id:s}=a,{creator:l,sponsor:d}=r||{},{id:c}=l||{},{id:u}=d||{},p=!!s;e.stopPropagation(),e.preventDefault();const h=null===(t=this.getCredits())||void 0===t?void 0:t.link;h&&i.push(h),n({view_type:3,element:27,event_type:102,object_id_str:o,component:p?230:void 0,aux_data:{pin_id:o,...c&&u?{creator_id:c,sponsor_id:u}:{}}})})),Ie(this,"handleUnfollowPin",(()=>this.props.data.markPinUnfollowed(this.props.pinId))),Ie(this,"handlePinSend",(e=>{e&&e.stopPropagation&&e.stopPropagation();const{data:{board:t},pinId:i,setSharingOnBoardPage:n}=this.props;t&&n&&t.isSocialSeasonalBoard&&n(!0,"pin",i)})),Ie(this,"isOverrideImageOnly",(()=>{const{data:{pin:{rich_summary:e}},viewerIsNewUser:t,viewParameter:i}=this.props;return e&&43===i&&!t||3375===i})),Ie(this,"convertToGif",(e=>{const t=Math.max(e.embed&&e.embed.width||0,236),i=Math.max(e.embed&&e.embed.height||0,236);return{url:e.embed?e.embed.src:"",width:t,height:i}}))}componentDidMount(){const{isAuth:e,slotIndex:t,viewParameter:i,location:n,data:{pin:a}}=this.props;if(!e&&0===t&&3070===i){const e=n.pathname,{image_signature:t,id:i,images:o,description:r}=a;(0,ue.H$)(e,t,i,o,r)}}getIsClaimedContent(){var e,t;const{viewParameter:i,data:{pin:n}}=this.props;return 3375===i&&!(null===(e=n.link_domain)||void 0===e||null===(t=e.official_user)||void 0===t||!t.is_primary_website_verified)}getCredits(){const{adBlockTextTransform:e,viewParameter:t,pinId:i,data:{board:n,pin:a}}=this.props,o=a.story_pin_data,r=a.pinner,s=a.promoter,l=null==o?void 0:o.has_product_pins,d=0===t,c=3173===t,u=3375===t,p=this.getIsClaimedContent(),h=a.native_creator,m=!!a.native_creator,_=Ce(a),{sponsorship:g}=a,{creator:v,sponsor:y}=g||{},f=_&&!!g&&(null==s?void 0:s.id)!==(null==h?void 0:h.id),x=!!g&&v;if(!(_||x||d||c||m||p))return;switch(f?"PROMOTED_SPONSORED":_?"PROMOTED":x?"SPONSORED":m?"AFFILIATED_PRODUCTS":l?"NATIVE_CONTENT":p?"CLAIMED_CONTENT":n&&"protected"===n.privacy?"SAVED_BY":"DEFAULT"){case"PROMOTED_SPONSORED":return{title:null==h?void 0:h.full_name,subtitle:null==s?void 0:s.full_name,avatar:this.getPinnerImage(null==h?void 0:h.image_small_url),mediumAvatar:this.getPinnerImage(null==h?void 0:h.image_medium_url),largeAvatar:this.getPinnerImage(null==h?void 0:h.image_large_url),link:null!=h&&h.username?`/${h.username}/`:""};case"PROMOTED":return{title:e(this.props.i18n.bt(":", "Promoted by", "Grid pin annotation", undefined, true)),subtitle:null==s?void 0:s.full_name,avatar:this.getPinnerImage(null==s?void 0:s.image_small_url),mediumAvatar:this.getPinnerImage(null==s?void 0:s.image_medium_url),largeAvatar:this.getPinnerImage(null==s?void 0:s.image_large_url),link:null!=s&&s.username?`/${s.username}/`:""};case"SPONSORED":if(!g)throw new Error("sponsorship doesn't exist when expected");return{title:null==h?void 0:h.full_name,subtitle:null==y?void 0:y.full_name,avatar:this.getPinnerImage(null==h?void 0:h.image_small_url),mediumAvatar:this.getPinnerImage(null==h?void 0:h.image_medium_url),largeAvatar:this.getPinnerImage(null==h?void 0:h.image_large_url),link:null!=h&&h.username?`/${h.username}/`:""};case"AFFILIATED_PRODUCTS":return{title:null==h?void 0:h.full_name,subtitle:"",avatar:this.getPinnerImage(null==h?void 0:h.image_small_url),mediumAvatar:this.getPinnerImage(null==h?void 0:h.image_medium_url),largeAvatar:this.getPinnerImage(null==h?void 0:h.image_large_url),link:null!=h&&h.username?`/${h.username}/`:""};case"NATIVE_CONTENT":let t=(null==n?void 0:n.url)||`/pin/${i}/`;return u&&(t=null!=h&&h.username?`/${h.username}/`:""),{title:"",subtitle:null==h?void 0:h.full_name,avatar:this.getPinnerImage(null==h?void 0:h.image_small_url),mediumAvatar:this.getPinnerImage(null==h?void 0:h.image_medium_url),largeAvatar:this.getPinnerImage(null==h?void 0:h.image_large_url),link:t};case"CLAIMED_CONTENT":const{link_domain:o}=a,{official_user:l}=o||{};return l?{subtitle:l.full_name,avatar:this.getPinnerImage(l.image_small_url),mediumAvatar:this.getPinnerImage(l.image_medium_url),largeAvatar:this.getPinnerImage(l.image_large_url),link:l.username?`/${l.username}/`:""}:void 0;case"SAVED_BY":return{title:this.props.i18n.bt(":", "Saved by", "Grid pin annotation", undefined, true),subtitle:"",avatar:this.getPinnerImage(null==r?void 0:r.image_small_url),mediumAvatar:this.getPinnerImage(null==r?void 0:r.image_medium_url),largeAvatar:this.getPinnerImage(null==r?void 0:r.image_large_url),link:(null==n?void 0:n.url)||`/pin/${i}/`};default:return{title:(null==r?void 0:r.full_name)||"",subtitle:"",avatar:this.getPinnerImage(null==r?void 0:r.image_small_url),mediumAvatar:this.getPinnerImage(null==r?void 0:r.image_medium_url),largeAvatar:this.getPinnerImage(null==r?void 0:r.image_large_url),link:(null==n?void 0:n.url)||`/pin/${i}/`}}}getSharedHeaderInviteCode(){var e;const{viewParameter:t,viewedSharedPins:i,pinId:n}=this.props;return 92===t?null===(e=i&&i[n])||void 0===e?void 0:e.inviteCode:void 0}getPinnerImage(e){return e&&e.includes("/user/default")?void 0:e}getPinText(){const{grid_title:e,rich_summary:t,description:i}=this.props.data.pin;return"string"==typeof e?{title:e,description:""}:{title:null==t?void 0:t.display_name,description:i}}renderPinCard(){var e,t,i,n,a,o,s,l,p,m,_,g,f,x,w,P,S,I,j,C,A,E,R,D,L,F,O,z,N,M,Z,B,V,H;const{checkExperiment:W,country:$,disableAppUpsell:K,duploDisablePinCardPadding:G,disableRounding:J,disableReaction:X,deviceType:Q,experience:te,feedback:ae,imageOnlyOption:re,i18n:de,isAuth:ue,isBot:pe,duploIsSquarePin:he,isImageOnlyExp:ve,location:ye,duploFeedItemProps:fe,duploLazyLoadImage:xe,duploOneTapSave:be,duploPinCardDetailsMargin:we,duploPriorityFetchImage:Pe,pinId:Se,data:{pin:ke,board:Ie},slotIndex:Ae,viewParameter:Fe,viewType:Oe,duploShouldAllowProductPriceIndicator:ze,topLevelTrafficSource:Ne,topLevelTrafficSourceDepth:Me,trafficSource:Ze,duploUnauthRelatedPinsAutoplayExpGroup:Ue,trackingParams:Be,trackInteraction:Ve,vaseDisplayMode:He,createUnauthContextMenuHandler:We,duploConversationPin:$e}=this.props,{onPinLinkClick:Ke,showSeoMetadata:Ge}=null!=fe?fe:{},{aggregated_pin_data:qe,category:Ye,link_domain:Je,image_signature:Xe,promoter:Qe,rich_metadata:et,rich_summary:tt,title:it,sponsorship:nt,story_pin_data:at}=ke,{description:ot,title:rt}=this.getPinText(),st="desktop"===Q,lt=Ee(ke),dt=0===Fe,ct=3475===Fe,ut=43===Fe,pt=Ce(ke),ht=!!nt,mt=null==at?void 0:at.has_product_pins,_t=null==at?void 0:at.is_deleted,gt=(0,c.Z)((ye&&ye.state||{}).trackingParams||Be,ke.tracking_params),vt="product"===Ee(ke)&&!ue&&!pe&&(!W("unauth_gate_product_pins_by_country_and_trustworthiness").anyEnabled||ke.is_eligible_for_pdp),yt=ve&&!this.isOverrideImageOnly(),ft=Ie&&Ie.isSocialSeasonalBoard,xt=this.getPinImage(),bt=ft&&"gif"===lt?this.convertToGif(ke):xt,wt=null===(e=ke.videos)||void 0===e||null===(t=e.video_list)||void 0===t?void 0:t.V_720P,Pt=(null==wt?void 0:wt.url)||(null===(i=ke.videos)||void 0===i||null===(n=i.video_list)||void 0===n||null===(a=n.V_HLSV4)||void 0===a?void 0:a.url),St=(0,ie.hP)(null!==(o=ke.description)&&void 0!==o?o:"",ke.description_html||"",null===(s=ke.pin_join)||void 0===s?void 0:s.visual_annotation,ke.alt_text||""),kt=ue?ot:(0,u.Z)({storyPinDataId:ke.story_pin_data_id,pinDescription:ke.description,richMetadataDescription:null!==(l=null===(p=ke.rich_metadata)||void 0===p?void 0:p.description)&&void 0!==l?l:"",richSummaryDisplayName:null!==(m=null===(_=ke.rich_summary)||void 0===_?void 0:_.display_name)&&void 0!==m?m:"",placeSummaryName:null!==(g=ke.place_summary)&&void 0!==g?g:"",closeupDescription:null!==(f=ke.closeup_description)&&void 0!==f?f:"",closeupUnifiedDescription:null!==(x=ke.closeup_unified_description)&&void 0!==x?x:""}),It=te&&te.display_data.hideReactions||!1,Tt=te&&te.display_data.hideDesc||!1,jt=!X&&(0,_e.J6)({boardIsCollaborative:null==Ie?void 0:Ie.is_collaborative,isDownstreamPromotion:ke.is_downstream_promotion,isPromoted:ke.is_promoted,storyPinDataId:ke.story_pin_data_id,videosId:null===(w=ke.videos)||void 0===w?void 0:w.id})&&!ct&&!It,Ct=!ue;let At;At=je(ke)?ke.tracked_link||ke.link:Ct?(0,ie.bN)({pinId:Se,seoUrl:ke.seo_url}):(0,ie.BY)(Se);const Et=!ot||yt&&!dt?void 0:ot.trim(),Rt=this.getSharedHeaderInviteCode(),Dt={accessibilityLabel:St||rt||ot||"",country:$,deeplinkUri:At,external:je(ke),externalQueryParams:{pin:Se,client_tracking_params:Be},isAppUpsellDisabled:K,onTouch:this.handleClick,pinCategory:ke.category,pressState:"none",rounding:4,title:this.props.i18n.bt("  ", "See this Pin", "App Upsell Text after clicking on Pin in feed", undefined, true),to:{pathname:At,state:{trackingParams:Be,trafficSource:Ze,topLevelTrafficSource:Ne,topLevelTrafficSourceDepth:Me}},upsellType:"direct",viewParameter:Fe,viewType:Oe,clientTrackingParams:gt},Lt=Te({isDesktop:st}),Ft=ke.native_creator||ke.pinner,Ot="search"===Ze&&"storyPin"===lt&&W("mweb_search_ideapin_module").anyEnabled,zt=(0,b.kb)(Je,et,tt);return(0,y.jsxs)(v.xu,{"data-test-id":"pin","data-test-pin-id":Se,marginBottom:st?0:2,children:[(0,y.jsxs)(v.xu,{"data-test-id":St||rt||ot?"pin-with-alt-text":"pin-missing-alt-text",padding:G?0:Lt,marginBottom:0,onContextMenu:Ft?We({pinId:Se,deviceOptions:{isDesktop:!0}}):void 0,dangerouslySetInlineStyle:{__style:this.state.isShowingCustomContextMenu?ge.Yw:{}},children:[(0,y.jsxs)(oe.MZ,{...Dt,children:[!!Rt&&(0,y.jsx)(q,{inviteCode:Rt}),_t?(0,y.jsx)(le.Z,{isPinRep:!0}):(0,y.jsx)(Y.Z,{clientTrackingParams:gt,color:null!==(P=ke.dominant_color)&&void 0!==P?P:"",description:Et,domainLinkData:ke.domain&&ke.link?{clickLoggingOptions:{auxData:{objectId:Se,grid_index:Ae,sanitized_url:ke.link}},domain:ke.domain,link:ke.link,onClick:Ke}:void 0,disableRounding:J,hideBottomCardText:ft,image:bt,imageAltText:St,imageCrop:ke.image_crop,isMessenger:ft,isPromoted:pt,isSquarePin:he,lazyLoadImage:xe,onError:this.handleError,oneTapSave:be,onLoad:this.handleLoad,priorityFetchImage:Pe,disableDefaultContextMenu:()=>this.setState({isShowingCustomContextMenu:!0}),createUnauthContextMenuHandler:We,pinId:Se,pinnedToBoardId:(null===(S=ke.pinned_to_board)||void 0===S?void 0:S.id)||"",pinVideo:(ft||pt)&&wt||void 0,videoUrl:Pt,productPrice:ze&&!vt?De(ke):null,slotIndex:Ae,storyData:at,title:!yt||dt?rt:void 0,type:lt,videoDuration:Re(ke),unauthRelatedPinsAutoplayExpGroup:Ue,viewType:Oe,viewParameter:Fe})]}),!("image-only"===re)&&(ue||"desktop"===Q)&&(0,y.jsxs)(v.xu,{children:[!ct&&!ut&&"desktopParity"===He&&(0,y.jsx)(ce.Z,{pinId:Se,mode:"inlineWithScrollArrows",graphqlRef:null}),!vt&&(0,y.jsx)(oe.MZ,{...Dt,children:(0,y.jsx)(U,{duploConversationPin:$e,allowPriceIndicator:!ze&&!vt&&["shop_feed"].includes(Ze),marginTop:we,hidePinMetadata:Tt,contextMenu:ue&&!_t?(0,y.jsx)(v.xu,{marginStart:1,marginTop:we,children:(0,y.jsx)(v.xu,{height:26,width:24,children:(0,y.jsx)(r.Z,{name:"SafeSuspense_Pin_ContextualMenu",children:(0,y.jsx)(k.Z,{children:(0,y.jsx)(Le,{adMatchReason:ke.ad_match_reason,bestPinImgSrc:(0,d.Z)({images:ke.images,embedSrc:null===(I=ke.embed)||void 0===I?void 0:I.src,embedType:null===(j=ke.embed)||void 0===j?void 0:j.type}),feedback:ae,feedbackType:this.getFeedbackType(),getRecommendationDescription:this.getRecommendationDescription,graphqlRef:null,imageSignature:Xe,pinCategory:Ye,pinDescription:kt,pinId:Se,pinTitle:it,sourceType:pt?"ad":dt?"following":void 0,viewParameter:Fe,viewType:Oe,trackingParams:Be})})})})}):null,credits:this.getCredits(),hasAffiliatedProducts:mt,isPromotedPin:pt,isSponsoredPin:ht,isSquarePin:he,marginStart:we,marginEnd:we,onCreditsClick:this.handleCreditsClick,pinDescription:kt,pinId:Se,pinnedToBoardId:(null===(C=ke.pinned_to_board)||void 0===C?void 0:C.id)||"",pinReactionCounts:ke.reaction_counts,pinTagsChips:(qe||{}).pin_tags_chips,promoterName:null==Qe?void 0:Qe.full_name,recipeCookTime:yt?void 0:ke.rich_summary&&ke.rich_summary.display_cook_time,recipeMaxRating:yt||null==tt||null===(A=tt.aggregate_rating)||void 0===A?void 0:A.best_rating,recipeRating:yt||null==tt||null===(E=tt.aggregate_rating)||void 0===E?void 0:E.rating_value,recipeReviewCount:yt||null==tt||null===(R=tt.aggregate_rating)||void 0===R?void 0:R.review_count,shouldShowReactions:jt,style:Ot?"overlay":"default",title:Ot?void 0:rt,type:lt})})]}),!ue&&vt&&(0,y.jsx)(se,{description:ke.description,domain:null===(D=ke.rich_summary)||void 0===D?void 0:D.site_name,gridTitle:ke.grid_title,pinId:Se,pinProduct:zt,placeSummaryName:ke.place_summary,richMetadataTitle:null===(L=ke.rich_metadata)||void 0===L?void 0:L.title,richSummaryDisplayName:null===(F=ke.rich_summary)||void 0===F?void 0:F.display_name,storyPinDataId:ke.story_pin_data_id,storyPinDataMetadataPinTitle:null===(O=ke.story_pin_data)||void 0===O||null===(z=O.metadata)||void 0===z?void 0:z.pin_title,title:ke.title})]}),(null==Ie?void 0:Ie.isSocialSeasonalBoard)&&ue&&(0,y.jsx)(v.xu,{color:"secondary",marginBottom:6,marginEnd:"auto",marginStart:"auto",marginTop:-2,position:"relative",rounding:2,width:"90%",children:(0,y.jsx)(h.Z,{onTouch:this.handlePinSend,pressState:"none",rounding:2,children:(0,y.jsx)(v.xu,{padding:3,children:(0,y.jsx)(v.xv,{align:"center",weight:"bold",children:de.bt("", "Send", " - ", undefined, true)})})})}),"reported"===ke.feedback_status?(0,y.jsx)(ee,{color:null!==(N=ke.dominant_color)&&void 0!==N?N:"",getFeedbackText:()=>({title:this.props.i18n.bt(" ", "Reported", "message displayed after reporting a pin", undefined, true),subTitle:this.props.i18n.bt("!         Pinterest.", "Thanks! Your feedback helps us keep the Pinterest community safe.", "message displayed after reporting a pin", undefined, true)}),pinId:Se,showing:!!ke.feedback_status}):(0,y.jsx)(ee,{color:null!==(M=ke.dominant_color)&&void 0!==M?M:"",getFeedbackText:this.getPinHiddenFeedbackText,onUnfollow:this.handleUnfollowPin,pinId:Se,showing:!!ke.feedback_status,unfollowed:"unfollowed"===ke.feedback_status,viewParameter:Fe,viewType:Oe}),Ge&&"inlineHidden"===He&&!vt&&(0,y.jsx)(T.Z,{id:"related-pins-title",children:(0,y.jsx)(v.iP,{onTap:()=>{Ve({action:"click",item:"related-pins-title"})},fullWidth:!1,children:(0,y.jsx)(ne,{description:ke.description,gridTitle:ke.grid_title,pinId:Se,placeSummaryName:ke.place_summary,richMetadataTitle:null===(Z=ke.rich_metadata)||void 0===Z?void 0:Z.title,richSummaryDisplayName:null===(B=ke.rich_summary)||void 0===B?void 0:B.display_name,storyPinDataId:ke.story_pin_data_id,storyPinDataMetadataPinTitle:null===(V=ke.story_pin_data)||void 0===V||null===(H=V.metadata)||void 0===H?void 0:H.pin_title,title:ke.title})})}),ke.debug&&(0,y.jsx)(me.W,{data:ke.debug})]})}render(){const{componentType:e,pinId:t,trackingParams:i,viewParameter:n,viewType:a,slotIndex:o,objectIdStr:r,viewData:s}=this.props,{startImpressionTimer:l}=this.state;return(0,y.jsx)(ve.dL,{auxData:this.getAuxData(),component:e,impressionData:this.getImpressionData(),isPaused:!l,loggingId:t,objectIdStr:r,onTracked:this.markPinAsSeen,slotIndex:o,trackingParams:i,viewData:s,viewParameter:n,viewType:a,children:({impressionTrackerRef:e})=>(0,y.jsx)(v.xu,{ref:e,children:this.renderPinCard()})})}}function Oe(e){const t=(0,x.ZP)(),i=(0,ke.g)(),{checkExperiment:n}=(0,L.F)(),o=(0,O.useHistory)(),r=(0,O.useLocation)(),s=(0,j.ZP)(),l=(0,Se.M)(),d=(0,we.yz)(),c=(0,be._)({id:1000107}),u=(0,Pe.Z)(),h=(0,A.Z)(),{country:m,isAuthenticated:_,isBot:g}=(0,z.B)(),v=(0,de.Z)(),f=(0,a.useDispatch)(),{hasPoorConnection:b,viewedSharedPins:w}=(0,a.useSelector)((({session:e})=>e)),P=(0,a.useSelector)((({experiences:e})=>{const t=e[1000107];return!!t&&500678===t.experience_id})),S=(0,a.useSelector)((({session:e,users:t})=>(0,p.Z)(t[e.userId].created_at)));return(0,y.jsx)(Fe,{...e,adBlockTextTransform:v,checkExperiment:n,country:m,createUnauthContextMenuHandler:l,deviceType:s,experience:c,hasPoorConnection:b,history:o,i18n:t,isAuth:_,isBot:g,isImageOnlyExp:P,location:r,logContextEvent:u,pwaType:d,setSharingOnBoardPage:(e,t,i)=>f((0,ye.Mj)(e,t,i)),trackInteraction:h,unauthDesktopSignupModalPageContext:i,vaseDisplayMode:"desktop"===s?"desktopParity":"inlineHidden",viewedSharedPins:w,viewerIsNewUser:S})}const ze=({pinId:e,viewParameter:t,viewType:i})=>{const n=(0,P.S6)()(e),o=(0,a.useDispatch)();return n?{board:n.board,markPinAsSeen:e=>o(he({pinId:e,viewParameter:t,viewType:i})),markPinUnfollowed:e=>o((0,xe.fH)(e,"unfollowed")),pin:n}:null},Ne=(0,o.Z)({useGraphQLAdapter:ze,useLegacyAdapter:ze});function Me(e){const{pinId:t,viewParameter:i,viewType:n}=e;return(0,y.jsx)(Ne,{input:{enabled:!1,data:{pinId:t,viewParameter:i,viewType:n}},children:({data:t})=>!!t&&(0,y.jsx)(Oe,{...e,data:t})})}},167525:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(898781),a=i(643010),o=i(883119),r=i(785893);function s({text:e,icon:t,largeIdentifier:i,largeMargin:s}){const l=(0,n.ZP)();return(0,r.jsxs)(o.xu,{zIndex:new o.Ry(1),alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:(0,a.Yc)()?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.8)"}},display:"flex",margin:s?4:2,overflow:"hidden",position:"absolute",rounding:"pill",padding:2,paddingX:i?4:void 0,height:i?36:24,top:!0,children:[t&&(0,r.jsx)(o.xu,{marginEnd:i?2:1,children:(0,r.jsx)(o.JO,{accessibilityLabel:l.bt(",    ", "identifier that shows the pin type", "pin.pincard.iconAccessibilityLabel", undefined, true),color:"default",icon:t,inline:!0,size:i?18:12})}),(0,r.jsx)(o.xv,{inline:!0,size:i?"200":"100",weight:"bold",children:e})]})}},74399:(e,t,i)=>{i.d(t,{Z:()=>m});var n=i(994718),a=i(425713),o=i(430323),r=i(829407),s=i(898781),l=i(112690),d=i(19121),c=i(883119),u=i(785893);const p=({isOwnProfile:e})=>{const t=(0,s.ZP)();return(0,u.jsx)(c.xu,{paddingY:4,children:e?(0,u.jsx)(n.Z,{message:t.bt("      .   ...", "You haven't saved any ideas yet. Find ideas you love...", "you have no pins", undefined, true),icon:"arrow-circle-forward",iconLabel:t.bt("   ", "Go to home feed", "profile.pins.redirectButtonLabel", undefined, true),url:"/"}):(0,u.jsx)(n.Z,{message:t.bt("       .", "This Pinner hasn't saved any ideas yet.", "user has no boards and pins", undefined, true)})})},h=({username:e,isAuthenticated:t,isOwnProfile:i})=>({add_vase:!t,field_set_key:"mobile_grid_item",is_own_profile_pins:i,username:e});function m({isOwnProfile:e,isProfilePinsStale:t,username:i,isRelatedPins:n=!1}){const s=(0,l.Z)(),{isAuth:c}=(0,d.Z)();(0,r.Z)((()=>{n&&s({event_type:13,view_type:4,view_parameter:e?3106:3107,component:14081})}));const m=()=>(0,u.jsx)(a.ZP,{feedKey:`profile-pins:${i}`,trafficSource:"user_pins",resourceConfig:{name:"UserPinsResource",options:h({isAuthenticated:c,isOwnProfile:e,username:i}),noCache:!e||t},feedItemProps:{viewParameter:e?3106:3107,viewType:4},emptyState:(0,u.jsx)(p,{isOwnProfile:e})});return n?(0,u.jsx)(o.Z,{component:14081,viewParameter:e?3106:3107,view:4,children:m()}):m()}},255607:(e,t,i)=>{function n(e){const t=Object.keys(e);if(t.length>0){return t.sort(((t,i)=>e[i]-e[t])).slice(0,3)}return null}function a(e){const t=Object.values(e);if(t.length>0){return t.reduce(((e,t)=>e+t),0)}return 0}function o({boardIsCollaborative:e,isDownstreamPromotion:t,isPromoted:i,storyPinDataId:n,videosId:a}){return!(i||t||!a&&!n||null!=e&&e)}i.d(t,{At:()=>n,J6:()=>o,Ud:()=>a})},130460:(e,t,i)=>{i.d(t,{bn:()=>s,fJ:()=>d,gC:()=>l});var n=i(702664),a=i(425288),o=i(785893);const{Provider:r,useHook:s}=(0,a.Z)("Boards");function l(){const e=s();return t=>e[t]}function d({children:e}){const t=(0,n.useSelector)((({boards:e})=>e),n.shallowEqual);return(0,o.jsx)(r,{value:t,children:e})}},350118:(e,t,i)=>{i.d(t,{AF:()=>s,H0:()=>l,S6:()=>d,_S:()=>c});var n=i(702664),a=i(425288),o=i(785893);const{Provider:r,useHook:s,useMaybeHook:l}=(0,a.Z)("Pins");function d(){const e=s();return t=>e[t]}function c({children:e}){const t=(0,n.useSelector)((({pins:e})=>e),n.shallowEqual);return(0,o.jsx)(r,{value:t,children:e})}},349741:(e,t,i)=>{i.d(t,{Z:()=>b});var n=i(667294),a=i(327212),o=i(830157),r=i(499128),s=i(898781),l=i(349700),d=i(883119),c=i(785893);function u({hideToast:e,newPin:t,originalPinId:i}){var n,a;const o=(0,s.ZP)();return(0,c.jsx)(r.ZP,{primaryAction:{accessibilityLabel:o.bt("   ", "Change saved Pin button", "RepinRequest.a11yChangeButton", undefined, true),href:`/pin/${t.id}/repin/?isEditingPin=true&pinBoardId=${null!==(n=null===(a=t.board)||void 0===a?void 0:a.id)&&void 0!==n?n:""}&&isFromToast=true&&originalPinId=${null!=i?i:""}`,label:o.bt("", "Change", "RepinRequest.ChangeButton", undefined, true),size:"lg",onClick:e},duration:5e3,onHide:e,text:(0,c.jsx)(d.xv,{children:(0,l.nk)(o.bt("   {{ profile }}", "Saved to {{ profile }}", "RepinRequest.ProfileSaveToastText", undefined, true),{profile:(0,c.jsx)(d.xv,{inline:!0,weight:"bold",children:o.bt("", "Profile", "RepinRequest.ProfileSaveToastText.Profile", undefined, true)})})}),iconThumbnail:(0,c.jsx)(d.xu,{color:"secondary",display:"flex",justifyContent:"center",alignItems:"center",height:48,width:48,children:(0,c.jsx)(d.JO,{accessibilityLabel:o.bt("", "Profile", "RepinRequest.ProfileIcon", undefined, true),icon:"history",size:22})})})}var p=i(6637),h=i(483025),m=i(414327),_=i(332611),g=i(675752),v=i(56632),y=i(12918),f=i(782677);const x=({board:e,section:t})=>{const i=(0,s.ZP)();return t?(0,l.nk)(i.bt("   {{sectionName}}  {{boardName}}", "Saved to {{sectionName}} in {{boardName}}", "Toast for successfully saving to a section within a board", undefined, true),{sectionName:t&&t.title,boardName:e.name}).join(""):(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(d.xv,{color:"default",children:i.bt(":", "Saved to", "Saved to {{ boardName }}", undefined, true)}),(0,c.jsx)(d.xv,{color:"default",weight:"bold",children:e.name})]})};class b{constructor({boardId:e,dispatch:t,history:i,isOneTapSave:n=!1,isQuickSave:a=!1,onSuccess:r,onUndo:s,originalPinId:l,pin:d,resourceName:c,section:u,showNewUserSavetoProfileAnimation:p=!1,showRepinToasts:m,trackingParams:_,userId:g,viewType:v=3,historyPush:y=(()=>{})}){var x,b,w,P,S;S=e=>(0,f.Fv)(e.resource_response.data,h.Z[this.resourceName]),(P="_getNormalizedResponse")in(w=this)?Object.defineProperty(w,P,{value:S,enumerable:!0,configurable:!0,writable:!0}):w[P]=S,this.boardId=e,this.trackingParams=_,this.clientTrackingParams=(0,o.Z)(_.clientTrackingParams||"",d.tracking_params),this.dispatch=t,this.history=i,this.onSuccess=r,this.onUndo=s,this.originalPinId=l,this.pin=d,this.pinnedToBoardId=_.pinnedToBoardId||(null!==(x=null===(b=d.pinned_to_board)||void 0===b?void 0:b.id)&&void 0!==x?x:""),this.resourceName=c,this.showNewUserSavetoProfileAnimation=p,this.showRepinToasts=m,this.section=u,this.isOneTapSave=n,this.isQuickSave=a,this.userId=g,this.viewType=v,this.historyPush=y}get resourceOptions(){const{link:e,title:t,promoted_is_removable:i,id:n}=this.pin,a=i?{is_removable:!0}:{};return{pin_id:n,board_id:this.boardId,section:this.section&&this.section.id,clientTrackingParams:this.clientTrackingParams,link:null!=e?e:"",title:null!=t?t:"",user_id:this.userId,is_removable:a}}get trackingData(){return{event_type:5,element:this.isOneTapSave?10599:void 0,view_type:this.viewType,component:this.isOneTapSave?0:7,view_parameter:this.isOneTapSave?3173:(0,g.A)(this.pin),object_id_str:this.pin.id,clientTrackingParams:this.clientTrackingParams,aux_data:{board_id:this.pinnedToBoardId,destination_board_id:this.boardId}}}_createRepin(){return p.Z.create(this.resourceName,{...this.resourceOptions,disable_event_log_info:!0}).callCreate()}processRepin(e){return this._createRepin().then((t=>{this.onSuccess&&this.onSuccess();const i=t.resource_response.data,{board:n}=i,{isQuickSave:o,originalPinId:r,showNewUserSavetoProfileAnimation:l}=this,p=({hideToast:e})=>{var t;if(o&&!l)return(0,c.jsx)(u,{hideToast:e,newPin:i,originalPinId:r});const{thumbnail:p}=(0,v.L)(n.id);return(0,c.jsx)(a.Z,{button:l?(0,c.jsx)(s.oz,{children:e=>(0,c.jsx)(d.zx,{fullWidth:!0,onClick:({event:t})=>{t.preventDefault(),t.stopPropagation();const a=this.onUndo;var o;a&&!l?a(this.pin.id,i.id,n.id,null===(o=this.section)||void 0===o?void 0:o.id,e):l&&this.historyPush(`/pin/${i.id}/repin/?isEditingPin=true&pinBoardId=${n.id}&&isFromToast=true&&originalPinId=${null!=r?r:""}`)},text:l?e.bt("", "Organize", "RepinRequest.OrganizeButton", undefined, true):e.bt("", "Undo", "RepinRequest.UndoButton", undefined, true)})}):void 0,href:this.section?`${n.url}${null!==(t=this.section.slug)&&void 0!==t?t:""}`:n.url,isRepinToExistingBoard:!0,onHide:e,text:(0,c.jsx)(x,{board:n,section:this.section}),thumbnail:p})},h=this._getNormalizedResponse(t);if(this.dispatch((0,m.XM)(this.resourceName,this.resourceOptions,t,h)),this.originalPinId&&this.originalPinId!==this.resourceOptions.pin_id){const e={...this.resourceOptions,pin_id:this.originalPinId};this.dispatch((0,m.XM)(this.resourceName,e,t,h))}this.dispatch((0,y.M)(i.id,n.id,this.section?this.section.id:void 0,this.userId));const g=this.showRepinToasts;return g&&g(p),this.dispatch((0,_.fO)({event_type:5})),e(this.trackingData),i}))}}},21384:(e,t,i)=>{i.d(t,{Z:()=>A});var n=i(667294),a=i(702664),o=i(373420),r=i(430322),s=i(121151),l=i(898781),d=i(643010),c=i(883119),u=i(50286),p=i(785893);function h({showFullScreenInfo:e,isOpen:t,interstitialUpsellDismissed:i,children:n}){const a=(0,l.ZP)(),o=(0,u.HG)(),h=(0,u.Wb)();return h||o?(0,p.jsx)(s.ZP,{accessibilityModalLabel:"",mobileHideCloseIcon:!0,mobileIsFullscreen:!0,isOpen:e&&!h,closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,p.jsx)(c.xu,{color:(0,d.Yc)()?"dark":"default",dangerouslySetInlineStyle:{__style:{border:(0,d.Yc)()?void 0:"1px solid #efefef",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"}},height:"100%",left:!0,maxHeight:"100%",overflow:"auto",position:"fixed",top:!0,width:o?"100vw":"100%",zIndex:new c.Ry(1),children:(0,p.jsx)(c.xu,{bottom:!0,left:!0,right:!0,top:!0,position:"fixed",padding:5,overflow:"scroll",marginTop:i?0:12,children:n})})}):(0,p.jsx)(r.default,{accessibilityModalLabel:a.bt("", "Close", "Close modal window", undefined, true),isOpen:t,onDismiss:()=>{},mobileAccessibilityCloseIconLabel:a.bt("", "Close", "Close modal window", undefined, true),children:n})}var m,_=i(784590),g=i(690035),v=i(52022),y=i(385801),f=i(623568),x=i(867820),b=i(350118),w=i(780280),P=i(992750),S=i(167912);const k=void 0!==m?m:m=i(276667);function I({iconColor:e,size:t,isMainPin:i,isAuth:r,pinCreditPrefix:s,onClickTitleOrDomain:d,richMetadataDescription:m,richMetadataTitle:_,richSummaryDisplayName:b,placeSummaryName:S,closeupUnifiedDescription:k,gridTitle:I,storyPinDataId:T,storyPinDataMetadataPinTitle:j,pinDescription:C,pinDomain:A,pinTitle:E,boardId:R,boardUrl:D,boardName:L,boardPrivacy:F,pinnerFullName:O,pinnerImageSmallUrl:z,pinnerImageLargeUrl:N,pinId:M,graphqlRef:Z}){const U=(0,l.ZP)(),B=(0,v.Z)(),{isBot:V}=(0,w.B)(),{unauthInterstitialDismissed:H}=(0,a.useSelector)((({session:e})=>e)),[W,$]=(0,n.useState)(!1),K=(0,u.HG)(),G=(0,u.Wb)(),q=(0,g.Z)(),Y=(0,f._S)(A)?A:"",J=!G&&!r,{description:X}=(0,P.eK)({richMetadataDescription:m,richSummaryDisplayName:b,placeSummaryName:S,closeupUnifiedDescription:k}),Q=(0,P.fs)({pinTitle:E,gridTitle:I,richSummaryDisplayName:b,richMetadataTitle:_,storyPinDataId:T,storyPinDataMetadataPinTitle:j,placeSummaryName:S})||C,ee=!K,te=(0,p.jsxs)(c.xu,{padding:5,dangerouslySetInlineStyle:J?{__style:{paddingTop:0,paddingBottom:30}}:void 0,children:[(0,p.jsx)(c.xu,{left:!0,position:"absolute",top:!0,color:"default",padding:4,"data-test-id":"close-seo-vase-see-more-button",children:(0,p.jsx)(c.hU,{accessibilityLabel:U.bt("", "Cancel", "close modal icon", undefined, true),icon:"cancel",size:"sm",onClick:()=>{(0,x.My)("mweb.unauth.see_more.dismissed"),B({action:"click",item:"close-seo-vase-see-more-button"}),$(!1),i&&(0,x.My)("mweb.unauth.see_more.main_pin.dismissed")},iconColor:"gray"})}),(0,p.jsx)(c.xu,{marginBottom:J?0:8,children:(0,p.jsx)(c.xv,{align:J?"start":"center",weight:J?void 0:"bold",children:(0,p.jsx)("span",{className:"deprecatedTextSizeXL",children:J?null:U.bt("...", "More information", "more information label", undefined, true)})})}),(0,p.jsx)(y.Z,{description:X,title:Q,pinCreditPrefix:s,onClickTitleOrDomain:d,pinDomain:Y,boardId:R,boardUrl:D,boardName:L,boardPrivacy:F,pinnerFullName:O,pinnerImageSmallUrl:z,pinnerImageLargeUrl:N,pinId:M,graphqlRef:Z})]});return(0,p.jsxs)(c.xu,{right:!0,"data-test-id":"SeoVaseSeeMoreButton",dangerouslySetInlineStyle:{__style:{float:"right"}},children:[(0,p.jsx)(c.hU,{accessibilityLabel:U.bt("", "See more", "more information icon", undefined, true),icon:"ellipsis",iconColor:null!=e?e:"gray",size:t||"md",onClick:({event:e})=>{e.stopPropagation(),(0,x.My)("mweb.unauth.see_more.shown"),B({action:"click",item:"seo-vase-see-more-button"}),G||r?($(!0),i&&(0,x.My)("mweb.unauth.see_more.main_pin.shown")):q({pinId:M||"",location:i?"main-pin-more-information":"non-main-pin-more-information",seoPlacementConfig:{description:X,titleText:Q,pinCreditPrefix:s,onClickTitleOrDomain:d,cleanPinDomain:Y,boardId:R,boardUrl:D,boardName:L,boardPrivacy:F,pinnerFullName:O,pinnerImageSmallUrl:z,pinnerImageLargeUrl:N,pinId:M,graphqlRef:Z}})}}),V&&ee?(0,p.jsx)(c.xu,{display:W?"flex":"none",children:te}):(0,p.jsx)(h,{showFullScreenInfo:W,isOpen:W&&!G,interstitialUpsellDismissed:!!H,children:te}),G&&W&&(0,p.jsx)(o.default,{accessibilityModalLabel:"test",onDismiss:()=>{},children:te})]})}function T(e){var t,i,n,a,o,r,s,l,d,c,u,h,m,_,g,v;const y=(0,S.useFragment)(k,e.graphqlRef);return(0,p.jsx)(I,{iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,richMetadataDescription:null!==(t=null==y||null===(i=y.richMetadata)||void 0===i?void 0:i.description)&&void 0!==t?t:"",richMetadataTitle:null!==(n=null==y||null===(a=y.richMetadata)||void 0===a?void 0:a.title)&&void 0!==n?n:"",richSummaryDisplayName:null!==(o=null==y||null===(r=y.richSummary)||void 0===r?void 0:r.displayName)&&void 0!==o?o:"",closeupUnifiedDescription:null!==(s=null==y?void 0:y.closeupUnifiedDescription)&&void 0!==s?s:"",gridTitle:null==y?void 0:y.gridTitle,storyPinDataId:null==y?void 0:y.storyPinDataId,storyPinDataMetadataPinTitle:null==y||null===(l=y.storyPinData)||void 0===l||null===(d=l.metadata)||void 0===d?void 0:d.pinTitle,pinDescription:null==y?void 0:y.description,pinDomain:(null==y?void 0:y.domain)||void 0,pinTitle:null==y?void 0:y.title,boardId:null==y||null===(c=y.board)||void 0===c?void 0:c.entityId,boardUrl:(null==y||null===(u=y.board)||void 0===u?void 0:u.url)||void 0,boardName:(null==y||null===(h=y.board)||void 0===h?void 0:h.name)||void 0,boardPrivacy:(null==y||null===(m=y.board)||void 0===m?void 0:m.privacy)||void 0,pinnerFullName:(null==y||null===(_=y.pinner)||void 0===_?void 0:_.fullName)||void 0,pinnerImageSmallUrl:null==y||null===(g=y.pinner)||void 0===g?void 0:g.imageSmallUrl,pinnerImageLargeUrl:null==y||null===(v=y.pinner)||void 0===v?void 0:v.imageLargeUrl,pinId:null==y?void 0:y.entityId,graphqlRef:y})}function j(e){var t,i,n,a,o,r,s,l,d,c,u;const h=(0,b.S6)()(null!==(t=e.pinId)&&void 0!==t?t:""),m=null==h?void 0:h.board,_=null==h?void 0:h.pinner;return(0,p.jsx)(I,{iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,richMetadataDescription:null!==(i=null==h||null===(n=h.rich_metadata)||void 0===n?void 0:n.description)&&void 0!==i?i:"",richMetadataTitle:null!==(a=null==h||null===(o=h.rich_metadata)||void 0===o?void 0:o.title)&&void 0!==a?a:"",richSummaryDisplayName:null!==(r=null==h||null===(s=h.rich_summary)||void 0===s?void 0:s.display_name)&&void 0!==r?r:"",placeSummaryName:null!==(l=null==h?void 0:h.place_summary)&&void 0!==l?l:"",closeupUnifiedDescription:null!==(d=null==h?void 0:h.closeup_unified_description)&&void 0!==d?d:"",gridTitle:null==h?void 0:h.grid_title,storyPinDataId:null==h?void 0:h.story_pin_data_id,storyPinDataMetadataPinTitle:null==h||null===(c=h.story_pin_data)||void 0===c||null===(u=c.metadata)||void 0===u?void 0:u.pin_title,pinDescription:null==h?void 0:h.description,pinDomain:null==h?void 0:h.domain,pinTitle:null==h?void 0:h.title,boardId:null==m?void 0:m.id,boardUrl:null==m?void 0:m.url,boardName:null==m?void 0:m.name,boardPrivacy:null==m?void 0:m.privacy,pinnerFullName:null==_?void 0:_.full_name,pinnerImageSmallUrl:null==_?void 0:_.image_small_url,pinnerImageLargeUrl:null==_?void 0:_.image_large_url,pinId:null==h?void 0:h.id})}function C(e){var t,i,n,a,o,r,s,l,d,c,u;const h=(0,b.S6)()(null!==(t=e.pinId)&&void 0!==t?t:""),m=null==h?void 0:h.board,g=null==h?void 0:h.pinner;return(0,_.Z)({name:"PinResource",options:{id:e.pinId,field_set_key:"unauth_ssr_lazy_load"}}),(0,p.jsx)(I,{iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,richMetadataDescription:null!==(i=null==h||null===(n=h.rich_metadata)||void 0===n?void 0:n.description)&&void 0!==i?i:"",richMetadataTitle:null!==(a=null==h||null===(o=h.rich_metadata)||void 0===o?void 0:o.title)&&void 0!==a?a:"",richSummaryDisplayName:null!==(r=null==h||null===(s=h.rich_summary)||void 0===s?void 0:s.display_name)&&void 0!==r?r:"",placeSummaryName:null!==(l=null==h?void 0:h.place_summary)&&void 0!==l?l:"",closeupUnifiedDescription:null!==(d=null==h?void 0:h.closeup_unified_description)&&void 0!==d?d:"",gridTitle:null==h?void 0:h.grid_title,storyPinDataId:null==h?void 0:h.story_pin_data_id,storyPinDataMetadataPinTitle:null==h||null===(c=h.story_pin_data)||void 0===c||null===(u=c.metadata)||void 0===u?void 0:u.pin_title,pinDescription:null==h?void 0:h.description,pinDomain:null==h?void 0:h.domain,pinTitle:null==h?void 0:h.title,boardId:null==m?void 0:m.id,boardUrl:null==m?void 0:m.url,boardName:null==m?void 0:m.name,boardPrivacy:null==m?void 0:m.privacy,pinnerFullName:null==g?void 0:g.full_name,pinnerImageSmallUrl:null==g?void 0:g.image_small_url,pinnerImageLargeUrl:null==g?void 0:g.image_large_url,pinId:null==h?void 0:h.id})}function A(e){return e.graphqlRef?(0,p.jsx)(T,{...e}):e.lazyLoadAnnotations?(0,p.jsx)(C,{...e}):(0,p.jsx)(j,{...e})}},108234:(e,t,i)=>{i.d(t,{Z:()=>g,s:()=>_});var n=i(667294),a=i(121151),o=i(608575),r=i(898781),s=i(349700),l=i(883119),d=i(785893);const c=()=>{var e;const t=(0,r.ZP)(),{dismissWarning:i}=null!==(e=_())&&void 0!==e?e:{};return(0,d.jsx)(l.xu,{paddingX:3,children:(0,d.jsx)(l.zx,{fullWidth:!0,color:"red",onClick:i,text:t.bt("", "Okay", "Dismiss a modal stating that clicking through to a link has been blocked", undefined, true)})})},u=()=>{const e=(0,r.ZP)();return(0,d.jsx)(l.xv,{inline:!0,weight:"bold",children:(0,d.jsx)(l.rU,{target:"blank",href:"https://policy.pinterest.com/community-guidelines#section-spam",display:"inlineBlock",underline:"hover",children:e.bt("", "Learn more", "Link text leading to policy website", undefined, true)})})},p=({message:e,sanitized_url:t})=>{var i;const n=(0,r.ZP)(),{dismissWarning:p}=null!==(i=_())&&void 0!==i?i:{};return(0,d.jsx)(a.ZP,{accessibilityModalLabel:n.bt("   ", "We have blocked this link", "Modal label when clicking a spammy link", undefined, true),onDismiss:p,heading:n.bt("!", "Heads up!", "Modal heading when clicking through to a link has been blocked", undefined, true),footer:(0,d.jsx)(c,{}),children:(0,d.jsxs)(l.xu,{padding:6,children:[(0,d.jsx)(l.xv,{children:(0,s.nk)("{{ message }} {{ learnMore }}",{message:e,learnMore:(0,d.jsx)(u,{},"learnMoreLink")})}),(0,d.jsxs)(l.xu,{alignItems:"center",display:"flex",marginTop:4,children:[(0,d.jsx)(l.xu,{marginEnd:3,children:(0,d.jsx)(l.JO,{accessibilityLabel:n.bt("  ", "Blocked link address", "Icon label preceding a block url", undefined, true),color:"error",icon:"report",inline:!0,size:24})}),(0,d.jsx)(l.xv,{inline:!0,lineClamp:1,weight:"bold",children:o.parse(t).hostname})]})]})})};var h=i(425288);const{Provider:m,useMaybeHook:_}=(0,h.Z)("SpammyClickthrough");function g({children:e}){const[t,i]=(0,n.useState)(null),a=(0,n.useCallback)((()=>{i(null)}),[i]),o=(0,n.useCallback)((e=>{i(e)}),[i]),r=(0,n.useMemo)((()=>({dismissWarning:a,showWarning:o})),[a,o]);return(0,d.jsxs)(m,{value:r,children:[t&&(0,d.jsx)(p,{...t}),e]})}},914142:(e,t,i)=>{i.d(t,{Z:()=>d,j:()=>l});var n=i(898781),a=i(883119),o=i(773285),r=i(349700),s=i(785893);const l=[0,2,3];function d({hasAffiliatedProducts:e,isPromoted:t,sponsorName:i,sponsorshipStatus:d,textColor:c}){const u=(0,n.ZP)(),p=(0,o.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled;let h;t?h=(0,r.nk)(u.bt(": {{ name }}", "Promoted by {{ name }}", "sponsorship.sponsorshipText.promotedByBrand", undefined, true),{name:i}):d||0===d?i&&!l.includes(d)?h=(0,r.nk)(u.bt("    {{ name }}", "Paid partnership with {{ name }}", "closeup.creator.sponsoredPinTitle", undefined, true),{name:i}):2!==d&&(h=u.bt(" ", "Paid partnership", "closeup.creator.sponsoredPinTitle", undefined, true)):e&&(h=u.bt("  ", "Includes sponsored products", "sponsorship.sponsorshipText.affiliatedProducts", undefined, true));const m=p&&!t?"Ad  ":"";return(0,s.jsxs)(a.xv,{color:c,size:"100",children:[m,h]})}},982828:(e,t,i)=>{i.d(t,{Z:()=>c});var n=i(667294),a=i(700380),o=i(883119),r=i(313047),s=i(785893);function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class d extends n.PureComponent{constructor(...e){super(...e),l(this,"onScroll",(0,a.Z)((e=>{if(this.anchorElement){const e=this.anchorElement.offsetTop+this.anchorElement.offsetHeight;window.scrollY>e&&!this.hasExited?(this.hasExited=!0,this.props.onExit()):window.scrollY<=e&&this.hasExited&&(this.hasExited=!1,this.props.onEnter());const{isOnView:n}=this;var t,i;if(n())null===(t=(i=this.props).onView)||void 0===t||t.call(i)}}),this.props.throttleTime||100)),l(this,"wasViewed",(()=>{var e;const t=null===(e=this.anchorElement)||void 0===e?void 0:e.getBoundingClientRect();return!!t&&t.top<=r.DEFAULT_HEIGHT})),l(this,"isOnView",(()=>{var e;const t=null===(e=this.anchorElement)||void 0===e?void 0:e.getBoundingClientRect();return!!t&&(t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||window.height)-150&&t.right<=(window.innerWidth||window.width))})),l(this,"hasExited",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){window.removeEventListener("scroll",this.onScroll)}render(){const{children:e}=this.props;return(0,s.jsx)(o.xu,{ref:e=>{var t,i;(this.anchorElement=e,this.anchorElement&&this.wasViewed())&&(null===(t=(i=this.props).onView)||void 0===t||t.call(i))},children:e})}}const c=d},640064:(e,t,i)=>{i.d(t,{f:()=>s,w:()=>l});var n=i(667294),a=i(425288),o=i(785893);const{Provider:r,useHook:s}=(0,a.Z)("Session");function l({children:e}){const[t,i]=(0,n.useState)(void 0),a=(0,n.useCallback)((()=>i(void 0)),[]),s=(0,n.useMemo)((()=>({unauthFollowUserId:t,setUnauthFollowUserId:i,removeUnauthFollowUserId:a})),[t,a]);return(0,o.jsx)(r,{value:s,children:e})}},394332:(e,t,i)=>{i.d(t,{Z:()=>b});var n,a=i(667294),o=i(391254),r=i(941646),s=i(862193),l=i(898781),d=i(52022),c=i(992750),u=i(350118),p=i(883119),h=i(167912),m=i(785893);const _=void 0!==n?n:n=i(85934);function g({direction:e,handleClick:t,testId:i}){const n=(0,l.ZP)(),a=(0,d.Z)();return(0,m.jsx)("div",{style:{alignItems:"center",background:`linear-gradient(to ${"left"===e?"right":"left"}, rgba(255,255,255,1) 25%,rgba(255,255,255,0) 100%)`,border:"none",cursor:"pointer",display:"flex",height:30,lineHeight:25,outline:"none",paddingBottom:4,paddingTop:4,position:"absolute",top:0,width:45,..."right"===e?{right:0,justifyContent:"flex-end",textAlign:"right"}:{left:0}},onClick:e=>{a({action:"click",item:"board-pills-arrow"}),t(e)},role:"button","aria-label":"arrow",tabIndex:-1,"aria-hidden":"true","data-test-id":i,children:(0,m.jsx)(r.Z,{id:"board-pills-arrow",children:(0,m.jsx)(p.JO,{accessibilityLabel:n.bt("", "Scroll", "annotations.scrollArrow", undefined, true),icon:"right"===e?"arrow-forward":"arrow-back",size:8,color:"subtle"})})})}function v({name:e,url:t}){const[i,n]=(0,a.useState)(!1),o=(0,d.Z)();return(0,m.jsx)(p.xu,{"data-test-id":"vase-tag",display:"inlineBlock",marginTop:1,marginEnd:1,paddingX:2,paddingY:1,height:26,color:"secondary",rounding:8,dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:(0,m.jsx)(p.xv,{color:i?"subtle":"default",inline:!0,overflow:"breakWord",size:"100",weight:"bold",children:t?(0,m.jsx)(p.rU,{display:"inlineBlock",tapStyle:"compress",href:t,rounding:8,onClick:()=>{o({action:"click",item:"vase-tag"})},underline:"hover",children:e}):e})})}function y({pinJoinVisualAnnotation:e,pinJoinAnnotationsWithLinks:t,mode:i}){const[n,s]=(0,a.useState)(!1),[l,u]=(0,a.useState)(!1),h=(0,d.Z)(),_=(0,a.useRef)(null);(0,a.useEffect)((()=>{const e=_.current,t=()=>{if("inlineWithScrollArrows"===i&&_.current){const e=_.current,t=Math.max(0,e.scrollLeft),i=t+e.clientWidth;s(0!==t),u(i<e.scrollWidth)}else s(!1),u(!1)};return t(),null==e||e.addEventListener("scroll",t),()=>{null==e||e.removeEventListener("scroll",t)}}),[i]);const y=e=>t=>{t.preventDefault(),t.stopPropagation(),"right"===e&&h({action:"click",item:"board-pills-arrow-button-right"});const i=_.current;if(!i)return;const n=("left"===e?-1:1)*i.clientWidth*.5;i.scrollLeft=Math.min(Math.max(i.scrollLeft+n,0),i.scrollWidth)},{annotationsWithLinks:f}=(0,c.eK)({pinJoinVisualAnnotation:e,pinJoinAnnotationsWithLinks:t});return(0,m.jsx)(p.kC,{alignItems:"center",justifyContent:"end",children:(0,m.jsxs)(p.xu,{display:"flex",overflow:"auto",width:"100%",position:"relative","data-test-id":"vase-carousel",children:[(0,m.jsx)(o.Z,{unsafeCSS:"\n::-webkit-scrollbar {\n  display: none;\n}\n"}),n&&(0,m.jsx)(g,{direction:"left",handleClick:y("left"),testId:"left-scroll-arrow"}),(0,m.jsx)(p.xu,{overflow:"auto",padding:0,dangerouslySetInlineStyle:{__style:{scrollBehavior:"smooth",scrollbarWidth:"none",whiteSpace:"nowrap"}},ref:_,children:f.map((({name:e,url:t})=>(0,m.jsx)(v,{name:e,url:t},t||e)))}),l&&(0,m.jsx)(r.Z,{id:"board-pills-arrow-button-right",children:(0,m.jsx)(g,{direction:"right",handleClick:y("right"),testId:"right-scroll-arrow"})})]})})}function f(e){var t;const i=(0,h.useFragment)(_,e.graphqlRef),n=(0,s.Z)(i),a=(null==i||null===(t=i.pinJoin)||void 0===t?void 0:t.visualAnnotation)||[];return a.length<1?null:(0,m.jsx)(y,{mode:e.mode,pinJoinVisualAnnotation:a,pinJoinAnnotationsWithLinks:n||void 0})}function x(e){var t,i,n;const a=(0,u.S6)()(e.pinId||"");return((null==a||null===(t=a.pin_join)||void 0===t?void 0:t.visual_annotation)||[]).length<1?null:(0,m.jsx)(y,{mode:e.mode,pinJoinVisualAnnotation:null==a||null===(i=a.pin_join)||void 0===i?void 0:i.visual_annotation,pinJoinAnnotationsWithLinks:null==a||null===(n=a.pin_join)||void 0===n?void 0:n.annotations_with_links})}function b(e){return e.graphqlRef?(0,m.jsx)(f,{...e}):(0,m.jsx)(x,{...e})}},385801:(e,t,i)=>{i.d(t,{Z:()=>x});var n=i(667294),a=i(927104),o=i(941646),r=i(52022),s=i(867820),l=i(50286),d=i(883119),c=i(785893);function u({boardUrl:e,boardName:t,boardPrivacy:i,pinnerFullName:n,pinnerImageSmallUrl:a,pinnerImageLargeUrl:u}){const p=(0,l.HG)(),h=(0,r.Z)();if(!e||!t)return null;const m=e.split("/")[1],_=n||m,g=a||u;return(0,c.jsxs)(d.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[g?(0,c.jsx)(d.iP,{role:"link",href:`/${m}/`,fullWidth:!1,tapStyle:"compress",onTap:()=>{(0,s.My)(`pcons.${p?"desktop":"mobile"}.see-more-button-creator`),h({action:"click",item:"see-more-button-creator"})},children:(0,c.jsx)(d.xu,{rounding:"circle",width:32,height:32,overflow:"hidden",marginEnd:2,"data-test-id":"see-more-button-creator",children:(0,c.jsx)(d.Ee,{naturalHeight:32,naturalWidth:32,alt:_,fit:"cover",color:"rgb(231, 186, 176)",src:g})})},"profile-link"):null,(0,c.jsxs)(d.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,c.jsx)(o.Z,{id:"see-more-button-creator-full-name",children:(0,c.jsx)(d.iP,{onTap:()=>{(0,s.My)(`pcons.${p?"desktop":"mobile"}.see-more-button-creator-full-name`),h({action:"click",item:"see-more-button-creator-full-name"})},children:(0,c.jsx)(d.xv,{color:"default",inline:!0,size:"100",weight:"bold",children:(0,c.jsx)(d.rU,{href:`/${m}/`,display:"inlineBlock",tapStyle:"compress",underline:"hover",children:_},"profile-link")},"profileLink")})}),"protected"===i?null:(0,c.jsx)(d.xv,{color:"default",inline:!0,size:"100",children:(0,c.jsx)(d.rU,{href:null!=e?e:"",display:"inlineBlock",tapStyle:"compress",underline:"hover",children:null!=t?t:""},"board-link")},"boardLink")]})]})}var p,h=i(898781),m=i(394332),_=i(349700),g=i(780280),v=i(298024),y=i(167912);const f=void 0!==p?p:p=i(877821);function x({onClickTitleOrDomain:e,title:t,description:i,pinId:o,graphqlRef:p,pinCreditPrefix:x,pinDomain:b,boardId:w,boardUrl:P,boardName:S,boardPrivacy:k,pinnerFullName:I,pinnerImageSmallUrl:T,pinnerImageLargeUrl:j}){const C=(0,h.ZP)(),A=(0,l.ml)(),E=(0,l.Wb)(),{isAuthenticated:R,isBot:D}=(0,g.B)(),L=(0,r.Z)(),F=(0,y.useFragment)(f,p),O=!R&&!D&&A,z=e||null,[N,M]=(0,n.useState)(!1),Z=(0,v.si)(),U=(0,v.Re)(),B=(t||"").length>U,V=i.length>Z,[H,W]=(0,n.useState)(!V&&!B);return(0,c.jsxs)(d.xu,{children:[(0,c.jsxs)(d.xu,{children:[(0,c.jsxs)(d.xu,{as:"figcaption",paddingX:E?11:0,children:[(0,c.jsx)(d.X6,{color:"default",size:"300",accessibilityLevel:3,children:N||D?t:(0,a.Z)(t||"",U)}),!!t&&(0,c.jsx)(d.xu,{height:i?8:0}),i&&(V||B)?(0,c.jsxs)(d.iP,{onTap:()=>{N||R||((0,s.NC)("click_open_description_in_sheet"),L({action:"click",item:"more-description-in-sheet"})),W(!H),M(!N)},fullWidth:!1,children:[(0,c.jsx)(d.xv,{color:"default",size:"200",inline:!0,children:N||D?i:(0,a.Z)(i,Z)}),(0,c.jsx)(d.xu,{display:"inlineBlock",paddingX:1,children:(0,c.jsx)(d.xv,{weight:"bold",size:"200",inline:!0,children:N||D?C.bt("", "Less", "Toggle less description button", undefined, true):C.bt("", "More", "Toggle more description button", undefined, true)})})]}):(0,c.jsx)(d.xv,{color:"default",size:"200",inline:!0,children:i})]}),O&&(H||D)&&!!b&&(0,c.jsx)(d.xu,{marginTop:2,children:(0,c.jsx)(d.kC,{alignItems:"center",direction:"row",width:"100%",children:(0,_.nk)(C.bt("{{ pinCreditPrefix }} {{ pinCredit }}", "{{ pinCreditPrefix }} {{ pinCredit }}", "tells the user where the pin is from in the form of Saved from website", undefined, true),{pinCreditPrefix:(0,c.jsx)(d.xu,{display:"inlineBlock",children:(0,c.jsx)(d.xv,{inline:!0,size:"200",children:x})},"pinCreditsPrefix"),pinCredit:(0,c.jsx)(d.xu,{display:"inlineBlock",marginStart:1,maxWidth:"60vw","data-test-id":"pin-domain-link",children:(0,c.jsx)(d.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),L({action:"click",item:"pin-domain-link"}),(0,s.My)("mweb_pin_page.pin_link.clickthrouh"),R||(0,s.NC)("click_pin_closeup_link_clickthrough"),z&&z()},tapStyle:"compress",children:(0,c.jsx)(d.xv,{size:"200",lineClamp:1,children:(0,c.jsx)("span",{style:{textDecoration:"underline"},children:b})},"pinLinkDomain")})},"pinCredits")})})})]}),!!w&&(H||D)&&(0,c.jsx)(d.xu,{marginTop:4,children:(0,c.jsx)(u,{boardUrl:P,boardName:S,boardPrivacy:k,pinnerFullName:I,pinnerImageSmallUrl:T,pinnerImageLargeUrl:j})}),(0,c.jsx)(d.xu,{marginTop:4,children:(0,c.jsx)(m.Z,{pinId:o,mode:"expanded",graphqlRef:F})})]})}},156637:(e,t,i)=>{i.d(t,{Z:()=>c});var n=i(667294),a=i(618446),o=i.n(a),r=i(999023),s=i(385740),l=i(785893);class d extends n.Component{componentDidMount(){const{setCurrentPageData:e,viewData:t,viewParameter:i,viewType:n}=this.props;e({viewData:t,viewParameter:i,viewType:n})}componentDidUpdate(e){const{setCurrentPageData:t,viewData:i,viewParameter:n,viewType:a}=this.props;n===e.viewParameter&&a===e.viewType&&o()(i,e.viewData)||t({viewData:i,viewParameter:n,viewType:a})}componentWillUnmount(){this.props.clearCurrentPageData()}render(){const{auxData:e,children:t,component:i,objectIdStr:n,viewData:a,viewParameter:o,viewType:s,clientTrackingParams:d}=this.props;return(0,l.jsx)(r.Z,{auxData:e,component:i,objectIdStr:n,clientTrackingParams:d,viewData:a,viewParameter:o,viewType:s,children:t})}}function c(e){const{setViewContextData:t,clearViewContextData:i}=(0,s.sV)();return(0,l.jsx)(d,{...e,clearCurrentPageData:i,setCurrentPageData:t})}},999023:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(667294),a=i(112690),o=i(867820);const r=({viewType:e,viewParameter:t,viewData:i,auxData:n,objectIdStr:a,component:r,clientTrackingParams:s,element:l},d)=>{const c=(u={event_type:13,view_type:e,view_parameter:t,view_data:i,aux_data:n,object_id_str:a,component:r,clientTrackingParams:s,element:l},Object.keys(u).reduce(((e,t)=>(void 0===u[t]&&delete e[t],e)),{...u}));var u;-1===Object.keys(c).indexOf("view_type")&&(0,o.My)("mweb.logging.null_view_type"),d(c)};function s(e){const{auxData:t,clientTrackingParams:i,children:o,component:s,element:l,objectIdStr:d,viewData:c,viewParameter:u,viewType:p}=e,h=(0,a.Z)(),m=JSON.stringify(t),_=JSON.stringify(c);return(0,n.useEffect)((()=>{r(e,h)}),[h,m,i,s,l,d,_,u,p]),n.Children.only(o)}},598615:(e,t,i)=>{i.d(t,{Z:()=>m});var n=i(667294),a=i(329900),o=i(172071),r=i(938917),s=i(53987),l=i(407043),d=i(385740),c=i(52022),u=i(867820),p=i(276775),h=i(785893);function m({children:e,componentType:t,within:i}){const m=(0,p.useLocation)(),{flushContextEvents:_,logContextEvent:g}=(0,l.v)(),{viewType:v,viewParameter:y}=(0,d.SU)(),f=(0,c.Z)();(0,n.useEffect)((()=>{f({action:"view",item:"download-button",within:i})}),[m,i,f]);const x=(0,n.useRef)(!1);(0,n.useEffect)((()=>{v&&202!==v?(g({component:t||13106,element:10308,event_type:9976,view_type:v,view_parameter:y,aux_data:{app_upsell_type:i,app_upsell_is_dupe:x.current}}),x.current=!0):o.Z.increment("webapp.track_app_upsell_viewed_invalid_parameters",1,{component:t,view_type:v,view_parameter:y,app_upsell_type:i,app_upsell_is_dupe:x.current})}),[t,g,y,v,i]);const b=(0,r.Z)();return(0,n.useEffect)((()=>{b||(0,u.My)(`mweb.app_upsell.forbidden_upsell.${i}`)}),[b,i]),(0,h.jsx)(a.Z,{children:n=>e({handleOpenApp:e=>{var a;(f({action:"click",item:"download-button",within:i}),(0,u.NC)("press_open_app",!0),g({component:t||13106,element:10308,event_type:102,view_type:v||202,view_parameter:y,aux_data:{app_upsell_type:i}}),g({component:t||13106,element:10308,event_type:9977,view_type:v||202,view_parameter:y,aux_data:{app_upsell_type:i}}),_(!0),n)&&(g({component:t||13106,element:10308,event_type:1701,view_type:v||202,view_parameter:y,aux_data:{app_upsell_type:i}}),n(null!==(a=null==e?void 0:e.deepLinkUri)&&void 0!==a?a:(e=>"/"===e.pathname?"/":(0,s.am)(e)?`board/${e.pathname.substr(1)}`:e.pathname.substr(1))(m)))}})})}},296679:(e,t,i)=>{i.d(t,{Z:()=>g});var n=i(598615),a=i(821997),o=i(430322),r=i(898781),s=i(287072),l=i(948376),d=i(773285),c=i(50286),u=i(780280),p=i(664166),h=i(883119),m=i(785893);const _=({deepLinkUri:e,isOpen:t,onDismiss:i,onOpenInApp:p,to:_,within:g})=>{var v;const y=(0,r.ZP)(),f=(0,c.Wb)(),{userAgent:{platform:x,raw:b}}=(0,u.B)(),w=(0,l.Rp)({platform:x,userAgent:b}),P=(0,s.Z)({href:null!=_?_:""}),S=f?60:40,{checkExperiment:k}=(0,d.F)(),{group:I}=k("mweb_auth_deep_link_app_upsell"),T={control:{valueProp:y.bt("   ", "The best experience is on the app", "mweb.unauth.app_upsell.app_value_prop", undefined, true),description:y.bt("    ", "Free, unlimited access to ideas", "mweb.app_upsell.description", undefined, true)},enabled_check_install_1:{valueProp:y.bt("   ", "Pick this up in the app", "mweb.unauth.app_upsell.app_value_prop1", undefined, true),description:y.bt("   Pinterest,     ", "Continue in the Pinterest app for the best experience", "mweb.app_upsell.description1", undefined, true)},enabled_check_install_2:{valueProp:y.bt("   ", "Pick this up in the app", "mweb.unauth.app_upsell.app_value_prop1", undefined, true),description:y.bt(",     Pinterest", "Looks like youve already downloaded the Pinterest app", "mweb.app_upsell.description2", undefined, true)},enabled_check_install_3:{valueProp:y.bt("   ", "Pick this up in the app", "mweb.unauth.app_upsell.app_value_prop1", undefined, true),description:y.bt(",      Pinterest.        .", "Looks like youve already downloaded Pinterest. Use the app for the best experience.", "mweb.app_upsell.description3", undefined, true)},enabled_check_install_4:{valueProp:y.bt("  Pinterest  ", "Pinterest is better on the app", "mweb.unauth.app_upsell.app_value_prop2", undefined, true),description:y.bt("  ,     ", "Continue in the app for the full experience", "mweb.app_upsell.description4", undefined, true)},enabled_check_install_5:{valueProp:y.bt("  Pinterest  ", "Pinterest is better on the app", "mweb.unauth.app_upsell.app_value_prop2", undefined, true),description:y.bt("  ,     ", "Continue in the app for more ways to discover ideas", "mweb.app_upsell.description5", undefined, true)}},{valueProp:j,description:C}=null!==(v=T[I||"control"])&&void 0!==v?v:{},A=I.startsWith("enabled_check_install")?y.bt(" ", "Open app", "mweb.app_upsell.app_upsell_button_text1", undefined, true):y.bt(" ", "Get the app", "mweb.app_upsell.app_upsell_button_text", undefined, true);return(0,m.jsx)(o.default,{accessibilityModalLabel:"",isOpen:t,mobileHideCloseIcon:!0,type:"app_upsell_v1",overrideZDepth:101,closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,m.jsx)(n.Z,{componentType:14157,within:g,children:({handleOpenApp:t})=>(0,m.jsxs)(h.xu,{padding:3,"data-test-id":"appUpsell-iframe",children:[(0,m.jsx)(h.xu,{display:"inlineBlock",position:"absolute",children:(0,m.jsx)(h.xu,{"data-test-id":"appUpsell-continue",children:(0,m.jsx)(h.hU,{accessibilityLabel:y.bt("  ", "close icon background", "accesibility label for close icon on a overlay", undefined, true),icon:"cancel",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{i({event:e}),P&&!e.defaultPrevented&&(t(),P({event:e}))},size:"lg",iconColor:"gray"})})}),(0,m.jsxs)(h.xu,{paddingX:2,paddingY:6,children:[(0,m.jsx)(h.xu,{paddingY:2,justifyContent:"center",display:"flex",children:w?(0,m.jsx)(a.Z,{size:S}):(0,m.jsx)(h.JO,{color:"brandPrimary",icon:"pinterest",accessibilityLabel:"Pinterest App",size:S})}),(0,m.jsxs)(h.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,m.jsx)(h.xu,{paddingY:2,children:(0,m.jsx)(h.X6,{align:"center",size:"400",children:w?y.bt(" Pinterest Lite", "Try Pinterest Lite", "mweb.app_upsell.lite_app_upsell_title", undefined, true):j})}),(0,m.jsx)(h.xv,{align:"center",size:"300",children:w?y.bt("  ,    ", "A space-saving way to discover new ideas", "mweb.app_upsell.lite_app_value_prop", undefined, true):C}),(0,m.jsx)(h.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{display:"grid"}},justifyContent:"center",marginTop:8,children:(0,m.jsx)(h.zx,{fullWidth:!0,size:"lg",color:"red",onClick:()=>{t({deepLinkUri:e}),p()},text:A})})]})]})]})})})};function g({clientTrackingParams:e,deepLinkUri:t,isOpen:i,onDismiss:n,onOpenInApp:a,shouldTrackDismiss:o,to:r,viewParameter:s,viewType:l,within:d}){return(0,m.jsx)(p.Z,{clientTrackingParams:e,viewType:l,viewParameter:s,children:(0,m.jsx)(_,{deepLinkUri:t,isOpen:i,onDismiss:e=>{o&&(0,p.y)(),n(e)},onOpenInApp:()=>{(0,p.y)(),a()},to:r,within:d})})}},664166:(e,t,i)=>{i.d(t,{Z:()=>u,y:()=>c});var n=i(667294),a=i(807609),o=i(999023),r=i(30287),s=i(339363),l=i(844974),d=i(785893);const c=()=>{(0,l.Nh)("appUpsell",Date.now()),(0,l.qn)("firstUpsellTime")||(0,l.Nh)("firstUpsellTime",Date.now()),(0,s.Nh)("showedAppUpsellCurrentSession",!0)};function u({children:e,clientTrackingParams:t,viewParameter:i,viewType:s}){return(0,a.Z)()||(0,r.FP)(window)?null:(0,d.jsx)(o.Z,{viewType:s,viewParameter:i,component:13106,clientTrackingParams:t,children:(0,d.jsx)(n.Fragment,{children:e})})}},938917:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(702664);const a=()=>(0,n.useSelector)((({session:{canUseNativeApp:e}})=>e))},140203:(e,t,i)=>{i.d(t,{Z:()=>w});var n=i(667294),a=i(758127),o=i(898781),r=i(112690),s=i(892819),l=i(52022),d=i(91885),c=i(349700),u=i(867820),p=i(50286),h=i(276775),m=i(780280),_=i(276602),g=i(883119),v=i(785893);const y="133%";function f(e){const{isRTL:t}=(0,m.B)(),i=(0,o.ZP)(),a=t?-1:1,{borderRadius:r=16,containerBackgroundColor:s="white",images:l,applyWash:d}=e,c=(0,_.EV)(),u=l.slice(0,5);for(;u.length<5;)u.push({name:"",url:""});const h=(0,p.HG)(),[f,x]=(0,n.useState)(Array.from({length:5},(()=>!1))),[b,w]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{f.includes(!1)||b||!c||(c.addAnnotation("allPinsCard.imagesLoaded"),w(!0))}),[b,f,c]),(0,v.jsxs)(g.xu,{"aria-hidden":!0,display:"flex",direction:"row",width:"100%",children:[(0,v.jsx)(g.sg,{span:6,children:(0,v.jsx)(g.xu,{position:"relative",children:u.map(((e,t)=>{var n;return(0,v.jsx)(g.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:y,borderRadius:r,transform:`translateX(${25*a*t}%)`,zIndex:h?0-t:100-t}},left:!0,position:0===t?"relative":"absolute",top:!0,height:h?157:void 0,width:"100%",children:(0,v.jsx)(g.xu,{position:"absolute",top:!0,bottom:!0,right:!0,left:!0,dangerouslySetInlineStyle:{__style:{border:`1px solid ${s}`,borderRadius:r}},overflow:"hidden",children:(0,v.jsx)(g.zd,{width:"100%",height:"100%",wash:d,children:(0,v.jsx)(g.Ee,{alt:e.name||i.bt(" ", "Pin image", "pileImageGroup", undefined, true),color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:100,src:null!==(n=e.url)&&void 0!==n?n:"",onLoad:()=>{var e;e=t,x((t=>{const i=[...t];return i.splice(e,1,!0),i}))}})})})},t)}))})}),(0,v.jsx)(g.sg,{span:6})]})}var x=i(526760);const b=({children:e})=>(0,p.HG)()?(0,v.jsx)(g.X6,{accessibilityLevel:2,size:"400",lineClamp:1,children:e}):(0,v.jsx)(g.xv,{lineClamp:1,weight:"bold",children:e});function w({storyPinImages:e,pinCount:t,subtitle:i,userId:_,isOwnProfile:y}){const w=(0,o.ZP)(),P=(0,r.Z)(),S=(0,l.Z)(),k=(0,s.Z)(),I=(0,h.useParams)(),{isAuthenticated:T,locale:j}=(0,m.B)(),{username:C}=I,A=`/${null!=C?C:""}/pins/`,E=(0,p.HG)(),[R,D]=(0,n.useState)(!1);return(0,v.jsx)(g.xu,{height:"100%",padding:E?2:0,"data-test-id":d.Kb,children:(0,v.jsx)(g.iP,{role:"link",href:A,rounding:2,tapStyle:"compress",onMouseEnter:()=>{D(!0)},onMouseLeave:()=>{D(!1)},onTap:()=>{T?E&&P({event_type:101,component:13676,object_id_str:_,view_type:4,view_parameter:y?3106:3107}):((0,u.NC)("click_go_to_board"),S({action:"click",item:"board-card-all-pins"}))},children:(0,v.jsx)(g.xu,{paddingY:E?0:3,width:E?x.M0:void 0,children:(0,v.jsxs)(g.xu,{height:"100%",position:"relative",width:"100%",children:[(0,v.jsx)(f,{images:e,applyWash:R}),(0,v.jsxs)(g.xu,{display:"block",height:E?void 0:x.s0,marginTop:E?0:1,paddingX:2,paddingY:E?2:0,children:[(0,v.jsx)(g.kC,{alignItems:"center",flex:"grow",justifyContent:"between",children:(0,v.jsx)(b,{children:w.bt(" ", "All Pins", "allPinsCard.heading", undefined, true)})}),(0,v.jsx)(g.xu,{alignItems:"center",direction:"row",display:"flex",marginTop:1,children:t?(0,v.jsxs)(g.xv,{size:"100",lineClamp:1,children:[(0,v.jsx)(a.Z,{}),(0,c.nk)(w.nbt(["{{ count }}", "{{ count }}", "{{ count }}"], t, "profile.ProfilePage.allPins.AllPinsCard.PinsCount", true),{count:k(j,t,{})}),(0,v.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{display:E?"inline-flex":"inline",paddingLeft:7}},children:(0,v.jsxs)(g.xv,{color:"subtle",inline:!0,size:"100",lineClamp:1,children:[(0,v.jsx)(a.Z,{}),i]})})]}):(0,v.jsxs)(g.xv,{color:"subtle",inline:!0,size:"100",lineClamp:1,children:[(0,v.jsx)(a.Z,{}),i]})})]})]})})})})}},80811:(e,t,i)=>{i.d(t,{Z:()=>b});var n=i(667294),a=i(948618),o=i(815613),r=i(298361),s=i(112690),l=i(892819),d=i(19121),c=i(349700),u=i(867820),p=i(50286),h=i(758127),m=i(722556),_=i(898781),g=i(883119),v=i(526760),y=i(785893);function f(e,t){const{full_name:i,username:n}=e,a=(0,y.jsx)(g.rU,{href:`/${n}`,display:"inlineBlock",underline:"hover",children:i});return(0,c.nk)(t.bt("{{ linkToUser }}     ", "{{ linkToUser }} invited you to join this board", "boardRep.invite.invitationText", undefined, true),{linkToUser:a})}const x=({children:e})=>{const t=(0,d.Z)(),i=(0,p.HG)(),n=t&&t.isAuth;return i&&n?(0,y.jsx)(g.X6,{accessibilityLevel:2,size:"400",lineClamp:1,children:e}):(0,y.jsx)(g.xv,{lineClamp:1,weight:"bold",children:e})};function b({archivedDate:e,boardUrl:t,canEdit:i,collaborators:d,collaboratorsCount:b=0,containerBackgroundColor:w,coverPhoto:P,followedByMe:S,fullSizeDrawer:k,sensitivityScreen:I,handleInviteResponse:T,hideMeta:j,id:C,invite:A,imagesLego:E=[],isBoardInviteAccepted:R,isActive:D,isAuthenticated:L,isCollaborative:F,isCollaborator:O,isOwner:z,isSecret:N,lastModifiedDate:M,layout:Z,locale:U,name:B,numCols:V,onEditClick:H,onFollow:W,onUnfollow:$,owner:K,pinCount:G=0,sectionCount:q,showFollowButton:Y,viewParameter:J,viewType:X,viewerId:Q}){const ee=(0,_.ZP)(),te=(0,r.Z)(),ie=(0,l.Z)(),ne=(0,s.Z)(),ae=(0,p.HG)(),oe=ae&&L,re="square"===Z?v.M0:v.z9,se=E.map((e=>({url:e.url,name:B}))),le=!!K&&!i&&Y,de=!z&&!O&&!(null==I||!I.show_warning),ce={board_id:C,reason:null==I?void 0:I.reason};(0,n.useEffect)((()=>{de&&ne({event_type:13,component:13861,view_type:215,aux_data:ce})}),[]);const ue=K?K.id:void 0,pe=[...d.filter((({id:e})=>e===ue)),...d.filter((({id:e})=>e===Q&&e!==ue)),...d.filter((({id:e})=>![ue,Q].includes(e)))].map((e=>{var t,i;return{name:null!==(t=oe?e.full_name:e.username)&&void 0!==t?t:"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":null!==(i=e.image_medium_url)&&void 0!==i?i:""}}));let he=b>=pe.length?b-pe.length:0;he=he>99?100:he;const me=[...pe,...Array(he).fill({name:"",src:""})],_e=oe?24:16,ge=_e/3*(2*(pe.length>2?3:pe.length)+1);return(0,y.jsxs)(g.xu,{"data-test-id":`boardCard-${B}`,position:"relative",height:le?"max(calc(25vh + 10px), 220px)":"100%",width:oe?re:"100%",children:[(0,y.jsx)(m.Z,{canEdit:i,containerBackgroundColor:w,coverPhoto:P,images:se,isSecret:N,fullSize:k,showSensitivityScreen:de,isActive:D,onEditClick:H,layout:Z}),!j&&(0,y.jsx)(n.Fragment,{children:A?(0,y.jsxs)(n.Fragment,{children:[(0,y.jsxs)(g.xu,{padding:2,alignItems:"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,y.jsxs)(g.xu,{width:"100%",children:[(0,y.jsx)(g.rU,{href:null!=t?t:"",children:(0,y.jsx)(g.xu,{marginTop:0,marginBottom:1,children:(0,y.jsx)(x,{children:B})})}),R?(0,y.jsx)(g.xv,{size:"200",lineClamp:1,children:ee.bt(" .", "Youve joined", "boardRep.invite.invitationAcceptedText", undefined, true)}):(0,y.jsx)(g.xv,{size:"200",children:f(A.invited_by_user,ee)})]}),(0,y.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1}},marginStart:2,width:ge,minWidth:ge,height:_e,children:(0,y.jsx)(g.HE,{accessibilityLabel:h.U+(ee.bt("  ", "Board has collaborators", "BoardCard.AvatarGroup.Collaborators", undefined, true)),collaborators:me})})]}),R?(0,y.jsx)(g.xu,{direction:"row",display:"flex",paddingX:2,children:(0,y.jsx)(g.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,y.jsx)(g.zx,{role:"link",href:null!=t?t:"",fullWidth:!0,size:"lg",text:ee.bt(" ", "See board", "boardRep.invite.seeBoardButton", undefined, true)})})}):(0,y.jsxs)(g.kC,{direction:"row",flex:"grow",justifyContent:"start",wrap:!0,children:[(0,y.jsx)(g.xu,{marginBottom:3,paddingX:1,flex:"grow",children:(0,y.jsx)(g.zx,{fullWidth:!0,onClick:()=>{null==T||T(!1)},size:"lg",text:ee.bt("", "Decline", "boardRep.invite.declineButton", undefined, true)})}),(0,y.jsx)(g.xu,{marginBottom:3,paddingX:1,flex:"grow",children:(0,y.jsx)(g.zx,{fullWidth:!0,color:"red",onClick:()=>{null==T||T(!0)},size:"lg",text:ee.bt("", "Accept", "boardRep.invite.acceptButton", undefined, true)})})]})]}):(0,y.jsxs)(g.xu,{height:oe?void 0:v.s0,marginTop:oe?0:1,paddingX:2,paddingY:oe?2:0,children:[(0,y.jsxs)(g.xu,{alignItems:"center","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,y.jsx)(x,{children:B}),F&&(0,y.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1}},marginStart:2,width:ge,minWidth:ge,height:_e,children:(0,y.jsx)(g.HE,{accessibilityLabel:h.U+(ee.bt("  ", "Board has collaborators", "BoardCard.AvatarGroup.Collaborators", undefined, true)),collaborators:me})})]}),(0,y.jsxs)(g.xu,{alignItems:ae?"center":"start",direction:ae?"row":"column",display:"flex",marginTop:1,children:[(0,y.jsxs)(g.xv,{size:"100",lineClamp:1,children:[(0,y.jsx)(h.Z,{}),(0,c.nk)(ee.nbt(["{{ count }} ", "{{ count }} ", "{{ count }} "], G, "profile.ProfilePage.board.BoardCard.PinsCount", true),{count:ie(U,G,{})}),!!q&&(0,y.jsxs)(n.Fragment,{children:[(0,y.jsx)(a.Z,{ariaHidden:!0}),(0,y.jsx)(h.Z,{}),(0,c.nk)(ee.nbt(["{{ count }}", "{{ count }}", "{{ count }}"], q, "profile.ProfilePage.board.BoardCard.SectionsCount", true),{count:q})]})]}),!e&&(0,y.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{display:oe?"inline-flex":"inline",paddingLeft:ae?7:0}},children:(0,y.jsxs)(g.xv,{color:"subtle",inline:!0,size:"100",lineClamp:1,children:[(0,y.jsx)(h.Z,{}),te(M,!0)]})})]}),!!e&&(0,y.jsxs)(g.xu,{marginTop:1,children:[(0,y.jsx)(h.Z,{}),(0,y.jsx)(g.xv,{color:"subtle",size:"100",lineClamp:1,children:ee.bt("", "Archived", "profile.ProfilePage.board.BoardCard.ArchivedBoardText", undefined, true)})]}),le&&(0,y.jsx)(g.xu,{marginTop:2===V?3:void 0,column:2===V?12:void 0,flex:"none",children:(0,y.jsx)(o.Z,{disabled:null==K?void 0:K.blocked_by_me,followEventType:26,id:C,isFollowed:S,onFollow:e=>{L||(0,u.NC)("press_follow_board"),W&&W(e)},onUnfollow:e=>{L||(0,u.NC)("press_unfollow_board"),$&&$(e)},shouldUseLegoColors:!0,size:"md",unfollowEventType:27,viewParameter:J,viewType:X})})]})})]})}},223019:(e,t,i)=>{i.d(t,{Z:()=>g});var n=i(702664),a=i(80811),o=i(340494),r=i(52022),s=i(19121),l=i(867820),d=i(130460),c=i(780280),u=i(883119),p=i(712055),h=i(853492),m=i(785893);const _=["thumbnail","imageOnly"];function g({boardId:e,containerBackgroundColor:t,forwardedRef:i,fullSize:g,showFollowButton:v=!0,showPinCount:y=!0,type:f,viewParameter:x,viewType:b}){var w,P,S;const k=(0,s.Z)(),I=k&&k.isAuth,T=(0,n.useDispatch)(),{locale:j}=(0,c.B)(),C=(0,r.Z)(),A=(0,d.gC)()(e),E=(0,o.Z)(),R=k.isAuth?k.id:"";if(!A)return null;const D=A.owner,L=[D,...A.collaborating_users||[]].filter(Boolean).map((({id:e,image_medium_url:t,username:i})=>({id:e,image_medium_url:t,username:i}))),F=(null==D?void 0:D.id)===R,O=L.filter((({id:e})=>e===R)).length>0;if("secret"===A.privacy&&!O)return null;const z="grid"===f||"thumbnail"===f?2:4,N=E(A,z),M={isCustom:A.has_custom_cover,url:N,position:(0,h.Bw)(A.cover_pin)},Z=(0,h.Jx)(A,N).map((({url:e})=>({name:(0,h.po)(e),url:e}))),U=(0,m.jsx)(a.Z,{archivedDate:null!==(w=A.archived_by_me_at)&&void 0!==w?w:void 0,canEdit:!!A.access&&A.access.includes("write"),collaborators:L,collaboratorsCount:A.collaborator_count,containerBackgroundColor:t,coverPhoto:N?M:null,followedByMe:A.followed_by_me,fullSizeDrawer:g,hideMeta:_.includes(f),id:A.id,imagesLego:Z,isAuthenticated:I,isCollaborative:A.is_collaborative,isCollaborator:O,isOwner:F,isSecret:"secret"===A.privacy,lastModifiedDate:"full"===f?A.board_order_modified_at:"",locale:j,name:null!==(P=A.name)&&void 0!==P?P:"",numCols:z,onFollow:e=>T((0,p.Z)(e)),onUnfollow:e=>T((0,p.f)(e)),owner:D,pinCount:y&&A.pin_count?A.pin_count:void 0,sectionCount:null!==(S=A.section_count)&&void 0!==S?S:0,sensitivityScreen:A.sensitivity_screen,showFollowButton:v,viewParameter:x,viewType:b,viewerId:R});return!_.includes(f)&&A.url?(0,m.jsx)(u.iP,{role:"link",href:A.url,rounding:2,tapStyle:"compress",onTap:()=>{I||((0,l.NC)("click_go_to_board"),C({action:"click",item:"board-card"}))},children:(0,m.jsx)(u.xu,{ref:i,paddingY:3,children:U})}):U}},686844:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(883119),a=i(785893);function o({customCover:e,height:t,imgUrl:i,imgPos:o,width:r}){const s=t/r;let l="center center";if(e&&o){let e=1;e=o.height/o.width>s?r/o.width:t/o.height;l=`-${o.x*e}px -${o.y*e}px`}const d={backgroundImage:`url(${i})`,backgroundPosition:l,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF",position:"relative"};return(0,a.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{height:t,width:r}},children:(0,a.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:d},children:(0,a.jsx)("div",{className:"imageWash",style:{position:"absolute"}})})})}},722556:(e,t,i)=>{i.d(t,{Z:()=>p});var n=i(686844),a=i(522843),o=i(898781),r=i(50286),s=i(780280),l=i(883119),d=i(526760),c=i(785893);const u="100%";function p(e){var t,i;const p=(0,o.ZP)(),{containerBackgroundColor:h="white",coverPhoto:m,fullSize:_,images:g,isSecret:v,showSensitivityScreen:y,isActive:f,canEdit:x,onEditClick:b,layout:w}=e,P=(0,r.HG)(),{isRTL:S,isAuthenticated:k}=(0,s.B)(),I=P&&k,T=g[0],j=!m&&(null===(t=g[0])||void 0===t?void 0:t.name)||p.bt(" ", "Cover image", "DrawerImageGroup", undefined, true),C=Array(2).fill(),A=new l.Ry(1),E="square"===w?d.M0:d.z9,R="square"===w?d.FP:d.FC,D=null!=T&&T.url?(0,c.jsx)(l.Ee,{alt:j,color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:T.url}):(0,c.jsx)(l.xu,{color:"secondary",height:"100%",width:"100%"}),L=y?{filter:"blur(20px)"}:{};return(0,c.jsx)(l.zd,{height:_?"100%":void 0,rounding:4,width:"100%",wash:f,children:(0,c.jsxs)(l.xu,{"aria-hidden":!0,display:"flex",height:I?R:"100%",direction:"row",children:[(0,c.jsx)(l.sg,{span:8,children:(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:L},position:"relative",height:_?"100%":void 0,children:(0,c.jsx)(l.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:u}},overflow:"hidden",width:"100%",children:(0,c.jsxs)(l.xu,{"data-test-id":"drawer-image-group-first-image-container",dangerouslySetInlineStyle:{__style:{borderColor:h,borderStyle:"solid",borderWidth:"1px 0 1px 1px"}},overflow:"hidden",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,children:[v&&(0,c.jsx)(l.xu,{left:!S,right:S,margin:2,position:"absolute",top:!0,zIndex:A,children:(0,c.jsx)(a.Z,{backgroundColor:"default",iconColor:"default",size:I?32:24})}),I&&null!=m&&m.url?(0,c.jsx)(n.Z,{customCover:m.isCustom,imgPos:m.position||{width:0,height:0,x:0,y:0},imgUrl:null!==(i=m.url)&&void 0!==i?i:"",width:Math.floor(E/3*2),height:R}):D]})})})}),(0,c.jsx)(l.sg,{span:4,children:(0,c.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:L},height:"100%",children:[x&&f&&(0,c.jsx)(l.xu,{left:S,right:!S,margin:2,position:"absolute",bottom:!0,zIndex:A,children:(0,c.jsx)(l.hU,{accessibilityLabel:p.bt("", "Edit", "DrawerImageGroup.edit", undefined, true),bgColor:"white",icon:"edit",iconColor:"darkGray",onClick:({event:e})=>null==b?void 0:b(e),size:"sm"})}),C.map(((e,t)=>{const i=g[I?t:t+1];return(0,c.jsx)(l.xu,{position:"relative",height:_?"50%":void 0,children:(0,c.jsx)(l.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:u}},overflow:"hidden",width:"100%",children:(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{borderColor:h,borderStyle:"solid",borderWidth:0===t?1:"0 1px 1px 1px"}},overflow:"hidden",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,children:null!=i&&i.url?(0,c.jsx)(l.Ee,{alt:i&&i.name||"placeholder",color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:i.url}):(0,c.jsx)(l.xu,{color:"secondary",height:"100%",width:"100%"})})})},t)}))]})}),y&&(0,c.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:(0,c.jsx)(l.X6,{align:"center",color:"light",size:"400",children:p.bt("     ", "This board may contain sensitive content", "drawerImageGroup.sensitivityScreen.heading", undefined, true)})})]})})}},526760:(e,t,i)=>{i.d(t,{FC:()=>s,FP:()=>o,M0:()=>a,Xq:()=>l,s0:()=>n,z9:()=>r});const n=40,a=236,o=157,r=320,s=213,l=7},522843:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(898781),a=i(883119),o=i(785893);function r({backgroundColor:e="darkGray",iconColor:t="inverse",iconSize:i,size:r=20}){const s=(0,n.ZP)();return(0,o.jsx)(a.xu,{display:"flex",direction:"column",alignItems:"center",color:e,width:r,height:r,rounding:"circle",justifyContent:"center",children:(0,o.jsx)(a.JO,{accessibilityLabel:s.bt("  ", "Secret board icon", "Icon indicating that a board is secret", undefined, true),color:t,icon:"lock",size:null!=i?i:r/2})})}},340494:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(19121),a=i(50286);function o(){const e=(0,a.HG)(),t=(0,n.Z)(),i=t&&t.isAuth;if(e&&i){return e=>{var t,i;const n=e.cover_images&&e.cover_images["222x"]?e.cover_images["222x"].url:void 0,a=null!==(t=null===(i=e.cover_pin)||void 0===i?void 0:i.image_url)&&void 0!==t?t:n,o=e.images&&e.images["170x"]&&e.images["170x"].length?e.images["170x"][0].url:"";return a||o}}return(e,t)=>{var i,n;const a=e.has_custom_cover?e.image_cover_hd_url||e.image_cover_url:"";if(!a)return"";const o=e.cover_images&&e.cover_images["400x300"]?e.cover_images["400x300"].url:void 0,r=e.cover_images&&e.cover_images["222x"]?e.cover_images["222x"].url:void 0,s=e.cover_images&&e.cover_images["216x146"]?e.cover_images["216x146"].url:void 0,l=null!==(i=null!==(n=null!=o?o:r)&&void 0!==n?n:s)&&void 0!==i?i:"",d=e.image_cover_url||"";return a||(t&&t>2&&l?l:"")||d}}},853492:(e,t,i)=>{i.d(t,{Bw:()=>s,Jx:()=>r,po:()=>n});const n=(e="")=>(null!=e?e:"").substring((null!=e?e:"").lastIndexOf("/")+1),a=e=>({dominant_color:"#FFFFFF",height:1,url:e,width:1}),o=e=>{if(!e)return()=>!0;const t=n(e);return e=>{var i;return"string"==typeof e?n(e)!==t:n(null!==(i=e.url)&&void 0!==i?i:"")!==t}},r=(e,t)=>e.images&&e.images["170x"]?e.images["170x"].filter(o(t)):e.pin_thumbnail_urls?e.pin_thumbnail_urls.filter(o(t)).map(a):[],s=e=>{var t;return null!==(t=e&&e.crop&&e.size&&{x:e.crop[0],y:e.crop[1],width:e.size[0],height:e.size[1]})&&void 0!==t?t:{x:0,y:0,width:0,height:0}}},398061:(e,t,i)=>{i.d(t,{Z:()=>s,e:()=>r});var n=i(780280),a=i(883119),o=i(785893);const r=new a.Ry(1);function s({children:e,isImagePinForUnauthOnTablet:t}){const{isAuthenticated:i}=(0,n.B)();return(0,o.jsxs)(a.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{cursor:"pointer",width:t?"40vw":void 0}},zIndex:i?void 0:r,display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!t||void 0,top:!0,children:[(0,o.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000",borderRadius:"6px 6px 0 0",WebkitTransition:"opacity .04s linear",transition:"opacity .04s linear"}},left:!0,opacity:.4,position:"absolute",right:!0,top:!0}),e]})}},538232:(e,t,i)=>{i.d(t,{R:()=>o,q:()=>a});var n=i(425288);const{Provider:a,useHook:o}=(0,n.Z)("CloseupPageContext")},995389:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(10216),a=i(883119),o=i(785893);function r({title:{format:e,args:{query:t}}}){return(0,o.jsxs)(a.xu,{alignItems:"center",direction:"column",display:"flex",marginTop:12,children:[(0,o.jsx)(a.xu,{marginBottom:2,paddingX:4,children:(0,o.jsx)(a.xv,{align:"center",color:"default",overflow:"normal",weight:"bold",children:e})}),(0,o.jsx)(n.Z,{query:t,showHeaderText:!1})]})}},183007:(e,t,i)=>{i.d(t,{N:()=>x,Z:()=>b});var n=i(667294),a=i(223815),o=i(248041),r=i(898781),s=i(52022),l=i(867820),d=i(883119),c=i(785893);function u({icon:e}){const{hide:t}=(0,o.Z)(),i=(0,r.ZP)(),n=(0,s.Z)();return(0,c.jsx)(a.Z,{children:(0,c.jsx)(d.xu,{"data-test-id":"expandButton",children:(0,c.jsx)(d.hU,{icon:e||"maximize",size:e?"md":"lg",iconColor:"darkGray",bgColor:"white",padding:3,accessibilityLabel:i.bt(" ", "Expand Image", "mweb.closeup.image.expand.a11y", undefined, true),onClick:({event:e})=>{e.stopPropagation(),(0,l.My)("mweb_pin_page.pin_image.enlarge_image"),(0,l.NC)("click_expand_image"),n({action:"click",item:"expand-button",within:"pin-image"}),t()}})})})}var p=i(700380),h=i(50286),m=i(792182),_=i(398061),g=i(444445),v=i(773285);const y=.3,f=.75,x=new d.H3([_.e]),b=({children:e,closableDrawer:t})=>{var i;const{hide:a}=(0,o.Z)(),r=(0,n.useRef)(null),s=(0,n.useRef)(null),[l,_]=(0,n.useState)(null),[b,w]=(0,n.useState)(0),[P,S]=(0,n.useState)(!1),k=(null===(i=(0,m.Z)())||void 0===i?void 0:i.height)||0,[I,T]=(0,n.useState)(!1),j=(0,h.ZP)(),{checkExperiment:C}=(0,v.F)(),A=null!=l?l:.75*k,E=()=>{var e;const t=(null===(e=r.current)||void 0===e?void 0:e.offsetTop)||0;return t>0&&k>0?t-k*y+60:0};return(0,n.useEffect)((()=>{const e=()=>{var e;const t=(null===(e=r.current)||void 0===e?void 0:e.offsetTop)||0;window.scrollY+A>t&&a()};e();const t=(0,p.Z)(e,10);return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)}),[a,A]),(0,c.jsxs)(n.Fragment,{children:[(0,c.jsxs)(d.xu,{position:"fixed",bottom:!0,left:!0,right:!0,color:"default",zIndex:x,height:null===l?"25vh":`calc(100vh - ${l}px)`,dangerouslySetInlineStyle:{__style:{...P?{transitionDuration:"500ms",transitionProperty:"maxHeight, borderRadius"}:{},borderRadius:0===l&&P?0:"32px 32px 0 0",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.3)",overscrollBehavior:"none",touchAction:"none"}},"data-test-id":"related-pins-drawer","data-layout-shift-boundary-id":"Drawer",ref:s,onTouchStart:e=>{const{clientY:t}=e.touches[0];w(t),S(!1)},onTouchMove:e=>{e.preventDefault();const{clientY:t}=e.touches[0],i=null!=l?l:.75*window.innerHeight,n=t-b;if(null!==i&&n){const e=k*y,t=k*f,o=Math.floor(Math.min(t,Math.max(e,i+n)));_(o);const r=E();if(k>0&&r>0){const e=r*(a=o/k,1-(Math.max(y,Math.min(f,a))-y)/.45);window.pageYOffset<e&&window.scrollTo({top:e})}o<.525*k&&T(!0)}var a;w(t)},onTouchEnd:()=>{if(I){S(!0);_(k*y);const e=E();e&&window.scrollTo({top:e,behavior:"smooth"}),T(!1)}},children:["desktop"!==j&&(t?(0,c.jsx)(d.xu,{position:"absolute",top:!0,left:!0,margin:1,marginTop:t?0:4,paddingY:1,children:(0,c.jsx)(u,{icon:"cancel"})}):!C("pcons_remove_expand_button").anyEnabled&&(0,c.jsx)(d.xu,{position:"absolute",top:!0,right:!0,children:(0,c.jsx)(d.xu,{position:"absolute",bottom:!0,right:!0,children:(0,c.jsx)(d.xu,{padding:3,children:(0,c.jsx)(u,{})})})})),(0,c.jsx)(d.xu,{paddingX:g.D6,children:e})]}),(0,c.jsx)(d.xu,{ref:r,height:"100vh"})]})}},350948:(e,t,i)=>{i.d(t,{IS:()=>x,Ys:()=>f,ZP:()=>j,j$:()=>P});var n,a=i(667294),o=i(485710),r=i(134185),s=i(319530),l=i(50286),d=i(349700),c=i(578661),u=i(923297),p=i(773285),h=i(350118),m=i(898781),_=i(883119),g=i(167912),v=i(785893);const y=void 0!==n?n:n=i(906587),f=({m:e,h:t,rm:i,rh:n},a)=>e&&(!t||n<=0)?(0,d.nk)(a.nbt(["{{mins}} ", "{{mins}} ", "{{mins}} "], i, "number showing the minutes to complete a recipe", true),{mins:i.toString()}):t?(0,d.nk)(a.nbt(["{{hrs}} ", "{{hrs}} ", "{{hrs}} "], n, "number showing the hours to complete a recipe", true),{hrs:n.toString()}):null,x=({m:e,h:t,rm:i,rh:n,i18n:a})=>e&&(!t||n<=0)?(0,d.nk)(a.bt("{{mins}}", "{{mins}}m", "number showing minutes to complete a recipe", undefined, true),{mins:i.toString()}):t?(0,d.nk)(a.bt("{{hrs}} {{mins}}", "{{hrs}}h {{mins}}m", "number showing hours to complete a recipe", undefined, true),{hrs:t.toString(),mins:e.toString()}):null,b=(e,t)=>{const i=e&&e.length>0&&e.join(", "),n=t&&t.summary;return i&&n?`${i}  ${n}`:i||n},w=e=>e?e.reduce(((e,t)=>{var i,n;return e+(null!==(i=null===(n=t.ingredients)||void 0===n?void 0:n.length)&&void 0!==i?i:0)}),0):0,P=({cookTimesCookM:e,cookTimesCookH:t,cookTimesTotalM:i,cookTimesTotalH:n,hasCookTimesTotal:a,i18n:o})=>{let r;return r=a?(0,u.X)({m:i||0,h:n||0}):(0,u.X)({m:e||0,h:t||0}),f(r,o)};function S({category:e,ingredients:t,textSize:i="300"}){return(0,v.jsxs)(_.xu,{marginBottom:4,children:[e&&(0,v.jsx)(_.xu,{children:(0,v.jsx)(_.xv,{weight:"bold",size:i,children:e})}),(null!=t?t:[]).map((e=>{var t,n;return(0,v.jsx)(_.xu,{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",marginTop:1,children:(0,v.jsxs)(_.xv,{size:i,children:[e.amt||null," ",e.name]})},`${null!==(t=e.name)&&void 0!==t?t:""}-${null!==(n=e.name)&&void 0!==n?n:""}`)}))]})}const k=({categorizedIngredients:e,cookTimes:t,image:i,ingredientCount:n,ingredientsDescription:d,name:u,pinLink:p,checkExperiment:h})=>{var g,y,f,x;const b=(0,m.ZP)(),w=(0,l.ZP)();if(!P({cookTimesCookM:null==t||null===(g=t.cook)||void 0===g?void 0:g.m,cookTimesCookH:null==t||null===(y=t.cook)||void 0===y?void 0:y.h,cookTimesTotalM:null==t||null===(f=t.total)||void 0===f?void 0:f.m,cookTimesTotalH:null==t||null===(x=t.total)||void 0===x?void 0:x.h,hasCookTimesTotal:!(!t||!t.total),i18n:b})&&!n&&!d)return null;const k="desktop"===w,I=h("closeup_dweb_unauth_onepin_title_and_description").anyEnabled,T=b.bt("", "Ingredients", "Closeup.PinRecipe.ingredientsLabel", undefined, true);return(0,v.jsxs)(_.xu,{"data-test-id":"pin-recipe-container",display:"flex",direction:"column",marginTop:8,children:[(0,v.jsxs)(_.xu,{direction:"column",display:"flex",marginTop:4,marginBottom:4,marginEnd:6,overflow:"hidden",children:[(!I||!k)&&(0,v.jsx)(_.xu,{marginBottom:4,children:(0,v.jsx)(_.xv,{weight:"bold",align:"desktop"===w?"start":"center",children:T})}),(0,v.jsxs)(r.Z,{itemScope:!0,itemType:c.G,children:[(0,v.jsx)("meta",{content:u,itemProp:"name"}),i&&(0,v.jsx)("meta",{content:i,itemProp:"image"}),I&&k&&(0,v.jsx)(_.xu,{"data-test-id":"one-pin-layout",children:Array.isArray(e)&&e.length>0&&(0,v.jsx)(o.Z,{heading:T,children:(0,v.jsx)(s.Z,{children:e.map((({category:e,ingredients:t},i)=>{const n=`ingredient-${i}`;return(0,v.jsx)(a.Fragment,{children:(0,v.jsx)(_.xu,{marginBottom:4,children:(0,v.jsx)(S,{category:e,ingredients:t,textSize:"300"})})},n)}))})})}),(!I||!k)&&Array.isArray(e)&&e.length>0&&(0,v.jsx)(_.xu,{column:12,"data-test-id":"single-column-ingredients",children:e.map((({category:e,ingredients:t},i)=>(0,v.jsx)(_.xu,{marginBottom:2,children:(0,v.jsx)(S,{category:e,ingredients:t,textSize:"300"})},i)))})]})]}),(!I||!k)&&(0,v.jsx)(_.xu,{marginBottom:4,display:"flex",justifyContent:"phone"===w?"center":void 0,children:p&&(0,v.jsx)(_.zx,{text:b.bt("", "Make it", "closeup.recipe.make_it_button", undefined, true),role:"link",href:p,target:"blank"})})]})},I=({graphqlRef:e,checkExperiment:t})=>{const i=(0,g.useFragment)(y,e),{imageSpec_474x:n,link:a,richMetadata:o}=i,r=null==o?void 0:o.recipe,s=null==r?void 0:r.categorizedIngredients,l=w(s),d=(null==r?void 0:r.categorizedIngredients)&&b(r.diets,r.servingsSummary);return(0,v.jsx)(k,{categorizedIngredients:s,cookTimes:null==r?void 0:r.cookTimes,image:null==n?void 0:n.url,ingredientCount:l,ingredientsDescription:d,name:null==r?void 0:r.name,pinLink:a,checkExperiment:t})},T=({pinId:e,checkExperiment:t})=>{var i,n;const a=(0,h.S6)()(e),o=(null==a||null===(i=a.rich_metadata)||void 0===i?void 0:i.recipe)||{},{cook_times:r,name:s,categorized_ingredients:l,diets:d,servings_summary:c}=o,u=w(l),p=l&&b(d,c);return(0,v.jsx)(k,{categorizedIngredients:l,cookTimes:r,image:(null===(n=((null==a?void 0:a.images)||{})["474x"])||void 0===n?void 0:n.url)||"",ingredientCount:u,ingredientsDescription:p,name:s,pinLink:(null==a?void 0:a.link)||"",checkExperiment:t})};function j({graphqlRef:e,pinId:t}){const{checkExperiment:i}=(0,p.F)();return e?(0,v.jsx)(I,{graphqlRef:e,checkExperiment:i}):(0,v.jsx)(T,{pinId:t,checkExperiment:i})}},725214:(e,t,i)=>{i.d(t,{Z:()=>n});const n=e=>{switch(e.action){case"PUSH":case"REPLACE":return"click";case"POP":return e.location.key?"click":"deeplink";default:return null}}},298024:(e,t,i)=>{i.d(t,{Ph:()=>a,Re:()=>r,si:()=>o});var n=i(50286);const a=e=>e&&e.promoter&&!e.is_downstream_promotion?e.promoter:null,o=()=>"phone"!==(0,n.ZP)()?180:130,r=()=>"phone"!==(0,n.ZP)()?180:80},248041:(e,t,i)=>{i.d(t,{Z:()=>d,t:()=>l});var n=i(667294),a=i(867820),o=i(276775),r=i(785893);const s=(0,n.createContext)({hide:()=>{},isHidden:!0,isScrolledToPins:!1,scrollToPins:()=>{}});function l({children:e,isEligible:t}){const[i,l]=(0,n.useState)(!t),[d,c]=(0,n.useState)(!1),{pathname:u}=(0,o.useLocation)();(0,n.useEffect)((()=>{l(!t)}),[u,t]);const p=(0,n.useCallback)((()=>{(0,a.My)("web_unification.expand_click.hide_drawer"),l(!0)}),[]),h=(0,n.useCallback)((e=>{c(!!e)}),[]),m=(0,n.useMemo)((()=>({isHidden:i,hide:p,isScrolledToPins:d,scrollToPins:h})),[i,p,d,h]);return(0,r.jsx)(s.Provider,{value:m,children:e})}const d=()=>(0,n.useContext)(s)},759177:(e,t,i)=>{i.d(t,{Z:()=>r});var n,a=i(167912);const o=void 0!==n?n:n=i(96795);const r=e=>function(e){var t,i,n,a,o,r,s,l,d,c,u,p,h,m,_,g,v,y,f,x,b,w,P,S,k,I,T;return{"60x60":{height:(null==e||null===(t=e.imageSpec_60x60)||void 0===t?void 0:t.height)||void 0,url:(null==e||null===(i=e.imageSpec_60x60)||void 0===i?void 0:i.url)||void 0,width:(null==e||null===(n=e.imageSpec_60x60)||void 0===n?void 0:n.width)||void 0},"136x136":{height:(null==e||null===(a=e.imageSpec_136x136)||void 0===a?void 0:a.height)||void 0,url:(null==e||null===(o=e.imageSpec_136x136)||void 0===o?void 0:o.url)||void 0,width:(null==e||null===(r=e.imageSpec_136x136)||void 0===r?void 0:r.width)||void 0},"170x":{height:(null==e||null===(s=e.imageSpec_170x)||void 0===s?void 0:s.height)||void 0,url:(null==e||null===(l=e.imageSpec_170x)||void 0===l?void 0:l.url)||void 0,width:(null==e||null===(d=e.imageSpec_170x)||void 0===d?void 0:d.width)||void 0},"236x":{height:(null==e||null===(c=e.imageSpec_236x)||void 0===c?void 0:c.height)||void 0,url:(null==e||null===(u=e.imageSpec_236x)||void 0===u?void 0:u.url)||void 0,width:(null==e||null===(p=e.imageSpec_236x)||void 0===p?void 0:p.width)||void 0},"474x":{height:(null==e||null===(h=e.imageSpec_474x)||void 0===h?void 0:h.height)||void 0,url:(null==e||null===(m=e.imageSpec_474x)||void 0===m?void 0:m.url)||void 0,width:(null==e||null===(_=e.imageSpec_474x)||void 0===_?void 0:_.width)||void 0},"564x":{height:(null==e||null===(g=e.imageSpec_564x)||void 0===g?void 0:g.height)||void 0,url:(null==e||null===(v=e.imageSpec_564x)||void 0===v?void 0:v.url)||void 0,width:(null==e||null===(y=e.imageSpec_564x)||void 0===y?void 0:y.width)||void 0},"736x":{height:(null==e||null===(f=e.imageSpec_736x)||void 0===f?void 0:f.height)||void 0,url:(null==e||null===(x=e.imageSpec_736x)||void 0===x?void 0:x.url)||void 0,width:(null==e||null===(b=e.imageSpec_736x)||void 0===b?void 0:b.width)||void 0},"600x315":{height:(null==e||null===(w=e.imageSpec_600x315)||void 0===w?void 0:w.height)||void 0,url:(null==e||null===(P=e.imageSpec_600x315)||void 0===P?void 0:P.url)||void 0,width:(null==e||null===(S=e.imageSpec_600x315)||void 0===S?void 0:S.width)||void 0},orig:{height:(null==e||null===(k=e.imageSpec_orig)||void 0===k?void 0:k.height)||void 0,url:(null==e||null===(I=e.imageSpec_orig)||void 0===I?void 0:I.url)||void 0,width:(null==e||null===(T=e.imageSpec_orig)||void 0===T?void 0:T.width)||void 0}}}((0,a.useFragment)(o,e))},865607:(e,t,i)=>{i.d(t,{O:()=>d,Z:()=>c});var n=i(667294),a=i(898781),o=i(966113),r=i(883119),s=i(785893);const l={xs:12,sm:16,md:20,lg:24};function d({children:e}){const t=(0,a.ZP)();return(0,s.jsx)(r.u,{link:(0,s.jsx)(r.rU,{href:o.vB,target:"blank",children:(0,s.jsx)(r.xv,{color:"inverse",size:"100",weight:"bold",children:t.bt("", "Learn more", "verifiedBadge.tooltip.link", undefined, true)})}),text:t.bt("    Pinterest  ", "This retailer meets Pinterest's Merchant Guidelines", "merchantVerification.badge.tooltip", undefined, true),children:e})}function c({hasVerifiedIdentity:e,iconOnly:t,isVerifiedMerchant:i,showText:o,size:c}){const u=(0,a.ZP)(),p=(0,s.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",children:[(0,s.jsx)(r.JO,{accessibilityLabel:u.bt("  ", "Merchant verification badge icon", "merchantVerification.badge.icon", undefined, true),color:"shopping",icon:"workflow-status-ok",inline:!0,size:l[c]}),o&&(0,s.jsx)(r.xu,{marginStart:2,children:(0,s.jsx)(r.xv,{color:"shopping",inline:!0,weight:"bold",children:u.bt(" ", "Verified merchant", "creator.header.verifiedMerchant", undefined, true)})})]});return(0,s.jsxs)(n.Fragment,{children:[i&&!t&&(0,s.jsx)(d,{children:p}),i&&t&&p,e&&!i&&(0,s.jsx)(r.JO,{accessibilityLabel:u.bt("  ", "Domain verification icon", "domainVerification.badge.icon", undefined, true),color:"error",icon:"check-circle",size:l[c]})]})}},998651:(e,t,i)=>{i.d(t,{LM:()=>s,h9:()=>l,r$:()=>r});var n=i(385740),a=i(909499);const o=["search_articles_story","shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2","search_for_you_upsell"];function r({query:e,rs:t,scope:i},o){const r=(0,n.BE)(),s=!(null!=r&&r.viewType||null!=r&&r.viewParameter),l=(0,a.wF)(i);if(!s&&l){const{viewType:i,viewParameter:n}=null!=r?r:{};o({event_type:l,view_type:i,view_parameter:n,aux_data:{query:e,rs:t||"Unknown"}})}"hashtag_closeup"===t?o({event_type:101,component:13065,element:10273,view_type:142}):"hashtag_pinrep"===t&&o({event_type:101,component:0,element:10349,view_type:142})}const s=(e=[])=>{let t=!0;return e.reduce(((e,i)=>{var n;return t&&i.story_type&&o.includes(i.story_type)&&0===(null===(n=i.display_options)||void 0===n?void 0:n.num_columns_requested)?e.searchFullWidthStories.push(i):(t=!1,e.filteredResults.push(i)),e}),{searchFullWidthStories:[],filteredResults:[]})};function l(e){const{results:t=[]}=e||{};return!!t.find((e=>!(null==e||!e.is_eligible_for_filters)))}},331064:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(121093),a=i(839534),o=i(785893);const r=({anchors:e,experience:t,idealDirection:i,onCompleteByAnchor:r={},placementId:s,positionRelativeToAnchor:l,touchToDismiss:d,useMasonryFlyout:c})=>(0,o.jsx)(n.Z,{experience:t,placementId:s,predicate:t=>{const{display_data:i,placement_id:n}=t;if(2===(null==i?void 0:i.component_type)){const{anchors_by_platform:t}=i;if(null!=t&&t.web_mobile){const{anchor:i,placement:a}=t.web_mobile;return a===n&&i in e}}return!1},children:({complete:t,dismiss:n,experience:s})=>(0,o.jsx)(a.Z,{anchors:e,complete:()=>t(1),dismiss:n,displayData:s.display_data,idealDirection:i,onCompleteByAnchor:r,platform:"web_mobile",positionRelativeToAnchor:l,touchToDismiss:d,useMasonryFlyout:c})})},445345:(e,t,i)=>{i.d(t,{Z:()=>xe});var n=i(934348),a=i.n(n),o=i(422908),r=i.n(o),s=i(832637),l=i.n(s),d=i(986021),c=i.n(d),u=i(252881),p=i.n(u),h=i(216462),m=i.n(h),_=i(435574),g=i.n(_),v=i(890398),y=i.n(v),f=i(597437),x=i.n(f),b=i(358787),w=i.n(b),P=i(403529),S=i.n(P),k=i(687096),I=i.n(k),T=i(720069),j=i.n(T),C=i(154047),A=i.n(C),E=i(899338),R=i.n(E),D=i(532492),L=i.n(D),F=i(361316),O=i.n(F),z=i(671307),N=i.n(z),M=i(450914),Z=i.n(M),U=i(888784),B=i.n(U),V=i(979730),H=i.n(V),W=i(267569),$=i.n(W),K=i(554154),G=i.n(K),q=i(234540),Y=i.n(q),J=i(209153),X=i.n(J),Q=i(271648),ee=i.n(Q),te=i(108806),ie=i.n(te),ne=i(505944),ae=i.n(ne),oe=i(373750),re=i.n(oe),se=i(354593),le=i.n(se),de=i(523673),ce=i.n(de),ue=i(70098),pe=i.n(ue),he=i(692169),me=i.n(he),_e=i(898781),ge=i(948376),ve=i(883119),ye=i(785893);const fe={"AR-SA":a(),"ZH-CN":pe(),"ZH-TW":me(),CS:r(),DA:l(),DE:c(),EL:p(),EN:m(),ES:g(),FI:y(),FR:x(),HI:w(),HU:S(),ID:I(),IT:j(),JA:A(),KO:R(),ML:L(),MS:O(),NB:B(),NL:N(),NN:Z(),NO:B(),PL:H(),PT:$(),RO:G(),RU:Y(),SK:X(),SV:ee(),TH:ie(),TL:ae(),TR:re(),UK:le(),VI:ce()};function xe({locale:e}){const t=(0,_e.ZP)(),i=(0,ge.G3)(e),n=fe[i]||fe.EN,a=t.bt("  Pinterest  Android", "Install the Pinterest app on Android", " - ", undefined, true);return(0,ye.jsx)(ve.Ee,{naturalHeight:80,naturalWidth:270,src:n,alt:a})}},819764:(e,t,i)=>{i.d(t,{Z:()=>xe});var n=i(993235),a=i.n(n),o=i(908601),r=i.n(o),s=i(198667),l=i.n(s),d=i(324637),c=i.n(d),u=i(669639),p=i.n(u),h=i(882786),m=i.n(h),_=i(598188),g=i.n(_),v=i(143832),y=i.n(v),f=i(484974),x=i.n(f),b=i(629958),w=i.n(b),P=i(7747),S=i.n(P),k=i(939492),I=i.n(k),T=i(800202),j=i.n(T),C=i(799486),A=i.n(C),E=i(511036),R=i.n(E),D=i(83365),L=i.n(D),F=i(309285),O=i.n(F),z=i(186665),N=i.n(z),M=i(452833),Z=i.n(M),U=i(759050),B=i.n(U),V=i(9046),H=i.n(V),W=i(27322),$=i.n(W),K=i(501796),G=i.n(K),q=i(791841),Y=i.n(q),J=i(50486),X=i.n(J),Q=i(417658),ee=i.n(Q),te=i(461619),ie=i.n(te),ne=i(350421),ae=i.n(ne),oe=i(97776),re=i.n(oe),se=i(394445),le=i.n(se),de=i(948992),ce=i.n(de),ue=i(137404),pe=i.n(ue),he=i(697072),me=i.n(he),_e=i(898781),ge=i(948376),ve=i(883119),ye=i(785893);const fe={"AR-SA":a(),"ZH-CN":pe(),"ZH-TW":me(),CS:r(),DA:l(),DE:c(),EL:p(),EN:m(),ES:g(),FI:y(),FR:x(),HI:w(),HU:S(),ID:I(),IT:j(),JA:A(),KO:R(),ML:L(),MS:O(),NB:B(),NL:N(),NN:Z(),NO:B(),PL:H(),PT:$(),RO:G(),RU:Y(),SK:X(),SV:ee(),TH:ie(),TL:ae(),TR:re(),UK:le(),VI:ce()};function xe({locale:e}){const t=(0,_e.ZP)(),i=(0,ge.G3)(e),n=fe[i]||fe.EN,a=t.bt("  Pinterest  iOS", "Install the Pinterest app on iOS", " - ", undefined, true);return(0,ye.jsx)(ve.Ee,{naturalHeight:80,naturalWidth:270,src:n,alt:a})}},821997:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(785893);function a({size:e,noCircle:t}){return(0,n.jsxs)("svg",{height:e,style:{display:"block"},viewBox:t?"3 3 70 70":"-3 -3 82 82",width:e,children:[t?null:(0,n.jsx)("circle",{cx:"38",cy:"38",fill:"white",r:"40"}),(0,n.jsx)("path",{d:"M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",fill:"#fb7072",fillRule:"evenodd"})]})}},10216:(e,t,i)=>{i.d(t,{Z:()=>d});var n=i(883119),a=i(785893);function o({skinToneOvalHeight:e,skinToneOvalWidth:t,swatchColors:i}){return(0,a.jsx)(n.xu,{alignItems:"center","data-test-id":"skinToneFilterSwatch",display:"flex",overflow:"hidden",rounding:"pill",width:t,wrap:!0,children:i.map(((i,o)=>(0,a.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:i}},height:e/2,width:t/2},`${i}-${o}`)))})}var r=i(898781),s=i(112690);const l={filter_name:"Skin tone range",filter_term:"skin_face_color_l",multi_select:!1,options:[{display:"Range 1",swatch_hex_colors:["#F0E3DC","#F8D7D8","#F2D7BE","#F7C3AF"],term:"skin_color_bucket_id:1"},{display:"Range 2",swatch_hex_colors:["#DEBAB0","#E0999A","#DDA67C","#D98A64"],term:"skin_color_bucket_id:2"},{display:"Range 3",swatch_hex_colors:["#9A6B52","#A25847","#B37143","#BF6951"],term:"skin_color_bucket_id:3"},{display:"Range 4",swatch_hex_colors:["#683929","#34261F","#64281B","#4F2221"],term:"skin_color_bucket_id:4"}],vertical:"skin_tone"};function d({onClickApplyFilter:e,query:t,selectedSkinToneTerm:i,showHeaderText:d=!0,skinToneFilters:c=l}){const u=(0,r.ZP)(),p=(0,s.Z)(),h=c.options,m=`/search/pins/?rs=rs&q=${t}`,_=i?u.bt("      ", "Some ideas in this skin tone range", "SkinToneFilters.copy.termSelected", undefined, true):u.bt("   ", "Pick a skin tone range", "SkinToneFilters.copy.noTermSelected", undefined, true),{filtersContainerHeight:g,filtersContainerWidth:v,skinToneOvalHeight:y,skinToneOvalWidth:f}=function(){const e="undefined"!=typeof window?Math.min((window.innerWidth-40)/4-4,96):0;return{filtersContainerHeight:52,filtersContainerWidth:e,skinToneOvalHeight:44,skinToneOvalWidth:e-8}}();return(0,a.jsxs)(n.kC,{alignItems:"center",direction:"column",height:d?88:52,children:[d&&(0,a.jsx)(n.xu,{marginBottom:2,children:(0,a.jsx)(n.xv,{color:"default",overflow:"normal",weight:"bold",children:_})}),(0,a.jsx)(n.kC,{alignItems:"stretch",flex:"none",justifyContent:"around",children:h.map((({swatch_hex_colors:r,term:s},l)=>(0,a.jsx)(n.iP,{role:"link",onTap:()=>{!function(e,t){const{index:i,query:n,onClickApplyFilter:a}=e;t({aux_data:{entered_query:n,filter_type:"skin_tone",filter_value:i},element:1341,event_type:102,view_parameter:43,view_type:2}),null==a||a()}({index:l,query:t,onClickApplyFilter:e},p)},tapStyle:"none",href:`${m}${i!==s?`&filters=${encodeURIComponent(s)}`:""}`,children:(0,a.jsx)(n.xu,{alignItems:"center","data-test-id":"skin-tone-option",color:i===s?"selected":"default",display:"flex",height:g,justifyContent:"around",rounding:"pill",width:v,children:(0,a.jsx)(n.xu,{alignItems:"center",color:"default",display:"flex",height:g-4,justifyContent:"around",rounding:"pill",width:v-4,children:(0,a.jsx)(o,{skinToneOvalHeight:y,skinToneOvalWidth:f,swatchColors:r})})})},s)))})]})}},962832:(e,t,i)=>{i.d(t,{$J:()=>k,AP:()=>F,Dm:()=>I,Fv:()=>P,H$:()=>R,In:()=>L,Ng:()=>S,RH:()=>x,Wj:()=>D,_P:()=>T,go:()=>w});var n=i(126098),a=i(6637),o=i(550858),r=i(30287),s=i(53987),l=i(867820),d=i(844974);const c="home",u="closeup",p="news_hub",h="board",m="profile",_="topic",g="today",v="business",y="search";let f;const x="_push",b=e=>{e.onupdatefound=()=>{(0,l.My)("mweb_service_worker.update_found")}},w=()=>Boolean("undefined"!=typeof navigator&&navigator.serviceWorker&&navigator.serviceWorker.controller),P=()=>new Promise(((e,t)=>{const i=navigator.serviceWorker,{pwaType:n,twaType:a}=f.getState().session,o=new URLSearchParams({source_url:window.location.pathname});n&&a&&(0,r.Rx)(a)&&(o.append("pwa_type",n),o.append("twa_type",a)),Boolean("undefined"!=typeof document&&document.referrer&&!document.referrer.startsWith(window.location.origin))&&o.append("referrer",document.referrer),i&&i.register?((0,l.My)("mweb_service_worker.install_attempt"),i.register(`/sw.js?${o.toString()}`).then((t=>{(0,l.My)("mweb_service_worker.install_success"),b(t),e(t)})).catch((e=>{(0,l.tj)("mweb_service_worker.install_fail",{error:e.message}),t(e)}))):e()})),S=()=>new Promise(((e,t)=>{const i=navigator.serviceWorker;i&&i.getRegistration?((0,l.My)("mweb_service_worker.update_attempt"),i.getRegistration().then((i=>{i?i.update().then((()=>{(0,l.My)("mweb_service_worker.update_success"),b(i),e(i)})).catch((e=>{(0,l.tj)("mweb_service_worker.update_fail",{error:e.message}),t(e)})):P().then(e)}))):e()})),k=()=>{const e=f.getState().session.isAuthenticated;(0,l.My)(`mweb.${e?"auth":"unauth"}.register_service_worker`),P()},I=()=>{const e=navigator.serviceWorker;return e&&e.getRegistration?((0,l.My)("mweb_service_worker.unregister_attempt"),(0,o.Qi)(),e.getRegistration().then((e=>{if(e)return e.unregister().then((()=>((0,l.My)("mweb_service_worker.unregister_success"),navigator.serviceWorker&&window.caches?window.caches.keys().then((e=>{const t=e.find((e=>e.startsWith("workbox-precaching")));return t?window.caches.delete(t):null})).then((()=>(0,l.My)("mweb_service_worker.clear_app_shell"))):Promise.resolve()))).catch((e=>{(0,l.tj)("mweb_service_worker.unregister_fail",{error:e.message})}))}))):Promise.resolve()},T=()=>!(!w()||!("SyncManager"in window)),j=e=>(0,s.C$)(e)?c:(0,s.L6)(e)?u:(0,s.l4)(e)?p:(0,s.am)(e)?h:(0,s.cD)(e)?m:(0,s.En)(e)?y:(0,s.$V)(e)?_:(0,s.Zz)(e)?g:(0,s.Ni)(e)?v:"undefined",C=e=>{switch(j(e)){case c:return{viewType:1,viewParameter:92};case u:return{viewType:3,viewParameter:void 0};case p:return{viewType:107,viewParameter:3081};case h:return{viewType:5,viewParameter:void 0};case y:return{viewType:2,viewParameter:43};case _:return{viewType:210,viewParameter:void 0};case m:return{viewType:4,viewParameter:void 0};case v:return{viewType:409,viewParameter:3397};case g:return{viewType:1,viewParameter:3372};default:return{viewType:void 0,viewParameter:void 0}}},A=(e,t)=>(0,l.tj)(e,{browser:f.getState().session.browser,version:Math.floor(parseInt(f.getState().session.browserVersion,10)),...t}),E=(0,n.Z)(),R="default"===E||"granted"===E,D=(e,t,i,n)=>{const o=navigator.serviceWorker,r=Boolean((0,d.qn)(x)),s={experimentName:i||"noExperiment",experimentGroup:n||"noGroup"};return o&&o.ready&&R&&!r?(t({event_type:13,view_type:170,component:13125,aux_data:{experiment_name:i,experiment_group:n}}),A(`mweb.notifications_upsell.${j(e)}.viewed`,s),o.ready.then((e=>e.pushManager.subscribe({userVisibleOnly:!0}))).then((i=>((e,t,i,n)=>{a.Z.create("WebPushDeviceResource",{}).callGet().then((t=>{const i=(({subscriptionId:e,endpoint:t})=>{return e||(i=t.split("/"))[i.length-1];var i})(e);if(t.resource_response.data[i])return;const n={registration_id:i,subscription_endpoint:e.endpoint};a.Z.create("WebPushDeviceResource",n).callCreate()})),(0,d.Nh)(x,"subscribed"),A(`mweb.notifications_upsell.${j(t)}.subscribed`,i);const o=C(t);n({component:13125,element:10357,event_type:102,view_type:o.viewType,view_parameter:o.viewParameter,aux_data:{experiment_name:i.experimentName,experiment_group:i.experimentGroup}})})(i,e,s,t)),(()=>((e,t,i)=>{(0,d.Nh)(x,"denied"),A(`mweb.notifications_upsell.${j(e)}.denied`,t);const n=C(e);i({component:13125,element:10358,event_type:102,view_type:n.viewType,view_parameter:n.viewParameter,aux_data:{experiment_name:t.experimentName,experiment_group:t.experimentGroup}})})(e,s,t)))):Promise.reject()},L=e=>{f=e},F=({isAuthenticated:e,isAppShell:t})=>{let i=!1;const n=n=>{if(i)return;i=!0;const a=`${t?"warm":"cold"}.${e?"auth":"unauth"}`;(0,l.My)(`mweb_service_worker.appshell_status.${a}.${n}`)},a=navigator.serviceWorker,o=null==a?void 0:a.controller;a&&o?setTimeout((()=>n("timeout")),1e3):n("no_worker")}},886076:(e,t,i)=>{function n({isEligibleForPdp:e,isOosProduct:t,isStaleProduct:i,pinShoppingFlags:n}){if(n){const a=n,o={pin_is_shop_the_look:a.includes(2),pin_show_pdp:e||t||i,is_available:a.includes(1),is_product_pin_v2:a.includes(5),is_rich_product_pin:a.includes(6)};return JSON.stringify(o)}}i.d(t,{Z:()=>n})},830157:(e,t,i)=>{function n(e,t){return e||(t?`${t}~0`:"~0")}i.d(t,{Z:()=>n})},948376:(e,t,i)=>{i.d(t,{G3:()=>c,Rp:()=>d,kp:()=>l});var n=i(339363),a=i(202139),o=i(844974);const r=14*a.F4;function s(e,t,i){return e-t>i}const l=e=>{const t=function(){const e=Date.now(),t=Number((0,o.qn)("appUpsell"));return{currentTime:e,firstUpsellTime:Number((0,o.qn)("firstUpsellTime")),lastUpsellTime:t,showedAppUpsellCurrentSession:Boolean((0,n.qn)("showedAppUpsellCurrentSession"))}}();return e?function(e,t,i){const{currentTime:n,firstUpsellTime:a,lastUpsellTime:l,showedAppUpsellCurrentSession:d}=e;return i=i||r,!a||function(e,t,i){return e<t+i}(n,a,t)?!d:!!s(n,l,i)&&((0,o.L_)("firstUpsellTime"),!0)}(t,a.F4):function(e,t){const{currentTime:i,lastUpsellTime:n}=e;return t=t||r,!n||s(i,n,t)}(t)},d=({platform:e,userAgent:t})=>{try{return"android"===e&&parseFloat((e=>{const t=(e=e.toLowerCase()).match(/android\s([0-9\.]*)/i);return t?t[1]:void 0})(t))<7}catch(i){return!1}},c=e=>(e.startsWith("zh")||e.startsWith("ar")?e:e.slice(0,2)).toUpperCase()},116485:(e,t,i)=>{i.d(t,{AA:()=>o,E9:()=>_,EU:()=>y,IO:()=>v,Jd:()=>h,KH:()=>c,QR:()=>d,Uw:()=>a,ZR:()=>f,dy:()=>l,eA:()=>p,fo:()=>m,k7:()=>r,rT:()=>g,tz:()=>u,u9:()=>x,zR:()=>s,zu:()=>n});const n="OPEN_UNAUTH",a="openUnauthType",o="_isAfterLogin",r="_lastVisitedPages",s="_lastVisitedPagesBeforeLogin",l="_lastVisitedBoardPages",d="_lastVisitedPagesBeforeNavPage",c="_lastVisitedSessionPages",u="_unauthVisitedPages",p=20,h="_unauthInviteCode",m="_unauthReferrerString",_="unauthTopicsFollowed",g=["US","CA","NZ","AU"],v=new Set(["GB","IE"]),y=new Set(["AT","BE","CH","DE","DK","ES","FR","IT","NL","NO","PT","SE"]),f=new Set(["BR","MX","AR","CL","CO","PE"]),x="ad_img"},844887:(e,t,i)=>{i.d(t,{DZ:()=>u,Dv:()=>p,Es:()=>d,HW:()=>l,mv:()=>c});var n=i(844974),a=i(773285),o=i(116485);const r=e=>e>=Date.now()-72e5,s=(e,t)=>{const i=[];if(e)for(const n of e)t&&!n.is_shared||r(n.ts)&&i.push(n);return i},l=()=>{const e=(0,n.qn)(o.zR),t=e?JSON.parse(e):[],i=s(t,!1),a=s(t,!0),l=i.map((e=>e.first_pin_image_signature)),d=a.map((e=>e.first_pin_image_signature)),c=(e=>{const t={};if(e)for(const i of e)i.is_shared&&r(i.ts)&&i.pin_id&&(t[i.pin_id]={inviteCode:i.pin_invite_code});return t})(t),u=(0,n.qn)(o.dy),p=u?JSON.parse(u):[];return{extraPlpImages:l,plpImageRenderData:i,extraBlpImages:s(p,!0).map((e=>e.first_pin_image_signature)),extraSharedImages:d,sharedPinData:c}},d=(e,t)=>{if(e.length!==t.length)return!1;for(let i=0;i<e.length;i+=1){if(e[i].id!==t[i].id)return!1}return!0},c=(e,t)=>(e.nuxTopics?e.nuxTopics.map((({id:e})=>t[e])):[]).filter((e=>e.is_followed)),u=(e,t)=>e.nuxTopics?e.nuxTopics.map((({id:e})=>t[e])):null,p=()=>{const{checkExperiment:e}=(0,a.F)(),{anyEnabled:t,group:i}=e("mweb_mini_renux");return{inMiniRenuxEnabledGroup:t,interestsLimit:t?Number(i.slice(-1)):NaN}}},62409:(e,t,i)=>{i.d(t,{AH:()=>l,Bk:()=>o,CK:()=>s,Xe:()=>a,kb:()=>r,wS:()=>n});const n=(e,t,i,n)=>{let a;return a=t||(e?e.official_user:i||n),a};function a({hasLinkDomain:e,hasNativeCreator:t,hasOriginPinner:i,pinDomain:n,sourceUserUsername:a,sourceUserFullName:o}){return!t&&(e||i)&&a?{pinCreditLink:`/${a}/`,pinCredit:o}:{pinCreditLink:void 0,pinCredit:!t&&e?n:""}}const o=({i18n:e,isLego:t,hasLinkDomain:i,hasRichMetadataArticle:n,hasRichMetadataTutorial:a,hasRichMetadataRecipeCategorizedIngredients:o,hasRichMetadataProductOfferSummary:r,hasRichSummaryProductOfferSummary:s,richMetadataRecipeFromAggregatedData:l,richMetadataProductName:d,richSummaryProductName:c})=>{const u=o;let p;d&&r&&(p=!0);const h=n,m=a;let _=t?e.bt(": ", "From ", "Closeup pin annotation", undefined, true):e.bt(": ", "Saved from ", "Closeup pin annotation", undefined, true);return!i||l?_=e.bt(": ", "Saved by ", "Closeup pin annotation", undefined, true):p?_=e.bt(": ", "Product sold by ", "pin annotation", undefined, true):m?(t&&(_=e.bt(": ", "From ", "pin annotation", undefined, true)),_=e.bt(": ", "Saved from ", "pin annotation", undefined, true)):u?_=e.bt(" : ", "Recipe from ", "pin annotation", undefined, true):h&&(_=e.bt(" : ", "Article from ", "pin annotation", undefined, true)),!r&&c&&s&&(_=e.bt(": ", "Product sold by ", "pin annotation", undefined, true)),_},r=(e,t,i)=>{let n;if(e&&!(t&&t.recipe&&t.recipe.from_aggregated_data)){let e;var a;if(t&&t.products&&t.products[0]&&(e=!!(t&&t.products[0].name&&t.products[0].offer_summary)),e)n=null==t||null===(a=t.products)||void 0===a?void 0:a[0].offer_summary}if(!n&&i){let e;i&&i.products&&i.products[0]&&(e=!!(i&&i.products[0].name&&i.products[0].offer_summary),e&&(n=i.products[0].offer_summary))}return n},s=({hasRichMetadata:e,hasRichMetadataProducts:t,hasRichMetadataArticle:i,hasRichMetadataRecipe:n})=>e?t?144:i?141:n?145:139:140,l=e=>!!e&&!e.startsWith("https://i.pinimg.com")},772486:(e,t,i)=>{i.d(t,{XK:()=>s,jC:()=>r,yd:()=>l});var n=i(745760);let a=null,o=null;const r=((e,t)=>{let i=null;return r=>{var s;if(r&&!i)return i={...r,event_type:e,time:(0,n.h1)()},null===(s=o)||void 0===s||s.logContextEvent(i),a&&i&&a.storeClickthroughProperties(i),e;if(!r&&i){var l;const e={...i,event_type:t,duration_ns:(0,n.h1)()-i.time};return null===(l=o)||void 0===l||l.logContextEvent(e),i=null,t}return null}})(12,4100),s=e=>{a=e},l=e=>{o=e}},529195:(e,t,i)=>{i.d(t,{CC:()=>b,Cb:()=>y,Ff:()=>A,H$:()=>P,Mt:()=>x,OJ:()=>v,Yi:()=>I,Ys:()=>g,Yy:()=>j,Z4:()=>_,ZN:()=>p,dc:()=>k,dp:()=>w,i$:()=>m,kw:()=>f,p9:()=>S,t_:()=>h});var n=i(231486),a=i(6637),o=i(826067),r=i(332215),s=i(226198),l=i(867820),d=i(339363),c=i(844974),u=i(116485);const p=["utm_pai","utm_source","invite_code"],h=()=>(0,c.qn)(u.tz,""),m=()=>{const e=h();let t;try{t=JSON.parse(e)}catch(i){t=[]}return t},_=(e,t)=>{const i=m(),n=i.length,a=n?i[0].path:"";if(n<u.eA&&(!n||e!==a)){const n={path:e,pageType:t,ts:Date.now()};(0,c.Nh)(u.tz,JSON.stringify([n].concat(i)))}},g=e=>{(0,c.Nh)(u.Jd,e)},v=()=>(0,c.qn)(u.fo,""),y=e=>{(0,c.Nh)(u.fo,e)},f=()=>{h()&&(0,c.L_)(u.tz),(0,c.qn)(u.Jd,"")&&(0,c.L_)(u.Jd),v()&&(0,c.L_)(u.fo)},x=(e,t,i,n,a,o,r=u.k7)=>{const s=(0,c.qn)(r)?JSON.parse((0,c.qn)(r)):[];if(!s[0]||s[0].path!==e){const l=[{path:e,ts:Date.now(),pin_id:i||0,first_pin_image_signature:t||"",first_pin_id:i||"",image_info:n||"",pin_description:a||"",is_shared:!!o,pin_invite_code:o}];(0,c.Nh)(r,JSON.stringify(l.concat(s)))}},b=({path:e,image:t,dominant_color:i,pin_description:n,pin_id:a})=>{const o=(()=>{const e=(0,d.qn)(u.KH);if(!e)return[];let t;try{t=JSON.parse(e)}catch(i){t=[]}return t})();if(!o[0]||o[0].path!==e){const r=[{path:e,image:t,pin_description:n||"",dominant_color:i||"",pin_id:a||""}];(0,d.Nh)(u.KH,JSON.stringify(r.concat(o)))}};function w(e,t,i,n,a,o){x(e,t,i,n,a,o,u.zR)}const P=(e,t,i,n,a)=>{x(e,t,i,null==n?void 0:n["236x"],null!=a?a:"","",u.dy)};function S(e,t,i,n,a){x(e,t,i,n,a,"",u.QR)}function k(){return m().filter((e=>"closeup"===e.pageType)).length}function I(){const e=a.Z.create("UnauthUserDataResource");return new Promise(((t,i)=>{e.callGet().then((e=>{const a=e.resource_response.data,o=!!n.U2(s.x3);return a?((0,r.Wn)(a.medium_image_url)&&(a.medium_image_url=""),(0,l.My)("mweb.unauth.personalized_login.fetch_user_info.info.user_info_found.logged_out_cookie_"+(o?"true":"false")),t(a)):((0,l.My)("mweb.unauth.personalized_login.fetch_user_info.info.no_user_info.logged_out_cookie_"+(o?"true":"false")),i({}))})).catch((e=>{if(e&&e.message){const t=e.message.replace(/\s/g,"_").toLowerCase();(0,l.My)(`mweb.unauth.personalized_login.fetch_user_info.error.${t}`)}else(0,l.My)("mweb.unauth.personalized_login.fetch_user_info.error.unknown");return i(e)}))}))}function T({i18n:e,location:t}){const i=t.pathname.startsWith("/signup"),n=t.pathname.startsWith("/login");if(!i&&!n)return{showPLPBanner:!1,pinForBanner:null};let a;try{a=JSON.parse((0,d.qn)(u.KH))}catch(o){a=[]}if(a&&a.length>0){const t=a[0];if(t)return t.bannerCopy=e.bt("    ", "More ideas like this await", "page banner with pin image that was signed up from", undefined, true),{showPLPBanner:Boolean(t.image),pinForBanner:t}}return{showPLPBanner:!1,pinForBanner:null}}const j=e=>e.search&&e.search.startsWith("?next=")?e.search.split("?next=")[1]:null;function C({i18n:e,location:t}){var i;const n=(null===(i=t.state)||void 0===i?void 0:i.next)||j(t);if(n){const t=n.indexOf("?"),i=(0,o.mB)(n.substring(t));if(i.url&&i.media)return{showPLPBanner:!0,pinForBanner:{image:{url:(0,o.Jx)(i.media),height:1,width:1},pinDescription:i.description,bannerCopy:e.bt("       .", "Save this idea and discover more inspiration like it.", "page banner with pin image that was signed up from", undefined, true)}}}return{showPLPBanner:!1,pinForBanner:null}}function A({i18n:e,location:t}){return C({i18n:e,location:t}).showPLPBanner?C({i18n:e,location:t}):T({i18n:e,location:t}).showPLPBanner?T({i18n:e,location:t}):{showPLPBanner:!1,pinForBanner:null}}},305324:(e,t,i)=>{i.d(t,{M:()=>v,g:()=>y});var n,a=i(667294),o=i(590674),r=(i(883119),i(867820)),s=i(447409),l=i(50286),d=i(430235),c=i(874317),u=i(167912),p=i(785893);const h=void 0!==n?n:n=i(110767);const m=({queryReference:e,...t})=>{var i;const n=(0,u.usePreloadedQuery)(h,e),a=null==n||null===(i=n.v3GetPinQuery)||void 0===i?void 0:i.data;return a?(0,p.jsx)(d.Z,{...t,graphqlRef:a}):null},_=({queryReference:e,...t})=>{var i;const n=(0,u.usePreloadedQuery)(h,e),a=null==n||null===(i=n.v3GetPinQuery)||void 0===i?void 0:i.data;return a?(0,p.jsx)(c.ZP,{...t,graphqlRef:a}):null},g=(0,a.createContext)((()=>()=>{})),v=()=>(0,a.useContext)(g),y=({children:e,feedRef:t,viewType:i,viewParameter:n,useGraphql:v})=>{const[y,f]=(0,a.useState)(null),[x,b]=(0,a.useState)(null),[w,P]=(0,a.useState)(!1),[S,k]=(0,a.useState)(null),[I,T]=(0,a.useState)(!1),j=(0,l.HG)(),[C,A]=(0,u.useQueryLoader)(h);if(v&&!C&&S){A(function({pinId:e}){return{query:h,variables:{pinId:e}}}({pinId:S}).variables)}const E=()=>{document&&document.body&&document.body.style&&(document.body.style.overflow="unset")};(0,a.useEffect)((()=>E),[]);const R=(0,a.useCallback)((e=>i=>{const{pinId:n,deviceOptions:a}=e;if(i.stopPropagation(),i.preventDefault(),k(n),a.isDesktop)T(a.isMainPinImage),(0,r.My)("dweb.unauth.context_menu.open_menu"),f({xPosition:i.clientX,yPosition:i.clientY}),document&&document.body&&document.body.style&&(document.body.style.overflow="hidden");else{(0,r.My)("mweb.unauth.related_pin.context_menu.open");const e=i.changedTouches.item(0);if(t&&t.current){const i=t.current.getBoundingClientRect(),n=Math.min(e.pageX-i.left,i.width-c.nt),o=e.pageY-s.n;b({xPosition:n,yPosition:o,context:a.context})}}}),[t]),D=!!y;(0,a.useEffect)((()=>{const e=()=>{f(null),E(),(0,r.My)("dweb.unauth.context_menu.click_away")};return D&&document.addEventListener("click",e),()=>{D&&document.removeEventListener("click",e)}}),[D]);const L=y&&S?v?C&&(0,p.jsx)(m,{desktopContextMenuState:y,pinId:S,isMainPinImage:!!I,queryReference:C}):(0,p.jsx)(d.Z,{desktopContextMenuState:y,pinId:S,isMainPinImage:!!I,graphqlRef:null}):null,F=x&&S?v?C&&(0,p.jsx)(_,{mwebContextMenuState:x,pinId:S,openShareModal:P,setMwebContextMenuState:b,queryReference:C}):(0,p.jsx)(c.ZP,{graphqlRef:null,mwebContextMenuState:x,pinId:S,openShareModal:P,setMwebContextMenuState:b}):null;return(0,p.jsx)(g.Provider,{value:R,children:(0,p.jsxs)(a.Fragment,{children:[e,j&&L,!j&&F,!j&&w&&S&&(0,p.jsx)(o.default,{objectType:1,isOpen:w,onDismiss:()=>P(!1),objectId:S,hideContactsSuggestions:!0,element:12016,viewType:i,viewParameter:n,component:18})]})})}},332215:(e,t,i)=>{function n(e){return Boolean(null==e?void 0:e.is_matured_new_user)}i.d(t,{IR:()=>r,V0:()=>n,Wn:()=>o,xT:()=>a});const a=e=>!!e&&2===e.login_state,o=e=>!(!e||!e.match(/\/static\/images\/user\/default_\d+\.png$/));function r(e){return!e||void 0===e.third_party_marketing_tracking_enabled||null===e.third_party_marketing_tracking_enabled||e.third_party_marketing_tracking_enabled}},698629:(e,t,i)=>{i.d(t,{Z:()=>m});var n=i(667294),a=i(391254),o=i(619623),r=i(50286),s=i(444445),l=i(883119),d=i(785893);const c="PinGridSkeletonLoader__tall",u="PinGridSkeletonLoader__short",p=({size:e})=>(0,d.jsx)(l.xu,{padding:1,children:(0,d.jsx)("div",{className:"tall"===e?c:u})}),h=({children:e})=>(0,d.jsx)(l.kC,{direction:"column",gap:{row:0,column:2},children:e}),m=({partialViewportWidth:e})=>{const t="desktop"===(0,r.ZP)(),i=t?s.yF:s.tG;return(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)(a.Z,{unsafeCSS:[{name:c,height:250},{name:u,height:150}].map((({name:e,height:t})=>(0,o.Z)({name:e,width:i,height:t}))).join("")}),(0,d.jsx)(l.xu,{marginStart:s.qG,marginEnd:s.qG,children:t?(0,d.jsxs)(l.kC,{direction:"row",gap:{row:s.jC,column:0},children:[(0,d.jsx)(h,{children:(0,d.jsx)(p,{size:"tall"})}),(0,d.jsx)(h,{children:(0,d.jsx)(p,{size:"short"})}),(0,d.jsx)(h,{children:(0,d.jsx)(p,{size:"tall"})}),!e&&(0,d.jsx)(h,{children:(0,d.jsx)(p,{size:"short"})})]}):(0,d.jsxs)(l.kC,{direction:"row",overflow:"hidden",justifyContent:"center",children:[(0,d.jsxs)(h,{children:[(0,d.jsx)(p,{size:"tall"}),(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"})]}),(0,d.jsxs)(h,{children:[(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"}),(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"})]})]})})]})}},619623:(e,t,i)=>{i.d(t,{Z:()=>n});const n=({name:e,width:t,height:i})=>{const n=`${i}${"number"==typeof i?"px":""}`,a="number"==typeof t?t:236;return`\n.${e} {\n  -webkit-animation-duration: 1s;\n  -webkit-animation-fill-mode: forwards;\n  -webkit-animation-iteration-count: infinite;\n  -webkit-animation-name: ${e}_placeHolderShimmer;\n  -webkit-animation-timing-function: linear;\n  border-radius: 16px;\n  background: #f6f7f9;\n  background-image: linear-gradient(to right, #f6f7f9 0%, #e9ebee 20%, #f6f7f9 40%, #f6f7f9 100%);\n  background-repeat: no-repeat;\n  background-size: ${a} ${n};\n  width: ${`${t}${"number"==typeof t?"px":""}`};\n  height: ${n};\n}\n\n@keyframes ${e}_placeHolderShimmer{\n  0% {\n      background-position: -${a}px 0;\n  }\n  100% {\n      background-position: ${a}px 0;\n  }\n}\n`}},987318:(e,t,i)=>{i.d(t,{H:()=>o,o:()=>a});var n=i(425288);const{Provider:a,useHook:o}=(0,n.Z)("LimitedLogin")},945698:(e,t,i)=>{i.d(t,{N4:()=>o,Wh:()=>n,hr:()=>a});const n=e=>e.bt(",  ", "Log in to continue", "limitedLogin.modalHeader.default", undefined, true),a=e=>e.bt(" !   Pinterest,      .", "You're almost there! Log in to access all of Pinterest", "loginModal.limitedLogin.subheader", undefined, true),o=({i18n:e,toFollow:t})=>t?e.bt(",  ", "Log in to follow", "limitedLogin.modalHeader.follow", undefined, true):e.bt(",  ", "Log in to unfollow", "limitedLogin.modalHeader.unfollow", undefined, true)},881802:(e,t,i)=>{i.d(t,{Bb:()=>v,Bx:()=>d,DF:()=>r,F4:()=>l,OG:()=>o,Qj:()=>c,_6:()=>g,gv:()=>s,hg:()=>u,is:()=>m,jP:()=>_,lt:()=>a,oM:()=>p,wI:()=>h});var n=i(826067);const a=e=>e.bt(",  ", "Log in to continue", "limitedLogin.modalHeader.default", undefined, true),o=e=>e.pathname,r=e=>{var t;return null!==(t=null==e?void 0:e.bt("You'll need to log in to do that", "You'll need to log in to do that", "limitedLogin.modalHeader.completeAction", undefined, false))&&void 0!==t?t:"You'll need to log in to do that"},s=({firstName:e,i18n:t})=>e?(t.bt("{{ name }}    ", "{{ name }} invited you to join their board", "limitedLogin.modalHeader.groupBoardCollab", undefined, true)).replace("{{ name }}",e):t.bt("     ", "Your friends invited you to join their board", "limitedLogin.modalHeader.groupBoardCollab", undefined, true),l=e=>{const t=(0,n.mB)(e.search).board_url;if(t){const e=(0,n.Jx)(t),i=(0,n.XP)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${i}`:`${e}?${i}`}return e.pathname},d=e=>e.bt(",   ", "Log in to save this Pin", "limitedLogin.modalHeader.repin", undefined, true),c=e=>{const t=e.pathname;if(t.startsWith("/pin/")){const e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return t},u=e=>e.bt(",   ", "Log in to send this Pin", "limitedLogin.modalHeader.send", undefined, true),p=e=>e.bt(",   ", "Log in to edit this Pin", "limitedLogin.modalHeader.editPin", undefined, true),h=e=>{const t=e.pathname;if(t.startsWith("/pin/")){const e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return t},m=e=>e.bt(",     ", "Log in to create a Pin or board", "limitedLogin.modalHeader.create", undefined, true),_=e=>e.bt(",    ", "Log in to hide this Pin", "limitedLogin.modalHeader.hidePin", undefined, true),g=e=>e.bt(",   ", "Log in to share the profile", "limitedLogin.modalHeader.shareProfile", undefined, true),v=e=>e.bt(",   ", "Log in to create a board", "limitedLogin.modalHeader.createBoard", undefined, true)},927383:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(898781),a=i(50286),o=i(987318),r=i(945698);const s=()=>{const e=(0,n.ZP)(),t=(0,a.HG)(),{viewer:i,loginForMore:s,limitedLoginModalSubheader:l,limitedLoginModalNextLocation:d}=(0,o.H)();return"LIMITED_LOGIN"===i.type?({modalHeader:i,nextLocation:n})=>a=>{let o=null;a&&(a.nativeEvent&&a.nativeEvent instanceof Event?o=a:a.event&&(o=a.event)),o&&(o.preventDefault&&o.preventDefault(),o.stopPropagation&&o.stopPropagation()),null==s||s.setVisible(!0),null==l||l.setText(i||(t?(0,r.hr)(e):(0,r.Wh)(e))),n&&(null==d||d.setRoute(n))}:({fn:e})=>e}},56390:(e,t,i)=>{i.d(t,{C:()=>l,P:()=>s});var n=i(172071),a=i(53987),o=i(339363);const r="msmrsfda",s=()=>!!(0,o.qn)(r),l=e=>{(0,a.LM)(e)&&!s()&&((0,o.Nh)(r,"1"),n.Z.incrementNow("mobile_signup_modal.rules.suppress_for_discover_article",1))}},574724:(e,t,i)=>{i.d(t,{Ee:()=>f,Hn:()=>u,Jw:()=>g,L7:()=>n,PS:()=>y,Qc:()=>a,UF:()=>d,UT:()=>p,UV:()=>r,W1:()=>o,Ws:()=>h,ZW:()=>l,cK:()=>v,cy:()=>_,o4:()=>m,tr:()=>c,uQ:()=>x,vF:()=>s});const n=1,a=2,o="female",r="male",s="unspecified",l="en-US",d="US",c=3,u="has_done_closeup",p=[503459,505150,503761,505139],h="Gender",m="InterestPicker",_="LoadingStep",g="AppInstall",v={NUX_GENDER_STEP_NAME:h,NUX_INTEREST_PICKER_STEP_NAME:m,NUX_LOADING_STEP_NAME:_,NUX_APP_INSTALL_STEP_NAME:g},y="mweb_cfa_full_modal_opt_in_tp",f="mweb_modernize_nux",x="checklist_education_feed_card"},633083:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(643010),a=i(883119),o=i(785893);function r({color:e,image:t,isSelected:i,title:r}){var s,l,d;return(0,o.jsxs)(a.xu,{alignItems:"center","aria-selected":i,dangerouslySetInlineStyle:{__style:{backgroundColor:(0,n.Yc)()?i?"#fff":"#767676":i?"#111":"#efefef"}},display:"flex",padding:1,rounding:"pill",children:[(0,o.jsx)(a.zd,{height:48,rounding:"circle",width:48,children:(0,o.jsx)(a.Ee,{alt:"",color:e,fit:"cover",naturalHeight:null!==(s=t.height)&&void 0!==s?s:1,naturalWidth:null!==(l=t.width)&&void 0!==l?l:1,src:null!==(d=t.url)&&void 0!==d?d:""})}),(0,o.jsx)(a.xu,{marginStart:2,marginEnd:3,children:(0,o.jsx)(a.xv,{color:i?"inverse":(0,n.Yc)()?"light":"dark",weight:"bold",children:r})})]})}},461355:(e,t,i)=>{i.d(t,{Z:()=>_,z:()=>c});var n=i(667294),a=i(702664),o=i(391254),r=i(350118),s=i(698330),l=i(883119),d=i(785893);const c=2500,u={__style:{right:"-105px"}},p={__style:{animationName:"SavePin_AnimateIn, SavePin_CircleAnimateOut",animationDuration:"0.3s, 0.25s",animationDelay:"0.5s, 1.3s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",backgroundColor:"rgba(255, 255, 255, 0.6)"}},h={__style:{animationName:"SavePin_AnimateIn, SavePin_AnimateOut",animationDuration:"0.3s, 0.35s",animationDelay:"0.5s, 1.55s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",border:"4px solid white"}},m={__style:{animationName:"SavePin_NavButtonAnimation",animationDuration:"0.8s",animationDelay:"1.65s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out"}},_=(0,n.memo)((({children:e})=>{var t;const i=null===(t=(0,s.Tt)())||void 0===t?void 0:t.last_repin_id,n=(0,r.S6)(),c=i?n(i):null,_=(0,a.useSelector)((({session:e})=>e.isShowingRepinAnimation));if(!c||!_)return e;const{images:g}=c,{height:v,width:y,url:f}=(null==g?void 0:g["136x136"])||(null==g?void 0:g["236x"])||{};return(0,d.jsxs)(l.kC,{alignItems:"stretch",flex:"grow",justifyContent:"center",children:[(0,d.jsx)(o.Z,{unsafeCSS:"\n@keyframes SavePin_AnimateIn {\n  from {\n    transform: scale(0.0);\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n    transform: scale(1.0);\n  }\n}\n@keyframes SavePin_CircleAnimateOut {\n  from {\n    transform: scale(1.0);\n    opacity: 1;\n  }\n  to {\n    transform: scale(0.8);\n    opacity: 0;\n  }\n}\n@keyframes SavePin_AnimateOut {\n  from {\n    transform: translateY(0);\n    opacity: 1;\n  }\n  to {\n    transform: translateY(100px);\n    width: 0px;\n    height: 0px;\n    opacity: 0;\n  }\n}\n@keyframes SavePin_NavButtonAnimation {\n  0% {\n    transform: scale(1.0);\n  }\n  50% {\n    transform: scale(1.3);\n  }\n  100% {\n    transform: scale(1.0);\n  }\n}\n"}),(0,d.jsxs)(l.xu,{position:"relative",children:[(0,d.jsxs)(l.xu,{width:250,height:250,position:"absolute",right:!0,bottom:!0,dangerouslySetInlineStyle:u,children:[(0,d.jsx)(l.xu,{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",opacity:0,rounding:"circle",dangerouslySetInlineStyle:p}),(0,d.jsx)(l.xu,{width:100,height:100,position:"absolute",margin:"auto",left:!0,right:!0,top:!0,bottom:!0,opacity:0,rounding:3,dangerouslySetInlineStyle:h,children:(0,d.jsx)(l.zd,{rounding:2,height:"100%",width:"100%",wash:!0,children:(0,d.jsx)(l.Ee,{alt:"pin-image",fit:"cover",naturalWidth:null!=y?y:1,naturalHeight:null!=v?v:1,src:null!=f?f:""})})})]}),(0,d.jsx)(l.xu,{dangerouslySetInlineStyle:m,children:e})]})]})}))},327212:(e,t,i)=>{i.d(t,{Z:()=>A});var n=i(667294),a=i(376030),o=i(391254),r=i(883119),s=i(785893);function l({addedStyles:e,button:t,headerText:i,icon:a,iconOverride:l,minHeight:d,subHeaderText:c}){return(0,s.jsx)(r.xu,{display:"flex",justifyContent:"center",width:"100vw",paddingX:2,children:(0,s.jsxs)(r.xu,{alignContent:"center",alignItems:"center",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{boxShadow:"0 3px 6px rgba(0,0,0,0.18)",transform:"translateY(-20px)",...e}},display:"flex",minHeight:d||75,padding:6,position:"relative",rounding:4,width:"100%",children:[(()=>{const e=l||(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(o.Z,{unsafeCSS:"\n@keyframes baseEduToastIconScale {\n  0% {\n    transform: scale(0)\n  }\n  30% {\n    transform: scale(1.2);\n  }\n  50% {\n    transform: scale(1);\n  }\n}\n"}),(0,s.jsx)(r.xu,{alignItems:"center",color:"education","data-test-id":"pin-save-toast",direction:"column",dangerouslySetInlineStyle:{__style:{animation:"baseEduToastIconScale 3s"}},display:"flex",height:60,justifyContent:"center",minHeight:60,minWidth:60,rounding:"circle",width:60,children:(0,s.jsx)(r.JO,{accessibilityLabel:a.accessibilityLabel,color:a.color,dangerouslySetSvgPath:a.dangerouslySetSvgPath,icon:a.icon,inline:a.inline,size:a.size})})]});return(0,s.jsx)(r.xu,{marginEnd:4,children:e})})(),(0,s.jsxs)(r.xu,{marginEnd:"auto",children:[(0,s.jsx)(r.xv,{color:"default",weight:"bold",children:i}),!!c&&(0,s.jsx)(r.xu,{paddingY:1,children:(0,s.jsx)(r.xv,{size:"300",color:"default",children:c})})]}),(0,s.jsx)(r.xu,{display:"flex",flex:"shrink",marginStart:2,children:t})]})})}var d=i(223815),c=i(829407),u=i(898781),p=i(759929);function h(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const m=(e,t)=>(e-t)/2,_=68,g=m(_,68),v=m(_,66),y=m(_,60),f="cubicBezier(0.25, 0.1, 0.25, 1)",x="encourageToastIconContainer",b="encourageToastIconRadiateBg",w="encourageToastIconRadiateRing",P={targets:`#${x}`,duration:300,scale:1.4,easing:f},S={targets:`#${x}`,duration:300,scale:1,easing:f,endDelay:1e3},k={targets:`#${x}`,duration:300,scale:.42,easing:f},I={targets:`#${b}`,duration:400,opacity:0,scale:1.6,easing:f},T={targets:`#${w}`,duration:650,opacity:0,scale:2,easing:f};function j({hiding:e,visible:t}){return t?e?{opacity:0,transform:"scale(1.0)",transition:"opacity transform .2s"}:{opacity:1,transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)"}:Object.freeze({})}class C extends n.PureComponent{constructor(...e){super(...e),h(this,"delayTimer",null),h(this,"requestAnimationFrameId",null),h(this,"playAnimation",(()=>{this.requestAnimationFrameId=window.requestAnimationFrame((()=>{(0,a.Z)(I),(0,a.Z)(T),(0,a.Z)(P).finished.then((()=>{(0,a.Z)(S).finished.then((()=>{a.Z.set(`#${x}`,{transformOrigin:"top right"}),(0,a.Z)(k)}))}))}))})),h(this,"getHeaderText",(()=>{const{text:e}=this.props;return Array.isArray(e)?e[0]:e})),h(this,"getIconProps",(()=>({accessibilityLabel:this.props.i18n.bt(" ", "Check icon", "Label for check icon on toast shown after board create", undefined, true),color:"inverse",icon:"check",size:30}))),h(this,"getSubHeaderText",(()=>{const{text:e}=this.props;return e instanceof Array&&e.length>1&&e[1]?e[1]:""})),h(this,"renderAnimatedIcon",(()=>(0,s.jsxs)(r.xu,{height:_,position:"relative",width:_,children:[(0,s.jsx)(r.xu,{"data-test-id":"pin-save-toast",width:60,height:60,overflow:"hidden",position:"absolute",rounding:4,dangerouslySetInlineStyle:{__style:{left:`${y}px`,top:`${y}px`}},children:this.props.thumbnail}),(0,s.jsxs)(r.xu,{id:x,height:_,width:_,dangerouslySetInlineStyle:{__style:{transform:"scale(0)"}},position:"absolute",children:[(0,s.jsx)(r.xu,{color:"infoBase",id:b,width:68,height:68,position:"absolute",rounding:"circle",dangerouslySetInlineStyle:{__style:{left:`${g}px`,top:`${g}px`,transform:"scale(0)"}}}),(0,s.jsx)(r.xu,{id:w,width:66,height:66,position:"absolute",rounding:"circle",opacity:1,dangerouslySetInlineStyle:{__style:{borderWidth:"2px",borderStyle:"solid",borderColor:"#0074e8",left:`${v}px`,top:`${v}px`,transform:"scale(0)"}}}),(0,s.jsx)(r.xu,{alignItems:"center",color:"infoBase",direction:"column",display:"flex",height:_,justifyContent:"center",minHeight:_,minWidth:_,position:"absolute",rounding:"circle",width:_,children:(0,s.jsx)(r.JO,{accessibilityLabel:this.props.i18n.bt(" ", "Check icon", "Label for check icon on toast shown after board create", undefined, true),color:"inverse",icon:"check",size:30})})]})]})))}componentDidMount(){this.delayTimer=setTimeout(this.playAnimation,700)}componentWillUnmount(){this.delayTimer&&clearTimeout(this.delayTimer),this.requestAnimationFrameId&&window.cancelAnimationFrame(this.requestAnimationFrameId)}render(){const{isRepinToExistingBoard:e,button:t}=this.props,i=e;return(0,s.jsx)(l,{button:t,headerText:this.getHeaderText(),icon:this.getIconProps(),iconOverride:i?void 0:this.renderAnimatedIcon(),subHeaderText:this.getSubHeaderText()})}}function A(e){const{duration:t,onHide:i}=e,a=(0,u.ZP)(),[o,l]=(0,n.useState)(!1),[h,m]=(0,n.useState)(!1),_=(0,n.useRef)(),g=()=>{l(!0),_.current=setTimeout(i,200)},v=()=>{_.current&&clearTimeout(_.current)};(0,c.Z)((()=>(setTimeout((()=>m(!0)),100),_.current=setTimeout(g,t||p.w),v)));let y=(0,s.jsx)(C,{...e,i18n:a});return e.href&&(y=(0,s.jsx)(r.rU,{href:e.href,onClick:g,rounding:"pill",tapStyle:"none",children:y})),(0,s.jsx)(d.Z,{children:(0,s.jsx)(r.mh,{children:(0,s.jsx)(r.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...j({hiding:o,visible:h})}},justifyContent:"center",position:"fixed",width:"100%",display:"flex",zIndex:p.k,children:y})})})}},56632:(e,t,i)=>{i.d(t,{L:()=>c,q:()=>u});var n=i(223019),a=i(258430),o=i(898781),r=i(883119),s=i(785893);const l=()=>{const e=(0,o.ZP)();return e.bt(" !", "Sweet save!", "Header text on toast that appears after user creates their first board", undefined, true)},d=()=>{const e=(0,o.ZP)();return e.bt("     .", "All your boards live on your profile", "Subheader text on toast that appears after user creates their first board", undefined, true)},c=e=>({duration:5e3,thumbnail:(0,s.jsx)(r.xu,{"data-test-id":"pin-save-toast",width:48,height:48,children:(0,s.jsx)(a.Z,{boardId:e})})}),u=({boardId:e,isFBC:t,viewType:i})=>({duration:5e3,thumbnail:(0,s.jsx)(r.xu,{"data-test-id":"pin-save-toast",children:(0,s.jsx)(n.Z,{boardId:e,viewType:i,type:"thumbnail"})}),text:t?[(0,s.jsx)(l,{},"0"),(0,s.jsx)(d,{},"1")]:void 0})},662089:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(702664),a=i(461355),o=i(343341),r=i(639952);function s(){const e=(0,n.useDispatch)(),{showToast:t,showOneToast:i}=(0,o.F9)();return{showToast:t,showOneToast:i,showRepinConfirmation:(i,n)=>{n||e((0,r.WF)()),setTimeout((()=>{n||e((0,r.a5)()),t(i)}),a.z)}}}},77388:(e,t,i)=>{i.r(t),i.d(t,{default:()=>Z});var n=i(667294),a=i(702664),o=i(140203),r=i(223019),s=i(761881),l=i(898781),d=i(349700),c=i(883119),u=i(785893);function p({isOwnProfile:e,username:t}){const i=(0,l.ZP)();return(0,u.jsx)(c.xu,{alignItems:"center",direction:"column",display:"flex",marginEnd:"auto",marginStart:"auto",maxWidth:240,paddingY:4,children:e?(0,u.jsxs)(n.Fragment,{children:[(0,u.jsx)(c.xv,{align:"center",children:i.bt("      .", "You havent saved any Pins yet", "profile.boards.pinner.OwnProfile.NoSavedIdeas", undefined, true)}),(0,u.jsx)(c.xu,{marginBottom:1,marginTop:4,children:(0,u.jsx)(c.zx,{role:"link",fullWidth:!0,href:"/",size:"lg",text:i.bt(" ", "Find ideas", "profile.boards.OwnProfile.EmptyStateLego.Button", undefined, true)})})]}):(0,u.jsx)(c.xv,{align:"center",children:(0,d.nk)(i.bt(" {{ username }}      .", "{{ username }} hasnt saved any Pins yet", "profile.boards.Pinner.EmptyStateLego", undefined, true),{username:t})})})}var h=i(331064),m=i(425713),_=i(920231),g=i(156637),v=i(989726),y=i(643010);const f="archived-boards";function x({renderBoard:e}){const t=(0,l.ZP)(),{isFetching:i,fetchMore:o}=(0,v.Z)({name:"BoardArchiveResource",options:{}}),r=(0,a.useSelector)((({feeds:e})=>e[f]||[]));return(0,u.jsxs)(n.Fragment,{children:[r.length>0&&(0,u.jsx)(c.xu,{color:(0,y.Yc)()?"secondary":void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:(0,y.Yc)()?void 0:"#f6f6f6",marginBottom:-68,paddingBottom:86}},marginEnd:-4,marginStart:-4,children:(0,u.jsx)(c.xu,{paddingX:6,paddingY:1,children:(0,u.jsx)(_.Z,{cacheKey:f,columnWidth:300,renderItem:({data:t,itemIdx:i})=>e({data:t,itemIdx:i}),gutterWidth:6,items:r,layout:"uniformRow",loadItems:o,minCols:2})})}),i&&(0,u.jsx)(c.xu,{margin:5,children:(0,u.jsx)(c.$j,{accessibilityLabel:t.bt("  ", "Loading user boards", "Loading state for the user boards page", undefined, true),show:!0})})]})}var b=i(74399),w=i(430323),P=i(829407),S=i(298361),k=i(807609),I=i(784590),T=i(52022),j=i(19121),C=i(407043),A=i(773285),E=i(698330),R=i(50286),D=i(276775);const L=(0,s.Z)("archived-boards"),F=e=>`profile-boards:${e}`,O=({hasBoards:e,isOwnProfile:t,userId:i,username:o})=>{const r=(0,l.ZP)(),d=(0,D.useHistory)(),p=(0,s.Z)(`boardless-pins:${i}`),h=(0,a.useSelector)((e=>p(e)||[]));return(0,u.jsxs)(n.Fragment,{children:[e&&h.length>0&&(0,u.jsxs)(n.Fragment,{children:[(0,u.jsx)(c.xu,{paddingY:6,children:(0,u.jsx)(c.iz,{})}),t&&(0,u.jsxs)(c.xu,{alignItems:"center",marginBottom:4,display:"flex",justifyContent:"between",children:[(0,u.jsx)(c.X6,{size:"400",children:r.bt(" ", "Unorganized ideas", "ProfileBoards.UnorganizedIdeasHeading", undefined, true)}),(0,u.jsx)(c.xu,{"data-test-id":"boardless-pin-organize-button",children:(0,u.jsx)(c.zx,{onClick:()=>d.push(`/${o}/organize/`),text:r.bt("", "Organize", "ProfileBoards.UnorganizedIdeasOrganizeButton", undefined, true)})})]})]}),(0,u.jsx)(m.ZP,{resourceConfig:{name:"BoardlessPinsResource",options:{field_set_key:"mobile",userId:i}},feedItemProps:{viewType:5,viewParameter:t?3106:3107},feedKey:`boardless-pins:${i}`,trafficSource:"user"})]})},z=(0,n.createContext)({isForArchivedBoards:!1});function N({data:e,itemIdx:t}){var i;const s=(0,l.ZP)(),{checkExperiment:d}=(0,A.F)(),p=(0,D.useRouteMatch)(),{username:h}=(0,j.Z)(),m=h===p.params.username,{isForArchivedBoards:_,firstBoard:g}=(0,n.useContext)(z),v=(0,S.Z)(),y=(0,a.useSelector)((t=>t.stories[e.id])),f=null!==(i=null==y?void 0:y.objects.map((e=>{var t;return{name:"AllPins",url:null!==(t=e.image_medium_url)&&void 0!==t?t:""}})))&&void 0!==i?i:[],x=decodeURIComponent(p.params.username||""),b=(0,E.cm)(),w=x?b(x):null,{last_pin_save_time:P,pin_count:k}=null!=w?w:{};return"story"===e.type?(0,u.jsx)(c.xu,{marginEnd:1,children:(0,u.jsx)(o.Z,{storyPinImages:f,subtitle:P?v(P,!0):"",pinCount:k})}):(0,u.jsxs)(c.xu,{marginEnd:t%2==0?1:void 0,marginStart:t%2==1?1:void 0,"data-test-id":"board-card",children:[(0,u.jsx)(r.Z,{boardId:e.id,containerBackgroundColor:_?"#f6f6f6":void 0,forwardedRef:g&&e.id===g.id?g.ref:void 0,showFollowButton:!1,type:"full",viewParameter:49,viewType:4}),m&&d("mweb_collab_existing_board").anyEnabled&&(0,u.jsx)(c.xu,{display:"flex",alignItems:"center",marginTop:-8,marginBottom:8,marginEnd:2,justifyContent:"end",children:(0,u.jsx)(c.xu,{position:"absolute",rounding:"circle",children:(0,u.jsx)(c.iP,{role:"link",href:`/board/${e.id}/edit/add_collaborators/`,rounding:"circle",tapStyle:"none",children:(0,u.jsx)(c.xu,{alignItems:"center",color:"secondary",display:"flex",direction:"column",height:36,justifyContent:"center",rounding:"circle",width:36,children:(0,u.jsx)(c.JO,{accessibilityLabel:s.bt(" ", "add collaborators", "Accessibility label for add collaborator icon", undefined, true),color:"subtle",icon:"person-add",size:20})})})})})]})}const M=({username:e})=>({field_set_key:"profile_grid_item",filter_stories:!1,sort:"last_pinned_to",username:e});function Z(){var e,t,i;const o=(0,l.ZP)(),r=(0,T.Z)(),s=(0,D.useRouteMatch)(),m=(0,R.HG)(),v=(0,n.useRef)(null),{isAuthenticated:y,isProfilePinsStale:f}=(0,a.useSelector)((e=>e.session)),{username:S}=(0,j.Z)(),A=decodeURIComponent(s.params.username||""),Z=(0,D.useHistory)(),{logContextEvent:U}=(0,C.v)(),B=(0,I.Z)(y?{name:"UserResource",options:{username:A,field_set_key:"quicksave"}}:null),V=(0,I.Z)({name:"BoardsFeedResource",options:M({username:A})});(0,n.useEffect)((()=>{V.error&&y&&Z.replace("/")}),[Z,V,y]);const H=(0,a.useSelector)((e=>L(e,{match:s})||[])),W=(0,a.useSelector)((({feeds:e})=>{const t=e[F(A||"")]||[],i=t.some((({type:e})=>"board"===e));return!m&&i?t:t.filter((({type:e})=>"story"!==e))})),$=S===A,K=(0,E.cm)(),G=A?K(A):null,q=null!==(e=null==G?void 0:G.id)&&void 0!==e?e:"",Y=(0,k.Z)(),J=y&&!(null==G||!G.has_quicksave_board),X=null===(t=W.find((e=>"board"===e.type)))||void 0===t?void 0:t.id;(0,P.Z)((()=>{U({event_type:13,view_parameter:$?3106:3107,view_type:4,component:209})}));const Q=(0,n.useMemo)((()=>({isForArchivedBoards:!1,firstBoard:X?{id:X,ref:v}:null})),[X]),ee=(0,n.useMemo)((()=>({isForArchivedBoards:!0})),[]);return 404===(null===(i=B.error)||void 0===i?void 0:i.httpStatus)||V.error?(0,u.jsx)(D.Redirect,{to:{pathname:"/ideas/",state:{showError:!0}}}):(0,u.jsx)(g.Z,{objectIdStr:q,viewType:4,viewParameter:$?3106:3107,component:13669,children:(0,u.jsx)(w.Z,{objectId:q,view:4,viewParameter:$?3106:3107,component:13669,children:(0,u.jsxs)(c.xu,{children:[(0,u.jsxs)(c.xu,{marginTop:-3,"data-test-id":"grid",children:[W.length>0&&(0,u.jsx)(w.Z,{objectId:q,view:4,viewParameter:$?3106:3107,component:209,children:(0,u.jsx)(z.Provider,{value:Q,children:(0,u.jsx)(_.Z,{cacheKey:F(A),columnWidth:m?256:300,renderItem:({data:e,itemIdx:t})=>(0,u.jsx)(N,{data:e,itemIdx:t}),items:W,layout:"basic",id:"profileBoardsFeed",loadItems:V.fetchMore,minCols:2,serverRender:!0})})}),(0,u.jsx)(h.Z,{anchors:{4011:v.current},placementId:1000312,positionRelativeToAnchor:!1}),!Y&&V.isFetching&&(0,u.jsx)(c.xu,{margin:5,children:(0,u.jsx)(c.$j,{accessibilityLabel:o.bt("  ", "Loading user boards", "Loading state for the user boards page", undefined, true),show:!0})})]}),!Y&&V.isAtEnd&&(0,u.jsxs)(n.Fragment,{children:[J?(0,u.jsx)(O,{hasBoards:W.length>0||H.length>0,isOwnProfile:$,userId:q,username:A}):0===W.length&&(0,u.jsx)(p,{isOwnProfile:$,username:A}),$&&(0,u.jsx)(z.Provider,{value:ee,children:(0,u.jsx)(x,{renderBoard:({data:e,itemIdx:t})=>(0,u.jsx)(N,{data:e,itemIdx:t})})}),W.length>0&&!y&&(0,u.jsxs)(c.xu,{children:[(0,u.jsx)(c.xu,{marginTop:m?6:3,marginBottom:m?6:3,children:(0,u.jsx)(c.X6,{align:"center",overflow:"breakWord",size:m?"500":"400",children:(0,u.jsx)(c.xu,{"data-test-id":"more-ideas-heading-text",children:(0,u.jsx)(c.iP,{onTap:()=>{r({action:"click",item:"more-ideas-heading-text"})},children:(0,d.nk)(o.bt("   {{user}}", "More ideas from {{user}}", "heading to display more pins on user profile", undefined, true),{user:(null==G?void 0:G.full_name)||A})})})})}),(0,u.jsx)(b.Z,{isOwnProfile:$,isProfilePinsStale:!!f,username:A,isRelatedPins:!0})]})]})]})})})}},655428:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(883119),a=i(785893);function o({description:e,imageUrl:t,imageHeight:i,imageWidth:o}){return(0,a.jsx)(n.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,overflow:"hidden",children:(0,a.jsx)(n.Ee,{alt:null!=e?e:"",src:null!=t?t:"",fit:"cover",naturalHeight:null!=i?i:1,naturalWidth:null!=o?o:1,color:"#767676"})})}},239682:(e,t,i)=>{function n(e,t,i){return{privacy_filter:t?"secret":"public",sort:i||"last_pinned_to",field_set_key:"profile_grid_item",username:e}}i.d(t,{Z:()=>n})},59644:(e,t,i)=>{i.d(t,{Z:()=>n});const n=(e,t)=>`${e}:${t||""}`},240265:(e,t,i)=>{i.d(t,{O:()=>s,Q:()=>l});var n=i(59644),a=i(414327),o=i(956800);const r=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],s={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,filterStories:t,mixPublicSecret:i,username:n},a)=>({privacy_filter:"all",sort:e||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:t,username:n,page_size:25,group_by:i?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0,...a?{orbac_subject_id:a}:Object.freeze({})})},l=e=>r.reduce(((t,i)=>{const r=[(0,o.N8)("profileBoards",(0,n.Z)(e,i))];return[!0,!1].forEach((t=>{[!0,!1].forEach((n=>{r.push((0,a.jB)(s.name,s.options({username:e,boardOrder:i,mixPublicSecret:t,filterStories:n})))}))})),t.concat(r)}),[])},254176:(e,t,i)=>{i.d(t,{$z:()=>H,Br:()=>b,Cr:()=>L,K8:()=>T,KQ:()=>$,L1:()=>G,NH:()=>ne,OA:()=>K,RZ:()=>J,Tq:()=>k,Xi:()=>B,YQ:()=>W,YV:()=>D,ZP:()=>F,aX:()=>O,eo:()=>P,fJ:()=>Y,h6:()=>Q,k8:()=>ee,md:()=>w,oG:()=>S,oL:()=>z,of:()=>j,rS:()=>ae,xH:()=>I,xQ:()=>C,xR:()=>V,xk:()=>E,yT:()=>x,yt:()=>te,zC:()=>ie,zS:()=>q});var n,a,o,r,s,l,d=i(702664),c=i(27255),u=i(239682),p=i(172071),h=i(422946),m=i(379725),_=i(240265),g=i(414327),v=i(6637),y=i(956800),f=i(167912);function x(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function b(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}function w(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function P({viewingUserId:e,viewingUsername:t,boardId:i,boardPinCount:n}){return{type:"BOARD_DELETE",payload:{viewingUserId:e,viewingUsername:t,boardId:i,boardPinCount:n}}}const S=(e,t)=>i=>i((0,m.U)("BoardResource",{options:{board_id:e,field_set_key:t}}));function k(e,t,i){return(0,m.U)("BoardResource",{options:{board_id:e,field_set_key:t,...i?{orbac_subject_id:i}:{}}})}function I(e,t,i){return n=>v.Z.create("BoardsMergeResource",{source_board_id:e,target_board_id:t,...i?{orbac_subject_id:i}:{}}).callUpdate().then((()=>Promise.all([n(P({boardId:e})),n(k(t,"pin_count")),n((0,y.N8)(h.DV.BOARD_SECTIONS,t))])))}function T(e){return t=>{e&&(0,_.Q)(e).forEach((e=>{t(e)}))}}const j=e=>({type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}),C=e=>S(e,"pin_count");function A(e,t){return{type:"BOARD_ARCHIVE",payload:{boardId:e,username:t}}}function E(e,t){return i=>(i(A(e)),v.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callUpdate())}function R(e){return{type:"BOARD_UNARCHIVE",payload:{boardId:e}}}function D(e,t){return i=>(i(R(e)),v.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callDelete())}const L=(e,t)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}),F=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}});function O(e,t,i){const n={name:e,privacy:c.Z.BoardPrivacy.PUBLIC,username:t,...i?{orbac_subject_id:i}:Object.freeze({})};return e=>v.Z.create("BoardResource",n).callCreate().then((i=>{const n=i.resource_response.data;return e(t&&(0,g.jB)("BoardsResource",(0,u.Z)(t,!1))),n}))}function z(e={},t,i){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:i}}const N=(e,t,i)=>({type:"BOARD_INVITE_APPROVED_BY_VIEWER",payload:{boardId:e,isRequestToJoin:t,collaboratingUser:i}}),M=(e,t)=>({type:"BOARD_INVITE_DENIED_BY_VIEWER",payload:{boardId:e,userId:t}}),Z=(e,t,i)=>({type:"BOARD_COLLABORATOR_DELETE",payload:{boardId:e,userId:t,viewingUser:i}}),U=(e,t,i,n)=>({type:"BOARD_COLLABORATOR_ADD",payload:{boardId:e,viewingUser:t,status:i,collaboratingUsers:n}}),B=(e,t=!1,i)=>n=>(n(N(e,t,i)),v.Z.create("BoardInviteResource",{board_id:e,invited_user_id:null==i?void 0:i.id}).callUpdate()),V=(e,t)=>i=>(i(M(e,t)),v.Z.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callDelete()),H=(e,t,i)=>n=>(n(U(e,t,"new",i)),v.Z.create("BoardInviteResource",{board_id:e,invited_user_ids:i.map((({id:e})=>e))}).callCreate()),W=(e,t,i,n,a)=>o=>{var r,s;const l="accepted"===t?"BoardCollaboratorResource":"BoardInviteResource";return o(Z(e,null!==(r=null==n?void 0:n.id)&&void 0!==r?r:"",i)),v.Z.create(l,{board_id:e,field_set_key:"boardEdit",invited_user_id:null!==(s=null==n?void 0:n.id)&&void 0!==s?s:"",...a?{orbac_subject_id:a}:{}}).callDelete().catch((()=>o(U(e,i,t,[n]))))},$=(e,t)=>i=>v.Z.create("SocialSearchCampaignResource",{boardId:e}).callGet().then((n=>{if(!n||!n.resource_response)return{};const a=n.resource_response.data||{},o=(a.model||{}).custom_properties||{},{campaign_id:r="unknown"}=o,s=a.display_data||{},l=!!a.display_data,d=s.header_image_mobile,c=s.header_background_color,u=s.text_icon_color,h={boardId:e,isSocialSeasonalBoard:l,socialHeaderBgImage:d,socialHeaderBgColor:c,textIconColor:u};return p.Z.increment(`mweb.seasonal_board.${r}.${t}.land`),i((e=>({type:"SET_SOCIAL_SEASONAL_BOARD",payload:e}))(h))})),K=(e,t)=>()=>v.Z.create("BoardEmailInviteResource",{board_id:e,emails:t}).callCreate(),G=(e,t,i,n)=>a=>{const o=v.Z.create("BoardResource",{board_id:i}).callDelete();return a(P({viewingUserId:e,viewingUsername:t,boardId:i,boardPinCount:n})),o},q=(e,t)=>i=>v.Z.create("BoardArchiveResource",{boardId:e}).callUpdate().then((n=>(i((0,y.Qv)("archived-boards",[{id:e,type:"board"}])),i(A(e,t)),n))),Y=(e,t)=>i=>v.Z.create("BoardArchiveResource",{boardId:e}).callDelete().then((n=>(i((0,y.Qv)(`profile-boards:${t}`,[{id:e,type:"board"}])),i(R(e)),n))),J=()=>{const e=void 0!==n?n:n=i(604955),[t]=(0,f.useMutation)(e);return async e=>{const i={boardId:e};return await new Promise(((e,n)=>{t({variables:{...i},onCompleted:(t,i)=>{i&&n(i[0]),e(t)},onError:e=>n(e)})}))}},X=()=>{const e=void 0!==a?a:a=i(90105),[t]=(0,f.useMutation)(e);return async(e,i,n)=>{const a={boardId:e,userId:i,ban:n||!1};return await new Promise(((e,i)=>{t({variables:{...a},onCompleted:(t,n)=>{n&&i(n[0]),e(t)},onError:e=>i(e)})}))}},Q=()=>{const e=void 0!==r?r:r=i(518190),[t]=(0,f.useMutation)(e),n=(0,d.useDispatch)();return async(e,i,a)=>{const o={boardId:e,userId:(null==a?void 0:a.id)||""};return await new Promise(((r,s)=>{t({variables:{...o},onCompleted:(t,o)=>{o&&s(o[0]),n(N(e,i,a)),r(t)},onError:e=>s(e)})}))}},ee=()=>{const e=X();return(t,i)=>n=>(n(M(t,i)),e(t,i))},te=()=>{const e=void 0!==s?s:s=i(16945),[t]=(0,f.useMutation)(e);return async(e,i)=>{const n={boardId:e,collaboratorIds:i.map((({id:e})=>e)),message:""};return await new Promise(((e,i)=>{t({variables:{...n},onCompleted:(t,n)=>{n&&i(n[0]),e(t)},onError:e=>i(e)})}))}},ie=()=>{const e=void 0!==l?l:l=i(787525),[t]=(0,f.useMutation)(e);return async(e,i)=>{const n={board:e,emails:i,message:""};return await new Promise(((e,i)=>{t({variables:{...n},onCompleted:(t,n)=>{n&&i(n[0]),e(t)},onError:e=>i(e)})}))}},ne=()=>{const e=te();return(t,i,n)=>a=>(a(U(t,i,"new",n)),e(t,n))},ae=()=>{const e=X(),t=(()=>{const e=void 0!==o?o:o=i(472297),[t]=(0,f.useMutation)(e);return async(e,i)=>{const n={board:e,collaboratorIds:[i]};return await new Promise(((e,i)=>{t({variables:{...n},onCompleted:(t,n)=>{n&&i(n[0]),e(t)},onError:e=>i(e)})}))}})();return(i,n,a,o)=>r=>{var s,l;const d="accepted"===n?t:e;return r(Z(i,null!==(s=null==o?void 0:o.id)&&void 0!==s?s:"",a)),d(i,null!==(l=null==o?void 0:o.id)&&void 0!==l?l:"").catch((()=>r(U(i,a,n,[o]))))}}},712055:(e,t,i)=>{i.d(t,{Z:()=>r,f:()=>s});var n=i(6637),a=i(254176);function o(e){return n.Z.create("BoardFollowResource",{board_id:e})}function r(e){return t=>{o(e).callCreate().catch((()=>{t((0,a.md)(e,!1))})),t((0,a.md)(e,!0))}}function s(e){return t=>{o(e).callDelete().catch((()=>{t((0,a.md)(e,!0))})),t((0,a.md)(e,!1))}}},956800:(e,t,i)=>{function n(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function a(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}i.d(t,{EX:()=>r,N8:()=>a,Qv:()=>o,_f:()=>n,vX:()=>s});const o=(e,t,i=Object.freeze({}))=>({type:"APPEND_FEED_ITEMS",payload:{id:e,options:i,items:t}});function r(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function s(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},177891:(e,t,i)=>{i.d(t,{a:()=>n,k:()=>a});const n=e=>({type:"ONE_TAP_SAVE",payload:e}),a=e=>({type:"ONE_TAP_UNSAVE",payload:e})},447948:(e,t,i)=>{function n(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:t}}}function a(e,t){return{type:"SET_PIN_COMMENTS_DISABLED",payload:{id:e,pinCommentsDisabled:t}}}function o(e,t,i,n,a){return{type:"PIN_SAVE",payload:{id:e,boardId:t,title:i,url:n,localPinId:a}}}function r(e){return{type:"PIN_UNSAVE",payload:{id:e}}}i.d(t,{Gb:()=>r,I1:()=>c,Ib:()=>p,NA:()=>d,Ur:()=>o,Vw:()=>l,b9:()=>m,fH:()=>g,i0:()=>h,mO:()=>a,q1:()=>u,t_:()=>s,yR:()=>n,yj:()=>_});const s=(e,t,i)=>({type:"PIN_UNDO_SAVE",payload:{pinId:e,boardId:t,boardSectionId:i}});function l(e){return{type:"PIN_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function d({id:e,text:t,undoAction:i,undoActionOptions:n,undoText:a}){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e,value:!0,text:t,undoAction:i,undoActionOptions:n,undoText:a}}}function c(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function u(e,t){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t}}}function p(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function h(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}function m(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function _(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}const g=(e,t)=>({type:"PIN_FEEDBACK",payload:{id:e,value:t}})},12918:(e,t,i)=>{i.d(t,{M:()=>l,i:()=>d});var n=i(483025),a=i(414327),o=i(782677),r=i(90326),s=i(6637);const l=(e,t,i,n)=>({type:"PIN_ADD",payload:{pinId:e,boardId:t,boardSectionId:i,pinnerId:n}}),d=e=>t=>{const{method:i,guid:d,image_base64:c,image_url:u}=e;return((e,t)=>new Promise((i=>{e?(0,r.eR)(e).then((e=>{i(e)})):i(t)})))(c,u).then((r=>{const c={...e,method:"button"!==i||d?i:"button_external",image_url:r,image_base64:void 0},u="PinResource";return s.Z.create(u,c).callCreate().then((e=>{const i=(0,o.Fv)(e.resource_response.data,n.Z.PinResource);t((0,a.XM)(u,c,e,i));const r=e.resource_response.data,{board:{id:s},pinner:{id:d},section:p}=r,h=p&&p.id;return t(l(r.id,s,h,d)),e}))}))}},139574:(e,t,i)=>{i.d(t,{L:()=>s,q:()=>l});var n=i(422946),a=i(956800),o=i(254176),r=i(6637);function s(e){return t=>{const{inSelectAll:i,selectedPinIds:s,orbacSubjectId:l,source:{boardId:d,sectionId:c}}=e,u=i?"BulkEditSelectAllResource":"BulkEditResource",p={board_id:d,section_id:c,pin_ids:s,orbac_subject_id:l};return t((0,o.xQ)(d)),t((0,a.EX)({feedId:c||d,feedType:c?n.DV.BOARD_SECTION_PINS:n.DV.BOARDFEED,inverseSelection:i,itemIds:s,itemType:"pin"})),r.Z.create(u,p).callDelete()}}const l=({pinId:e,boardId:t,boardSectionId:i,clientTrackingParams:n})=>(a,o)=>{const s=r.Z.create("PinResource",{id:e,client_tracking_params:n}).callDelete(),{session:{userId:l}}=o();return a(((e,t,i,n)=>({type:"PIN_DELETE",payload:{pinId:e,boardId:t,boardSectionId:i,userId:n}}))(e,t,i,l)),s}},850431:(e,t,i)=>{i.d(t,{w:()=>o});var n=i(349741),a=i(956800);const o=({pinId:e,boardId:t,i18n:i,logContextEvent:o,onSuccess:r,onUndo:s,originalPinId:l,showNewUserSavetoProfileAnimation:d,showRepinConfirmation:c,showToast:u,section:p,trackingParams:h,isOneTapSave:m,viewType:_,historyPush:g})=>(v,y)=>{var f,x,b,w,P;const{pins:S,session:k,feeds:I}=y(),T=S[e];t&&((null===(f=null!==(x=null==T?void 0:T.shopping_flags)&&void 0!==x?x:[])||void 0===f?void 0:f.length)>0||null!=T&&T.rich_summary&&(null===(b=null!==(w=null==T||null===(P=T.rich_summary)||void 0===P?void 0:P.products)&&void 0!==w?w:[])||void 0===b?void 0:b.length)>0)&&(I[`board-shop-saved-preview:${t}`]&&v((0,a.Qv)(`board-shop-saved-preview:${t}`,[T],{isPrepend:!0})),I[`board-shop-saved:${t}`]&&v((0,a.Qv)(`board-shop-saved:${t}`,[T],{isPrepend:!0})));return new n.Z({boardId:t,dispatch:v,i18n:i,isLegoSaveStyle:!0,isOneTapSave:m,onSuccess:r,onUndo:s,originalPinId:l,pin:T,resourceName:"RepinResource",section:p,showNewUserSavetoProfileAnimation:d,showRepinToasts:e=>c?c(e):u?u(e):void 0,trackingParams:h,userId:k.userId,viewType:_,historyPush:g}).processRepin(o)}},639952:(e,t,i)=>{i.d(t,{Cp:()=>u,FK:()=>c,H5:()=>I,MI:()=>f,Mj:()=>S,O0:()=>y,QZ:()=>d,W:()=>w,WF:()=>_,Wz:()=>T,YV:()=>m,a5:()=>g,dz:()=>b,e0:()=>v,e2:()=>l,iW:()=>P,n1:()=>s,rm:()=>h,wb:()=>k,xu:()=>x});var n=i(172071),a=i(550858),o=i(53987),r=i(962832);const s=()=>({type:"DISMISS_UNAUTH_SAVE"}),l=()=>({type:"COMPLETE_UNAUTH_SAVE_ACTION"}),d=e=>({type:"SET_UNAUTH_SAVE_PIN_ID",payload:{unauthSavePinId:e}}),c=()=>({type:"HIDE_NAV_FOOTER"}),u=()=>({type:"SHOW_NAV_FOOTER"}),p=e=>({type:"SET_SESSION_DATA",payload:e}),h=e=>({type:"SET_LOGIN_SIGNUP_FROM",payload:{from:e}}),m=()=>e=>{e(p({preparingNewVersion:!0})),(0,r.Ng)().catch((()=>(n.Z.increment("mweb_service_worker.prepareNewVersion.error",1),(0,r.Dm)()))).finally((()=>{n.Z.increment("mweb.new_version.refresh",1),e(p({newVersionAvailable:!0,preparingNewVersion:!1}))})),(0,a.Qi)()},_=()=>({type:"SHOW_REPIN_ANIMATION"}),g=()=>({type:"HIDE_REPIN_ANIMATION"}),v=e=>({type:"SET_NUM_SIGNUP_STEPS",payload:{steps:e}}),y=()=>({type:"SET_OWN_PROFILE_PINS_REFRESH"}),f=e=>({type:"SHOW_BIZ_NUX_HOMEFEED_LOADER",payload:e}),x=e=>({type:"SET_VIEWED_IMAGE",payload:{viewedImageSignature:e}}),b=e=>({type:"SET_VIEWED_SHARED_PINS",payload:{pins:e}}),w=()=>({type:"DISMISS_UNAUTH_APP_UPSELL"}),P=e=>e?{type:"LOGGED_OUT_USER_INFO_FOUND",payload:e}:{type:"LOGGED_OUT_USER_INFO_NOT_FOUND"},S=(e,t,i)=>n=>n(((e,t,i)=>({type:"SET_SHARE_ON_BOARD_PAGE",payload:{isShareMenuOpen:e,objectType:t,objectId:i}}))(e,t,i)),k=()=>({type:"STOP_SCROLL_TO_CLOSEUP_PIN"}),I=e=>({type:"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",payload:e}),T=(e,t)=>{let i;return i=e?(0,o.bo)(e)?"today":(0,o.dr)(e)?"ideas":t&&(0,o.dZ)(e,t)?"own_section":t&&(0,o.J)(e,t)?"own_board":(0,o.OJ)(e)?"section":(0,o.am)(e)?"board":(0,o.L6)(e)?"closeup":(0,o.C$)(e)?"home":(0,o.cD)(e)?"profile":(0,o.En)(e)?"search":(0,o.$V)(e)?"topic":"":"",{type:"SET_LANDING_PAGE_TYPE",payload:i}}},70090:(e,t,i)=>{i.d(t,{ZN:()=>r,bJ:()=>l,fv:()=>s,hr:()=>o,lD:()=>d});var n=i(6637);function a(e,t){return n.Z.create("InterestFollowResource",{interest_id:e,interest_list:"favorited",referrer:t})}const o=(e,t)=>({type:"TOPIC_FOLLOW",payload:{id:e,value:t}}),r=(e,t)=>i=>{a(e,t).callCreate().catch((()=>i(o(e,!1)))),i(o(e,!0))},s=(e,t)=>i=>{a(e,t).callDelete().catch((()=>i(o(e,!0)))),i(o(e,!1))},l=e=>t=>{const i=e.reduce(((e,t)=>({...e,[t.id]:!t.is_followed})),{});return n.Z.create("UpdateFollowedInterestsResource",{updated_interest_follows:i}).callUpdate().then((()=>{e.forEach((({id:e,is_followed:i})=>{t(o(e,!i))}))}))},d=(e,t="")=>i=>n.Z.create("UpdateFollowedInterestsResource",{referrer:t,updated_interest_follows:e}).callUpdate().then((()=>{Object.keys(e).forEach((t=>{const n=e[t];i(o(t,n))}))}))},461773:(e,t,i)=>{i.d(t,{KF:()=>d,ZN:()=>r,fv:()=>l,kE:()=>u,yA:()=>s});var n=i(6637),a=i(90326);function o(e,t){return n.Z.create("UserFollowResource",{user_id:e,aux_data:t?{pin_id:t}:void 0})}function r(e,t=null){return i=>{o(e,t).callCreate().catch((()=>i((0,a.P_)(e,!1)))),i((0,a.P_)(e,!0))}}function s(e,t=null){return async i=>{i((0,a.P_)(e,!0)),await o(e,t).callCreate().catch((t=>{throw i((0,a.P_)(e,!1)),t}))}}function l(e,t=null){return i=>{o(e,t).callDelete().catch((()=>i((0,a.P_)(e,!0)))),i((0,a.P_)(e,!1))}}function d(e,t=null){return async i=>{i((0,a.P_)(e,!1)),await o(e,t).callDelete().catch((t=>{throw i((0,a.P_)(e,!0)),t}))}}const c=(e,t)=>({type:"USER_BULK_FOLLOW",payload:{ids:e,value:t}}),u=e=>t=>{e.length>0&&(n.Z.create("ApiResource",{url:"/v3/users/follow/",data:{followee_ids:e.join(",")}}).callUpdate().catch((()=>t(c(e,!1)))),t(c(e,!0)))}},90326:(e,t,i)=>{i.d(t,{Ge:()=>l,JS:()=>o,OF:()=>g,P_:()=>r,Q_:()=>u,b8:()=>p,eR:()=>_,h2:()=>d,h6:()=>c});var n=i(962832),a=i(6637);function o(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}const r=(e,t)=>({type:"USER_FOLLOW",payload:{id:e,value:t}}),s=(e,t)=>({type:"USER_BLOCK",payload:{id:e,value:t}}),l=(e,t)=>i=>(i(s(e,!0)),a.Z.create("UserBlockResource",{blocked_user_id:e,orbac_subject_id:t}).callCreate().catch((()=>i(s(e,!1))))),d=e=>t=>(t(s(e,!1)),a.Z.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch((()=>t(s(e,!0)))));function c(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}const u=(e,t)=>()=>a.Z.create("UserStateResource",{state:e,value:t}).callCreate(),p=(e,t,i)=>(o,r)=>{a.Z.create("ApiResource",{url:"/v3/users/me/"}).callCreate().then((()=>{i({event_type:48,object_id_str:r().session.userId}),e(),(0,n.Dm)()}),t)};const h=async(e,t,i)=>{var n;const o=await a.Z.create("VIPResource",{upload_ids:[e]}).callGet();if(null!==(n=o.resource_response)&&void 0!==n&&n.data[e]){const n=o.resource_response.data[e],{status:a,signature:r}=n;if("processing"===a||"registered"===a)setTimeout((async()=>{h(e,t,i)}),5e3);else if("succeeded"===a){const e=((e,t="150x150")=>e&&`https://i.pinimg.com/${t}/${e.substring(0,2)}/${e.substring(2,4)}/${e.substring(4,6)}/${e}.jpg`||"")(r);t(e)}else i()}else i()},m=e=>new Promise(((t,i)=>{var n,o,r,s,l;n=e,o="pinimage",r=()=>{},s=e=>{t(e)},l=e=>{i(e)},(new FormData).append("img",n),a.Z.create("VIPResource",{type:o}).callCreate().then((e=>{var t;if(null!==(t=e.resource_response)&&void 0!==t&&t.data){const{upload_id:t,upload_url:i,upload_parameters:a}=e.resource_response.data,o=new XMLHttpRequest;o.open("POST",i,!0),o.onload=()=>{var e;(e=o.status)>=200&&e<400?(r(100),h(t,s,l)):l()},o.upload.onprogress=e=>{const t=Math.round(100*e.loaded/e.total);r(t)};const d=new FormData;for(const e in a)d.append(e,a[e]);d.append("file",n),o.send(d)}}),(()=>{l()}))})),_=e=>new Promise(((t,i)=>{"string"==typeof e?e.startsWith("data")&&m(function(e,t=512){const i=e.split(";"),n=i[0].split(":")[1],a=i[1].split(",")[1],o=atob(a),r=[];for(let s=0;s<o.length;s+=t){const e=o.slice(s,s+t),i=new Array(e.length);for(let t=0;t<e.length;t+=1)i[t]=e.charCodeAt(t);const n=new Uint8Array(i);r.push(n)}return new Blob(r,{type:n})}(e)).then((e=>t(e))):i("Invalid Image")})),g=e=>()=>a.Z.create("ApiResource",{url:"/v3/register/exists/",data:{email:e}}).callGet()},483025:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(819063);const a={AggregatedCommentResource:n.rm,AggregatedCommentFeedResource:n.LR,AggregatedCommentReplyResource:n.rm,AggregatedCommentReplyFeedResource:n.LR,AggregatedActivityFeedResource:n.LR,BestPinsFeedAltResource:n.LR,BoardArchiveResource:n.LR,BoardCollaboratorsResource:n.LR,BoardContentRecommendationResource:n.LR,BoardFeedResource:n.LR,BoardFollowingResource:n.LR,BoardInviteResource:n.sf,BoardInvitesResource:n.Ht,BoardlessPinsResource:n.LR,BoardPickerBoardsResource:{all_boards:n.LR,boards_shortlist:n.LR},BoardSectionEditResource:n._F,BoardSectionsRepinResource:n.LR,BoardSectionsResource:n.LR,BoardsFeedResource:n.LR,BoardResource:n.IY,BoardSectionResource:n._F,BoardSectionPinsResource:n.LR,BoardToolsFeedResource:n.LR,ContactRequestsResource:n.LR,ConversationsResource:n.LR,ConversationMessagesResource:n.dq,DidItCommentsResource:n.LR,DidItLikedByResource:n.Gn,DidItUserFeedResource:n.LR,ExploreArticleBlockPinResource:n.LR,ExploreArticleBlockSearchResource:n.LR,ExploreArticleBlockUserResource:n.LR,ExploreArticleBlockUserDidItDataResource:n.LR,ExploreArticleResource:n.yg,FollowingFeedResource:n.LR,HolidaySpotlightRelatedFeedResource:n.LR,HolidaySpotlightResource:n.LR,InterestFollowingResource:n.LR,InterestResource:n.cC,MoreIdeasTabsBoardsResource:n.LR,NewsHubResource:n.LR,NewsHubDetailsResource:n.LR,NewsHubSummaryResource:n.t6,NuxInterestsResource:n.LR,NuxTopicToCreatorsResource:n.Gn,PinResource:n.Cj,PinCatalogResource:n.LR,PinsFromBrandResource:n.LR,ReactionsResource:n.fE,RelatedArticlesResource:n.LR,RelatedInterestsResource:n.LR,RelatedModulesResource:n.LR,RelatedPinFeedResource:n.LR,RelatedProductFeedResource:n.LR,RelatedStreamResource:n.LR,RepinResource:n.Cj,BaseSearchResource:{results:n.LR},SearchResource:n.LR,SectionToolsFeedResource:n.LR,ShareSuggestionsTypeaheadResource:{items:n.LR},ShoppingFeedModularizedResource:n.LR,StoryFeedResource:n.LR,StoryPinTaggedProductsResource:n.LR,SuggestedCreatorFollowsResource:n.Gn,TodayArticleFeedResource:n.LR,IdeasHubTodayArticlesResource:n.LR,TodayArticleResource:n.iF,TodayTabInterestFeedResource:n.LR,TodayTabResource:n.LR,TopicFeedResource:n.LR,UnifiedCommentsResource:n.LR,UserActivityPinsResource:n.LR,UserFollowingResource:n.LR,UserRecentActivityResource:n.LR,UserHomefeedResource:n.LR,UserPinsResource:n.LR,UserSettingsResource:n.EA,UserStoryPinsFeedResource:n.LR,UserResource:n.EA,VideosFeedResource:n.LR,VisualLiveSearchResource:{results:n.LR},VisualLiveSearchProductFeedResource:n.LR,VisualSearchFlashlightUnifiedResource:n.LR,SeoTier1CandidateResource:n.LR}},819063:(e,t,i)=>{i.d(t,{Cj:()=>d,EA:()=>o,Gn:()=>k,Ht:()=>S,IY:()=>l,LR:()=>T,_F:()=>p,cC:()=>f,dq:()=>m,fE:()=>u,iF:()=>y,rm:()=>r,sN:()=>I,sf:()=>x,t6:()=>P,yg:()=>g});var n=i(782677);const a=Object.freeze({aggregatedComment:"aggregatedComments",article:"articles",board:"boards",boardsection:"boardsections",contactrequest:"contactrequests",conversation:"conversations",conversationMessage:"conversationMessages",inbox:"inbox",notification:"notifications",pin:"pins",reaction:"reactions",story:"stories",todayArticle:"todayArticles",topic:"topics",triedit:"triedits",user:"users",invite:"collaboratorinvite"}),o=new n.fK.Entity(a.user),r=new n.fK.Entity(a.aggregatedComment,{user:o,tagged_users:[o]}),s=new n.fK.Entity(a.article,{curator:o}),l=new n.fK.Entity(a.board),d=new n.fK.Entity(a.pin),c=new n.fK.Entity(a.reaction,{user:o}),u=new n.fK.Array(c),p=new n.fK.Entity(a.boardsection),h=new n.fK.Entity(a.conversationMessage,{sender:o,users:[o],board:l,pin:d,user:o}),m=new n.fK.Array(h),_=new n.fK.Entity(a.contactrequest),g=new n.fK.Entity(a.story,{cover_pin:d,user:o}),v=new n.fK.Entity(a.triedit,{pin:d,user:o}),y=new n.fK.Entity(a.todayArticle,{article_creator_user:o,content_pin:d,content_pin_official_user:o,video_pin:d}),f=new n.fK.Entity(a.topic,{},{processStrategy:(e,t,i)=>({...e,slug:e.slug?e.slug:e.url_name?e.url_name.includes(":")?e.url_name.split(":")[1]:e.url_name:""})}),x=new n.fK.Entity(a.invite,{invited_by_user:o,invited_user:o,board:l},{idAttribute:e=>`${e.board.id}:${e.invited_user.id}`}),b=e=>{switch(e.type){case"aggregatedcomment":return"aggregatedComment";case"conversationMessage":return"conversationMessage";case"explorearticle":return"article";case"news":return"notification";case"interest":return"topic";case"userdiditdata":return"triedit";case"board_section":return"boardsection";case"klp_featured_data":return"topic";case"todayarticle":return"todayArticle";default:return e.type}},w=new n.fK.Union({user:o,board:l,invite:x,pin:d,topic:f,triedit:v},b),P=new n.fK.Entity(a.notification,{content_items:[{content_object:w}],header_icon_objects:[w]}),S=new n.fK.Array(x),k=new n.fK.Array(o),I=new n.fK.Array(l),T=new n.fK.Array({aggregatedComment:r,article:s,board:l,boardsection:p,contactrequest:_,conversationMessage:h,notification:P,pin:d,story:g,todayArticle:y,topic:f,triedit:v,user:o},b,(e=>{switch(e.type){case"collaboratorinvite":return e.board.id;case"category":return"key";default:return"id"}}));g.define({objects:T})},550858:(e,t,i)=>{i.d(t,{Qi:()=>d,RK:()=>l,$_:()=>s});var n=i(766935);var a=i(844974);const o="REDUX_STATE",r=()=>!!navigator.serviceWorker,s=()=>r()&&JSON.parse((0,a.qn)(o))||{},l=e=>(0,n.Z)((t=>{const i={};i[e]=t,r()&&(e=>{if(window.requestIdleCallback)return window.requestIdleCallback(e);{const t=Date.now();setTimeout((()=>{e({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-t))})}),1)}})((()=>(e=>{r()&&(0,a.Nh)(o,JSON.stringify({...s(),...e}))})(i)))}),1e3),d=()=>{(0,a.L_)(o)}},422946:(e,t,i)=>{i.d(t,{DV:()=>c,J:()=>_,ZP:()=>f});var n=i(59644),a=i(932995),o=i(483025),r=i(998651),s=i(648284),l=i(819063),d=i(338739);const c={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardlessPins",BOARD_SECTIONS:"board-sections",BOARD_SECTION_PINS:"board-section-pins",CALL_TO_CREATE_RESPONSES_FEED:"callToCreateResponsesFeed",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",TRIED_IT_FEED:"trieditfeed"},u=new Set(["PinResource","RepinResource"]),p={ApiResource:e=>{return"/v3/orientation/nux_creator_recommendations/"===(null==e?void 0:e.url)?"nux-creator-recommendations":null!=e&&e.url.match(/\/v3\/call_to_create_pins\/([0-9]|[a-z]|[A-Z])+\/pins\//)?`call-to-create-pins:${e.pin_id}`:"/v3/users/me/interests/"===(null==e?void 0:e.url)?`recommended-interests:${null===(t=e.data)||void 0===t?void 0:t.blend_type}`:"";var t},AggregatedActivityFeedResource:e=>`trieditfeed:${e.aggregated_pin_data_id}`,AggregatedCommentFeedResource:e=>`aggregated-comments:${e.objectId}`,AggregatedCommentReplyFeedResource:e=>`${c.AGGREGATED_COMMENT_REPLIES}:${e.objectId}`,BoardlessPinsResource:e=>`boardless-pins:${e.userId}`,BestPinsFeedAltResource:e=>`idea-page-best-pins:${e.interest}`,BoardArchiveResource:e=>"archived-boards",BoardCollaboratorsResource:e=>`board-collaborators:${e.board_id}`,BoardContentRecommendationResource:e=>`recommendation-feed:${e.id}`,BoardFeedResource:e=>`boardfeed:${e.board_id}`,BoardSectionsRepinResource:e=>`board-sections:${e.board_id}`,BoardSectionsResource:e=>`board-sections:${e.board_id}`,BoardSectionPinsResource:e=>`board-section-pins:${e.section_id}`,BoardsFeedResource:e=>`profile-boards:${e.username}`,BoardToolsFeedResource:e=>`board-tools:${e.boardId}`,ConversationsResource:e=>"conversations",DidItLikedByResource:e=>`triedit-likes:${e.didItDataId}`,DidItUserFeedResource:e=>`profile-tried:${e.username}`,ExploreArticleBlockSearchResource:e=>`explore-search:${e.article_id}:${e.block_id}`,ExploreArticleBlockUserResource:e=>`explore-user:${e.article_id}:${e.block_id}`,ExploreArticleBlockPinResource:e=>`explore-pin:${e.article_id}:${e.block_id}`,ExploreArticleBlockUserDidItDataResource:e=>`explore-did_it:${e.article_id}:${e.block_id}`,ExploreArticleResource:({response:e})=>{if(!e)return"";const t="explore_tab_pin".length,i=e.resource_response.data,{story_type:n}=i?i.objects[0]:{story_type:""};return`explore-${n.slice(t)}:${i.id}`},FollowingFeedResource:()=>"following",HolidaySpotlightRelatedFeedResource:e=>`holiday-spotlight-related:${e.storyType}`,HolidaySpotlightResource:e=>`holiday-spotlight:${e.storyType}`,InterestResource:e=>`klp-pins:${e.interest}`,MoreIdeasTabsBoardsResource:()=>"homefeed-more-ideas-tabs",NewsHubResource:()=>"notifications",NewsHubDetailsResource:e=>`newshubdetail:${e.news_id}`,NuxInterestsResource:e=>"nuxTopics",PinsFromBrandResource:e=>`brand-pins:${e.pin}`,ReactionsResource:e=>`reactions:${e.pin_id}`,RelatedArticlesResource:e=>`related-articles:${e.article_id}`,RelatedModulesResource:e=>`related-modules:${e.pin_id}`,RelatedPinFeedResource:e=>`related-pins:${e.pin}`,RelatedProductFeedResource:e=>"pin"===e.shop_source?`closeup-related-products:${e.pin}`:`related-products:${e.pin}`,RelatedStreamResource:e=>`related-story-pins:${e.pinId}`,SearchResource:e=>{const t=`search:${e.scope}:${e.query}:${e.filters||""}:${e.article||""}`;return e.auto_correction_disabled?`${t}:auto-correction-disabled`:t},BaseSearchResource:e=>{const t=`search:${e.scope}:${e.query}:${e.filters||""}:${e.appliedProductFilters}:${e.article||""}`;return e.auto_correction_disabled?`${t}:auto-correction-disabled`:t},SectionToolsFeedResource:e=>`section-tools:${e.sectionId}`,ShareSuggestionsTypeaheadResource:e=>`share-suggestions:${e.board||e.user}:${e.term}`,ShoppingFeedModularizedResource:e=>e.saved_products_only?`board-shop-saved:${e.board_id}`:`board-shop-related:${e.board_id}`,StoryFeedResource:e=>`story-feed:${e.feed_type}:${e.request_params}`,SuggestedCreatorFollowsResource:()=>"suggested-creator-follows",StoryPinTaggedProductsResource:()=>"story-pin-tagged-products",TodayArticleFeedResource:e=>`today-article:${e.id}`,IdeasHubTodayArticlesResource:e=>`today-article:${e.interest_id}`,TodayTabInterestFeedResource:e=>`today-article-interestfeed:${e.interest_id}`,TodayTabResource:()=>"today-tab",SeoTier1CandidateResource:()=>"tier1-feed",UnifiedCommentsResource:e=>`unified-comments:${e.aggregated_pin_id}`,UserActivityPinsResource:e=>`profile-pins-feed:${e.user_id}`,UserHomefeedResource:e=>e.pin_quiz?"pin-quiz":"homefeed",UserFollowingResource:e=>`user-following:${e.username}`,UserRecentActivityResource:()=>"user-recent-activity",UserStoryPinsFeedResource:e=>`story-pins-feed:${e.user_id}`,VideosFeedResource:e=>"videos-feed",VisualLiveSearchResource:e=>`visual-search:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualLiveSearchProductFeedResource:e=>`visual-search-products:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualSearchFlashlightUnifiedResource:e=>`related-products-unified:${e.pin_id}`,BoardFollowingResource:e=>`board-following:${e.username}`,InterestFollowingResource:e=>`topic-following:${e.username}`,UserPinsResource:e=>`profile-pins:${e.username}`,TopicFeedResource:e=>e.best_pins?`best-topic-pins:${e.interest}`:`topic-pins:${e.interest}`},h={ApiResource:({options:e})=>null!=e&&e.url.match(/\/v3\/call_to_create_pins\/([0-9]|[a-z]|[A-Z])+\/pins\//)?{type:c.CALL_TO_CREATE_RESPONSES_FEED,id:e.pin_id}:null,AggregatedActivityFeedResource:({options:{aggregated_pin_data_id:e}})=>({type:c.TRIED_IT_FEED,id:e}),AggregatedCommentFeedResource:({options:{objectId:e}})=>({type:c.AGGREGATED_COMMENTS,id:e}),AggregatedCommentReplyFeedResource:({options:{isUnifiedComment:e,objectId:t}})=>({type:e?c.AGGREGATED_COMMENT_REPLIES:c.AGGREGATED_COMMENTS,id:t,reversed:!0}),BoardFeedResource:({options:{board_id:e}})=>({type:c.BOARDFEED,id:e}),BoardlessPinsResource:({options:{userId:e}})=>({type:c.BOARDLESS_PINS,id:e}),BoardSectionPinsResource:({options:{section_id:e}})=>({type:c.BOARD_SECTION_PINS,id:e}),BoardSectionsResource:({options:{board_id:e}})=>({type:c.BOARD_SECTIONS,id:e}),BoardsResource:({options:{username:e,sort:t}})=>({type:c.PROFILE_BOARDS,id:(0,n.Z)(e,t)}),BaseSearchResource:({options:{auto_correction_disabled:e,appliedProductFilters:t,scope:i,filters:n,query_pin_sigs:a,query:o,user:l},response:d})=>{var u;return{type:c.SEARCH_PINS,id:(0,s.Tb)({appliedProductFilters:t,autoCorrectionDisabled:e,filters:n,query:o,selectedPinImgSig:a,scope:i,user:l}),items:null!==(u=d.resource_response.data)&&void 0!==u&&u.results?(0,r.LM)(d.resource_response.data.results).filteredResults:[]}},DidItCommentsResource:({options:{objectId:e}})=>({type:c.AGGREGATED_COMMENTS,id:e,reversed:!0}),DidItUserFeedResource:({options:{username:e}})=>({type:c.TRIED_IT_FEED,id:e}),IdeasHubTodayArticlesResource:({options:{interest_id:e}})=>({type:c.TODAY_TAB,id:e}),RelatedArticlesResource:({options:{article_id:e}})=>({type:c.TODAY_TAB,id:e}),StoryPinDraftsResource:({options:{userId:e}})=>({type:c.STORY_PIN_DATA,id:e}),TodayTabInterestFeedResource:({options:{interest_id:e}})=>({type:c.TODAY_ARTICLE_INTEREST_FEED,id:e}),TodayTabResource:()=>({type:c.TODAY_TAB,id:"todayTab"}),UnifiedCommentsPreviewResource:({options:{aggregated_pin_id:e}})=>({type:c.UNIFIED_COMMENTS,id:e}),UnifiedCommentsResource:({options:{aggregated_pin_id:e,is_reversed:t}})=>({type:c.UNIFIED_COMMENTS,id:e,reversed:t}),UserActivityPinsResource:({options:{user_id:e}})=>({type:c.PROFILE_PINS_FEED,id:e}),UserStoryPinsFeedResource:({response:e,options:{user_id:t}})=>({type:c.STORY_PINS_FEED,id:t,items:e.resource_response.data||[]})},m=(e,{pinId:t,oldFeedId:i,newFeedId:n})=>i===n?e:((e,{pinId:t,feedId:i})=>e[i]?{...e,[i]:[{type:"pin",id:t},...e[i]]}:e)(((e,{pinId:t,feedId:i})=>e[i]?{...e,[i]:e[i].filter((e=>!("pin"===e.type&&e.id===t)))}:e)(e,{pinId:t,feedId:i}),{pinId:t,feedId:n}),_=(e,t)=>e in p?p[e](t):null,g=(e,t)=>t?`board-section-pins:${t}`:`boardfeed:${e}`,v=(e,t)=>e.map((({id:e,schema:i})=>i?{id:e,type:i,trackingParams:"pin"===i?t.pins[e].tracking_params:void 0,user_id:void 0}:null)).filter(Boolean),y=(e,t,i)=>Object.keys(e).reduce(((n,a)=>{const o=e[a]||[],r=o.filter((e=>!(e.type===t&&e.id===i)));return o.length!==r.length&&(n[a]=r),n}),{...e}),f=(e={},t)=>{switch(t.type){case d.zP:case d.aW:{const{payload:n}=t,{resource:a,options:r,normalizedResponse:s,schema:u}=n;if(s&&a in p){const i=((e,t,i)=>{const n=i||o.Z[e];if(n===l.LR)return t.result;if(n===l.sN)return t.result.map((e=>({id:e,schema:"board"})));if(n===l.Gn)return t.result.map((e=>({id:e,schema:"user"})));if(n===l.Ht)return t.result.map((e=>({id:e,schema:"invite"})));if(n===l.fE)return t.result.map((e=>({id:e,schema:"reaction"})));if("object"==typeof n){const e=Object.entries(n).find((([e,t])=>t===l.LR));if(e)return t.result[e[0]]}return null})(a,s,u);if(i&&Array.isArray(i)){const n=p[a](r);if("ShoppingFeedModularizedResource"===a){const{board_id:t,saved_products_only:n}=null!=r?r:{},a=`board-shop-related:${t}`,o=`board-shop-saved:${t}`,l=`board-shop-saved-preview:${t}`,d=[...e[a]||[]],c=[...e[o]||[]],u=[...e[l]||[]];return v(i,s.entities).forEach((e=>{var i;n?c.push(e):s.entities.pins&&(null===(i=s.entities.pins[e.id])||void 0===i?void 0:i.board)===t?u.push(e):d.push(e)})),{...e,[a]:d,[o]:c,[l]:u}}if("BoardToolsFeedResource"===a||"SectionToolsFeedResource"===a)return{...e,[n]:i};{const a=(t.type===d.aW&&e[n]||[]).concat(v(i,s.entities));return{...e,[n]:a}}}}else{var i;const a=n.response.resource_response.data;if(null===(i=n.options)||void 0===i||!i.redux_normalize_feed)return e;const o=h[n.resource](n);if(o){const{type:i,id:n,items:r,reversed:s}=o;let l=(r||a||[]).map((e=>((e,t)=>{switch(e.type){case"story":return{id:e.id,type:"story",story_type:e.story_type};case"module":return{id:e.id,type:"module",name:e.name};case"user":return{id:e.id,type:"user"};case"board":return t===c.PROFILE_BOARDS?{id:e.id,type:"board",onProfile:!0,profileGroup:e.archived_by_me_at?"archived":e.privacy||"public"}:{id:e.id,type:"board",onProfile:!1};case"board_section":return{type:"boardsection",id:e.id};case"triedit":return{type:"triedit",id:e.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:e.id};case"home_feed_tab":return{type:"home_feed_tab",id:e.id,name:e.name};case"storypindata":return{id:e.id,type:"storypindata"};case"todayarticle":return{type:"todayarticle",id:e.id};case"unifiedcommentspreview":return"userdiditdata"===e.unified_comment.type?{type:"triedit",id:e.unified_comment.id}:{type:"aggregatedcomment",id:e.unified_comment.id};default:return{type:"pin",id:e.id}}})(e,i)));s&&(l=l.reverse());const u=`${i}:${n}`,p=e[u];if(p||t.type!==d.aW){const i=p||[];let n=l;return t.type===d.aW&&(n=s?l.concat(i):i.concat(l)),{...e,[u]:n}}}}break}case"FEED_ITEM_REORDERED":{const{payload:{feedType:i,feedId:n,itemType:o,targetItemId:r,sourceItemId:s}}=t,l=`${i}:${n}`,d=e[l]||[];let u=-1,p=-1;if([c.BOARDFEED,c.BOARD_SECTION_PINS,c.BOARD_SECTIONS,"profileBoards"].includes(i)&&(u=d.findIndex((e=>e.type===o&&e.id===s)),p=d.findIndex((e=>e.type===o&&e.id===r))),-1!==u&&-1!==p)return{...e,[l]:(0,a.Z)(d,u,p)};break}case"FEED_ITEMS_REMOVED":{const{payload:{feedType:i,feedId:n,inverseSelection:a,itemType:o,itemIds:r=[]}}=t,s=`${i}:${n}`,l=e[s]||[];if(l&&l.length>0&&(i===c.BOARD_SECTION_PINS||i===c.BOARDFEED)){const t=l.filter((e=>{const t=r.includes(e.id);return!(e.type===o&&(a&&!t||!a&&t))})),i=!!t.find((e=>"pin"===e.type));return{...e,[s]:i?t:[]}}if(l&&l.length>0&&i===c.BOARD_SECTIONS){const t=l.filter((e=>{const t=r.includes(e.id);return!(e.type===o&&t)}));return{...e,[s]:t}}if(l&&l.length>0&&(i===c.AGGREGATED_COMMENTS||i===c.BOARDLESS_PINS||i===c.PROFILE_PINS_FEED||i===c.STORY_PINS_FEED||i===c.UNIFIED_COMMENTS||i===c.TRIED_IT_FEED||i===c.STORY_PIN_DATA)){const t=l.filter((e=>{const t=r.includes(e.id);return!(e.type===o&&t)}));return{...e,[s]:t}}break}case"FEED_ITEMS_ADDED":{const{payload:{feedType:i,feedId:n,itemType:a,itemIds:o=[],prepend:r}}=t,s=`${i}:${n}`,l=e[s]||[];if(l&&(i===c.BOARD_SECTION_PINS||i===c.BOARDFEED||i===c.BOARDLESS_PINS)){const t=o.map((e=>({id:e,type:a})));let i=0;"story"===(l[0]||{}).type&&(i=1),"story"===(l[1]||{}).type&&(i=2);const n=[...l.slice(0,i),...t,...l.slice(i)];return{...e,[s]:n}}if(l&&i===c.BOARD_SECTIONS){const t=[...o].reverse().map((e=>({id:e,type:"boardsection"}))),i=l?[...t,...l]:[...t];return{...e,[s]:i}}if(i===c.AGGREGATED_COMMENTS||i===c.AGGREGATED_COMMENT_REPLIES||i===c.PROFILE_PINS_FEED||i===c.STORY_PINS_FEED||i===c.UNIFIED_COMMENTS){const t=o.map((e=>({id:e,type:a}))),i=l?[...r?t:l,...r?l:t]:t;return{...e,[s]:i}}if(i===c.TRIED_IT_FEED){const t=o.map((e=>({id:e,type:a}))),i=l?[...t,...l]:t;return{...e,[s]:i}}break}case"FEED_INVALIDATE":{const{payload:{feedType:i,feedId:n}}=t,a=`${i}:${n}`;if(e[a]||[])return{...e,[a]:null};break}case"APPEND_FEED_ITEMS":{const{payload:{id:i,items:n,options:a}}=t,o=e[i];if(o){let t;return t=a.isPrepend?o[0]&&"story"===o[0].type?[].concat(o[0],n,o.slice(1)):n.concat(o):o.concat(n),{...e,[i]:t}}return{...e,[i]:n}}case"PIN_DELETE":{const{payload:{pinId:i}}=t;return y(e,"pin",i)}case"BOARD_ARCHIVE":{const{payload:{boardId:i,username:n}}=t,a=`profile-boards:${null!=n?n:""}`;if(e[a])return{...e,[a]:e[a].filter((e=>e.id!==i))};break}case"BOARD_UNARCHIVE":{const{payload:{boardId:i}}=t,n="archived-boards";if(e[n])return{...e,[n]:e[n].filter((e=>e.id!==i))};break}case"BOARD_DELETE":{const{payload:{boardId:i}}=t;return y(e,"board",i)}case"BOARD_SECTION_DELETE":{const{payload:{boardSectionId:i}}=t;return y(e,"boardsection",i)}case"PINS_MOVE":{const{payload:{source:i,target:n,pinIds:a,userId:o}}=t,r=i.boardlessPins&&o&&`boardless-pins:${o}`||i.boardId&&g(i.boardId,i.sectionId),s=g(n.boardId,n.sectionId);return a.reduce(((e,t)=>m(e,{pinId:t,oldFeedId:r,newFeedId:s})),e)}case"PINS_MOVE_ALL":{const{payload:{source:i,target:n,excludePinIds:a}}=t,o=g(i.boardId,i.sectionId),r=g(n.boardId,n.sectionId),s={...e,[o]:a.map((e=>({type:"pin",id:e})))};return delete s[r],s}case"PIN_EDIT":{const{payload:{pinId:i,boardId:n,section:a,source:{boardId:o,sectionId:r}}}=t,s=g(o,r),l=g(n,null==a?void 0:a.id);return m(e,{pinId:i,oldFeedId:s,newFeedId:l})}case d.AF:if(u.has(t.payload.resource)){const i=t.payload.response.resource_response.data,n=i.board;let a;if("quick_saves"===n.layout)a=`boardless-pins:${t.payload.options.user_id}`;else{const e=t.payload.options.section;a=e?`board-section-pins:${e}`:`boardfeed:${n.id}`}if(e[a]){const t={...e},n={id:i.id,type:"pin",trackingParams:null==i?void 0:i.tracking_params};return t[a]=[n].concat(e[a]),t}}if("BoardSectionResource"===t.payload.resource&&t.payload.normalizedResponse){const i=t.payload.normalizedResponse.result,n=`board-sections:${t.payload.normalizedResponse.entities.boardsections[i].board}`;if(e[n]){const t={...e},a={id:i,type:"boardsection"};return t[n]=[a].concat(e[n]),t}}if("AggregatedCommentResource"===t.payload.resource&&t.payload.normalizedResponse){const i={id:t.payload.normalizedResponse.result,type:"aggregatedcomment"},n=["aggregated-comments","unified-comments"];let a={...e};for(const o of n){const n=`${o}:${t.payload.options.objectId}`;e[n]&&(a={...a,[n]:[i].concat(a[n])})}return a}if("AggregatedCommentReplyResource"===t.payload.resource&&t.payload.normalizedResponse){const i=`${c.AGGREGATED_COMMENT_REPLIES}:${t.payload.options.objectId}`;return{...e,[i]:[...e[i]||[],{id:t.payload.normalizedResponse.result,type:"aggregatedComment"}]}}if("ReactionsResource"===t.payload.resource&&t.payload.normalizedResponse){const{reaction_pin_id:i}=t.payload.options;if("reaction"===t.payload.options.action_type){const n=`reactions:${t.payload.options.pin_id}`,a={...e},o={id:`${i}:${t.payload.options.user_id}`,type:"reaction",trackingParams:void 0};return a[n]=[o].concat(e[n]),a}if("unreaction"===t.payload.options.action_type){const n=`${i}:${t.payload.options.user_id}`;return y(e,"reaction",n)}}break;case"COMPLETE_STORY":{const{payload:{storyId:i}}=t;return y(e,"story",i)}}return e}},761881:(e,t,i)=>{i.d(t,{Z:()=>n});const n=e=>(e=>(t,i)=>t.feeds[((e,t)=>"string"==typeof e?e:e(t))(e,i)])(e)},675752:(e,t,i)=>{i.d(t,{A:()=>n});const n=e=>{const t=e.rich_metadata;return t?t.products?144:t.article?141:t.recipe?145:139:140}},977734:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(349741),a=i(6637);function o({history:e,i18n:t,logContextEvent:i,onSuccess:o,onUndo:r,originalPinId:s,pinId:l,trackingParams:d,disableRepinAnimation:c,showNewUserSavetoProfileAnimation:u,showRepinConfirmation:p}){return(h,m)=>{const{pins:_,session:g}=m(),{userId:v}=g,y=_[l],f={name:t.bt(" ", "Quick Saves", "quickSave.boardName", undefined, true),layout:"quick_saves",protected:!1,return_existing:!0,user_id:v};return a.Z.create("BoardResource",f).callCreate().then((a=>{const l=a.resource_response.data;return new n.Z({boardId:l.id,dispatch:h,isQuickSave:!0,history:e,i18n:t,onSuccess:o,onUndo:r,originalPinId:s,pin:y,resourceName:"RepinResource",section:void 0,showNewUserSavetoProfileAnimation:u,showRepinToasts:e=>p?p(e,c):void 0,trackingParams:d,userId:g.userId}).processRepin(i)}))}}},962551:(e,t,i)=>{i.d(t,{Z:()=>d});var n=i(643010),a=i(883119),o=i(785893);function r({guide:e,guidedQuery:t,isSlot0Style:i=!1}){const{dominant_color:r,display:s}=e,l=(0,o.jsx)(a.iP,{role:"link",tapStyle:"none",rounding:"pill",href:`/search/pins/?rs=guide&q=${encodeURIComponent(t)}`,children:(0,o.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundSize:"cover",backgroundColor:r,whiteSpace:i?void 0:"nowrap"}},"data-test-id":"search-guide",minWidth:i?void 0:84,padding:4,rounding:"pill",children:(0,o.jsx)(a.xv,{align:i?"start":"center",color:i?(0,n.Yc)()?"inverse":"default":"inverse",lineClamp:i?2:void 0,size:"200",weight:i?"normal":"bold",children:s})})});return i?l:(0,o.jsx)(a.xu,{flex:"none",marginStart:-7,paddingX:4,children:l})}const s=-1,l=0;function d({guides:e,isSlot0Style:t=!1,query:i}){const n=({position:e,term:t})=>e===s?t:e===l?`${t} ${i}`:`${i} ${t}`,d=()=>e.map((e=>(0,o.jsx)(r,{guide:e,guidedQuery:n(e),isSlot0Style:t},e.display)));return t?(0,o.jsx)(a.xu,{padding:2,children:(0,o.jsx)(a.kC,{width:"100%",gap:{row:0,column:1},direction:"column",alignItems:"start",children:d()})}):(0,o.jsx)(a.xu,{overflow:"hidden",width:"calc(100vw - 16px)",children:(0,o.jsx)(a.xu,{display:"flex",marginBottom:-2,marginStart:-4,overflow:"auto",paddingX:7,paddingY:2,position:"relative",width:"100vw",children:d()})})}},225313:(e,t,i)=>{i.d(t,{Z:()=>U});var n=i(667294),a=i(702664),o=i(90771),r=i(31149),s=i(659522),l=i(214680),d=i(331744),c=i(172071),u=i(757146),p=i(785893);function h({size:e=56}){return(0,p.jsxs)("svg",{display:"block",fill:"none",height:e,viewBox:"0 0 56 56",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,p.jsx)("rect",{fill:"#e60023",height:"56",rx:"28",width:"56"}),(0,p.jsx)("path",{clipRule:"evenodd",d:"m28 31.9842 6 3.6666v-15.6508h-12v15.6508zm0 3.5158 5.9571 3.6404c1.3327.8145 3.0429-.1447 3.0429-1.7065v-17.4339c0-1.6569-1.3431-3-3-3h-12c-1.6569 0-3 1.3431-3 3v17.4339c0 1.5618 1.7102 2.521 3.0429 1.7065z",fill:"#fff",fillRule:"evenodd"})]})}var m=i(862960),_=i(941646),g=i(499128),v=i(464240),y=i(287072),f=i(89396),x=i(22641),b=i(467570),w=i(867820),P=i(773285),S=i(50286),k=i(167912),I=i(780280),T=i(898781),j=i(112690),C=i(52022),A=i(86802),E=i(642832),R=i(883119),D=i(844974),L=i(644035),F=i(343341);function O(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const z=56,N=String(86),M=({text:e})=>(0,p.jsx)(R.xv,{align:"center",size:"100",children:e});class Z extends n.PureComponent{constructor(...e){super(...e),O(this,"state",{invitePath:"",inviteCode:null,inviteMessage:"",inviteTitle:"",Clipboard:null,fbLoaded:!1}),O(this,"setClipboard",(e=>{const{Clipboard:t,invitePath:i}=this.state;(0,E.sF)(i,t,e,this.showCopyToast)})),O(this,"showCopyToast",(()=>{var e,t,i,n;this.logShareClick(12),this.setNewAppOrder(12),null===(e=(t=this.props).onShare)||void 0===e||e.call(t),this.props.showToast((({hideToast:e})=>(0,p.jsx)(g.ZP,{text:this.props.i18n.bt("      ", "Copied link to your clipboard to share", "url link was copied to user clipboard", undefined, true),onHide:e}))),null===(i=(n=this.props).setShareSent)||void 0===i||i.call(n,!0),this.props.trackInteraction({action:"click",item:"copy-link-share-icon"})})),O(this,"getDefaultAppOrder",(()=>{const{country:e,isDesktop:t}=this.props;return(0,E.pW)({country:e,isDesktop:t,shouldShowNativeShare:Boolean(navigator.share)})})),O(this,"getAppOrder",(()=>{const{isDesktop:e}=this.props;let t=JSON.parse((0,D.qn)(A.B));return!t||e?this.getDefaultAppOrder():(t=[...t.filter((e=>11!==e&&12!==e)),12],Boolean(navigator.share)&&t.push(11),t)})),O(this,"setNewAppOrder",(e=>{const{isDesktop:t}=this.props;t||A.F6.has(e)||(0,D.Nh)(A.B,JSON.stringify([e,...this.getAppOrder().filter((t=>t!==e))]))})),O(this,"handleMessagingAppClick",(e=>{var t,i,n,a;null===(t=(i=this.props).onShare)||void 0===t||t.call(i),null===(n=(a=this.props).setShareSent)||void 0===n||n.call(a,!0),this.logShareClick(e),this.setFreshInviteCode(e),A.rO.has(e)||(0,D.Nh)(A.Cq,e),this.setNewAppOrder(e)})),O(this,"handleMessengerClick",(()=>{this.props.trackInteraction({action:"click",item:"fbmessenger-share-icon"}),this.handleMessagingAppClick(6)})),O(this,"handleTwitterClick",(()=>{this.props.trackInteraction({action:"click",item:"twitter-share-icon"}),this.handleMessagingAppClick(9)})),O(this,"handleWhatsappClick",(()=>{this.props.trackInteraction({action:"click",item:"whatsapp-share-icon"}),this.handleMessagingAppClick(10)})),O(this,"handleLineClick",(()=>{this.handleMessagingAppClick(8)})),O(this,"handleTelegramClick",(()=>{this.handleMessagingAppClick(20)})),O(this,"handleViberClick",(()=>{this.handleMessagingAppClick(22)})),O(this,"handleEmailClick",(()=>{this.handleMessagingAppClick(3),this.props.trackInteraction({action:"click",item:"email-share-button"})})),O(this,"handleFacebookClick",(e=>{var t,i,n,a;const{isDesktop:o}=this.props;e.preventDefault(),null===(t=(i=this.props).onShare)||void 0===t||t.call(i),null===(n=(a=this.props).setShareSent)||void 0===n||n.call(a,!0),(0,w.My)(`pcons.${o?"desktop":"mobile"}.facebook-share-icon`),this.props.trackInteraction({action:"click",item:"facebook-share-icon"});const{inviteCode:r,invitePath:s,fbLoaded:l}=this.state;(0,E.Rh)(l,s,r||"",(()=>this.logShareClick(5))),this.setFreshInviteCode(5),this.setNewAppOrder(5)})),O(this,"handleSmsClick",(()=>{this.handleMessagingAppClick(4)})),O(this,"logShareClick",((e,t=this.state.inviteCode)=>{const{objectId:i,objectType:n,component:a,clientTrackingParams:o,logContextEvent:r,viewType:s,viewParameter:l}=this.props;(0,E.Iz)({inviteChannel:e,inviteCode:t,objectId:i,objectType:n,component:a,clientTrackingParams:o,logContextEvent:r,view_type:s,view_parameter:l})})),O(this,"copyButtonRef",null),O(this,"renderAppsInCustomOrder",(({Email:e,Facebook:t,FBMessenger:i,Line:a,WhatsApp:o,Twitter:r,Viber:s,Telegram:l,CopyLink:d,Sms:c,ShareVia:u})=>{const h=this.getAppOrder(),m=new Map([[6,i],[10,o],[5,t],[9,r],[3,e],[8,a],[20,l],[22,s],[4,c],[12,d],[11,u]]);return(0,p.jsx)(n.Fragment,{children:h.map((e=>m.get(e)))})})),O(this,"onHandleRepinSave",(({event:e,dangerouslyDisableOnNavigation:t})=>{var i,n;t(),null===(i=(n=this.props).onSave)||void 0===i||i.call(n),this.props.onNavigation({event:e})}))}componentDidMount(){this.setFreshInviteCode(12),(0,b.we)(this.props.locale).then((()=>{this.setState({fbLoaded:!0})})),i.e(6527).then(i.t.bind(i,842152,23)).then((({default:e})=>{e.isSupported()&&(this.setState({Clipboard:e}),this.setClipboard(this.copyButtonRef))}))}componentDidUpdate({objectId:e}){const{objectId:t}=this.props;e!==t&&this.setFreshInviteCode(12)}async setFreshInviteCode(e){const{objectId:t,objectType:i}=this.props,{invitePath:n,inviteCode:a,title:o,message:r}=await(0,E.yP)(e,t,i,this.props.relayEnvironment),s={};n&&(s.invitePath=n),a&&(s.inviteCode=a),o&&(s.inviteTitle=o),r&&(s.inviteMessage=r),this.setState(s)}render(){const{isDesktop:e,objectType:t,onSave:i,showSaveOption:n,isAppleDevice:a}=this.props,{invitePath:g,inviteMessage:y,inviteTitle:b}=this.state,{emailShareLink:w,messengerShareLink:P,twitterShareLink:S,whatsappShareLink:k,lineShareLink:I,telegramShareLink:T,viberShareLink:j,smsShareLink:C}=(0,E.tA)({invitePath:g,inviteTitle:b,objectType:t,i18n:this.props.i18n,isDesktop:e}),A=({children:t})=>(0,p.jsx)(R.kC,{alignItems:"center",justifyContent:"start",direction:"column",width:e?`${N}px`:"100%",children:t}),D=({children:e})=>(0,p.jsx)(R.xu,{display:"flex",justifyContent:"center",paddingX:3,marginBottom:1,children:e}),L=(0,p.jsxs)(A,{children:[(0,p.jsx)(D,{children:(0,p.jsx)(_.Z,{id:"fbmessenger-share-icon",children:(0,p.jsx)(R.iP,{rounding:"circle",role:"link",rel:"nofollow",href:P,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleMessengerClick()},children:(0,p.jsx)(u.Z,{size:z})})})}),(0,p.jsx)(M,{text:this.props.i18n.bt("Messenger", "Messenger", "shareMenu.icon.label.messenger", undefined, true)})]}),F=(0,p.jsxs)(A,{children:[(0,p.jsx)(D,{children:(0,p.jsx)(_.Z,{id:"whatsapp-share-icon",children:(0,p.jsx)(R.iP,{rounding:"circle",role:"link",rel:"nofollow",href:k,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleWhatsappClick()},children:(0,p.jsx)(x.Z,{size:z})})})}),(0,p.jsx)(M,{text:this.props.i18n.bt("WhatsApp", "WhatsApp", "shareMenu.icon.label.whatsapp", undefined, true)})]}),O=(0,p.jsx)(R.xu,{"data-test-id":"facebook-share-icon",display:"flex",flex:"shrink",children:(0,p.jsxs)(A,{children:[(0,p.jsx)(D,{children:(0,p.jsx)(R.rU,{href:"#",onClick:({event:e})=>{this.handleFacebookClick(e)},children:(0,p.jsx)(s.Z,{size:z})})}),(0,p.jsx)(M,{text:this.props.i18n.bt("Facebook", "Facebook", "shareMenu.icon.label.facebook", undefined, true)})]})}),Z=(0,p.jsxs)(A,{children:[(0,p.jsx)(D,{children:(0,p.jsx)(_.Z,{id:"twitter-share-icon",children:(0,p.jsx)(R.iP,{rounding:"circle",role:"link",rel:"nofollow",href:S,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleTwitterClick()},children:(0,p.jsx)(v.Z,{size:z})})})}),(0,p.jsx)(M,{text:this.props.i18n.bt("Twitter", "Twitter", "shareMenu.icon.label.twitter", undefined, true)})]}),U=(0,p.jsxs)(A,{children:[(0,p.jsx)(D,{children:(0,p.jsx)(R.iP,{rounding:"circle",role:"link",rel:"nofollow",href:I,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleLineClick()},children:(0,p.jsx)(d.Z,{size:z})})}),(0,p.jsx)(M,{text:this.props.i18n.bt(" ", "Line", "shareMenu.icon.label.line", undefined, true)})]}),B=(0,p.jsxs)(A,{children:[(0,p.jsx)(D,{children:(0,p.jsx)(R.iP,{rounding:"circle",role:"link",rel:"nofollow",href:j,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleViberClick()},children:(0,p.jsx)(f.Z,{size:z})})}),(0,p.jsx)(M,{text:this.props.i18n.bt("Viber", "Viber", "shareMenu.icon.label.viber", undefined, true)})]}),V=(0,p.jsxs)(A,{children:[(0,p.jsx)(D,{children:(0,p.jsx)(R.iP,{rounding:"circle",role:"link",rel:"nofollow",href:T,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleTelegramClick()},children:(0,p.jsx)(m.Z,{size:z})})}),(0,p.jsx)(M,{text:this.props.i18n.bt("Telegram", "Telegram", "shareMenu.icon.label.telegram", undefined, true)})]}),H=(0,p.jsxs)(A,{children:[(0,p.jsx)(D,{children:(0,p.jsx)(_.Z,{id:"email-share-button",children:(0,p.jsx)(R.iP,{rounding:"circle",role:"link",rel:"nofollow",target:"blank",href:w,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleEmailClick()},children:(0,p.jsx)(r.Z,{size:z})})})}),(0,p.jsx)(M,{text:this.props.i18n.bt("  ", "Email", "shareMenu.icon.label.email", undefined, true)})]}),W=(0,p.jsxs)(A,{children:[(0,p.jsx)(D,{children:(0,p.jsx)(R.iP,{rounding:"circle",role:"link",rel:"nofollow",target:"blank",href:"#",onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{var i,n;e.preventDefault(),null===(i=(n=this.props).onShare)||void 0===i||i.call(n),t();const a=y.indexOf("https://");navigator.share&&navigator.share({url:g,text:a>0?y.slice(0,a):y,title:b}).then((()=>{this.handleMessagingAppClick(11),c.Z.increment("allshareoptions_navigator_share.success",1)})).catch((e=>{c.Z.increment("allshareoptions_navigator_share.error",1,{name:e.name,message:e.message})}))},children:(0,p.jsx)(R.xu,{height:z,children:(0,p.jsx)(R.hU,{accessibilityLabel:this.props.i18n.bt("   ", "Native share sheet icon", "shareMenu.icon.accessibilityLabel.native_share_sheet", undefined, true),bgColor:"lightGray",icon:"share",iconColor:"darkGray",size:"xl"})})})}),(0,p.jsx)(M,{text:this.props.i18n.bt("  ", "Share via", "shareMenu.icon.label.share_via", undefined, true)})]}),$=(0,p.jsxs)(A,{children:[(0,p.jsx)(D,{children:(0,p.jsx)(R.iP,{rounding:"circle",role:"link",rel:"nofollow",href:C,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleSmsClick()},children:a?(0,p.jsx)(l.Z,{size:z}):(0,p.jsx)(o.Z,{size:z})})}),(0,p.jsx)(M,{text:this.props.i18n.bt(" ", "Message", "shareMenu.icon.label.message", undefined, true)})]}),K=(0,p.jsxs)(A,{children:[(0,p.jsx)(D,{children:(0,p.jsx)(R.xu,{ref:this.setClipboard,dangerouslySetInlineStyle:{__style:{cursor:e?"pointer":void 0}},"data-test-id":"copy-link-share-icon",height:z,children:(0,p.jsx)(R.hU,{accessibilityLabel:this.props.i18n.bt(" ", "Link icon", "shareMenu.icon.accessibilityLabel.copy", undefined, true),bgColor:"lightGray",icon:"link",iconColor:"darkGray",size:"xl"})})}),(0,p.jsx)(M,{text:this.props.i18n.bt(" ", "Copy link", "shareMenu.icon.label.copy", undefined, true)})]});return(0,p.jsxs)(R.xu,{children:[(0,p.jsx)(R.xu,{height:4}),(0,p.jsx)(R.kC,{alignItems:"stretch",justifyContent:"start",overflow:"hidden",children:(0,p.jsxs)(R.xu,{display:"flex",justifyContent:"start",height:e?180:void 0,width:e?370:"100vw",marginBottom:-2,paddingX:1,paddingY:2,overflow:e?void 0:"scrollX",wrap:e,children:[n&&i&&(()=>(0,p.jsxs)(A,{children:[(0,p.jsx)(D,{children:(0,p.jsx)(R.iP,{rounding:"circle",onTap:this.onHandleRepinSave,children:(0,p.jsx)(h,{size:z})})}),(0,p.jsx)(M,{text:this.props.i18n.bt("", "Save", "shareMenu.icon.label.save", undefined, true)})]}))(),this.renderAppsInCustomOrder({Email:H,Facebook:O,FBMessenger:L,Line:U,WhatsApp:F,Twitter:Z,Viber:B,Telegram:V,CopyLink:K,Sms:$,ShareVia:W})]})}),(0,p.jsx)(R.xu,{height:16})]})}}function U(e){const t=(0,T.ZP)(),i=(0,S.HG)(),{showToast:n}=(0,F.F9)(),{country:o,locale:r}=(0,I.B)(),s=(0,y.Z)({href:{pathname:`/pin/${e.objectId}/repin`,state:{viewType:e.viewType,viewParameter:e.viewParameter}}}),{checkExperiment:l}=(0,P.F)(),d=(0,a.useSelector)((({session:e})=>e.userAgentPlatform)),c=d===L.RL||d===L.s4,u=l("graphql_migration_sharesheet_sgrowth_web").anyEnabled,h=(0,k.useRelayEnvironment)(),m=(0,j.Z)(),_=(0,C.Z)();return(0,p.jsx)(Z,{...e,country:o,i18n:t,isDesktop:i,locale:r,showToast:n,onNavigation:s,logContextEvent:m,isAppleDevice:c,relayEnvironment:u?h:void 0,trackInteraction:_})}},642832:(e,t,i)=>{i.d(t,{Iz:()=>g,Rh:()=>p,pW:()=>c,rL:()=>_,sF:()=>h,tA:()=>u,yP:()=>m});var n,a,o=i(6637),r=i(467570),s=i(867060),l=i(167912);const d={FBMessenger:6,WhatsApp:10,Facebook:5,Twitter:9,Email:3,Line:8,Telegram:20,Viber:22,Sms:4,CopyLink:12,ShareVia:11};function c({country:e,isDesktop:t,shouldShowNativeShare:i}){const{FBMessenger:n,WhatsApp:a,Facebook:o,Twitter:r,Email:s,Line:l,Telegram:c,Viber:u,Sms:p,CopyLink:h,ShareVia:m}=d;function _(){switch(e){case"US":return t?[a,o,r,s]:[p,n,a,o,r];case"ID":return t?[a,l,s,o]:[a,c,p,l,s,o];case"JP":case"TH":case"TW":return t?[l,r,s,o]:[l,s,p,r,o];case"GR":return t?[a,o,r,s]:[u,n,a,p,o,r];case"IR":case"IQ":return t?[a,o,r,s]:[a,c,p,n,r];case"UA":case"RU":return t?[a,o,r,s]:[a,u,c,o,n,p,r];default:return t?[a,o,r,s]:[a,n,p,o,r]}}return t?[h,..._()]:[..._(),h,...i?[m]:[]]}function u({invitePath:e,inviteTitle:t,objectType:i,i18n:n,isDesktop:a}){let o=n.bt("  ", "A Pin for you", "shareMenu.message.title", undefined, true);8===i&&(o=n.bt("     Pinterest!", "Check out this article on Pinterest!", "shareMenu.message.title", undefined, true));const s=`mailto:?subject=${encodeURIComponent(o)}&body=${encodeURIComponent(e)}`,l=`fb-messenger://share/?link=${encodeURIComponent(e)}&app_id=${r.GH}`,d=`${t}\n${e}`,c=a?`https://twitter.com/intent/tweet?via=pinterest&url=${encodeURIComponent(d)}`:`twitter://post?message=${encodeURIComponent(d)}`,u=a?`https://web.whatsapp.com/send?text=${encodeURIComponent(d)}`:`whatsapp://send?text=${encodeURIComponent(d)}`,p=a?`https://social-plugins.line.me/lineit/share?url=${encodeURIComponent(e)}&text=${encodeURIComponent(t)}`:`https://line.me/R/msg/text/?${encodeURIComponent(d)}`,h=`viber://forward?text=${encodeURIComponent(d)}`;return{emailShareLink:s,messengerShareLink:l,twitterShareLink:c,whatsappShareLink:u,lineShareLink:p,telegramShareLink:`tg://msg?text=${encodeURIComponent(d)}`,viberShareLink:h,smsShareLink:`sms:?&body=${encodeURIComponent(d)}`}}function p(e,t,i,n){e&&window.FB&&window.FB.ui&&window.FB.ui({method:"share",mobile_iframe:!0,href:t},(e=>{e&&!e.error_message&&n&&n()}))}function h(e,t,i,n){if(!i||!t)return;const a=new t(i,{text:()=>e});a.on("success",(e=>{n&&n(e)})),a.on("error",(e=>{throw new Error("<ShareMenu /> error: copy command failed")}))}async function m(e,t,a,r){if(r)return((e,t,a,o,r)=>{const s=void 0!==n?n:n=i(865107),d={invite_category:t,invite_object:a,invite_channel:o};return(0,l.fetchQuery)(e,s,{inviteType:JSON.stringify(d),objectId:r}).toPromise().then((e=>{var t;return Promise.resolve((e=>{var t,i,n,a;return{inviteCode:null!==(t=null==e?void 0:e.inviteCode)&&void 0!==t?t:"",invitePath:null!==(i=null==e?void 0:e.inviteUrl)&&void 0!==i?i:"",title:null!==(n=null==e?void 0:e.title)&&void 0!==n?n:"",message:null!==(a=null==e?void 0:e.message)&&void 0!==a?a:""}})(null==e||null===(t=e.v3InviteUserExternalQuery)||void 0===t?void 0:t.data))}),(e=>Promise.reject(e)))})(r,3,a,e.toString(),t);{const i=o.Z.create("CreateExternalInviteResource",{invite_type:{invite_category:3,invite_object:a,invite_channel:e},object_id:t}),n=await i.callCreate(),{invite_url:r,invite_code:s,title:l,message:d}=n.resource_response.data;return{inviteCode:s,invitePath:r,title:l,message:d}}}const _=(e,t,n,o,r,s)=>{const d=void 0!==a?a:a=i(361600),c={inviteType:JSON.stringify({invite_category:t,invite_object:n,invite_channel:o}),inviteCode:r,objectId:s};(0,l.commitMutation)(e,{mutation:d,variables:{...c}})};async function g({inviteChannel:e,inviteCode:t,objectId:i,objectType:n,component:a,clientTrackingParams:r,logContextEvent:l,view_parameter:d,view_type:c}){l({aux_data:{invite_object:n},object_id_str:i,component:a,clientTrackingParams:r,element:s.c[e],event_type:102,view_type:c,view_parameter:d}),o.Z.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:3,invite_object:n,invite_channel:e},invite_code:t,object_id:i,client_tracking_params:r}).callCreate()}},590674:(e,t,i)=>{i.r(t),i.d(t,{default:()=>K});var n=i(667294),a=i(225313),o=i(702664),r=i(766935),s=i(72566),l=i(936776),d=i(172071),c=i(6637),u=i(700380),p=i(784590),h=i(19121),m=i(773285),_=i(698330),g=i(878499),v=i(116303),y=i(499128),f=i(898781),x=i(927383),b=i(349700),w=i(313951),P=i(883119),S=i(276775),k=i(343341),I=i(785893);function T(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class j extends n.PureComponent{constructor(...e){var t;super(...e),t=this,T(this,"state",{viewConversation:!1,isSent:!1,path:""}),T(this,"renderViewConversationButton",(()=>{const{viewConversation:e}=this.state;return e?(0,I.jsxs)(P.kC,{alignItems:"center",direction:"row",flex:"grow",justifyContent:"center",children:[(0,I.jsx)(P.zx,{fullWidth:!0,size:"sm",text:this.props.i18n.bt(" ", "View chat", "View current chat", undefined, true),color:"white",onClick:()=>{this.onViewConversation()}}),(0,I.jsx)(P.JO,{icon:"arrow-forward",color:"default",accessibilityLabel:this.props.i18n.bt(" ", "View chat", "View current chat", undefined, true)})]}):(0,I.jsxs)(P.kC,{alignItems:"center",direction:"row",flex:"grow",justifyContent:"center",children:[(0,I.jsx)(P.xu,{marginEnd:2,children:(0,I.jsx)(P.JO,{icon:"check",color:"default",accessibilityLabel:this.props.i18n.bt("", "sent", "content is sent", undefined, true)})}),(0,I.jsx)(P.xu,{marginEnd:2,children:(0,I.jsx)(P.xv,{size:"300",color:"subtle",weight:"bold",children:this.props.i18n.bt("", "Sent", "mweb.sharemenu.contactItem.isSent", undefined, true)})})]})})),T(this,"onViewConversation",(()=>{const{path:e}=this.state;d.Z.increment("mweb_sharesheet_view_conversation",1),this.props.history.push(e)})),T(this,"onInlineSend",this.props.requireAuthForLimitedLogin({fn:async function(){const e={1:"pin",2:"board",3:"user",8:"today_article"},{createConversation:i,i18n:n,isFullHeight:a,onDismiss:o,setShareSent:r,recipient:s,sendObject:l,showToast:c,email:u,updateCachedContactsAfterSend:p,userId:h,logContextOnSend:m}=t.props,_=e[l.objectType];null==m||m(),t.setState({isSent:!0});try{const e=await i({user_ids:s?[s.id,h]:void 0,[_]:l.objectId,emails:u?[u]:void 0});if(e){const i=e.id;t.setState({path:`/conversation/${i}`,viewConversation:!0}),d.Z.increment("mweb_sharesheet.inline_send",1,{success:!0}),r(!0),null==p||p(),!a&&o&&(c((({hideToast:e})=>(0,I.jsx)(y.ZP,{dataTestId:"sharesheet-inline-send-toast",primaryAction:{accessibilityLabel:n.bt(" ", "View the conversation", "ContactItem.ConfirmationToast.a11yButtonText", undefined, true),label:n.bt("", "View", "ContactItem.ConfirmationToast.buttonText", undefined, true),onClick:t.onViewConversation},duration:4e3,onHide:e,text:(0,b.Wc)(n.bt("  {{recipientName}}.", "Sent to {{recipientName}}!", "ContactItem.ConfirmationToast.text", undefined, true),{recipientName:(null==s?void 0:s.full_name)||""}),iconThumbnail:(0,I.jsx)(v.Z,{size:"fit",src:(null==s?void 0:s.image_large_url)||"",name:(null==s?void 0:s.full_name)||""}),thumbnailShape:"circle"}))),o(i))}}catch(g){c((({hideToast:e})=>(0,I.jsx)(y.ZP,{variant:"error",text:(null==g?void 0:g.message_detail)||(null==g?void 0:g.message)||n.bt("   .", "Failed to create conversation.", "ContactItem.errorToast.text", undefined, true),onHide:e}))),t.setState({isSent:!1}),d.Z.increment("mweb_sharesheet.inline_send",1,{success:!1,error:g})}}}))}render(){var e,t,i,n;const{isFullHeight:a,recipient:o,email:r}=this.props,{isSent:s}=this.state;return!a&&o?(0,I.jsxs)(P.xu,{"data-test-id":"sharesheet-send-button",display:"flex",direction:"column",paddingX:3,paddingY:4,children:[(0,I.jsx)(P.iP,{onTap:()=>this.onInlineSend(),children:(0,I.jsx)(P.xu,{height:56,marginBottom:1,width:56,children:(0,I.jsx)(v.Z,{size:"fit",src:null!==(e=o.image_large_url)&&void 0!==e?e:"",name:null!==(t=o.full_name)&&void 0!==t?t:""})})}),(0,I.jsx)(P.xu,{width:56,children:(0,I.jsx)(P.xv,{lineClamp:1,size:"100",align:"center",children:o.full_name})})]}):(0,I.jsxs)(P.xu,{"data-test-id":"sharesheet-send-button",position:"relative",direction:"row",display:"flex",width:"100%",alignItems:"center",justifyContent:"between",paddingY:2,children:[o?(0,I.jsx)(P.xu,{children:(0,I.jsx)(v.Z,{size:"md",src:null!==(i=o.image_large_url)&&void 0!==i?i:"",name:null!==(n=o.full_name)&&void 0!==n?n:""})}):r&&(0,I.jsx)(P.xu,{children:(0,I.jsx)(v.Z,{size:"md",name:r})}),(0,I.jsx)(P.xu,{paddingX:2,flex:"grow",maxWidth:"71%",children:(0,I.jsx)(P.xv,{lineClamp:1,weight:"bold",children:o?o.full_name:r&&s?r:(0,b.nk)(this.props.i18n.bt(" {{email}}", "invite {{email}}", "mweb.newMessage.searchEmail", undefined, true),{email:r})})}),(0,I.jsx)(P.xu,{"data-test-id":"sharesheet-viewchat-link",right:!0,flex:"none",maxWidth:"100%",children:s?this.renderViewConversationButton():(0,I.jsx)(P.zx,{fullWidth:!0,size:"lg",color:"gray",text:this.props.i18n.bt("", "Send", "Send current content", undefined, true),onClick:()=>{this.onInlineSend()}})})]})}}function C(e){const t=(0,S.useHistory)(),i=(0,f.ZP)(),n=(0,x.Z)(),{showToast:a}=(0,k.F9)(),o=(0,w.aX)();return(0,p.Z)({name:"ConversationsResource",options:{user_ids:[e.userId]}}),(0,I.jsx)(j,{...e,createConversation:o,history:t,i18n:i,requireAuthForLimitedLogin:n,showToast:a})}var A=i(112690),E=i(379725);function R(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const D={boxShadow:"0 6px 8px -4px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"};class L extends n.PureComponent{componentDidUpdate(e){const{fetching:t}=e,{value:i}=this.state,n=t&&!this.props.fetching,a=this.getContactSuggestions();if(!i&&n){const e=a.length>0?7511:7512;this.props.logContextEvent({event_type:e,view_type:70,view_parameter:256})}}constructor(e){super(e),R(this,"state",{value:"",showScrollShadow:!1,defaultSuggestions:[],loadingDefaultSuggestions:!0}),R(this,"onSearchChange",(({value:e})=>{const{userId:t,searchContacts:i}=this.props,n={options:{user:t,term:e}};this.setState({value:e},i(n))})),R(this,"getContactSuggestions",(()=>{const{typeaheadSuggestions:e,userId:t,users:i}=this.props,{value:n,defaultSuggestions:a}=this.state;if(!n)return a.filter((e=>i[e.id]))||[];const o=`term="${n}",user="${t}"`,r=`term="${n.slice(0,-1)}",user="${t}"`;return e[o]||e[r]||[]})),R(this,"renderContactSuggestions",(()=>{const{expandContactsList:e,fetching:t,i18n:i,isFullHeight:n,logContextEvent:a,onDismiss:o,sendObject:r,setShareSent:s,userId:d,updateCachedContactsAfterSend:c}=this.props,{loadingDefaultSuggestions:u,value:p}=this.state,h=this.getContactSuggestions(),m=t||u,_=e=>{const t=p&&p.trim(),{selected_contact_index:i,selected_contact_reason:o}=e||{};a({event_type:102,view_type:70,view_parameter:n?3827:256,component:t?14314:14315,element:10837,aux_data:t?(0,l.Z)(t)?{is_selected_contact_email:"true"}:{search_query_length:JSON.stringify(t.length),selected_contact_index:i,selected_contact_reason:o}:{selected_contact_index:i,selected_contact_reason:o}})};let g;return g=!n&&m?107:"100%",m?(0,I.jsx)(P.xu,{alignItems:"center",display:"flex",justifyContent:"center",height:g,paddingY:2,children:(0,I.jsx)(P.$j,{show:!0,accessibilityLabel:i.bt(" ", "Searching for contacts", "Placeholder text for spinner on share menu", undefined, true)})}):0===h.length&&!(0,l.Z)(p)&&p&&n?(0,I.jsx)(P.xu,{marginTop:3,children:(0,I.jsx)(P.xv,{align:"center",children:i.bt(" ,        .", "Sorry, we can't find anyone by that name.", "Text to show empty state when a contact can not be found", undefined, true)})}):(0,I.jsx)(P.kC,{direction:n?"column":"row",overflow:n?void 0:"hidden",children:(0,I.jsxs)(P.xu,{display:n?void 0:"flex",height:g,overflow:n?void 0:"scrollX",marginBottom:0,marginTop:0,paddingX:n?4:1,paddingY:0,children:[0===h.length&&(0,l.Z)(p)&&(0,I.jsx)(C,{email:p,isFullHeight:n,sendObject:r,setShareSent:s,userId:d,logContextOnSend:_}),!n&&(0,I.jsxs)(P.xu,{alignItems:"center",display:"flex",direction:"column",paddingX:3,paddingY:4,children:[(0,I.jsx)(P.xu,{height:56,marginBottom:1,width:56,children:(0,I.jsx)(P.hU,{accessibilityLabel:i.bt(" ", "Search for users", "ContactsSuggestsions.SearchIcon.accessibilityLabel", undefined, true),bgColor:"lightGray",icon:"search",iconColor:"darkGray",onClick:()=>{a({event_type:102,view_type:70,view_parameter:256,component:14315,element:13498}),e()},size:"xl"})}),(0,I.jsx)(P.xv,{lineClamp:1,size:"100",children:i.bt("", "Search", "ContactsSuggestions.SearchOption.text", undefined, true)})]}),h.map(((e,t)=>(0,I.jsx)(C,{isFullHeight:n,onDismiss:o,recipient:e,sendObject:r,setShareSent:s,userId:d,updateCachedContactsAfterSend:c,logContextOnSend:()=>{_({selected_contact_index:JSON.stringify(t),selected_contact_reason:JSON.stringify(e.debug_reason.reason)})}},e.id)))]})})})),this.scrollerRef=(0,n.createRef)()}async componentDidMount(){const{inContactsCacheExp:e,cachedShareSuggestions:t,getFreshContactSuggestions:i,updateCachedShareSuggestions:n}=this.props;if(e)if(t)this.setState({loadingDefaultSuggestions:!1,defaultSuggestions:t});else{const e=await i()||[];n(e),this.setState({loadingDefaultSuggestions:!1,defaultSuggestions:e})}else{const e=await i()||[];this.setState({loadingDefaultSuggestions:!1,defaultSuggestions:e})}}render(){const{showScrollShadow:e}=this.state,{isFullHeight:t,expandContactsList:i}=this.props,a=(0,u.Z)((()=>{const e=this.scrollerRef.current;e&&!Number.isNaN(e.scrollTop)&&this.setState({showScrollShadow:e.scrollTop>0})}),100);return(0,I.jsx)(n.Fragment,{children:t?(0,I.jsxs)(P.xu,{color:"default",display:"flex",direction:"column",paddingX:0,height:"90%",children:[(0,I.jsx)(P.xu,{"data-test-id":"contact-suggestion-search-field",paddingY:2,color:"default",paddingX:4,dangerouslySetInlineStyle:{__style:e?D:null},children:(0,I.jsx)(s.Z,{accessibilityLabel:this.props.i18n.bt(" ", "search contact", "Accessibility label for searchbar on share menu", undefined, true),id:"contactsSuggestSearchField",onChange:this.onSearchChange,onFocus:i,placeholder:this.props.i18n.bt("    . ", "Search by name or email", "Placeholder text for searchbar on share menu", undefined, true),value:this.state.value,autoFocus:t})}),(0,I.jsx)(P.xu,{display:"flex",direction:"column",paddingY:1,overflow:"scrollY",onScroll:a,ref:this.scrollerRef,children:this.renderContactSuggestions()})]}):(0,I.jsx)(P.xu,{children:this.renderContactSuggestions()})})}}function F(e){const t=(0,f.ZP)(),i=(0,_.kW)(),n=(0,A.Z)(),{id:a}=(0,h.Z)(),s=(0,o.useDispatch)();(0,p.Z)({name:"ShareSuggestionsTypeaheadResource",options:{term:"",user:a}});const l=(0,o.useSelector)((({resources:e})=>{const{ShareSuggestionsTypeaheadResource:t}=e,i={};for(const n of Object.keys(t||{})){const e=t[n].data;e&&e.items&&(i[n]=e.items)}return i})),u=(0,o.useSelector)((e=>e.resources.ShareSuggestionsTypeaheadResource)),v=Object.keys(u||{}).some((e=>u[e].fetching)),{cachedShareSuggestions:y,clearCachedShareSuggestions:x,updateCachedShareSuggestions:b}=(0,g.$)(),w=async()=>{let e;const t=c.Z.create("ShareSuggestionsResource",{suggestion_type:"share"});try{var i;e=null===(i=(await t.callGet()).resource_response)||void 0===i?void 0:i.data}catch(n){d.Z.increment("mweb_share_menu_load_suggestions.fail.share",1)}return e},{checkExperiment:P}=(0,m.F)(),S=P("mweb_cache_contacts_share").anyEnabled;return(0,I.jsx)(L,{...e,i18n:t,logContextEvent:n,users:i,searchContacts:e=>{(0,r.Z)(s((0,E.U)("ShareSuggestionsTypeaheadResource",e)),200)},fetching:v,userId:a||"",typeaheadSuggestions:l,inContactsCacheExp:S,cachedShareSuggestions:y,getFreshContactSuggestions:w,updateCachedContactsAfterSend:async()=>{if(S){x();const e=await w();e&&b(e)}},updateCachedShareSuggestions:b})}var O=i(79113),z=i(121151),N=i(667679),M=i(52022),Z=i(749049),U=i(867820),B=i(53987),V=i(50286);const H=14121,W=({heading:e,onDismiss:t})=>{const i=(0,f.ZP)();return(0,I.jsxs)(P.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,I.jsx)(P.xu,{display:"flex",alignItems:"center",padding:1,children:(0,I.jsx)(P.hU,{accessibilityLabel:i.bt("", "Close", "close share menu", undefined, true),icon:"cancel",onClick:t,size:"sm",iconColor:"darkGray",padding:4})}),(0,I.jsx)(P.xu,{display:"flex",flex:"grow",alignItems:"center",justifyContent:"center",marginEnd:12,children:(0,I.jsx)(P.xv,{align:"center",weight:"bold",children:(0,I.jsx)("span",{className:"deprecatedTextSizeXL",children:e})})})]})},$=({children:e,isOpen:t,onDismiss:i,childPaddingX:n=3,shouldRenderCloseIcon:a,shouldRenderFullHeight:o,heading:r})=>{const s=(0,f.ZP)(),l={mobileAccessibilityCloseIconLabel:s.bt("   ", "close send modal", " - ", undefined, true),accessibilityModalLabel:"",heading:r,mobileHideCloseIcon:!a,isOpen:t,onDismiss:i,type:"share_menu"};return o?(0,I.jsxs)(O.Z,{isOpen:t,accessibilityModalLabel:r,children:[(0,I.jsx)(W,{heading:r,onDismiss:i}),e]}):(0,I.jsx)(z.ZP,{...l,children:(0,I.jsx)(P.xu,{marginTop:a?0:4,paddingX:n,children:e})})},K=({isOpen:e,onDismiss:t,objectType:i,objectId:o,hideContactsSuggestions:r,clientTrackingParams:s,element:l,viewType:c,viewParameter:u,component:p})=>{const _=(0,f.ZP)(),[g,v]=(0,n.useState)(!1),[y,x]=(0,n.useState)(!1),b=g||!r,w=(0,S.useLocation)(),k=(0,V.HG)(),{isAuth:T}=(0,h.Z)(),{checkExperiment:j}=(0,m.F)(),C=(0,N.Z)(),E=(0,A.Z)(),R=(0,M.Z)(),D=e=>{j("mweb_share_menu_logging").anyEnabled&&E({clientTrackingParams:s,component:H,event_type:y||e?7493:7492,element:13097,view_type:70,view_parameter:u,aux_data:{invite_object:i}});const n=(e=>(0,B.cD)(e)?"profile_page":(0,B.am)(e)?"board_page":(0,B.uM)(e)?"pin_page":"unknown")(w),a=!k&&!T&&j("unauth_mweb_after_invite_signup_modal").anyEnabled;R({action:"click",item:"close-share-menu"}),t(),a&&y&&C({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:`tap_unauth_${n}_share_menu_click_invite`}),x(!1),(0,U.My)(`mweb_${n}_share_menu.click_invite.close`)},L=j("mweb_share_menu_logging").anyEnabled;(0,n.useEffect)((()=>{e&&(E({event_type:7120,component:H,object_id_str:o,clientTrackingParams:L?s:null,element:L?l:null,view_type:L?c:70,view_parameter:L?u:256,aux_data:L?{invite_object:i}:void 0}),E({event_type:10400,component:p,object_id_str:o,clientTrackingParams:s,element:(0,Z.O)(i),view_type:c,view_parameter:u,aux_data:{invite_object:i}}))}),[e,j,L]);const O=(0,V.Wb)(),z=_.bt("  Pinterest", "Send on Pinterest", "Heading for share contacts search", undefined, true),W=_.bt(" ", "Share", "ShareMenu.AllShareOptions.HeaderText", undefined, true),K=g?z:(0,I.jsx)(P.xu,{marginTop:0,children:(0,I.jsx)(P.xv,{align:"center",weight:"bold",size:"300",children:b?z:W})});return(0,I.jsx)($,{isOpen:e,onDismiss:g?()=>{v(!1),d.Z.increment("mweb_sharesheet.contacts.collapse",1)}:()=>D(),shouldRenderFullHeight:g,shouldRenderCloseIcon:!0,childPaddingX:0,heading:K,children:(0,I.jsx)(P.kC,{justifyContent:"center",children:(0,I.jsxs)(P.xu,{marginBottom:8,marginTop:g||!b?0:-4,width:O?440:"100%",height:"100%",children:[b&&(0,I.jsx)(F,{sendObject:{objectId:o,objectType:i},expandContactsList:()=>{v(!0),d.Z.increment("mweb_sharesheet.contacts.expand",1)},isFullHeight:g,onDismiss:D,setShareSent:e=>x(e)}),!g&&(0,I.jsxs)(n.Fragment,{children:[b&&(0,I.jsxs)(P.xu,{marginTop:4,paddingX:4,children:[(0,I.jsx)(P.iz,{}),(0,I.jsx)(P.xu,{marginTop:8,children:(0,I.jsx)(P.xv,{align:"center",size:"300",weight:"bold",children:W})})]}),(0,I.jsx)(a.Z,{objectId:o,objectType:i,viewType:L?c:70,viewParameter:u,onDismiss:D,setShareSent:e=>x(e),clientTrackingParams:s,component:H})]})]})})})}},878499:(e,t,i)=>{i.d(t,{$:()=>s,l:()=>l});var n=i(667294),a=i(425288),o=i(785893);const{Provider:r,useHook:s}=(0,a.Z)("ShareSuggestions");function l({children:e}){const[t,i]=(0,n.useState)(void 0),a=(0,n.useCallback)((()=>{i(void 0)}),[]),s=(0,n.useCallback)((e=>{i(e)}),[]),l=(0,n.useMemo)((()=>({cachedShareSuggestions:t,clearCachedShareSuggestions:a,updateCachedShareSuggestions:s})),[t,a,s]);return(0,o.jsx)(r,{value:l,children:e})}},86802:(e,t,i)=>{i.d(t,{B:()=>o,Cq:()=>a,F6:()=>u,RV:()=>n,VZ:()=>r,W_:()=>l,bm:()=>s,iS:()=>p,rO:()=>c,zn:()=>d});const n="animatedShareIconLastViewed",a="lastUsedSocialShare",o="customizedSocialAppOrder",r=44,s=9e5,l=4e3,d=5e3,c=new Set([12,3,11]),u=new Set([11,12]),p=new Map([["AU",6],["CA",6],["DK",6],["DZ",6],["GE",6],["HU",6],["LT",6],["NO",6],["NP",6],["NZ",6],["PH",6],["PL",6],["SK",6],["TN",6],["US",6],["JP",8],["TW",8],["TH",8],["IQ",20],["KH",20],["MM",20],["UZ",20],["BA",22],["BG",22],["BY",22],["CY",22],["GR",22],["MD",22],["RS",22],["UA",22]])},749049:(e,t,i)=>{i.d(t,{O:()=>n});const n=e=>{switch(e){case 2:return 331;case 3:return 12631;default:return 72}}},72566:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(667294),a=i(883119),o=i(785893);class r extends n.Component{constructor(...e){var t,i,n;super(...e),n=e=>{e&&(this.searchRef=e)},(i="setSearchRef")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n}componentDidMount(){this.props.autoFocus&&this.searchRef.focus()}render(){const{accessibilityLabel:e,id:t,onBlur:i,onChange:n,onFocus:r,placeholder:s,value:l}=this.props;return(0,o.jsx)(a.Um,{accessibilityLabel:e,id:t,onBlur:i,onChange:n,onFocus:r,placeholder:s,ref:this.setSearchRef,size:"lg",value:l})}}},163321:(e,t,i)=>{i.d(t,{Z:()=>_,e:()=>p});var n=i(702664),a=i(240684),o=i(46584),r=i(131108),s=i(599997),l=i(883119),d=i(332611),c=i(785893);const u=(0,a.ZP)({resolved:{},chunkName:()=>"storyPins-duplo-HlsVideoContainer",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>i.e(19596).then(i.bind(i,881999)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve(){return 881999}}),p=Object.freeze({white:"inverse",black:"default"}),h={defaultOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"}};function m({titleText:e,videoPin:t,videoPlaceholderImage:i}){return(0,c.jsx)(u,{fallback:(0,c.jsx)(l.Ee,{alt:e||"",color:"rgb(111, 91, 77)",fit:"cover",naturalHeight:3,naturalWidth:2,src:i||t.metadata.thumbnail}),aspectRatio:s.q4,controls:!1,poster:i||t.metadata.thumbnail,src:t.url})}function _({buttonAction:e,buttonCustomization:t,buttonText:i,experience:a,hideCompleteButton:u,imageAlt:p,imageUrl:_,openNewTab:g,storyType:v,titleText:y,titleTextColor:f,titleTextCustomization:x,videoPin:b,videoPlaceholderImage:w}){var P;const S=(0,n.useDispatch)(),{experience_id:k,placement_id:I}=a||{},T=(0,o.Z)({onVisibilityChanged:e=>{e&&a&&"viewed"!==a.status&&(a.status="viewed",S((0,d.UT)(I,k,!1,!0)))}}),j=(0,s.zn)(v),C=j?r.f8:r.hm,A=j?r.sH:r.HI,E=!j,{color:R,fontStyle:D,fontWeight:L,horizontalAlignment:F,fontSize:O}=(0,s.Mf)(x||{},"mweb"),{button_background_color:z,button_text_color:N}=t||{};return(0,c.jsx)(l.xu,{position:"relative",padding:1,marginBottom:2,ref:T,children:(0,c.jsxs)(l.rU,{accessibilityLabel:y,href:e,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),a&&S((0,d.CK)(I,k,!1,!0))},target:g?"blank":null,children:[(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(150%)"}},position:"relative",children:(0,c.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},top:!0,right:!0,bottom:!0,left:!0,overflow:"hidden",position:"absolute",rounding:4,children:[(0,c.jsx)(l.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:"feed_card_video"===v&&b?(0,c.jsx)(m,{titleText:y,videoPin:b,videoPlaceholderImage:w}):_&&(0,c.jsx)(l.Ee,{alt:p||y||"",color:"rgb(111, 91, 77)",naturalHeight:4,naturalWidth:3,src:_,fit:"cover"})}),E&&(0,c.jsx)(l.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:h.defaultOverlay},position:"absolute",top:!0,left:!0}),(0,c.jsx)(C,{children:(0,c.jsx)(l.xv,{align:F,color:f,italic:"italics"===D,weight:L,children:(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{color:null!==(P=R||f)&&void 0!==P?P:void 0,fontSize:O}},children:y})})})]})}),!u&&(0,c.jsx)(A,{children:(0,c.jsx)(l.xu,{display:"flex",rounding:"pill",color:j?"default":"secondary",dangerouslySetInlineStyle:{__style:{backgroundColor:z}},justifyContent:"center",alignItems:"center",paddingX:2,height:48,children:(0,c.jsx)(l.xv,{weight:"bold",size:"200",lineClamp:1,children:(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{color:N}},children:i})})})})]})})}},954134:(e,t,i)=>{i.d(t,{Z:()=>p});var n=i(667294),a=i(702664),o=i(149230),r=i(894023),s=i(112690),l=i(861411),d=i(350118),c=i(883119),u=i(785893);function p({auxData:e,slotIndex:t,storyId:i,trafficSource:p,viewParameter:h,viewType:m}){const _=(0,s.Z)(),g=(0,d.AF)(),v=(0,a.useSelector)((({stories:e})=>e[i].objects.map((e=>g[e.id])))),y=(0,a.useSelector)((({stories:e})=>e[i])),{action:f,story_type:x,title:b}=y,w=v.map((({type:e,id:t})=>e+":"+t)).join("|"),P={story_type:x,story_id:i,content_ids:w,...e};return(0,u.jsx)(l.Hs,{loggingId:i,objectIdStr:i,viewParameter:h,viewType:m,slotIndex:t,component:200,auxData:P,children:(0,u.jsxs)(n.Fragment,{children:[b&&(0,u.jsx)(c.xu,{display:"flex",marginBottom:2,justifyContent:"center",alignItems:"center",children:(0,u.jsx)(c.xv,{weight:"bold",children:b.format})}),(0,u.jsx)(c.kC,{wrap:!0,children:v.map((e=>(0,u.jsx)(c.kC.Item,{flexBasis:"50%",maxWidth:"50%",children:(0,u.jsx)(r.default,{auxData:P,componentType:0,pinId:e.id,slotIndex:t,trafficSource:p,viewParameter:h,viewType:m})},e.id)))}),f&&f.url&&(0,u.jsx)(c.xu,{display:"flex",width:"100%",justifyContent:"center",marginTop:1,children:(0,u.jsx)(c.zx,{role:"link",accessibilityLabel:f.text,color:"gray",onClick:()=>{_({view_type:m,view_parameter:h,aux_data:P,event_type:102})},text:f.text,href:f.url,rel:(0,o.Z)(f.url)?"nofollow":void 0,target:(0,o.Z)(f.url)?"blank":void 0,size:"md"})})]})})}},635225:(e,t,i)=>{i.d(t,{Z:()=>Be});var n=i(667294),a=i(702664),o=i(598615),r=i(445345),s=i(819764),l=i(898781),d=i(844974),c=i(773285),u=i(780280),p=i(883119),h=i(785893);function m(){const e=(0,l.ZP)(),{checkExperiment:t}=(0,c.F)(),{locale:i,userAgent:{platform:a}}=(0,u.B)();(0,n.useEffect)((()=>{"enabled_no_double"===t("mweb_hf_story_app_upsell2").group&&(0,d.Nh)("appUpsell",Date.now())}),[]);const m="ios"===a;return(0,h.jsxs)(p.xu,{color:"infoBase",marginBottom:5,marginStart:2,marginEnd:2,marginTop:3,padding:3,rounding:2,children:[(0,h.jsx)(p.xv,{color:"inverse",weight:"bold",children:m?e.bt(" Pinterest  iPhone   ", "Pinterest works best if you switch to our iPhone app", "app upsell", undefined, true):e.bt(" Pinterest  Android   ", "Pinterest works best if you switch to our Android app", "app upsell", undefined, true)}),(0,h.jsx)(p.xu,{marginTop:3,children:(0,h.jsx)(o.Z,{componentType:14159,within:"app-upsell-story",children:({handleOpenApp:e})=>(0,h.jsx)(p.iP,{onTap:()=>e({deepLinkUri:"/"}),children:m?(0,h.jsx)(s.Z,{locale:i}):(0,h.jsx)(r.Z,{locale:i})})})})]})}var _=i(116303),g=i(46584),v=i(792182),y=i(407043),f=i(599997),x=i(332611);function b({isFullWidth:e,actionType:t,buttonAction:i,buttonText:n,experience:o,hideCompleteButton:r,imageAlt:s,imageUrl:l,openNewTab:d,avatarImageDetails:c,examplePinImage:u,titleText:m,titleTextColor:b,titleTextCustomization:w,descriptionText:P,descriptionTextCustomization:S}){var k,I;const{logContextEvent:T}=(0,y.v)(),j=(e=>0===e?3833:1===e?3834:2===e?3835:null)(t),C=(0,a.useDispatch)(),{experience_id:A,placement_id:E}=o||{},R=(0,g.Z)({onVisibilityChanged:e=>{e&&o&&"viewed"!==o.status&&(o.status="viewed",T({event_type:13,view_type:604,view_parameter:j}),C((0,x.UT)(E,A,!1,!0)))}}),D=()=>{o&&(T({event_type:102,view_type:604,view_parameter:j}),C((0,x.CK)(E,A,!1,!0)))},{width:L}=(0,v.Z)()||{width:8},F=L-8,O=(0,f.IA)(L),z=F*O,N=O===f.LX||O===f.Ec,{url:M,full_name:Z}=c||{},U=z*f.l0,{url:B}=u,V=B?z*f.l0:0,H=B?f.ml*V:0,{color:W,fontStyle:$,fontWeight:K,horizontalAlignment:G,fontSize:q}=(0,f.Mf)(w||{},"mweb"),{color:Y,fontStyle:J,fontWeight:X,horizontalAlignment:Q,fontSize:ee}=(0,f.Mf)(S||{},"mweb");return(0,h.jsx)(p.xu,{position:"relative",padding:1,marginBottom:2,ref:R,children:(0,h.jsxs)(p.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},color:e?"default":"education",paddingX:e?0:3,paddingY:e?0:6,position:"relative",rounding:4,children:[e&&l&&(0,h.jsx)(p.xu,{height:z,width:F,children:(0,h.jsx)(p.Ee,{alt:s||m||"",color:"rgb(111, 91, 77)",naturalHeight:z,naturalWidth:F,src:l,fit:"cover",children:(0,h.jsx)(p.xu,{paddingY:M?12:3,children:(0,h.jsxs)(p.kC,{direction:"column",gap:2,alignItems:"center",flex:"grow",width:"100%",justifyContent:"center",children:[Z&&M&&(0,h.jsx)(p.xu,{height:U,width:U,children:(0,h.jsx)(_.Z,{name:Z,src:M,size:"fit"})}),u&&B&&(0,h.jsx)(p.xu,{paddingY:4,children:(0,h.jsx)(p.zd,{height:V,width:H,rounding:4,children:(0,h.jsx)(p.Ee,{alt:"Your first saved Pin",naturalHeight:V,naturalWidth:H,src:B,fit:"cover"})})}),(0,h.jsx)(p.xv,{align:G,color:b,italic:"italics"===$,weight:K,children:(0,h.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{color:null!==(k=W||b)&&void 0!==k?k:void 0,fontSize:N?f.SF:q}},children:m})}),(0,h.jsx)(p.xv,{align:Q,italic:"italics"===J,weight:X,children:(0,h.jsx)(p.xu,{paddingY:N?3:1,paddingX:12,dangerouslySetInlineStyle:{__style:{color:null!=Y?Y:void 0,fontSize:N?f._e:ee}},children:P})}),!r&&(0,h.jsx)(p.xu,{paddingY:N?2:1,children:(0,h.jsx)(p.zx,{accessibilityLabel:n,color:"white",fullWidth:!0,text:n,size:"lg",role:"link",href:i,target:d?"blank":null,onClick:D})})]})})})}),!e&&(0,h.jsxs)(p.kC,{direction:"column",gap:2,alignItems:"center",flex:"grow",width:"100%",justifyContent:"center",children:[(0,h.jsx)(p.xv,{align:G,color:b,italic:"italics"===$,weight:K,children:(0,h.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{color:null!==(I=W||b)&&void 0!==I?I:void 0,fontSize:q}},children:m})}),P&&S&&(0,h.jsx)(p.xu,{paddingY:2,children:(0,h.jsx)(p.xv,{align:Q,italic:"italics"===J,weight:X,children:(0,h.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{color:null!=Y?Y:void 0,fontSize:ee}},children:P})})}),!r&&(0,h.jsx)(p.kC.Item,{alignSelf:"stretch",children:(0,h.jsx)(p.xu,{paddingY:1,marginTop:4,children:(0,h.jsx)(p.zx,{accessibilityLabel:n,color:"white",fullWidth:!0,text:n,size:"lg",role:"link",href:i,target:d?"blank":null,onClick:D})})})]})]})})}var w=i(57791),P=i(698330);const S={defaultOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"}};function k({buttonAction:e,buttonText:t,imageUrl:i,brands:n}){const a=(0,P.kW)(),o=n.slice(0,3).map((e=>{var t,i;return{name:null!==(t=a[e.id].username)&&void 0!==t?t:"",src:null!==(i=a[e.id].image_medium_url)&&void 0!==i?i:""}}));return(0,h.jsx)(p.xu,{position:"relative",padding:1,marginBottom:2,children:(0,h.jsxs)(w.MZ,{to:e,children:[(0,h.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},position:"relative",children:(0,h.jsxs)(p.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},top:!0,right:!0,bottom:!0,left:!0,overflow:"hidden",position:"absolute",rounding:4,children:[(0,h.jsx)(p.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:i&&(0,h.jsx)(p.Ee,{alt:t,color:"rgb(111, 91, 77)",naturalHeight:1,naturalWidth:1,src:i,fit:"cover"})}),(0,h.jsx)(p.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:S.defaultOverlay},position:"absolute",top:!0,left:!0}),(0,h.jsx)(p.xu,{width:"100%",position:"absolute",bottom:!0,paddingY:6,display:"flex",justifyContent:"center",children:(0,h.jsx)(p.xu,{width:24*(2*o.length+1),height:64,children:(0,h.jsx)(p.HE,{accessibilityLabel:"",collaborators:o})})})]})}),(0,h.jsx)(p.xu,{"aria-hidden":"true",width:"100%",display:"flex",rounding:"pill",color:"secondary",justifyContent:"center",alignItems:"center",paddingX:2,height:48,marginTop:2,children:(0,h.jsx)(p.xv,{weight:"bold",children:(0,h.jsx)(p.xu,{children:t})})})]})})}var I=i(368156),T=i(995389),j=i(350118);const C="49.5%";function A({buttonAction:e,buttonText:t,colors:i}){const n=(0,j.S6)(),a=i.slice(0,4).map((e=>{var t,i,a;return{...null===(t=n(e.id))||void 0===t||null===(i=t.images)||void 0===i?void 0:i["736x"],title:null===(a=n(e.id))||void 0===a?void 0:a.description}}));if(i.length<4)return null;const o=e=>{var t,i,n,a;return(0,h.jsx)(p.xu,{width:C,height:"100%",children:(0,h.jsx)(p.Ee,{alt:null!==(t=e.title)&&void 0!==t?t:"",color:"rgb(111, 91, 77)",naturalHeight:null!==(i=e.height)&&void 0!==i?i:1,naturalWidth:null!==(n=e.width)&&void 0!==n?n:1,src:null!==(a=e.url)&&void 0!==a?a:"",fit:"cover"})})};return(0,h.jsx)(p.xu,{position:"relative",padding:1,marginBottom:2,children:(0,h.jsxs)(w.MZ,{to:e,children:[(0,h.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},position:"relative",children:(0,h.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},top:!0,right:!0,bottom:!0,left:!0,overflow:"hidden",position:"absolute",rounding:4,children:(0,h.jsx)(p.xu,{height:"100%",width:"100%",rounding:4,direction:"column",display:"flex",justifyContent:"between",children:[a.slice(0,2),a.slice(2,4)].map((e=>(0,h.jsx)(p.kC,{width:"100%",height:C,justifyContent:"between",children:e.map(o)})))})})}),(0,h.jsx)(p.xu,{width:"100%",display:"flex",rounding:"pill",color:"secondary",justifyContent:"center",alignItems:"center",paddingX:2,height:48,marginTop:2,children:(0,h.jsx)(p.xv,{weight:"bold",children:(0,h.jsx)(p.xu,{children:t})})})]})})}const E=(0,a.connect)((({pins:e},t)=>({pin:e[t.pinId]})),(()=>({})))((({isFirstChild:e,pin:t})=>{var i;if(!t)return null;const n=null===(i=t.images)||void 0===i?void 0:i["170x"];if(!n)return null;const a=t.pinner,{full_name:o,image_medium_url:r}=a||{},{dominant_color:s}=t,{height:l,width:d,url:c}=n;return(0,h.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{paddingRight:8,paddingLeft:e?8:void 0}},children:(0,h.jsxs)(p.xu,{position:"relative",children:[(0,h.jsx)(p.xu,{height:144,overflow:"hidden",rounding:4,width:108,children:(0,h.jsx)(p.Ee,{alt:t.title||"",color:null!=s?s:"",fit:"cover",naturalHeight:null!=l?l:1,naturalWidth:null!=d?d:1,src:null!=c?c:""})}),r&&(0,h.jsx)(p.xu,{alignItems:"center",bottom:!0,display:"flex",height:0,justifyContent:"center",left:!0,position:"absolute",right:!0,children:(0,h.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{border:"1px solid white"}},height:60,rounding:"circle",width:60,children:(0,h.jsx)(_.Z,{name:null!=o?o:"",src:r})})})]})})}));function R({pinIds:e}){const t=e.concat(e).concat(e).concat(e);return(0,h.jsx)(p.xu,{height:174,overflow:"hidden",width:"100%",children:(0,h.jsx)(p.xu,{overflow:"scroll",children:(0,h.jsx)(p.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",height:184,children:t.map(((e,t)=>(0,h.jsx)(E,{pinId:e,isFirstChild:0===t},e)))})})})}var D=i(63552),L=i(112690),F=i(861411);const O="creator_spotlight_";function z({id:e}){const t=(0,L.Z)(),i=(0,a.useSelector)((({stories:t})=>t[e]));if(!i||"social_seasonal_pin"===i.story_type)return null;const{button_text:n,objects:o,story_type:r,subtitle:s,title:l,background_colour:d,display_options:c}=i,{title_text_color:u,subtitle_text_color:m}=c;if(!r.startsWith(O)||!o||o.length<3)return null;const _=`/creator-spotlight/${r.slice(O.length)}`;return(0,h.jsx)(p.xu,{marginBottom:3,children:(0,h.jsx)(F.Hs,{loggingId:e,objectIdStr:e,viewParameter:43,viewType:2,slotIndex:0,component:13484,auxData:{story_type:r},children:(0,h.jsx)(p.iP,{onTap:()=>{t({view_type:2,view_parameter:43,component:13484,object_id_str:e,aux_data:{story_type:r},event_type:102})},tapStyle:"none",role:"link",href:_,rounding:2,children:(0,h.jsx)(p.xu,{rounding:2,overflow:"hidden",display:"flex",dangerouslySetInlineStyle:{__style:{backgroundColor:d}},children:(0,h.jsx)(p.xu,{width:"100%",height:"100%",children:(0,h.jsxs)(p.xu,{alignItems:"center",direction:"column",display:"flex",height:"100%",justifyContent:"between",paddingY:4,children:[(!!s||!!l)&&(0,h.jsxs)(p.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:[l&&l.format&&(0,h.jsx)(p.X6,{size:"400",children:(0,h.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{color:u}},children:l.format})}),s&&s.format&&(0,h.jsx)(p.xv,{align:"center",children:(0,h.jsx)(p.xu,{marginTop:1,dangerouslySetInlineStyle:{__style:{color:m}},children:s.format})})]}),(0,h.jsx)(p.xu,{paddingY:2,marginTop:2,width:"100%",children:(0,h.jsx)(R,{pinIds:o.map((e=>e.id))})}),n&&n.format&&(0,h.jsx)(p.xu,{display:"inlineBlock",children:(0,h.jsx)(D.Z,{pressState:"compress",children:(0,h.jsx)(p.xu,{color:"primary",rounding:"pill",position:"relative",children:(0,h.jsx)(p.xu,{paddingX:5,paddingY:5,children:(0,h.jsx)(p.xv,{color:"inverse",weight:"bold",children:n.format})})})})})]})})})})})})}var N=i(319915),M=i(121093),Z=i(19121),U=i(276775);function B({pin:e,width:t,height:i,showDivider:n}){var a,o,r,s,l,d,c;const u=null===(a=e.images)||void 0===a?void 0:a["236x"];return(0,h.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:n?{borderRight:"2px solid #fff"}:{}},children:(0,h.jsx)(p.GH,{contentAspectRatio:(null!==(o=null==u?void 0:u.width)&&void 0!==o?o:1)/(null!==(r=null==u?void 0:u.height)&&void 0!==r?r:1),height:i,width:t,children:(0,h.jsx)(p.Ee,{alt:null!==(s=e.description)&&void 0!==s?s:"",naturalWidth:null!==(l=null==u?void 0:u.width)&&void 0!==l?l:1,naturalHeight:null!==(d=null==u?void 0:u.height)&&void 0!==d?d:1,src:null!==(c=null==u?void 0:u.url)&&void 0!==c?c:""})})})}function V({storyId:e,slotIndex:t}){const i=(0,U.useHistory)(),o=(0,U.useLocation)(),{isAuth:r}=(0,Z.Z)(),{checkExperiment:s}=(0,c.F)(),[l,d]=(0,n.useState)(0),u=(0,n.useRef)(),m=(0,L.Z)();(0,n.useLayoutEffect)((()=>{const e=u.current;e&&d(e.offsetWidth)}),[]);const _=(0,a.useSelector)((({stories:t})=>t[e])),g=(0,a.useSelector)((({pins:e})=>_.objects.map((t=>e[t.id])))).slice(0,2),{story_type:v,action:y}=_,f=`${o.pathname}products/${o.search}`,x=()=>{m({component:200,event_type:102,view_parameter:3050,view_type:72}),i.push(f)};return s(r?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,h.jsx)(F.qS,{auxData:{story_type:v,content_ids:g.map((e=>e.id)),story_id:e},component:200,loggingId:e,objectIdStr:e,slotIndex:t,viewParameter:3050,viewType:72,children:({impressionTrackerRef:e})=>l?(0,h.jsx)(p.xu,{padding:2,ref:e,children:(0,h.jsx)(p.zd,{rounding:2,children:(0,h.jsxs)(p.iP,{onTap:x,children:[(0,h.jsx)(p.xu,{display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:g.map(((e,t)=>(0,h.jsx)(B,{pin:e,width:(l-16)/2-1,height:l-16,showDivider:!t},e.id)))}),(0,h.jsx)(p.xu,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",children:(0,h.jsx)(p.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,h.jsx)(p.xu,{rounding:"pill",paddingX:4,paddingY:2,display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:(0,h.jsx)(p.xv,{weight:"bold",children:y.text})})})})]})})}):(0,h.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative"})}):(0,h.jsx)(F.Hs,{auxData:{story_type:v,content_ids:g.map((e=>e.id)),story_id:e},component:200,loggingId:e,objectIdStr:e,slotIndex:t,viewParameter:3050,viewType:72,children:l?(0,h.jsx)(p.xu,{padding:2,children:(0,h.jsx)(p.zd,{rounding:2,children:(0,h.jsxs)(p.iP,{onTap:x,children:[(0,h.jsx)(p.xu,{display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:g.map(((e,t)=>(0,h.jsx)(B,{pin:e,width:(l-16)/2-1,height:l-16,showDivider:!t},e.id)))}),(0,h.jsx)(p.xu,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",children:(0,h.jsx)(p.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,h.jsx)(p.xu,{rounding:"pill",paddingX:4,paddingY:2,display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:(0,h.jsx)(p.xv,{weight:"bold",children:y.text})})})})]})})}):(0,h.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative",ref:u})})}var H=i(131230),W=i(954134),$=i(687866);const K=["shop_tab_upsell","user_style_story_v2"];function G({auxData:e,slotIndex:t,storyId:i,storyType:n,trafficSource:o,viewParameter:r,viewType:s}){const l=(0,a.useSelector)((({stories:e})=>{var t;return null===(t=e[i].objects[0])||void 0===t?void 0:t.schema})),d=(0,a.useSelector)((({stories:e})=>{var t;return null===(t=e[i])||void 0===t?void 0:t.title}));if(K.includes(n))return(0,h.jsx)(H.Z,{auxData:e,slotIndex:t,storyId:i,storyType:n,viewParameter:r,viewType:s});switch(l){case"pin":return(0,h.jsx)(W.Z,{auxData:e,slotIndex:t,storyId:i,trafficSource:o,viewParameter:r,viewType:s});case"article":return(0,h.jsx)(I.Z,{auxData:e,pattern:[$.UG.extra_small],slotIndex:t,storyId:i,viewParameter:r,viewType:s});default:return d&&(0,h.jsx)(p.xu,{display:"flex",marginBottom:2,justifyContent:"center",alignItems:"center",children:(0,h.jsx)(p.xv,{weight:"bold",children:d.format})})}}var q=i(700398),Y=i(491563);function J({slotIndex:e,storyId:t,exactMatch:i=!1}){const{isAuth:o}=(0,Z.Z)(),{checkExperiment:r}=(0,c.F)(),s=(0,j.S6)(),{action:l,aux_fields:d,objects:u,story_type:m,title:_}=(0,a.useSelector)((({stories:e})=>e[t])),g=u[0].id,v=u.slice(1,3).map((({id:e})=>s(e)));return!i&&v.length<2?null:r(o?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,h.jsx)(F.qS,{auxData:{content_ids:v.map((e=>null==e?void 0:e.id)),story_id:t,story_type:m,...d},component:200,loggingId:t,objectIdStr:t,slotIndex:e,viewParameter:43,viewType:2,children:({impressionTrackerRef:e})=>(0,h.jsxs)(p.xu,{ref:e,children:[_&&(0,h.jsx)(p.xu,{paddingY:1,marginTop:2,children:(0,h.jsx)(p.xv,{align:"center",children:_.format})}),(0,h.jsx)(Y.Z,{action:l,auxData:d,isPinnerAuthorityHero:i,userId:g,userPins:i?void 0:v,userSearchRepStyle:i,viewParameter:43,viewType:2})]})}):(0,h.jsx)(F.Hs,{auxData:{content_ids:v.map((e=>null==e?void 0:e.id)),story_id:t,story_type:m,...d},component:200,loggingId:t,objectIdStr:t,slotIndex:e,viewParameter:43,viewType:2,children:(0,h.jsxs)(n.Fragment,{children:[_&&(0,h.jsx)(p.xu,{paddingY:1,marginTop:2,children:(0,h.jsx)(p.xv,{align:"center",children:_.format})}),(0,h.jsx)(Y.Z,{action:l,auxData:d,isPinnerAuthorityHero:i,userId:g,userPins:i?void 0:v,userSearchRepStyle:i,viewParameter:43,viewType:2})]})})}var X=i(947599),Q=i(962551),ee=i(826067);const te=["#CFFFCA","#D7EDFF","#DAD4FF","#DAFFF6","#FFE2EB","#FFE4C1","#FFFD92"],ie=e=>te[e.charCodeAt(0)%te.length];function ne({guides:e,storyId:t,slotIndex:i,title:a}){var o;const{isAuth:r}=(0,Z.Z)(),{checkExperiment:s}=(0,c.F)(),l=null!==(o=(0,ee.mB)((0,U.useLocation)().search).q)&&void 0!==o?o:"";return s(r?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,h.jsx)(F.qS,{auxData:{story_type:"search_guides"},component:200,loggingId:t,objectIdStr:t,slotIndex:i,viewParameter:43,viewType:2,children:({impressionTrackerRef:t})=>(0,h.jsxs)(p.xu,{ref:t,children:[a&&a.format&&(0,h.jsx)(p.xu,{paddingY:1,marginTop:2,children:(0,h.jsx)(p.xv,{align:"center",children:a.format})}),(0,h.jsx)(Q.Z,{guides:e.map((e=>({display:e.display,dominant_color:ie(e.display),position:-1,term:e.term}))),isSlot0Style:!0,query:l})]})}):(0,h.jsx)(F.Hs,{auxData:{story_type:"search_guides"},component:200,loggingId:t,objectIdStr:t,slotIndex:i,viewParameter:43,viewType:2,children:(0,h.jsxs)(n.Fragment,{children:[a&&a.format&&(0,h.jsx)(p.xu,{paddingY:1,marginTop:2,children:(0,h.jsx)(p.xv,{align:"center",children:a.format})}),(0,h.jsx)(Q.Z,{guides:e.map((e=>({display:e.display,dominant_color:ie(e.display),position:-1,term:e.term}))),isSlot0Style:!0,query:l})]})})}class ae extends n.PureComponent{render(){const{seasonalBlob:e,size:t}=this.props,{story_title:i,pin_image:n,pin_image_gif:a,user_name:o,board_name:r,header_background_color:s,textIconColor:l}=e,d=s||"orchid",c=this.props.i18n.bt("", "Take a look", "Button text asking users to take a look at Seasonal pages", undefined, true),u=o&&r?`/${o}/${r}`:"/pinterestindonesia/happy-halloween/",m=i||"unknown",_=a||n||"",g=l||"white";return(0,h.jsx)(p.zd,{rounding:2,children:(0,h.jsx)(p.xu,{padding:3,children:(0,h.jsx)(w.MZ,{to:u,isAppUpsellDisabled:!0,onTouch:()=>{},children:(0,h.jsx)(p.xu,{children:(0,h.jsx)(p.xu,{display:"flex",margin:-1,height:t,children:(0,h.jsx)(p.xu,{width:"100%",children:(0,h.jsxs)(p.zd,{rounding:2,height:"100%",children:[(0,h.jsx)(p.xu,{height:t,children:(0,h.jsx)(p.Ee,{alt:m,color:d,fit:"cover",naturalHeight:1,naturalWidth:1,src:_})}),(0,h.jsx)(p.xu,{height:t,position:"absolute",top:!0,left:!0}),(0,h.jsx)(p.xu,{position:"absolute",top:!0,left:!0,right:!0,overflow:"hidden",paddingX:2,paddingY:4,dangerouslySetInlineStyle:{__style:{lineHeight:"19px"}},children:(0,h.jsx)(p.xv,{color:g,weight:"bold",children:m})}),(0,h.jsx)(p.xu,{position:"absolute",bottom:!0,left:!0,right:!0,padding:2,marginStart:"auto",marginEnd:"auto",children:(0,h.jsx)(p.zx,{fullWidth:!0,size:"sm",text:c})})]})})})})})})})}}const oe=(0,a.connect)((({stories:e},t)=>({seasonalBlob:e[t.storyId].custom_properties,storyType:e[t.storyId].story_type,referringSource:e[t.storyId].referring_source})),(()=>({})))((function(e){const t=(0,l.ZP)();return(0,h.jsx)(ae,{...e,i18n:t})}));var re=i(502962);function se({storyId:e,viewParameter:t,viewType:i}){const o=(0,L.Z)(),r=(0,a.useSelector)((({stories:t})=>t[e])),s=(0,a.useSelector)((({session:e})=>e.isTablet)),l=r.objects;return(0,n.useEffect)((()=>{o({event_type:9024,view_type:i,view_parameter:t})}),[]),r?(0,h.jsxs)(n.Fragment,{children:[(0,h.jsx)(p.iz,{}),(0,h.jsxs)(p.xu,{paddingY:1,children:[(0,h.jsx)(p.xu,{paddingY:2,marginTop:3,children:(0,h.jsx)(p.X6,{align:"center",size:"400",children:r.title.format})}),1===l.length?(0,h.jsx)(p.xu,{width:s?400:"auto",paddingY:2,margin:"auto",children:(0,h.jsx)(re.Z,{id:l[0].id,gridIndex:0,viewParameter:t,viewType:i})}):(0,h.jsx)(p.xu,{overflow:"auto",children:(0,h.jsx)(p.kC,{alignItems:"stretch",justifyContent:"start",width:"fit-content",children:l.map(((e,n)=>(0,h.jsx)(p.xu,{width:s?400:"80vw",marginStart:0===n?0:2,paddingY:2,children:(0,h.jsx)(re.Z,{id:e.id,gridIndex:n,viewParameter:t,viewType:i})},e.id)))})})]})]}):null}var le=i(938917),de=i(574724);const ce=(0,a.connect)((({pins:e},t)=>({pin:e[t.pinId]})),(()=>({})))((({pin:e})=>{var t;if(!e)return null;const i=e.images&&(e.images.orig||e.images["736x"]||e.images["290x"]||e.images["236x"]);return(0,h.jsx)(p.zd,{wash:!0,height:ye,width:ye,children:(0,h.jsx)(p.xu,{height:ye,position:"relative",width:ye,children:(0,h.jsx)(p.Ee,{alt:e.description||"",src:null!==(t=null==i?void 0:i.url)&&void 0!==t?t:"",fit:"cover",naturalHeight:1,naturalWidth:1,color:e.dominant_color||"#767676"})})})}));var ue=i(886076),pe=i(830157),he=i(62409),me=i(349700),_e=i(643010);function ge({pinId:e,shouldRoundPrice:t,showSalePrice:i}){const n=(0,j.S6)()(e);if(!n)return null;const{link_domain:a,rich_metadata:o,rich_summary:r}=n||{},s=(0,he.kb)(a,o,r);if(!s||!s.price)return null;const l=s.price||s.max_price,d=s.standard_price,c=/^(\$\d+)(\.?\d\d)*$/g,u=d&&c.exec(d),m=c.exec(l),_=(0,_e.Yc)()?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.8)",g=(0,_e.Yc)()?"light":"dark";return(0,h.jsxs)(p.xu,{rounding:"pill",paddingX:2,paddingY:0,dangerouslySetInlineStyle:{__style:{backgroundColor:_,paddingTop:"3px",paddingBottom:"3px"}},"data-test-id":"MwebPricePill",display:"inlineBlock",children:[i&&u&&(0,h.jsxs)(p.xv,{align:"center",size:"100",weight:"bold",color:"subtle",inline:!0,children:[(0,h.jsx)("s",{children:(0,me.nk)("{{ priceRounded }}",{priceRounded:u[1]})})," "]}),(0,h.jsx)(p.xv,{align:"center",size:"100",weight:"bold",color:g,inline:!0,children:(i&&d||t)&&m&&m[1]?(0,me.nk)("{{ priceRounded }}",{priceRounded:m[1]}):l})]})}var ve=i(512176);const ye=114;function fe({handleClick:e,isVerifiedMerchant:t,marginTop:i=12,pins:n,showVerifiedBadge:a,showVerifiedIdentityBadge:o,storyAction:r,storyType:s,title:l,viewParameter:d,trackingParams:c}){const{logContextEvent:u}=(0,y.v)(),m=(0,U.useHistory)(),{text:_}=r||{};return(0,h.jsxs)(p.xu,{marginTop:i,"data-test-id":"lego-closeup-related-module-contents",width:"100%",children:[l&&(0,h.jsxs)(p.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:4,children:[(0,h.jsx)(p.xv,{weight:"bold",children:l}),a&&(0,h.jsx)(p.xu,{marginStart:1,children:(0,h.jsx)(ve.Z,{size:"sm",isVerifiedMerchant:t,showVerifiedIdentity:o})})]}),(0,h.jsx)(p.xu,{display:"flex",marginTop:4,justifyContent:"center",children:n.map(((e,t)=>(0,h.jsx)(F.GR,{viewType:3,loggingId:e.id,viewParameter:d,component:Ce[s],auxData:{commerce_data:(0,ue.Z)({isEligibleForPdp:e.is_eligible_for_pdp,isOosProduct:e.is_oos_product,isStaleProduct:e.is_stale_product,pinShoppingFlags:e.shopping_flags})},slotIndex:t,children:(0,h.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{willChange:"transform"}},display:"flex",marginEnd:2!==t?2:0,overflow:"hidden",position:"relative",rounding:4,width:ye,children:(0,h.jsxs)(p.iP,{onTap:()=>(e=>{const t=(0,pe.Z)(c,e.tracking_params);u({component:Ce[s],element:je[s],event_type:101,view_type:3,view_parameter:d,object_id_str:e.id,clientTrackingParams:t,aux_data:{closeup_navigation_type:"click",commerce_data:(0,ue.Z)({isEligibleForPdp:e.is_eligible_for_pdp,isOosProduct:e.is_oos_product,isStaleProduct:e.is_stale_product,pinShoppingFlags:e.shopping_flags}),cosmic_ray_count:"5",image_signature:e.image_signature}}),u({component:13680,event_type:101,view_type:3,view_parameter:d,aux_data:{commerce_data:(0,ue.Z)({isEligibleForPdp:e.is_eligible_for_pdp,isOosProduct:e.is_oos_product,isStaleProduct:e.is_stale_product,pinShoppingFlags:e.shopping_flags})}}),m.push(`/pin/${e.id}/`,{trackingParams:c})})(e),children:[(0,h.jsx)(ce,{pinId:e.id}),(0,h.jsx)(p.xu,{position:"absolute",marginTop:2,marginStart:2,top:!0,children:(0,h.jsx)(ge,{pinId:e.id,shouldRoundPrice:!0})})]})})},e.id)))}),_&&(0,h.jsx)(p.xu,{display:"flex",marginTop:4,marginBottom:4,justifyContent:"center",children:(0,h.jsx)(p.zx,{onClick:e,size:"lg",text:_})})]})}var xe=i(722767);function be({componentType:e,handleClick:t,isVerifiedMerchant:i,marginTop:a,objects:o,showVerifiedBadge:r,showVerifiedIdentityBadge:s,storyAction:l,storyType:d,title:c,viewParameter:u,trackingParams:p}){const[m,_]=(0,n.useState)(!1),g=(0,L.Z)();if(!o||!Array.isArray(o))return null;const v=o.filter((e=>"pin"===e.schema));if(v.length<3)return null;const y=Array.from(new Array(3)).map(((e,t)=>v[t]));return(0,h.jsx)(xe.Z,{options:{threshold:0},onVisibilityChange:t=>{const{intersectionRatio:i}=t[0];i>0&&!m&&(g({event_type:3400,view_type:3,view_parameter:u,component:e}),_(!0))},children:(0,h.jsx)(fe,{handleClick:t,isVerifiedMerchant:i,marginTop:a,pins:y,showVerifiedBadge:r,showVerifiedIdentityBadge:s,storyAction:l,storyType:d,title:c,viewParameter:u,trackingParams:p})})}var we=i(982828);const Pe=()=>{};function Se({marginTop:e=12,onRelatedPinsTitleEnter:t,onRelatedPinsTitleExit:i,onRelatedPinsInView:a,title:o}){return o?(0,h.jsx)(n.Fragment,{children:(0,h.jsx)(p.xu,{marginTop:e,marginBottom:2,children:(0,h.jsx)(we.Z,{onEnter:t||Pe,onExit:i||Pe,onView:a||Pe,children:(0,h.jsx)(p.xv,{size:"300",align:"center",weight:"bold",children:o})})})}):null}var ke,Ie=i(167912);const Te=["related_domain_collage","related_modules_header","related_products_collage","related_products_feed_header"],je={related_domain_collage:11830,related_domain_collage_similar:11829},Ce={related_domain_collage:13327,related_domain_collage_similar:13882,related_products_collage:13176,related_products_feed_header:13176},Ae=void 0!==ke?ke:ke=i(833045);function Ee(e){const{marginTop:t,onRelatedPinsTitleEnter:i,onRelatedPinsTitleExit:o,onRelatedPinsInView:r,pinId:s,searchQuery:l,slotIndex:d,storyId:u,trafficSource:m,viewType:_,viewParameter:g,isEligibleForPdp:v,isOosProduct:f,isStaleProduct:x,pinShoppingFlags:b,pinLinkDomainOfficialUserIsVerifiedMerchant:w,pinLinkDomainOfficialUserVerifiedIdentityVerified:P,hasPin:S}=e,{logContextEvent:k}=(0,y.v)(),{isAuth:I}=(0,Z.Z)(),{checkExperiment:T}=(0,c.F)(),j=(0,U.useHistory)(),C=v,A=(0,n.useMemo)((()=>C?8:0===t||t?t:12),[t,C]),E=(0,a.useSelector)((({stories:e})=>e[u]));if(!E)return null;const{action:R,content_ids:D,objects:L,story_type:O,title:{format:z},tracking_params:N}=E,M=Ce[O];if("related_modules_header"===O||"related_products_feed_header"===O)return T(I?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,h.jsx)(F.qS,{auxData:{story_id:u,story_type:O},loggingId:u,objectIdStr:u,slotIndex:d,viewParameter:g,viewType:_,component:M,children:({impressionTrackerRef:e})=>(0,h.jsx)(p.xu,{ref:e,children:(0,h.jsx)(Se,{marginTop:A,onRelatedPinsTitleEnter:i,onRelatedPinsTitleExit:o,onRelatedPinsInView:r,title:z})})}):(0,h.jsx)(F.Hs,{auxData:{story_id:u,story_type:O},loggingId:u,objectIdStr:u,slotIndex:d,viewParameter:g,viewType:_,component:M,children:(0,h.jsx)(Se,{marginTop:A,onRelatedPinsTitleEnter:i,onRelatedPinsTitleExit:o,onRelatedPinsInView:r,title:z})});const{url:B}=R||{};if(!S||!s||!B)return null;const V=function(e,t){const i=e?`q=${e}`:null,n=t&&"unknown"!==t?`rs=${t}`:null;let a="";return i&&n?a=`?${i}&${n}`:!i&&n&&(a=`?${n}`),a}(l,m);let H=`${B}${V}`;"related_products_collage"===O&&(H=V?`/pin/${s}/visual-search/${V}source=shopping&tab=1`:`/pin/${s}/visual-search/?source=shopping&tab=1`);const W=(D||[]).map((e=>`pin:${e}`)).join("|"),$=()=>{const e="related_domain_collage"===O?"related_domain_collage_similar":O;k({aux_data:{content_ids:W,story_id:u,story_type:O},component:Ce[e],element:je[e],event_type:101,object_id_str:s,view_type:3,view_parameter:g}),k({aux_data:{commerce_data:(0,ue.Z)({isEligibleForPdp:v,isOosProduct:f,isStaleProduct:x,pinShoppingFlags:b})},component:13680,event_type:101,object_id_str:s,view_type:3,view_parameter:g}),j.push(H)};let K,G;return"related_domain_collage"===O&&(K=w,G=P),T(I?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,h.jsx)(F.qS,{auxData:{content_ids:W,story_id:u,story_type:O},component:M,loggingId:u,objectIdStr:u,slotIndex:d,viewParameter:g,viewType:_,children:({impressionTrackerRef:e})=>(0,h.jsx)(p.xu,{ref:e,children:(0,h.jsx)(be,{componentType:M,handleClick:$,isVerifiedMerchant:K,objects:L,showVerifiedBadge:K||G,showVerifiedIdentityBadge:!K&&G,storyAction:R,title:z,viewParameter:g,trackingParams:N,storyType:O,marginTop:A})})}):(0,h.jsx)(F.Hs,{auxData:{content_ids:W,story_id:u,story_type:O},component:M,loggingId:u,objectIdStr:u,slotIndex:d,viewParameter:g,viewType:_,children:(0,h.jsx)(be,{componentType:M,handleClick:$,isVerifiedMerchant:K,objects:L,showVerifiedBadge:K||G,showVerifiedIdentityBadge:!K&&G,storyAction:R,title:z,viewParameter:g,trackingParams:N,storyType:O,marginTop:A})})}function Re({pinGraphqlRef:e,...t}){var i,n;const a=(0,Ie.useFragment)(Ae,e),o=null===(i=a.linkDomain)||void 0===i?void 0:i.officialUser;return(0,h.jsx)(Ee,{isEligibleForPdp:a.isEligibleForPdp,isOosProduct:a.isOosProduct,isStaleProduct:a.isStaleProduct,pinShoppingFlags:a.shoppingFlags||void 0,pinLinkDomainOfficialUserIsVerifiedMerchant:(null==o?void 0:o.isVerifiedMerchant)||void 0,pinLinkDomainOfficialUserVerifiedIdentityVerified:(null==o||null===(n=o.verifiedIdentity)||void 0===n?void 0:n.verified)||void 0,hasPin:!!a,...t})}function De({pinId:e,...t}){var i,n;const a=(0,j.S6)()(e),o=null==a||null===(i=a.link_domain)||void 0===i?void 0:i.official_user;return(0,h.jsx)(Ee,{pinId:e,isEligibleForPdp:null==a?void 0:a.is_eligible_for_pdp,isOosProduct:null==a?void 0:a.is_oos_product,isStaleProduct:null==a?void 0:a.is_stale_product,pinShoppingFlags:null==a?void 0:a.shopping_flags,pinLinkDomainOfficialUserIsVerifiedMerchant:null==o?void 0:o.is_verified_merchant,pinLinkDomainOfficialUserVerifiedIdentityVerified:null==o||null===(n=o.verified_identity)||void 0===n?void 0:n.verified,hasPin:!!a,...t})}function Le({pinGraphqlRef:e,...t}){return e?(0,h.jsx)(Re,{pinGraphqlRef:e,...t}):(0,h.jsx)(De,{...t})}var Fe,Oe=i(163321);const ze=["shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2"],Ne=(0,n.lazy)((()=>i.e(93810).then(i.bind(i,896731)))),Me=void 0!==Fe?Fe:Fe=i(922275);function Ze({auxData:e,fullWidth:t,isMwebStructuredFeedExpEnabled:i,marginTop:n,onRelatedPinsTitleEnter:o,onRelatedPinsTitleExit:r,onRelatedPinsInView:s,pinId:l,slotIndex:d,storyData:c,storyId:u,trafficSource:_,viewParameter:g,viewType:v,pinGraphqlRef:y}){var f,x,w,P;const S=(0,a.useSelector)((({stories:e})=>e[u])),j=c||S,C=(0,le.Z)();if(!j||!j.story_type)return null;const{action:E,container_type:R,custom_properties:D,display_options:L,experience:F,story_type:O,title:Z,description:U,objects:B}=j;if(O===de.uQ&&D&&L){var H,W,$,K,Y;const{actionType:e,hide_complete_button:t,image_alt:i,image:n,open_new_tab:a,avatar_image_details:o,example_pin_image_details:r,title_text_customization:s,description_text_customization:l}=D,{num_columns_requested:d,title_text_color:c}=L;return(0,h.jsx)(b,{isFullWidth:2===d,actionType:e,buttonAction:null!==(H=null==E?void 0:E.url)&&void 0!==H?H:"",buttonText:null!==(W=null==E?void 0:E.text)&&void 0!==W?W:"",experience:F,hideCompleteButton:t,imageAlt:i,imageUrl:n,openNewTab:a,avatarImageDetails:null!=o?o:{},examplePinImage:null!==($=null==r?void 0:r.originals)&&void 0!==$?$:{},titleText:null!==(K=null==Z?void 0:Z.format)&&void 0!==K?K:"",titleTextColor:Oe.e[c],titleTextCustomization:s,descriptionText:null!==(Y=null==U?void 0:U.format)&&void 0!==Y?Y:"",descriptionTextCustomization:l})}if(t)return i&&(0,q.Z)(j.container_type)?(0,h.jsx)(p.xu,{marginBottom:5,children:(0,h.jsx)(N.Z,{name:"SafeSuspense_MobileApp_StructuredFeedStoryModule",children:(0,h.jsx)(X.Z,{children:(0,h.jsx)(Ne,{surface:"ShoppingDynamicHeightGrid",view:3,componentFallback:13176,viewParameter:g,initialSlotIndex:d,story:j})})})}):ze.includes(O)&&0===L.num_columns_requested?(0,h.jsx)(p.xu,{marginBottom:5,children:(0,h.jsx)(G,{auxData:e,slotIndex:d,storyId:u,storyType:O,trafficSource:_,viewParameter:g,viewType:v})}):O.startsWith("creator_spotlight_")?(0,h.jsx)(p.xu,{marginBottom:5,children:(0,h.jsx)(z,{id:u})}):Te.includes(O)&&l?(0,h.jsx)(Le,{onRelatedPinsTitleEnter:o,onRelatedPinsTitleExit:r,onRelatedPinsInView:s,pinId:l,storyId:u,slotIndex:d,viewParameter:g,viewType:v,marginTop:n,pinGraphqlRef:y}):O.startsWith("related_articles")?(0,h.jsx)(se,{storyId:u,viewType:v,viewParameter:g}):O.startsWith("SKIN_TONE_FILTER_QUERIES")?(0,h.jsx)(T.Z,{title:Z}):O.startsWith("search_pinner_authority_hero")?(0,h.jsx)(J,{storyId:u,slotIndex:0,exactMatch:!0}):null;if(ze.includes(O)&&0===(null==L?void 0:L.num_columns_requested))return null;switch(R){case 56:return(0,h.jsx)(p.xu,{padding:2,children:(0,h.jsx)(I.Z,{slotIndex:d,storyId:u,viewType:v,viewParameter:g})})}switch(O){case"app_upsell":return C?(0,h.jsx)(M.Z,{experience:F,eligibleIds:[F.experience_id],children:(0,h.jsx)(m,{})}):null;case"feed_card_default":case"feed_card_video":var Q,ee,te;return(0,h.jsx)(Oe.Z,{buttonAction:null!==(Q=null==E?void 0:E.url)&&void 0!==Q?Q:"",buttonCustomization:D.button_customization,buttonText:null!==(ee=null==E?void 0:E.text)&&void 0!==ee?ee:"",experience:F,hideCompleteButton:D.hide_complete_button,imageAlt:D.image_alt,imageUrl:D.image,openNewTab:D.open_new_tab,storyType:O,titleText:null!==(te=null==Z?void 0:Z.format)&&void 0!==te?te:"",titleTextColor:Oe.e[L.title_text_color],titleTextCustomization:D.title_text_customization,videoPin:D.video_pin,videoPlaceholderImage:D.video_placeholder_image});case"user_brand_story":case"user_color_story":case"general_shopping_upsell":var ie,ae,re;return(0,h.jsx)(Oe.Z,{buttonAction:null!==(ie=null==E?void 0:E.url)&&void 0!==ie?ie:"",buttonText:null!==(ae=null==E?void 0:E.text)&&void 0!==ae?ae:"",imageAlt:null==D?void 0:D.image_alt,imageUrl:null==D?void 0:D.image,storyType:O,titleText:null!==(re=null==Z?void 0:Z.format)&&void 0!==re?re:"",titleTextColor:Oe.e[L.title_text_color]});case"user_brand_story_v1":return(0,h.jsx)(k,{buttonAction:null!==(f=null==E?void 0:E.url)&&void 0!==f?f:"",buttonText:null!==(x=null==E?void 0:E.text)&&void 0!==x?x:"",imageUrl:null==D?void 0:D.image,brands:B});case"user_color_story_v1":return(0,h.jsx)(A,{buttonAction:null!==(w=null==E?void 0:E.url)&&void 0!==w?w:"",buttonText:null!==(P=null==E?void 0:E.text)&&void 0!==P?P:"",colors:B});case"BUBBLE_ONE_COL":return(0,h.jsx)(p.xu,{padding:2,children:(0,h.jsx)(I.Z,{slotIndex:d,storyId:u,viewType:v,viewParameter:g})});case"social_seasonal_pin":return(0,h.jsx)(oe,{slotIndex:d,storyId:u,viewType:v,viewParameter:g,size:290});case"pinner_authority":case"pinner_authority_unified":return(0,h.jsx)(J,{storyId:u,slotIndex:d});case"stela_in_flashlight_onecol":return(0,h.jsx)(V,{storyId:u,slotIndex:d});case"search_guides":return(0,h.jsx)(ne,{guides:j.objects,slotIndex:d,storyId:u,title:Z});default:return null}}function Ue({pinGraphqlRef:e,...t}){const i=(0,Ie.useFragment)(Me,e);return(0,h.jsx)(Ze,{pinGraphqlRef:i,...t})}function Be({pinGraphqlRef:e,...t}){return e?(0,h.jsx)(Ue,{pinGraphqlRef:e,...t}):(0,h.jsx)(Ze,{pinGraphqlRef:null,...t})}},687866:(e,t,i)=>{i.d(t,{UG:()=>u,ZP:()=>h,aG:()=>p});var n=i(667294),a=i(116303),o=i(898781),r=i(52022),s=i(57791),l=i(940882),d=i(883119),c=i(785893);const u={large:"large",medium:"medium",small:"small",extra_small:"extra_small",article:"article",interest:"interest"},p={bubbleOverlay:{__style:{backgroundColor:"rgba(0, 0, 0, 0.3)"}}};function h({backgroundColor:e,bubbleId:t,bubbleUrl:i,coverImageUrl:h,curator:m,font:_,format:g,height:v,identifierIconType:y,onTap:f,pwtSurfaceContext:x,referringSource:b,subtitle:w,title:P,buttonFormat:S,contentAlign:k="center",textAlign:I="center",width:T="100%"}){const j=(0,o.ZP)(),C=(0,r.Z)(),[A,E]=(0,n.useState)("string"==typeof v?void 0:v),R=e=>{if(e){const t=e.offsetWidth,i="string"==typeof v?Number.parseFloat(v):100;E(t*i/100)}};if(!A)return(0,c.jsx)(d.xu,{ref:R,dangerouslySetInlineStyle:{__style:{paddingBottom:"string"==typeof v?Number.parseFloat(v)+"%":"100%",width:T}}});const D=g===u.article,L=g===u.interest,F=_||A>250&&"lg"||A>140&&g&&[u.medium,u.small,u.article].includes(g)&&"md"||A<120&&g&&g===u.small&&"xs"||"sm";return(0,c.jsx)(d.xu,{position:"relative","data-test-id":"search-suggestion","data-test-type":b,children:(0,c.jsx)(s.MZ,{to:i,isAppUpsellDisabled:!0,onTouch:()=>{f&&(C({action:"click",item:"search-suggestion"}),f(t))},rounding:4,children:(0,c.jsxs)(d.zd,{rounding:4,children:[(0,c.jsx)(d.xu,{width:T,height:A,children:h&&(0,c.jsx)(d.Ee,{alt:"",color:e,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:()=>{x&&x.markConstraintComplete("RenderSearchLandingPageBubbles")},role:"presentation",src:h})}),(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:p.bubbleOverlay,height:A,width:T,position:"absolute",top:!0,left:!0}),m&&!D&&(0,c.jsx)(d.xu,{position:"absolute",top:!0,left:!0,padding:2,children:(0,c.jsx)(a.Z,{outline:!0,size:"xs",src:m.image_small_url,name:m.full_name})}),!!y&&y!==l.J&&(0,c.jsx)(d.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24,children:(0,c.jsx)(d.JO,{icon:(0,l.Z)(y),accessibilityLabel:j.bt(" ", "Shopping icon", "bubble.shoppingIcon.label", undefined, true),color:"default",size:12})}),(0,c.jsx)(d.xu,{display:"flex",position:"absolute",top:!0,width:T,height:A,padding:D||L?6:A>100?3:1,alignItems:D||L?"end":"center",justifyContent:k,children:(0,c.jsxs)(d.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[w&&(0,c.jsx)(d.xv,{align:I,color:"light",size:"lg"===F?"300":"100",overflow:"normal",children:w}),["lg","md"].includes(F)?(0,c.jsx)(d.X6,{align:I,size:"md"===F&&L?"500":"lg"===F?"600":"400",color:"light",overflow:"normal",children:P}):(0,c.jsx)(d.xv,{align:I,color:"light",size:"sm"===F?"300":"100",overflow:"normal",weight:"bold",children:P}),m&&D&&(0,c.jsxs)(d.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4,children:[(0,c.jsx)(d.xu,{marginEnd:2,children:(0,c.jsx)(a.Z,{outline:!0,size:"xs",src:m.image_small_url,name:m.full_name})}),(0,c.jsx)(d.xv,{size:"100",color:"light",weight:"bold",children:m.full_name})]}),S&&(0,c.jsx)(d.xu,{marginTop:4,children:(0,c.jsx)(d.zx,{role:"link",text:S.text,href:S.href,size:S.size,accessibilityLabel:S.accessibilityLabel})})]})})]})})})}},368156:(e,t,i)=>{i.d(t,{Z:()=>h});var n=i(667294),a=i(702664),o=i(30439),r=i(149230),s=i(112690),l=i(861411),d=i(698330),c=i(940882),u=i(883119),p=i(785893);function h(e){const{auxData:t,pattern:i,slotIndex:h,storyId:m,viewType:_,viewParameter:g}=e,v=(0,d.mN)(),y=(0,s.Z)(),f=(0,a.useSelector)((({stories:e,articles:t})=>e[m].objects.map((e=>{const i=t[e.id];return i.curator&&"string"==typeof i.curator?{...i,curator:v(i.curator)}:i})))),x=(0,a.useSelector)((({stories:e})=>e[m])),{story_type:b,referring_source:w,title:P,display_options:S,action:k}=x,{identifier_icon_name:I}=S||{},T=f.map((({type:e,id:t})=>e+":"+t)).join("|"),j={story_type:b,story_id:m,content_ids:T,...t};return(0,p.jsx)(l.Hs,{loggingId:m,objectIdStr:m,viewParameter:g,viewType:_,slotIndex:h,component:200,auxData:j,children:(0,p.jsxs)(n.Fragment,{children:[P&&(0,p.jsxs)(u.xu,{display:"flex",marginBottom:2,justifyContent:"center",alignItems:"center",children:["number"==typeof I&&I!==c.J&&(0,p.jsx)(u.xu,{marginEnd:2,dangerouslySetInlineStyle:{__style:{paddingTop:1}},children:(0,p.jsx)(u.JO,{accessibilityLabel:"",color:"default",icon:(0,c.Z)(I),size:14})}),(0,p.jsx)(u.xv,{weight:"bold",children:P.format})]}),(0,p.jsx)(o.Z,{bubbles:f,pattern:i,referringSource:w,storyId:m,storyType:b,viewParameter:g,viewType:_}),k&&k.url&&(0,p.jsx)(u.xu,{display:"flex",width:"100%",justifyContent:"center",marginTop:1,children:(0,p.jsx)(u.zx,{role:"link",accessibilityLabel:k.text,color:"gray",onClick:()=>{y({view_type:_,view_parameter:g,aux_data:j,event_type:102})},text:k.text,href:k.url,rel:(0,r.Z)(k.url)?"nofollow":void 0,target:(0,r.Z)(k.url)?"blank":void 0,size:"md"})})]})})}},30439:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(936819),a=i(883119),o=i(687866),r=i(785893);function s(e){const{bubbles:t,onTouch:i,pattern:s=[o.UG.medium],pwtSurfaceContext:l,referringSource:d,storyId:c,storyType:u,viewParameter:p,viewType:h}=e,m=t.map((({type:e,id:t})=>e+":"+t)).join("|");return(0,r.jsx)(a.kC,{alignItems:"stretch",justifyContent:"between",width:"100%",wrap:!0,children:t.map(((e,t)=>{const _=s[t%s.length];return(0,r.jsx)(a.xu,{paddingY:1,width:[o.UG.small,o.UG.extra_small].includes(_)?"calc(50% - 4px)":"100%",children:(0,r.jsx)(n.Z,{auxData:{content_ids:m,story_type:u,grid_index:t},bubble:e,format:_,height:([o.UG.medium,o.UG.extra_small].includes(_)?"50%":_===o.UG.article&&"73%")||"100%",onTouch:i,pwtSurfaceContext:l,referringSource:d,slotIndex:t,storyId:c,viewParameter:p,viewType:h})},`bubble-${t}`)}))})}},212651:(e,t,i)=>{i.d(t,{Z:()=>S});var n=i(667294),a=i(936819),o=i(164985),r=i(687866),s=i(785893);function l({bubble:e,font:t,height:i,width:n="100%",onTouch:a}){const{id:o,url:l,title:d,dominant_color_css:c,image_urls:u,buttonText:p}=e;if(!d||!o||!u)return null;const h={text:p,accessibilityLabel:p,href:l,size:"md"};return(0,s.jsx)(r.ZP,{backgroundColor:null!=c?c:void 0,bubbleId:o,bubbleUrl:l,coverImageUrl:u[0],font:t,format:"interest",height:i,title:d,width:n,contentAlign:"start",textAlign:"start",buttonFormat:h,onTap:()=>a&&a({query:d})})}var d=i(894023),c=i(407043),u=i(366428),p=i(883119);function h({bubble:e,component:t,height:i,slotIndex:a,storyId:o,storyType:r,viewParameter:l,viewType:d}){var h;const{logContextEvent:m}=(0,c.v)(),[_,g]=(0,n.useState)("string"==typeof i?void 0:i),v=e=>{if(e){const t=e.offsetWidth,n="string"==typeof i?Number.parseFloat(i):100;g(t*n/100)}},{action:y,aux_fields:f,cover_images:x,dominant_colors:b,title:w,id:P}=e,S=(0,u.Z)({componentType:null!=t?t:void 0,contextLogData:{story_type:r},impressionType:"Article",loggingId:P,slotIndex:a,viewParameter:l,viewType:d});if(!_)return(0,s.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"string"==typeof i?Number.parseFloat(i)+"%":"100%"}},ref:v,width:"100%"});if(!x||x.length<=0||!w)return null;const{button_background_color:k,button_text_color:I}=f,T=x.slice(0,2).map((e=>{var t;return null===(t=e["474x"]||e["236x"])||void 0===t?void 0:t.url}));return(0,s.jsx)(p.iP,{role:"link",href:null!==(h=null==y?void 0:y.url)&&void 0!==h?h:"",onTap:()=>{m({aux_data:{story_id:o,story_type:"user_style_story_v2"},component:200,event_type:102,view_parameter:l,view_type:d})},rounding:4,children:(0,s.jsxs)(p.xu,{alignItems:"center",display:"flex",height:_,justifyContent:"center",overflow:"hidden",position:"relative",ref:S,rounding:4,width:"100%",children:[(0,s.jsx)(p.kC,{width:"100%",children:T.map(((e,t)=>(0,s.jsx)(p.zd,{height:_,wash:!0,width:2===T.length?"50%":"100%",children:(0,s.jsx)(p.Ee,{alt:"",color:(null!=b?b:[])[t],fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:null!=e?e:""})},t)))}),(0,s.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:k}},paddingX:4,paddingY:3,position:"absolute",rounding:"pill",children:(0,s.jsx)(p.xv,{align:"center",weight:"bold",children:(0,s.jsx)("p",{style:{color:I,margin:"0"},children:w.format})})})]})})}var m=i(112690),_=i(52022),g=i(57791),v=i(784641),y=i(643010),f=i(861411);const x=["#FFF8FA","#F8F7FF","#F7FBFF","#F7FDFC","#F6FDF5","#FFFEDB","#FFF6EB"];function b({backgroundColor:e,coverImageUrl:t,height:i,pwtTrackImageLoad:a,subtitle:o,title:l,width:d}){return(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(p.xu,{width:d,height:i,children:(0,s.jsx)(p.Ee,{alt:"",color:e,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:a,role:"presentation",src:t})}),(0,s.jsx)(p.xu,{dangerouslySetInlineStyle:r.aG.bubbleOverlay,height:i,left:!0,position:"absolute",top:!0,width:d}),(0,s.jsx)(p.xu,{alignItems:"center",display:"flex",height:i,justifyContent:"center",marginTop:4,padding:8,position:"absolute",top:!0,width:d,children:(0,s.jsxs)(p.kC,{alignItems:"stretch",direction:"column",gap:{row:0,column:1},justifyContent:"start",children:[o&&(0,s.jsx)(p.xv,{align:"center",color:"light",lineClamp:1,size:"300",overflow:"normal",children:o}),(0,s.jsx)(p.X6,{accessibilityLevel:1,align:"center",color:"light",lineClamp:3,size:"400",overflow:"normal",children:l})]})})]})}function w({backgroundColor:e,coverImageUrl:t,height:i,imgBackgroundColor:a,isDarkBackground:o,pwtTrackImageLoad:l,subtitle:d,title:c,width:u}){return(0,s.jsxs)(n.Fragment,{children:[(0,s.jsxs)(p.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e||x[c.charCodeAt(0)%x.length]}},height:i,position:"relative",width:u,children:[(0,y.Yc)()&&(0,s.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.3)"}},height:"100%",left:!0,position:"absolute",top:!0,width:"100%"}),(0,s.jsx)(p.xu,{alignItems:"center",display:"flex",height:.6*i,justifyContent:"center",marginTop:8,padding:8,position:"absolute",top:!0,width:u,children:(0,s.jsxs)(p.kC,{alignItems:"stretch",direction:"column",gap:{row:0,column:1},justifyContent:"start",children:[d&&(0,s.jsx)(p.xv,{align:"center",color:o?"light":"dark",overflow:"normal",size:"300",children:d}),(0,s.jsx)(p.X6,{accessibilityLevel:1,align:"center",color:o?"light":"dark",overflow:"normal",size:"400",children:c})]})})]}),(0,s.jsx)(p.xu,{alignItems:"end",bottom:!0,display:"flex",height:.5*i,marginBottom:-5,justifyContent:"center",position:"absolute",width:u,children:t.slice(0,3).map(((e,t)=>(0,s.jsx)(p.xu,{dangerouslySetInlineStyle:r.aG.bubbleOverlay,height:1===t?"100%":"80%",overflow:"hidden",rounding:4,width:1===t?"36%":"28.8%",zIndex:1===t?new p.Ry(1):void 0,marginStart:0!==t?-5:void 0,children:(0,s.jsx)(p.Ee,{alt:"",color:a,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:l,role:"presentation",src:e})},`TripleImageBubble-${t}`)))})]})}function P({auxData:e,bubble:t,immersiveHeader:i,onTouch:a,pwtSurfaceContext:o,referringSource:l,slotIndex:d,storyId:c,storyType:u,viewParameter:h,viewType:y}){const{article_creator_user:x,display_color:P,dominant_color_css:S,feed_source:k,has_dark_display_color:I=!1,id:T,image_urls:j,is_product_pin_feed:C,subtitle:A,title:E}=t,R=x&&x.full_name&&x.image_small_url?{full_name:x.full_name,image_small_url:x.image_small_url}:void 0,D=(0,m.Z)(),L=(0,_.Z)(),[F,O]=(0,n.useState)();if(!E||!T||!j)return null;const z=(0,v.T7)(null!=k?k:1,null!=C&&C,E,T),N=()=>{L({action:"click",item:"search-suggestion"}),D({view_type:y,view_parameter:h,object_id_str:T,component:13525,event_type:102,aux_data:{grid_index:d,story_id:c,story_type:u,today_article_id:T}}),a&&a({query:E})},M="100%",Z=e=>{if(e){const t=e.offsetWidth,i=Number.parseFloat("85%");O(t*i/100)}};if(!F)return(0,s.jsx)(p.xu,{ref:Z,dangerouslySetInlineStyle:{__style:{paddingBottom:Number.parseFloat("85%")+"%",width:M}}});const U=()=>{o&&o.markConstraintComplete("RenderSearchLandingPageBubbles")};return(0,s.jsx)(f.Y4,{auxData:{grid_index:d.toString(),story_id:c,story_type:u,today_article_id:T,...e},component:13525,impressionData:{storyIdStr:c},loggingId:c,objectIdStr:c,slotIndex:d,viewParameter:h,viewType:y,children:({impressionTrackerRef:e})=>i?(0,s.jsx)(p.xu,{"data-test-id":"search-suggestion","data-test-type":l,position:"relative",ref:e,children:(0,s.jsx)(g.MZ,{to:z,isAppUpsellDisabled:!0,onTouch:N,children:j.length>=3?(0,s.jsx)(w,{backgroundColor:P,coverImageUrl:j,height:F,imgBackgroundColor:null!=S?S:void 0,isDarkBackground:I,pwtTrackImageLoad:U,subtitle:null!=A?A:"",title:E,width:M}):(0,s.jsx)(b,{backgroundColor:null!=S?S:void 0,coverImageUrl:j[0],height:F,pwtTrackImageLoad:U,subtitle:null!=A?A:"",title:E,width:M})})}):(0,s.jsx)(r.ZP,{backgroundColor:S||"",bubbleId:T,bubbleUrl:z,curator:R,coverImageUrl:j[0],format:r.UG.article,height:"75%",onTap:N,pwtSurfaceContext:o,title:E,width:M})})}function S(e){const{action:t,bubbles:i,component:r,format:c,onTouch:u,pwtSurfaceContext:_,query:g,referringSource:v,storyId:y,storyType:f,viewParameter:x,viewType:b}=e,w=i.filter((e=>null!=e)),S=w.map((({type:e,id:t})=>`${null!=e?e:""}:${null!=t?t:""}`)).join("|"),k="slp_immersive_header"===f,I="user_style_story_v2"===f,T="shop_tab_upsell"===f,j="interest"===w[0].type,C=(0,n.useRef)(),A=(0,n.useRef)(),[E,R]=(0,n.useState)(0),{windowWidth:D}=(0,o.Z)(),L=k?D:D-32,F=w.length,O=T?"50%":"100%",[z,N]=(0,n.useState)(k||j),[M,Z]=(0,n.useState)(!1),U=(0,m.Z)();return(0,n.useEffect)((()=>{const e=C.current,t=A.current;if(!e)return;const i=t=>{e.scrollTo({top:0,left:t,behavior:"smooth"})};let n;const a=()=>{clearTimeout(n),N(!1),Z(!0),setTimeout((()=>{var e;let n=-(null!==(e=null==t?void 0:t.getBoundingClientRect().left)&&void 0!==e?e:0);n=k?n:n+16;const a=Math.floor((n+L/2)/L);i(a!==F-1||k?a*L:a*L-4),R(a)}),500)},o=()=>{const e=E===F-1?0:E+1;return i(e*L),R(e),n=setTimeout(o,4e3),()=>clearTimeout(n)};return z?(e.addEventListener("touchend",a),n=setTimeout(o,4e3)):M&&e.addEventListener("touchend",a),()=>{clearTimeout(n),z&&e.removeEventListener("touchend",a)}})),(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(p.xu,{marginEnd:-4,marginStart:-4,overflow:"hidden",width:"100vw",children:(0,s.jsx)(p.xu,{display:"flex",marginBottom:-2,overflow:"scrollX",paddingX:k?void 0:j?3:4,paddingY:k?void 0:3,ref:C,children:w.map(((e,i)=>{var n;const{type:o,schema:m}=e;let T=null;switch(o||m){case"explorearticle":T=I?(0,s.jsx)(h,{bubble:e,component:r,height:"75%",storyId:y,slotIndex:i,storyType:f,viewParameter:x,viewType:b}):(0,s.jsx)(a.Z,{auxData:{content_ids:S,story_type:f},bubble:e,format:c,height:"75%",onTouch:u,pwtSurfaceContext:_,referringSource:v,slotIndex:i,storyId:y,viewParameter:x,viewType:b});break;case"todayarticle":T=(0,s.jsx)(P,{auxData:{content_ids:S,story_type:f},bubble:e,immersiveHeader:k,onTouch:u,pwtSurfaceContext:_,referringSource:v,slotIndex:i,storyId:y,storyType:f,viewParameter:x,viewType:b});break;case"interest":T=(0,s.jsx)(l,{bubble:e,font:"md",height:"65%",onTouch:u});break;case"pin":T=i===w.length-1&&t?(0,s.jsx)(p.iP,{href:t.url,onTap:()=>{U({view_type:b,view_parameter:x,component:r,element:179,event_type:102,aux_data:{content_ids:S,entered_query:g,grid_index:i,story_type:f}})},role:"link",rounding:4,children:(0,s.jsxs)(p.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},position:"relative",children:[(0,s.jsx)(p.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:(0,s.jsx)(d.default,{auxData:{content_ids:S,entered_query:g,grid_index:i,story_type:f},componentType:r||14026,imageOnlyOption:"image-only",duploIsSquarePin:!0,pinId:e.id,slotIndex:i,viewParameter:x,viewType:b})}),(0,s.jsx)(p.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.4)"}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,rounding:4,top:!0,children:(0,s.jsx)(p.zx,{accessibilityLabel:t.text,size:"sm",text:t.text})})]})}):(0,s.jsx)(d.default,{auxData:{content_ids:S,entered_query:g,grid_index:i,story_type:f},componentType:r||14026,duploIsSquarePin:!0,pinId:e.id,slotIndex:i,trafficSource:"shop_feed",viewParameter:x,viewType:b})}return(0,s.jsx)(p.xu,{flex:"none",paddingX:k?void 0:1,ref:0===i?A:void 0,width:O,children:T},`bubble-${null!==(n=e.id)&&void 0!==n?n:""}`)}))})}),(k||j)&&(0,s.jsx)(p.xu,{marginBottom:k?5:-2,marginTop:k?-6:1,position:"relative",zIndex:new p.Ry(100),children:(0,s.jsx)(p.kC,{alignItems:"center",direction:"row",gap:{row:2,column:0},justifyContent:"center",children:[...Array(F).keys()].map((e=>{const t=E===e?"tertiary":"lightWash";return(0,s.jsx)(p.xu,{color:t,height:6,rounding:"circle",width:6},`indicator-dot-${e}`)}))})})]})}},131230:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(702664),a=i(212651),o=i(366428),r=i(883119),s=i(785893);function l({auxData:e,slotIndex:t,storyId:i,storyType:l,viewParameter:d,viewType:c}){var u;const p=(0,n.useSelector)((({stories:e})=>e[i])),{action:h,display_options:m,objects:_,title:g}=p,v=null==m||null===(u=m.content_display)||void 0===u?void 0:u.component_type,y=(null==e?void 0:e.entered_query)||"",f={entered_query:y,grid_index:t,story_id:i,story_type:l},x=(0,o.Z)({componentType:v,contextLogData:f,impressionType:"Story",loggingId:i,slotIndex:t,viewParameter:d,viewType:c}),b=(0,n.useSelector)((({articles:e})=>_.map((t=>{switch(t.schema){case"article":return e[t.id];case"pin":return t;default:return null}}))));return(0,s.jsxs)(r.xu,{ref:x,children:[g&&(0,s.jsx)(r.xu,{display:"flex",marginBottom:2,justifyContent:"center",alignItems:"center",children:(0,s.jsx)(r.xv,{weight:"bold",children:g.format})}),(0,s.jsx)(a.Z,{action:h,bubbles:b,component:v,query:y,storyId:i,storyType:l,viewParameter:d,viewType:c})]})}},936819:(e,t,i)=>{i.d(t,{Z:()=>d});var n=i(112690),a=i(861411),o=i(826067),r=i(687866),s=i(613316),l=i(785893);function d({auxData:e,bubble:t,font:i,format:d,height:c,onTouch:u,pwtSurfaceContext:p,referringSource:h,slotIndex:m,storyId:_,viewParameter:g,viewType:v,width:y="100%"}){var f;const{action:x,cover_images:b,curator:w,dominant_colors:P,id:S,identifier_icon_type:k,story_category:I,title:T}=t,j=(0,n.Z)();if(!b||!T)return null;const C=w&&w.full_name&&w.image_small_url?{full_name:w.full_name,image_small_url:w.image_small_url}:void 0,A=null===(f=b[0]&&(b[0]["474x"]||b[0]["236x"]))||void 0===f?void 0:f.url,E=T.format,R=(null==x?void 0:x.url)||(({storyCategory:e,query:t,referringSource:i,bubbleId:n,storyId:a,title:r})=>{const l=null!=e&&(0,s.y)(e),d=(0,o.XP)({q:t,rs:i||void 0,b_id:n,source_id:a}),c=l&&r?(0,s.x)({title:r,id:n,articleType:"discover"}):`/discover/article/${n}/`;return l?c:"/search/pins/"+(d?"?"+d:"")})({storyCategory:I,query:E,referringSource:h,bubbleId:S,storyId:_,title:E}),D=d===r.UG.article?13865:200,L=d===r.UG.article?102:6940,F=P&&P.length?P[0]:void 0;return(0,l.jsx)(a.fv,{auxData:{story_id:_,...e},impressionData:{storyCategory:I,storyIdStr:_},impressionType:"articleImpressions",loggingId:_,slotIndex:m,viewParameter:g,viewType:v,children:(0,l.jsx)(r.ZP,{backgroundColor:F,bubbleId:S,bubbleUrl:R,coverImageUrl:A,curator:C,font:i,format:d,height:c,identifierIconType:k,onTap:t=>{j({component:D,event_type:L,object_id_str:t,view_parameter:g,view_type:v,aux_data:{article_id:t,grid_index:m,...e}}),u&&u({query:E})},pwtSurfaceContext:p,referringSource:h,title:E,width:y})})}},248299:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(166300),a=i(898781),o=i(883119),r=i(785893);function s({isPinRep:e}){const t=(0,a.ZP)(),i=e?"default":"inverse",s=(0,r.jsx)(o.xu,{padding:e?1:0,"data-test-id":"unavailable-pin",children:(0,r.jsx)(o.xu,{color:e?"secondary":"dark",top:!0,height:e?314:"100vh",position:e?"static":"absolute",rounding:e?4:0,width:"100%",children:(0,r.jsxs)(o.kC,{height:"100%",direction:"column",justifyContent:"center",alignItems:"center",children:[(0,r.jsx)(o.xu,{paddingY:4,children:(0,r.jsx)(o.JO,{accessibilityLabel:t.bt(" ", "Pin not available", "story-pin.Closeup.UnavailableStoryPin.icon.accessibilityLabel", undefined, true),color:i,icon:"alert",size:20})}),(0,r.jsx)(o.xv,{align:"center",color:i,weight:"bold",children:t.bt("", "Unavailable", "story-pin.Closeup.UnavailableStoryPin.Unavailable", undefined, true)}),(0,r.jsx)(o.xu,{paddingY:1,children:(0,r.jsx)(o.xv,{align:"center",color:i,children:t.bt(" ", "Removed by the creator", "story-pin.Closeup.UnavailableStoryPin.Removed", undefined, true)})})]})})});return e?s:(0,r.jsx)(o.xu,{height:"100vh",children:(0,r.jsx)(n.Z,{children:s})})}},201155:(e,t,i)=>{i.d(t,{Z:()=>c});var n=i(883119),a=i(785893);function o({ideaPinImages:e}){const t={1:28,2:40,3:48},i=e.map(((e,t)=>{var i,o,r;return(0,a.jsx)(n.xu,{height:48,width:28,color:"default",borderStyle:"sm",overflow:"hidden",rounding:2,dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:t}},children:(0,a.jsx)(n.Ee,{alt:"",src:null!==(i=null==e?void 0:e.url)&&void 0!==i?i:"",color:"#696969",fit:"cover",naturalHeight:null!==(o=null==e?void 0:e.height)&&void 0!==o?o:1,naturalWidth:null!==(r=null==e?void 0:e.width)&&void 0!==r?r:1})},t)}));return(0,a.jsx)(n.kC,{justifyContent:"center",children:(0,a.jsx)(n.kC,{justifyContent:"start",width:t[e.length],children:i})})}var r=i(499128),s=i(898781),l=i(784590),d=i(50286);function c({handleHide:e,text:t,userId:i,href:c,imageUrl:u}){const p=(0,s.ZP)(),h=(0,d.HG)(),m=(0,l.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:i}}),_=Array.isArray(t)?t.join(" "):t;if(0===(m.data||[]).length){const t=u?(0,a.jsx)(n.xu,{height:48,overflow:"hidden",width:48,children:(0,a.jsx)(n.Ee,{alt:p.bt(" ,     ", "Image of who you followed", "userFollowingToast.thumbnail.userImage", undefined, true),fit:"cover",naturalHeight:1,naturalWidth:1,src:u})}):void 0;return(0,a.jsx)(r.ZP,{duration:5e3,onHide:e,text:_,href:c,iconThumbnail:t,thumbnailShape:"circle"})}const g=(m.data||[]).slice(0,3).map((e=>{var t;return null===(t=e.images)||void 0===t?void 0:t[h?"236x":"170x"]})),v=(0,a.jsx)(o,{ideaPinImages:g});return(0,a.jsx)(r.ZP,{href:c,duration:5e3,onHide:e,iconThumbnail:v,text:_,thumbnailShape:"square"})}},258430:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(883119),a=i(130460),o=i(785893);function r({boardId:e}){var t;const i=(0,a.gC)()(e),r=null!=i&&i.images&&i.images["170x"]?i.images["170x"][0]:void 0;return e&&r?(0,o.jsx)(n.Ee,{alt:"Pin image",color:"#efefef",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!==(t=r.url)&&void 0!==t?t:""}):null}},759929:(e,t,i)=>{i.d(t,{k:()=>r,w:()=>o});var n=i(379764),a=i(883119);const o=2e3,r=new a.H3([n.Z])},909792:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(531029),a=i(198125),o=i(50286),r=i(883119),s=i(785893);const l=({imageUrls:e,subtitle:t,subtitleSize:i,subtitleWeight:l,title:d,titleSize:c})=>{var u;const p=(0,o.HG)(),{isHovering:h,handleMouseEnter:m,handleMouseLeave:_}=(0,a.Z)();return!e||e.length<=0?null:(0,s.jsxs)(r.xu,{borderStyle:"shadow",color:"default",overflow:"hidden",position:"relative",rounding:8,dangerouslySetInlineStyle:{__style:{paddingTop:"75%"}},onMouseEnter:p?m:void 0,onMouseLeave:p?_:void 0,children:[h&&(0,s.jsx)(n.Z,{}),(0,s.jsx)(r.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:(0,s.jsx)(r.Ee,{alt:d,color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!==(u=e[0])&&void 0!==u?u:"",children:(0,s.jsx)(r.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:{background:"linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.4) 100%)"}},display:"flex",alignItems:"end",paddingY:6,paddingX:5,children:(0,s.jsxs)(r.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",width:"100%",children:[t&&(0,s.jsx)(r.xu,{marginBottom:1,children:(0,s.jsx)(r.xv,{color:"light",size:i,align:"center",weight:l,children:t})}),(0,s.jsx)(r.X6,{color:"light",size:c,align:"center",children:d})]})})})})]})}},736609:(e,t,i)=>{i.d(t,{Z:()=>p});var n=i(830157),a=i(531029),o=i(326860),r=i(198125),s=i(861411),l=i(50286),d=i(276775),c=i(883119),u=i(785893);const p=function({articleId:e,creatorId:t,creatorFullName:i,creatorImgSrc:p,creatorIsVerified:h,gridIndex:m,imageHeight:_,imageWidth:g,imageUrl:v,pinId:y,showCreator:f,trackingParams:x,title:b,viewParameter:w,viewType:P}){const S=(0,d.useLocation)(),{isHovering:k,handleMouseEnter:I,handleMouseLeave:T}=(0,r.Z)(),j=(0,l.HG)();return(0,u.jsxs)(c.xu,{borderStyle:"shadow",position:"relative",color:"default",onMouseEnter:j?I:void 0,onMouseLeave:j?T:void 0,overflow:"hidden",rounding:8,children:[k&&(0,u.jsx)(a.Z,{}),(0,u.jsx)(s.dL,{auxData:{grid_index:m,today_article_id:e},loggingId:y,objectIdStr:y,slotIndex:m,impressionData:{imageURL:v},component:13525,trackingParams:(0,n.Z)((S.state||{}).trackingParams,x),viewParameter:w,viewType:P,children:({impressionTrackerRef:e})=>(0,u.jsx)(c.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingTop:"number"==typeof _&&"number"==typeof g?_/g*100+"%":"100%"}},ref:e,children:(0,u.jsx)(c.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:(0,u.jsx)(c.Ee,{alt:b,color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!=v?v:""})})})}),(0,u.jsxs)(c.xu,{paddingX:6,paddingY:4,display:"flex",justifyContent:"center",direction:"column",children:[(0,u.jsx)(c.X6,{align:"center",size:"400",children:b}),f&&(t||i)&&(0,u.jsx)(c.xu,{display:"flex",marginTop:3,justifyContent:"center",children:(0,u.jsx)(o.Z,{userId:t,creatorFullName:i,creatorImgSrc:p,creatorIsVerified:h})})]})]})}},91937:(e,t,i)=>{i.d(t,{Z:()=>c});var n=i(116303),a=i(830157),o=i(167525),r=i(861411),s=i(276775),l=i(883119),d=i(785893);const c=({articleId:e,gridIndex:t,hasPinnerAttribution:i,imageHeight:c,imageWidth:u,imageUrl:p,pageCount:h,pinId:m,pinnerImageSrc:_,pinnerName:g,pinTrackingParams:v,title:y,viewParameter:f,viewType:x})=>{const b=(0,s.useLocation)();return(0,d.jsxs)(l.xu,{borderStyle:"shadow",color:"default",overflow:"hidden",paddingY:6,rounding:8,children:[(0,d.jsx)(l.xu,{paddingX:6,display:"flex",justifyContent:"center",children:(0,d.jsx)(l.X6,{align:"center",size:"400",children:y})}),(0,d.jsx)(r.dL,{auxData:{grid_index:t,today_article_id:e},loggingId:m,objectIdStr:m,slotIndex:t,impressionData:{imageURL:p},component:13525,trackingParams:(0,a.Z)((b.state||{}).trackingParams,v),viewParameter:f,viewType:x,children:({impressionTrackerRef:e})=>(0,d.jsxs)(l.xu,{marginTop:4,paddingX:12,ref:e,children:[(0,d.jsx)(l.zd,{rounding:8,children:(0,d.jsx)(l.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingTop:"number"==typeof c&&"number"==typeof u?c/u*100+"%":"100%"}},children:(0,d.jsx)(l.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:(0,d.jsx)(l.Ee,{alt:"",color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!=p?p:"",children:(0,d.jsx)(l.xu,{position:"relative",marginStart:1,marginTop:1,children:(0,d.jsx)(o.Z,{icon:"idea-pin",text:h.toString()})})})})})}),i&&(0,d.jsxs)(l.xu,{alignItems:"center",display:"flex",marginTop:2,maxWidth:"100%",children:[(0,d.jsx)(l.xu,{flex:"none",height:44,width:44,marginEnd:2,children:(0,d.jsx)(n.Z,{name:"",outline:!0,size:"fit",src:_})}),(0,d.jsx)(l.xv,{lineClamp:1,children:g})]})]})})]})}},371172:(e,t,i)=>{i.d(t,{Z:()=>h});var n=i(830157),a=i(531029),o=i(326860),r=i(198125),s=i(619519),l=i(861411),d=i(50286),c=i(276775),u=i(883119),p=i(785893);const h=function({articleId:e,creatorId:t,creatorFullName:i,creatorImgSrc:h,creatorIsVerified:m,gridIndex:_,height:g,pinDescription:v,pinImageHeight:y,pinImageUrl:f,pinImageWidth:x,showCreator:b,thumbnail:w,title:P,trackingParams:S,url:k,videoPinId:I,viewParameter:T,viewType:j,width:C}){const A=(0,c.useLocation)(),E=(0,d.HG)(),{isHovering:R,handleMouseEnter:D,handleMouseLeave:L}=(0,r.Z)();return(0,p.jsxs)(u.xu,{borderStyle:"shadow",color:"default",direction:"column",display:"flex",flex:"none",overflow:"hidden",rounding:8,dangerouslySetInlineStyle:{__style:{transform:"translate3d(0, 0, 0)"}},onMouseEnter:E?D:void 0,onMouseLeave:E?L:void 0,children:[R&&(0,p.jsx)(a.Z,{}),(0,p.jsx)(l.dL,{auxData:{grid_index:_,today_article_id:e},loggingId:I,objectIdStr:I,slotIndex:_,impressionData:{imageURL:f},component:13525,trackingParams:(0,n.Z)((A.state||{}).trackingParams,S),viewParameter:T,viewType:j,children:({impressionTrackerRef:e})=>(0,p.jsx)(u.xu,{ref:e,children:(0,p.jsx)(s.Z,{height:g,thumbnail:w,url:k,width:C,pinDescription:v,pinImageUrl:f,pinImageHeight:y,pinImageWidth:x})})}),(0,p.jsxs)(u.xu,{paddingX:6,paddingY:4,display:"flex",justifyContent:"center",direction:"column",children:[(0,p.jsx)(u.X6,{align:"center",size:"400",children:P}),b&&(t||i)&&(0,p.jsx)(u.xu,{display:"flex",marginTop:3,justifyContent:"center",children:(0,p.jsx)(o.Z,{userId:t,creatorFullName:i,creatorImgSrc:h,creatorIsVerified:m})})]})]})}},591289:(e,t,i)=>{i.d(t,{Z:()=>d});var n=i(531029),a=i(198125),o=i(50286),r=i(276602),s=i(883119),l=i(785893);function d({imageUrls:e,rounding:t,subtitle:i,subtitleSize:d,title:c,titleSize:u}){const p=(0,o.HG)(),h=(0,r.EV)();let m=0;const _=()=>{m-=1,0===m&&(null==h||h.markConstraintComplete("idea_module_loaded"))},{isHovering:g,handleMouseEnter:v,handleMouseLeave:y}=(0,a.Z)();if(!e||e.length<=0)return null;const f=e.slice(0,3);return h&&(m=f.length),(0,l.jsxs)(s.xu,{borderStyle:"shadow",color:"default",overflow:"hidden",position:"relative",rounding:null!=t?t:8,dangerouslySetInlineStyle:{__style:{paddingTop:"75%"}},onMouseEnter:p?v:void 0,onMouseLeave:p?y:void 0,children:[g&&(0,l.jsx)(n.Z,{}),(0,l.jsxs)(s.xu,{display:"flex",direction:"column",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[(0,l.jsx)(s.kC,{alignItems:"stretch",justifyContent:"start",height:"100%",width:"100%",children:f.map(((e,t)=>(0,l.jsx)(s.xu,{width:100/f.length+"%",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:(0,l.jsx)(s.Ee,{alt:"",color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:null!=e?e:"",onLoad:_})},t)))}),(0,l.jsxs)(s.xu,{flex:"none",paddingX:5,paddingY:6,width:"100%",children:[i&&(0,l.jsx)(s.xu,{marginBottom:1,children:(0,l.jsx)(s.xv,{size:d,align:"center",weight:p?"bold":"normal",children:i})}),(0,l.jsx)(s.X6,{size:u,align:"center",children:c})]})]})]})}},228153:(e,t,i)=>{i.d(t,{i:()=>S,y:()=>b});var n,a=i(725214),o=i(909792),r=i(736609),s=i(91937),l=i(371172),d=i(591289),c=i(112690),u=i(52022),p=i(861411),h=i(276775),m=i(50286),_=i(780280),g=i(784641),v=i(883119),y=i(167912),f=i(785893);const x=new Set([3,2,6]),b=({ArticleModule:e,clientTrackingParams:t,id:i,displayType:n,gridIndex:o,isTodayArticlePage:r=!1,onArticleTapUrl:s,pinId:l,viewParameter:d,viewType:_})=>{const g=(0,h.useHistory)(),y=(0,c.Z)(),b=(0,u.Z)(),P=(0,m.HG)();return(0,f.jsx)(p.Y4,{auxData:{grid_index:o.toString(),today_article_id:i},loggingId:i,objectIdStr:i,slotIndex:o,viewParameter:d||3372,viewType:_||1,children:({impressionTrackerRef:c})=>(0,f.jsx)(v.xu,{ref:c,"data-test-id":"suggested-articles-link",children:(0,f.jsx)(w,{href:s,isTodayArticlePage:r,onTap:()=>{y({event_type:P?101:102,view_type:_||1,view_parameter:d||3372,component:13525,aux_data:{today_article_id:i,grid_index:o.toString()}}),b({action:"click",item:"suggested-articles-link"}),"number"==typeof n&&x.has(n)&&t&&l&&y({event_type:P?101:102,view_type:_||1,view_parameter:d||3372,object_id_str:l,clientTrackingParams:t,aux_data:{today_article_id:l,grid_index:o.toString(),cosmic_ray_count:"4",closeup_navigation_type:(0,a.Z)(g)}}),g.push(s)},children:e})})})},w=({children:e,href:t,isTodayArticlePage:i,onTap:n})=>{const{isAuthenticated:a}=(0,_.B)(),o=(0,m.HG)();return a?(0,f.jsx)(v.iP,{onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),n({event:e})},tapStyle:"compress",children:o?(0,f.jsx)(v.xu,{width:i?void 0:408,minHeight:i?void 0:306,children:e}):e}):(0,f.jsx)(v.iP,{href:t,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),n({event:e})},role:"link",children:o?(0,f.jsx)(v.xu,{width:i?void 0:408,minHeight:i?void 0:306,children:e}):e})},P=void 0!==n?n:n=i(584818),S=({containerKey:e,gridIndex:t,subtitleSize:i,titleSize:n,viewParameter:a,viewType:c})=>{var u,p,h,m,_,v,x,w,S,k,I,T,j,C,A,E;const{contentPinOfficialUser:R,contentPin:D,displayType:L,feedSource:F,headerPinId:O,id:z,imageUrls:N,isProductPinFeed:M,showCreator:Z,subtitle:U,title:B,videoPin:V}=(0,y.useFragment)(P,e);let H=null,W=(0,g.T7)(null!=F?F:0,null!=M&&M,null!=B?B:"",null!=z?z:"");const{description:$,images170x:K,images236x:G,images736x:q,pinner:Y,storyPinData:J,trackingParams:X}=null!=D?D:{},Q=null!==(u=null!==(p=null!==(h=null==q?void 0:q.url)&&void 0!==h?h:null==G?void 0:G.url)&&void 0!==p?p:null==K?void 0:K.url)&&void 0!==u?u:"",ee=null!==(m=null!==(_=null==q?void 0:q.width)&&void 0!==_?_:null==G?void 0:G.width)&&void 0!==m?m:null==K?void 0:K.width,te=null!==(v=null!==(x=null==q?void 0:q.height)&&void 0!==x?x:null==G?void 0:G.height)&&void 0!==v?v:null==K?void 0:K.height,{originPinner:ie}=null!=D?D:{},ne=R||ie||Y;switch(L){case 0:H=(0,f.jsx)(o.Z,{imageUrls:N,subtitle:null!=U?U:"",subtitleSize:i||"300",title:null!=B?B:"",titleSize:n||"500"});break;case 1:H=(0,f.jsx)(d.Z,{imageUrls:N,subtitle:null!=U?U:"",subtitleSize:i||"300",title:null!=B?B:"",titleSize:n||"500"});break;case 2:const{entityId:e,videos:u}=null!=V?V:{},p=null!==(w=null==u||null===(S=u.videoList)||void 0===S?void 0:S.v720P)&&void 0!==w?w:{};var ae;if(e)H=(0,f.jsx)(l.Z,{articleId:null!=z?z:"",creatorFullName:null==ne?void 0:ne.fullName,creatorImgSrc:(null==ne?void 0:ne.imageMediumUrl)||(null==ne?void 0:ne.imageSmallUrl),creatorIsVerified:Boolean(null==ne||null===(ae=ne.verifiedIdentity)||void 0===ae?void 0:ae.verified),gridIndex:t,height:p.height,pinDescription:$,pinImageUrl:Q,pinImageHeight:te,pinImageWidth:ee,showCreator:Boolean(Z),thumbnail:p.thumbnail,title:null!=B?B:"",trackingParams:X,url:p.url,videoPinId:e,viewParameter:a,viewType:c,width:p.width}),W=`/pin/${e}`;break;case 3:if(!Q)return null;H=(0,f.jsx)(r.Z,{articleId:null!=z?z:"",creatorFullName:null==ne?void 0:ne.fullName,creatorImgSrc:(null==ne?void 0:ne.imageMediumUrl)||(null==ne?void 0:ne.imageSmallUrl),creatorIsVerified:Boolean(null==ne||null===(k=ne.verifiedIdentity)||void 0===k?void 0:k.verified),imageUrl:Q,imageHeight:null!=te?te:0,imageWidth:null!=ee?ee:0,gridIndex:t,pinId:null!==(I=null==D?void 0:D.entityId)&&void 0!==I?I:"",showCreator:Boolean(Z),title:null!=B?B:"",trackingParams:X,viewParameter:a,viewType:c}),W=O?`/pin/${O}`:W;break;case 6:if(!Q)return null;const h=null!==(T=null!==(j=null==Y?void 0:Y.imageMediumUrl)&&void 0!==j?j:null==Y?void 0:Y.imageSmallUrl)&&void 0!==T?T:"",m=null!==(C=null==Y?void 0:Y.fullName)&&void 0!==C?C:"",_=Boolean(h||m);return(0,f.jsx)(s.Z,{articleId:null!=z?z:"",gridIndex:t,hasPinnerAttribution:_,imageUrl:Q,imageHeight:null!=te?te:0,imageWidth:null!=ee?ee:0,pageCount:null!==(A=null==J?void 0:J.pageCount)&&void 0!==A?A:"",pinId:null!==(E=null==D?void 0:D.entityId)&&void 0!==E?E:"",pinnerImageSrc:h,pinnerName:m,pinTrackingParams:X,title:null!=B?B:"",viewParameter:a,viewType:c});default:H=null}return H?(0,f.jsx)(b,{ArticleModule:H,displayType:L,gridIndex:t,id:null!=z?z:"",onArticleTapUrl:W,viewParameter:a,viewType:c}):null}},531029:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(883119),a=i(785893);const o=new n.Ry(1);function r(){return(0,a.jsx)(n.xu,{opacity:.1,color:"transparentDarkGray",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,zIndex:o})}},326860:(e,t,i)=>{i.d(t,{Z:()=>d});var n=i(667294),a=i(116303),o=i(865607),r=i(698330),s=i(883119),l=i(785893);const d=function({userId:e,creatorFullName:t,creatorImgSrc:i,creatorIsVerified:d}){var c;const u=null!==(c=(0,r.mN)()(null!=e?e:""))&&void 0!==c?c:{},{fullNameFromStore:p,imgSrcFromStore:h,isVerifiedFromStore:m}=function(e){const{full_name:t,image_medium_url:i,image_small_url:n,verified_identity:a}=e;return{fullNameFromStore:t,imgSrcFromStore:i||n,isVerifiedFromStore:Boolean(null==a?void 0:a.verified)}}(u),_=e?p:t,g=e?h:i,v=e?m:d;return(0,l.jsx)(s.kC,{alignContent:"center",alignItems:"center",flex:"none",justifyContent:"center",width:"100%",children:_&&(0,l.jsxs)(n.Fragment,{children:[(0,l.jsx)(s.xu,{paddingX:1,children:(0,l.jsx)(a.Z,{name:_,size:"sm",src:null!=g?g:""})}),(0,l.jsx)(s.xu,{minWidth:0,paddingX:1,children:(0,l.jsx)(s.xv,{lineClamp:1,size:"300",weight:"bold",children:_})}),v&&(0,l.jsx)(s.xu,{paddingX:1,children:(0,l.jsx)(o.Z,{hasVerifiedIdentity:v,iconOnly:!0,size:"xs"})})]})})}},502962:(e,t,i)=>{i.d(t,{Z:()=>T});var n=i(702664),a=i(909792),o=i(116303),r=i(635974),s=i(531029),l=i(198125),d=i(112690),c=i(50286),u=i(780280),p=i(883119),h=i(785893);const m=Math.floor(24),_=({articleId:e,imageUrls:t,subtitle:i,title:n,viewParameter:a,viewType:_,user:g})=>{const{isAuthenticated:v}=(0,u.B)(),y=(0,c.HG)(),{isHovering:f,handleMouseEnter:x,handleMouseLeave:b}=(0,l.Z)(),w=(0,d.Z)();if(!g||!t||t.length<=0)return null;const{full_name:P,image_medium_url:S,image_small_url:k}=g,I=S||k||"",T=Math.min(t.length,3),j={aux_data:{today_article_id:e},component:13525,object_id_str:e,view_parameter:a,view_type:_};return(0,h.jsxs)(p.xu,{borderStyle:"shadow",color:"default",onMouseEnter:y?x:void 0,onMouseLeave:y?b:void 0,overflow:"hidden",rounding:8,children:[f&&(0,h.jsx)(s.Z,{}),(0,h.jsx)(p.xu,{display:"flex",position:"relative",width:"100%",dangerouslySetInlineStyle:{__style:{paddingTop:"45%"}},children:(0,h.jsx)(p.xu,{display:"flex",height:"100%",direction:"row",left:!0,position:"absolute",top:!0,width:"100%",children:t.slice(0,T).map(((e,t)=>(0,h.jsx)(p.xu,{width:100/T+"%",children:(0,h.jsx)(p.Ee,{alt:"",color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:e},t)})))})}),(0,h.jsxs)(p.xu,{flex:"none",paddingX:5,paddingY:6,position:"relative",width:"100%",children:[(0,h.jsx)(p.xu,{height:48,position:"absolute",width:48,dangerouslySetInlineStyle:{__style:{left:`calc(50% - ${m}px)`,top:`-${m}px`}},children:(0,h.jsx)(o.Z,{name:null!=P?P:"",outline:!0,size:"fit",src:I})}),n&&(0,h.jsx)(p.xu,{marginTop:2,children:(0,h.jsx)(p.X6,{size:"400",align:"center",children:n})}),i&&(0,h.jsx)(p.xu,{marginTop:2,children:(0,h.jsx)(p.xv,{align:"center",size:"100",children:i})}),v&&(0,h.jsx)(p.xu,{display:"flex",justifyContent:"center",marginTop:3,children:(0,h.jsx)(r.Z,{isSecondaryButton:!0,onTap:()=>{w({...j,element:62,event_type:y?101:102})},size:"lg",user:g,viewParameter:a,viewType:_})})]})]})};var g=i(736609),v=i(784641),y=i(350118);function f({articleId:e,gridIndex:t,pinId:i,pinOfficialUserId:n,showCreator:a,title:o,viewParameter:r,viewType:s}){const l=(0,y.S6)()(i||"");if(!l)return null;const{id:d,images:c,origin_pinner:u,pinner:p,tracking_params:m}=l,_=(null==c?void 0:c["736x"])||(null==c?void 0:c["236x"])||(null==c?void 0:c["170x"]);if(!_)return null;const f=(0,v.xt)(n,null==u?void 0:u.id,null==p?void 0:p.id);return(0,h.jsx)(g.Z,{articleId:e,creatorId:f,gridIndex:t,pinId:d,imageHeight:_.height,imageUrl:_.url,imageWidth:_.width,showCreator:a,title:o,trackingParams:m,viewParameter:r,viewType:s})}var x=i(91937);const b=({articleId:e,gridIndex:t,pinId:i,title:n,viewParameter:a,viewType:o})=>{const r=(0,y.S6)()(i||""),s=null==r?void 0:r.pinner,l=null==r?void 0:r.story_pin_data;if(!r)return null;const d=(null==l?void 0:l.page_count)||"",{images:c}=r,u=(null==c?void 0:c["736x"])||(null==c?void 0:c["236x"])||(null==c?void 0:c["170x"]);if(!u)return null;const p=(null==s?void 0:s.image_medium_url)||(null==s?void 0:s.image_small_url)||"",m=(null==s?void 0:s.full_name)||"",_=Boolean(p||m);return(0,h.jsx)(x.Z,{articleId:e,imageHeight:u.height,imageWidth:u.width,imageUrl:u.url,gridIndex:t,hasPinnerAttribution:_,pageCount:d,pinId:r.id,pinnerImageSrc:p,pinnerName:m,pinTrackingParams:r.tracking_params,title:n,viewParameter:a,viewType:o})};var w=i(371172);function P({articleId:e,gridIndex:t,pinOfficialUserId:i,showCreator:n,title:a,videoPinId:o,viewParameter:r,viewType:s}){var l,d;const c=(0,y.S6)()(o);if(!c)return null;const{description:u,images:p,origin_pinner:m,pinner:_,tracking_params:g}=c,f=(0,v.xt)(i,null==m?void 0:m.id,null==_?void 0:_.id),x=(null==p?void 0:p["736x"])||(null==p?void 0:p["236x"])||(null==p?void 0:p["170x"])||{},{url:b,height:P,width:S}=null!=x?x:{},k=null===(l=c.videos)||void 0===l||null===(d=l.video_list)||void 0===d?void 0:d.V_720P,{height:I,thumbnail:T,url:j,width:C}=null!=k?k:{};return(0,h.jsx)(w.Z,{articleId:e,creatorId:f,gridIndex:t,height:I,pinDescription:u,pinImageHeight:P,pinImageUrl:b,pinImageWidth:S,showCreator:n,title:a,trackingParams:g,thumbnail:T,url:j,videoPinId:o,viewParameter:r,viewType:s,width:C})}var S=i(591289),k=i(228153),I=i(698330);const T=({gridIndex:e,id:t,isTodayArticlePage:i,article:o,subtitleSize:r,subtitleWeight:s,titleSize:l,viewParameter:d,viewType:c})=>{const u=(0,I.kW)(),p=(0,n.useSelector)((({todayArticles:e})=>o||e[t])),m=p.content_pin||p.video_pin,g=(0,y.S6)()(m||"");if(!p)return null;const{article_creator_user:x,content_pin:w,content_pin_official_user:T,display_type:j,feed_source:C,header_pin_id:A,image_urls:E,is_product_pin_feed:R,show_creator:D,subtitle:L,title:F,video_pin:O}=p,z=u[x||""],N=m?null==g?void 0:g.tracking_params:void 0;let M=null,Z=(0,v.T7)(C,null!=R&&R,F,t);switch(j){case 0:M=(0,h.jsx)(a.Z,{imageUrls:E,subtitle:L,subtitleSize:r||"300",subtitleWeight:s,title:F,titleSize:l||"500"});break;case 1:M=(0,h.jsx)(S.Z,{imageUrls:E,subtitle:L,subtitleSize:r||"300",title:F,titleSize:l||"500"});break;case 2:O&&(M=(0,h.jsx)(P,{articleId:t,gridIndex:e,pinOfficialUserId:T,showCreator:D,title:F,videoPinId:O,viewParameter:d,viewType:c}),Z=`/pin/${O}`);break;case 3:M=(0,h.jsx)(f,{articleId:t,gridIndex:e,pinId:w,pinOfficialUserId:T,showCreator:D,title:F,viewParameter:d,viewType:c}),Z=`/pin/${A}`;break;case 6:M=(0,h.jsx)(b,{articleId:t,gridIndex:e,pinId:w,title:F,viewParameter:d,viewType:c}),Z=`/pin/${A}`;break;case 8:z?(M=(0,h.jsx)(_,{articleId:t,imageUrls:E,subtitle:L,title:F,user:z,viewParameter:d,viewType:c}),Z=`/${encodeURIComponent(z.username)}/`):M=null;break;default:M=null}return M?(0,h.jsx)(k.y,{ArticleModule:M,clientTrackingParams:N,displayType:j,gridIndex:e,id:t,isTodayArticlePage:i,onArticleTapUrl:Z,pinId:m,viewParameter:d,viewType:c}):null}},182476:(e,t,i)=>{i.d(t,{Z:()=>P});var n,a=i(702664),o=i(815613),r=i(780280),s=i(633083),l=i(898781),d=i(892819),c=i(883119),u=i(167912),p=i(785893);const h=({backgroundColor:e,decreaseNamePadding:t,isHomefeedTuner:i,isLego:n,isSelected:a,locale:o,nameTextSize:r,renderAsPill:u,showFollowerCount:h,topicName:m,followerCount:_,image:g})=>{var v;const y=(0,l.ZP)(),f=(0,d.Z)(),x=(0,p.jsx)(c.JO,{accessibilityLabel:y.bt("", "Selected", " - ", undefined, true),color:"inverse",icon:n?"check":"check-circle",size:n?12:24});return u?(0,p.jsx)(s.Z,{color:e||"#767676",image:g,isSelected:null!=a&&a,title:m}):(0,p.jsxs)(c.xu,{position:"relative","aria-selected":a,children:[(0,p.jsx)(c.zd,{rounding:n||i?4:2,children:(0,p.jsxs)(c.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},children:[(0,p.jsx)(c.xu,{bottom:!0,left:!0,padding:n&&a?1:0,position:"absolute",right:!0,rounding:n&&a?4:0,top:!0,children:(0,p.jsx)(c.Ee,{alt:m,color:e||"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!==(v=g.url)&&void 0!==v?v:""})}),(0,p.jsx)(c.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:a?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",border:n&&a?"4px solid #767676":"none"}},rounding:n?4:void 0,position:"absolute",left:!0,right:!0,top:!0}),n&&a&&(0,p.jsx)(c.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{border:"2px solid #111"}},left:!0,position:"absolute",right:!0,rounding:4,top:!0})]})}),i?(0,p.jsx)(c.xu,{top:!0,bottom:!0,left:!0,right:!0,padding:2,position:"absolute",display:"flex",alignContent:"center",justifyContent:"center",alignItems:"center",children:(0,p.jsx)(c.xv,{align:"center",color:"light",size:r,weight:"bold",children:m})}):(0,p.jsxs)(c.xu,{bottom:!0,left:!0,padding:t?1:2,position:"absolute",right:!0,children:[(0,p.jsx)(c.xv,{color:"inverse",size:r,weight:"bold",children:m}),h&&_>=0&&(0,p.jsx)(c.xu,{paddingY:1,children:(0,p.jsxs)(c.xv,{color:"inverse",size:"100",children:[(0,p.jsx)(c.xv,{color:"inverse",inline:!0,size:"100",weight:"bold",children:f(o,_,{shortform:!0,shortform_maximum_fraction_digits:1})}),y.bt(".", "followers", " - ", undefined, true)]})})]}),a&&(0,p.jsx)(c.xu,{margin:2,position:"absolute",right:!0,top:!0,children:n?(0,p.jsx)(c.xu,{alignItems:"center",color:"selected",display:"flex",height:24,justifyContent:"center",rounding:2,width:24,children:x}):x})]})},m=void 0!==n?n:n=i(133132),_=({topicRef:e,...t})=>{var i,n,a,o,r,s;const l=(0,u.useFragment)(m,e),d=l.images?{url:null!==(i=l.images.url)&&void 0!==i?i:"",width:null!==(n=l.images.width)&&void 0!==n?n:0,height:null!==(a=l.images.height)&&void 0!==a?a:0,dominant_color:"",type:""}:{dominant_color:"",height:0,type:"",url:"",width:0};return(0,p.jsx)(h,{backgroundColor:null!==(o=l.background_color)&&void 0!==o?o:"",topicName:null!==(r=l.name)&&void 0!==r?r:"",followerCount:null!==(s=l.follower_count)&&void 0!==s?s:0,image:d,...t})},g=({topic:e,topicBlob:t,topicInfoForContextualExp:i,...n})=>{const a=i||e||t||{},o=a.images["236x"]||a.images["400x"]||a.images["474x"]||a.images.orig||{height:1,url:"",width:1},r=a.follower_count||-1;return(0,p.jsx)(h,{backgroundColor:a.background_color,topicName:a.name,followerCount:r,image:o,...n})};var v,y=i(70090);const f=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:i,isSelected:n=!1,nameTextSize:s="lg",onTouch:l,padding:d=2,renderAsPill:u,showFollowButton:h=!1,showFollowerCount:m=!1,shouldClickthrough:v=!1,topic:f,viewParameter:x,viewType:b,enabledHomeFeedTunerDesignChanges:w})=>{const P=(0,a.useDispatch)(),{locale:S}=(0,r.B)(),k=(0,p.jsxs)(c.xu,{"data-test-id":"nux-picker-topic",children:["graphql"!==f.type?(0,p.jsx)(g,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:i,isSelected:n,locale:S,nameTextSize:s,renderAsPill:u,showFollowerCount:m,topic:f.topic,topicBlob:f.topicBlob,topicInfoForContextualExp:f.topicInfoForContextualExp}):(0,p.jsx)(_,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:i,isSelected:n,locale:S,nameTextSize:s,renderAsPill:u,showFollowerCount:m,topicRef:f.topicRef}),!!f&&h&&(0,p.jsx)(c.xu,{paddingY:2,children:(0,p.jsx)(o.Z,{textType:t?"AddRemove":"FollowFollowing",followEventType:601,id:f.id,invertColors:t,inline:t&&w,isFollowed:f.is_followed,onFollow:e=>P((0,y.ZN)(e)),onUnfollow:e=>P((0,y.fv)(e)),size:"md",unfollowEventType:602,viewParameter:x||void 0,viewType:b||void 0})})]});let I="/";return f&&(I=`/topics/${f.id}`),v&&f.slug?(0,p.jsx)(c.iP,{role:"link",onTap:({event:e})=>{null==l||l(e)},tapStyle:"compress",rounding:2,href:I,children:(0,p.jsx)(c.xu,{padding:d,children:k})}):k},x=void 0!==v?v:v=i(964820),b=({topicRef:e,decreaseNamePadding:t=!1,isHomefeedTuner:i,isLego:n,isSelected:a=!1,nameTextSize:o="lg",onTouch:r,padding:s=2,renderAsPill:l,showFollowButton:d=!1,showFollowerCount:c=!1,shouldClickthrough:h=!1,viewParameter:m,viewType:_,enabledHomeFeedTunerDesignChanges:g})=>{var v,y;const b=(0,u.useFragment)(x,e);return(0,p.jsx)(f,{decreaseNamePadding:t,isHomefeedTuner:i,isLego:n,isSelected:a,nameTextSize:o,onTouch:r,padding:s,renderAsPill:l,showFollowButton:d,showFollowerCount:c,shouldClickthrough:h,viewParameter:m,viewType:_,enabledHomeFeedTunerDesignChanges:g,topic:{id:null!==(v=b.entityId)&&void 0!==v?v:"",type:"graphql",is_followed:null!==(y=b.is_followed)&&void 0!==y&&y,topicRef:b}})},w=({id:e,topic:t,topicBlob:i,topicInfoForContextualExp:n,decreaseNamePadding:o=!1,isHomefeedTuner:r,isLego:s,isSelected:l=!1,nameTextSize:d="lg",onTouch:c,padding:u=2,renderAsPill:h,showFollowButton:m=!1,showFollowerCount:_=!1,shouldClickthrough:g=!1,viewParameter:v,viewType:y,enabledHomeFeedTunerDesignChanges:x})=>{const b=(0,a.useSelector)((({topics:t})=>t[e])),w=null!=t?t:b;return(0,p.jsx)(f,{decreaseNamePadding:o,isHomefeedTuner:r,isLego:s,isSelected:l,nameTextSize:d,onTouch:c,padding:u,renderAsPill:h,showFollowButton:m,showFollowerCount:_,shouldClickthrough:g,viewParameter:v,viewType:y,enabledHomeFeedTunerDesignChanges:x,topic:{id:e,is_followed:!(null==w||!w.is_followed),topic:w,topicBlob:i,topicInfoForContextualExp:n,type:"resource"}})},P=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:i,isSelected:n=!1,nameTextSize:a="lg",onTouch:o,padding:r=2,renderAsPill:s,showFollowButton:l=!1,showFollowerCount:d=!1,shouldClickthrough:c=!1,viewParameter:u,viewType:h,enabledHomeFeedTunerDesignChanges:m,..._})=>_.topicRef?(0,p.jsx)(b,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:i,isSelected:n,nameTextSize:a,onTouch:o,padding:r,renderAsPill:s,showFollowButton:l,showFollowerCount:d,shouldClickthrough:c,viewParameter:u,viewType:h,topicRef:_.topicRef,enabledHomeFeedTunerDesignChanges:m}):(0,p.jsx)(w,{id:_.id,decreaseNamePadding:e,isHomefeedTuner:t,isLego:i,isSelected:n,nameTextSize:a,onTouch:o,padding:r,renderAsPill:s,showFollowButton:l,showFollowerCount:d,shouldClickthrough:c,topic:_.topic,topicBlob:_.topicBlob,topicInfoForContextualExp:_.topicInfoForContextualExp,viewParameter:u,viewType:h,enabledHomeFeedTunerDesignChanges:m})},430235:(e,t,i)=>{i.d(t,{Z:()=>S});var n,a=i(667294),o=i(248975),r=i(862628),s=i(898781),l=i(759177),d=i(667679),c=i(62409),u=i(349700),p=i(867820),h=i(350118),m=i(276775),_=i(780679),g=i(883119),v=i(167912),y=i(785893);const f=({children:e,onTap:t})=>{const[i,n]=(0,a.useState)(!1);return(0,y.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:i?"rgba(0, 0, 0, 0.06)":void 0}},rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,y.jsx)(g.iP,{onTap:t,onBlur:()=>n(!1),onFocus:()=>n(!0),onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:e})})},x=void 0!==n?n:n=i(12617);function b({desktopContextMenuState:e,isMainPinImage:t,source:i,images:n,embedSrc:l,embedType:c,sourceUserUsername:h,sourceUserFullname:v,pinJoinVisualAnnotation:x,pinJoinSeoBreadcrumbName:b,pinJoinSeoBreadcrumbUrl:w,pinId:P,pinLink:S}){var k;const I=(0,s.ZP)(),T=(0,m.useHistory)(),j=(0,o.Z)({images:n,embedSrc:l,embedType:c}),C=b,A=w,E=null!==(k=null==x?void 0:x[0])&&void 0!==k?k:void 0,R=(0,r.Z)(E),D=`/search/pins/?q=${encodeURIComponent(R)}&rs=image_only_attribution`,L=(0,d.Z)(),F="dweb.plp.ellipsis.button"===i,O=(0,_.g)();return j?(0,y.jsxs)(g.xu,{"data-test-id":"desktop-context-menu",position:"fixed",dangerouslySetInlineStyle:{__style:{top:`${e.yPosition}px`,left:`${e.xPosition}px`}},zIndex:new g.Ry(99999),color:"default",rounding:2,borderStyle:"shadow",display:"flex",direction:"column",paddingY:3,paddingX:2,maxWidth:250,children:[(0,y.jsx)(g.xu,{rounding:2,paddingX:3,paddingY:2,role:"img",children:(0,y.jsx)(g.JO,{icon:"pinterest",accessibilityLabel:I.bt(" Pinterest", "Pinterest logo", "dweb.unauth.context_menu.pinterest_logo", undefined, true),color:"brandPrimary"})}),(0,y.jsx)(f,{onTap:()=>{(0,p.My)("dweb.unauth.context_menu.save_image"),L({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_context_menu_download_image",desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save",savePinId:P}}}),O&&O.setUpsellReason("click_context_menu_action_bar_ellipsis_save_button")},children:(0,y.jsx)(g.xv,{size:"200",weight:"bold",children:I.bt(" ", "Save image", "dweb.unauth.context_menu.link.save_image", undefined, true)})}),!(t||F&&!S)&&(0,y.jsx)(f,{onTap:()=>{(0,p.My)(F?"dweb.unauth.context_menu.open_plp_new_tab.from.ellipsis.button":"dweb.unauth.context_menu.open_plp_new_tab"),window.open(F?S:`/pin/${P}/`),F||L({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_context_menu_open_plp_new_tab",desktopOptions:{modalType:"login"}})},children:(0,y.jsx)(g.xv,{size:"200",weight:"bold",children:I.bt("    ", "Open link in new tab", "dweb.unauth.context_menu.link.plp_new_tab", undefined, true)})}),(E||!(!C||!A))&&(0,y.jsx)(f,{onTap:()=>{(0,p.My)("dweb.unauth.context_menu.see_more_pins"),A?T.push(`${A}`):T.push(D)},children:C?(0,y.jsx)(g.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,u.nk)(I.bt("     {{levelOneInterestName}}", "See more ideas about {{levelOneInterestName}}", "dweb.unauth.context_menu.link.see_more_ideas.l1", undefined, true),{levelOneInterestName:C})}):(0,y.jsx)(g.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,u.nk)(I.bt("     {{interestTag}}", "See more ideas about {{interestTag}}", "dweb.unauth.context_menu.link.see_more_ideas.interest_tag", undefined, true),{interestTag:E})})}),!(!v||!h)&&(0,y.jsx)(f,{onTap:()=>{(0,p.My)("dweb.unauth.context_menu.more_from_creator"),T.push(`/${h}/`)},children:(0,y.jsx)(g.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,u.nk)(I.bt("     {{full_name}}", "See more from {{full_name}}", "dweb.unauth.context_menu.link.more_from_creator", undefined, true),{full_name:v})})}),(0,y.jsx)(a.Fragment,{children:(0,y.jsx)(f,{onTap:()=>{(0,p.My)("dweb.unauth.context_menu.login_signup"),L({reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_context_menu_login_signup",desktopOptions:{modalType:"login"}}),O&&O.setUpsellReason("click_context_menu_action_bar_ellipsis_signup_or_login_button")},children:(0,y.jsx)(g.xv,{size:"200",weight:"bold",children:I.bt("  ,   ", "Log in or sign up for more", "dweb.unauth.context_menu.link.login_signup", undefined, true)})})})]}):null}function w({graphqlRef:e,pinId:t,useNativeCreatorAsPinner:i,...n}){var a,o,r,s,d;const c=(0,v.useFragment)(x,e),u=(0,l.Z)(c);let p;var h,m;(p=null!=c&&c.nativeCreator?c.nativeCreator:null!=c&&c.linkDomain?c.linkDomain.officialUser:(null==c?void 0:c.originPinner)||(null==c?void 0:c.pinner),p)||(p=null!==(h=null==c||null===(m=c.linkDomain)||void 0===m?void 0:m.officialUser)&&void 0!==h?h:null==c?void 0:c.pinner);return(0,y.jsx)(b,{...n,embedSrc:(null==c?void 0:c.embed)&&c.embed.src,embedType:(null==c?void 0:c.embed)&&c.embed.type,images:u,sourceUserUsername:null===(a=p)||void 0===a?void 0:a.username,sourceUserFullname:null===(o=p)||void 0===o?void 0:o.fullName,pinJoinVisualAnnotation:null==c||null===(r=c.pinJoin)||void 0===r?void 0:r.visualAnnotation,pinJoinSeoBreadcrumbName:(null==c||null===(s=c.pinJoin)||void 0===s?void 0:s.seoBreadcrumbs)&&(c.pinJoin.seoBreadcrumbs.length>0?c.pinJoin.seoBreadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==c||null===(d=c.pinJoin)||void 0===d?void 0:d.seoBreadcrumbs)&&(c.pinJoin.seoBreadcrumbs.length>0?c.pinJoin.seoBreadcrumbs[0].url:null),pinId:t})}function P({graphqlRef:e,pinId:t,useNativeCreatorAsPinner:i,...n}){var a,o,r,s,l,d;const u=(0,h.S6)()(t),{link_domain:p,native_creator:m,origin_pinner:_,pinner:g}=u||{};let v=(0,c.wS)(p,m,_,g);var f,x;v||(v=null!==(f=null==u||null===(x=u.link_domain)||void 0===x?void 0:x.official_user)&&void 0!==f?f:null==u?void 0:u.pinner);const{full_name:w,username:P}=null!==(a=v)&&void 0!==a?a:{};return(0,y.jsx)(b,{...n,embedSrc:null==u||null===(o=u.embed)||void 0===o?void 0:o.src,embedType:null==u||null===(r=u.embed)||void 0===r?void 0:r.type,images:null==u?void 0:u.images,sourceUserUsername:w,sourceUserFullname:P,pinJoinVisualAnnotation:null==u||null===(s=u.pin_join)||void 0===s?void 0:s.visual_annotation,pinJoinSeoBreadcrumbName:(null==u||null===(l=u.pin_join)||void 0===l?void 0:l.seo_breadcrumbs)&&(u.pin_join.seo_breadcrumbs.length>0?u.pin_join.seo_breadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==u||null===(d=u.pin_join)||void 0===d?void 0:d.seo_breadcrumbs)&&(u.pin_join.seo_breadcrumbs.length>0?u.pin_join.seo_breadcrumbs[0].url:null),pinId:t})}function S(e){return e.graphqlRef?(0,y.jsx)(w,{...e}):(0,y.jsx)(P,{...e})}},447409:(e,t,i)=>{i.d(t,{n:()=>P,Z:()=>S});var n=i(702664),a=i(598615),o=i(821997),r=i(966476);const s=({children:e,fallback:t})=>(()=>{const e=(0,n.useSelector)((e=>{var t;return!(null==e||null===(t=e.session)||void 0===t||!t.isSeoBot)})),t=(0,r.Z)();return!e&&!t})()?t||null:e;var l=i(938917),d=i(898781),c=i(893101),u=i(112690),p=i(867820),h=i(780280);var m=i(52022),_=i(643010),g=i(948376),v=i(773285),y=i(385740),f=i(53987),x=i(883119),b=i(276775),w=i(785893);const P=56;function S(){const e=(0,d.ZP)(),t=(0,b.useLocation)(),i=(0,b.useHistory)(),{viewType:r,viewParameter:S}=(0,y.SU)(),{userAgentPlatform:k,userAgent:I}=(0,n.useSelector)((({session:e})=>e)),T=(0,g.Rp)({platform:k,userAgent:I}),j=(0,c.Z)(),C=function(){const{isBot:e}=(0,h.B)();return(t,i)=>{e||(0,p.NC)(t,i)}}(),A=(0,l.Z)(),{checkExperiment:E}=(0,v.F)(),R=(0,u.Z)(),D=(0,m.Z)(),L=e.bt("", "Log in", "Label for log in button", undefined, true),F=e.bt("", "Sign up", "Text on button on the top bar that leads users to signing up.", undefined, true),O=e.bt("", "Download", "mweb.unauth.interstitial_upsell.download_button_text", undefined, true),z=!T&&!(0,f.Xn)(t),N=((0,f.dr)(t)||(0,f.$Y)(t)||(0,f.E0)(t))&&!E("lex_follow_button").group.includes("main_cta"),M=!A||j||N?"signup":"download",Z=(z?L.length:0)+("signup"===M?F.length:0)+("download"===M?O.length:0);return(0,w.jsx)(x.xu,{dangerouslySetInlineStyle:{__style:{boxShadow:"0 1px 0 0 rgba(0, 0, 0, 0.08)",backgroundColor:(0,_.Yc)()?"#333":"white",transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:"translateY(0)"}},top:!0,left:!0,width:"100vw",position:"relative",paddingX:3,children:(0,w.jsxs)(x.xu,{alignItems:"center","data-test-id":"unauth-header",direction:"row",display:"flex",justifyContent:"between",children:[(0,w.jsx)(x.iP,{accessibilityLabel:e.bt(" Pinterest", "Pinterest App", "Pinterest icon for app upsell", undefined, true),onTap:()=>{D({action:"click",within:"unauth-header",item:"pinterest-logo"})},children:(0,w.jsxs)(x.xu,{alignItems:"center",display:"flex",direction:"row",marginEnd:3,children:[(0,w.jsx)(x.xu,{alignItems:"center",display:"flex",height:P,justifyContent:"center",rounding:2,"data-test-id":"pinterest-logo-icon",children:(0,w.jsx)(x.iP,{role:"link",tapStyle:"none",href:"/",children:T?(0,w.jsx)(o.Z,{size:24}):(0,w.jsx)(x.hU,{icon:"pinterest",iconColor:"brandPrimary",padding:1,size:"xl",accessibilityLabel:e.bt(" Pinterest", "Pinterest App", "Pinterest icon for app upsell", undefined, true)})})}),(0,w.jsx)(x.xu,{paddingY:2,paddingX:1,"data-test-id":"pinterest-logo-text",children:Z<18&&(0,w.jsxs)(x.xu,{children:[(0,w.jsx)(x.X6,{color:"error",size:"400",overflow:"normal",children:T?e.bt("Pinterest Lite", "Pinterest Lite", "Pinterest lite brand for the app upsell", undefined, true):e.bt("Pinterest", "Pinterest", "Pinterest brand for the app upsell", undefined, true)}),T&&(0,w.jsx)(x.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},children:(0,w.jsx)(x.xu,{children:(0,w.jsx)(x.xv,{inline:!0,size:"100",color:"subtle",children:e.bt("    ", "Save space on your device", "Unauth app upsell copy that describe Pinterest product core value to users", undefined, true)})})})]})})]})}),(0,w.jsx)(s,{children:(0,w.jsxs)(x.xu,{marginEnd:0,flex:"none",alignItems:"center",display:"flex",direction:"row","data-test-id":"UnauthAppUpsellButton",children:[z&&(0,w.jsx)(x.xu,{"data-test-id":"login-button",children:(0,w.jsx)(x.zx,{fullWidth:!0,color:"white",onClick:()=>{D({action:"click",within:"unauth-header",item:"login-button"}),R({component:13198,element:30,event_type:102,view_type:r,view_parameter:S}),C("press_header_login"),R({event_type:10241,element:30,component:14213,view_type:r,view_parameter:S,aux_data:{upsell_reason:"click_login_on_header"}}),i.push({pathname:"/login",state:{attributionLabel:"click_login_on_header",...t.state}})},size:"md",text:L})}),"signup"===M?(0,w.jsx)(x.xu,{"data-test-id":"signup-button",children:(0,w.jsx)(x.zx,{fullWidth:!0,color:N?"red":"gray",onClick:()=>{D({action:"click",within:"unauth-header",item:"signup-button"}),R({component:13198,element:31,event_type:102,view_type:r,view_parameter:S}),C("press_header_signup"),R({event_type:10241,element:31,component:14215,view_type:r,view_parameter:S,aux_data:{upsell_reason:"click_signup_on_header"}}),i.push({pathname:"/signup",state:{attributionLabel:"click_signup_on_header",...t.state}})},size:"md",text:F})}):(0,w.jsx)(x.xu,{"data-test-id":"download-button",children:(0,w.jsx)(a.Z,{componentType:14161,within:"unauth-header",children:({handleOpenApp:e})=>(0,w.jsx)(x.zx,{fullWidth:!0,color:(0,f.j8)(t)||E("lex_follow_button").group.includes("main_cta")?"gray":"red",onClick:()=>e(),size:"md",text:O})})})]})})]})})}},874317:(e,t,i)=>{i.d(t,{Yw:()=>S,ZP:()=>C,nt:()=>P});var n,a=i(598615),o=i(326960),r=i(248975),s=i(63552),l=i(862628),d=i(938917),c=i(898781),u=i(759177),p=i(667679),h=i(62409),m=i(349700),_=i(867820),g=i(538232),v=i(773285),y=i(350118),f=i(276775),x=i(883119),b=i(167912),w=i(785893);const P=250,S={WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",MsUserSelect:"none",KhtmlUserSelect:"none",UserSelect:"none"},k=void 0!==n?n:n=i(167074);function I({mwebContextMenuState:e,openShareModal:t,setMwebContextMenuState:i,pinId:n,images:u,embedSrc:h,embedType:y,sourceUserUsername:b,sourceUserFullname:S,pinDownloadFilename:k,pinImageSignature:I,pinJoinVisualAnnotation:T,pinJoinSeoBreadcrumbName:j,pinJoinSeoBreadcrumbUrl:C}){var A;const E=(0,c.ZP)(),R=(0,f.useHistory)(),D=(0,r.Z)({images:u,embedSrc:h,embedType:y}),{isChromeOnIOS:L}=(0,g.R)(),F=j,O=C,z=null!==(A=null==T?void 0:T[0])&&void 0!==A?A:void 0,N=(0,l.Z)(z),M=`/search/pins/?q=${encodeURIComponent(N)}&rs=image_only_attribution`,Z=(0,p.Z)(),U=(0,g.R)(),{checkExperiment:B}=(0,v.F)(),V=(0,d.Z)();return D?(0,w.jsxs)(x.xu,{"data-test-id":"mobile-context-menu",position:"absolute",dangerouslySetInlineStyle:{__style:{top:`${e.yPosition}px`,left:`${e.xPosition}px`}},zIndex:new x.Ry(99999),color:"default",rounding:2,borderStyle:"shadow",display:"flex",direction:"column",paddingY:3,paddingX:2,maxWidth:P,children:[(0,w.jsxs)(x.xu,{rounding:2,paddingX:3,paddingY:2,role:"img",direction:"row",display:"flex",alignItems:"center",justifyContent:"between",children:[(0,w.jsx)(x.JO,{icon:"pinterest",accessibilityLabel:E.bt(" Pinterest", "Pinterest logo", "unauth.mweb.context_menu.pinterest_logo", undefined, true),color:"brandPrimary"}),(0,w.jsx)(x.xu,{alignSelf:"end","data-test-id":"mobile-context-menu-cancel-button",children:(0,w.jsx)(x.iP,{onTap:({event:e})=>{e.stopPropagation(),i(null)},children:(0,w.jsx)(x.JO,{icon:"cancel",accessibilityLabel:E.bt("    -", "Dismiss mweb context menu", "unauth.mweb.context_menu.dismiss", undefined, true)})})})]}),"main"===e.context&&V&&B("mweb_main_pin_ltcm_open_in_app").anyEnabled&&(0,w.jsx)(a.Z,{componentType:18,within:"mweb-context-menu",children:({handleOpenApp:e})=>(0,w.jsx)(x.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(x.iP,{onTap:({event:t})=>{t.stopPropagation(),i(null),e({deepLinkUri:`/pin/${n}/`}),(0,_.My)("unauth.mweb.context_menu.open_in_app")},children:(0,w.jsx)(x.xv,{size:"200",weight:"bold",children:E.bt("  ", "Open in App", "unauth.mweb.context_menu.link.open_in_app", undefined, true)})})})}),["download","short_d"].includes(e.context)&&I?(0,w.jsx)(x.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(o.Z,{imgSrc:D,isChromeOnIOS:L,filename:k,pinId:n,viewType:3,imageSignature:I,children:e=>(0,w.jsx)(s.Z,{pressState:"none",onTouch:t=>{e().then((()=>{t.stopPropagation(),i(null),(0,_.My)("unauth.mweb.context_menu.download_image")}))},children:(0,w.jsx)(x.xv,{size:"200",weight:"bold",children:E.bt(" ", "Download image", "unauth.mweb.related_pin.context_menu.link.download_image", undefined, true)})})})}):(0,w.jsx)(x.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(x.iP,{onTap:({event:e})=>{e.stopPropagation(),i(null),(0,_.My)("unauth.mweb.context_menu.save_image"),e&&U.saveButtonConfig.onSaveButtonClick(e)},children:(0,w.jsx)(x.xv,{size:"200",weight:"bold",children:E.bt(" ", "Save image", "unauth.mweb.context_menu.link.save_image", undefined, true)})})}),["download","save","short_s","short_d"].includes(e.context)&&(0,w.jsx)(x.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(x.iP,{onTap:({event:e})=>{e.stopPropagation(),i(null),t&&t(!0),(0,_.My)("unauth.mweb.context_menu.share_related_pin")},children:(0,w.jsx)(x.xv,{size:"200",weight:"bold",children:E.bt(" ", "Share image", "unauth.mweb.context_menu.link.share_menu", undefined, true)})})}),(0,w.jsx)(x.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(x.iP,{onTap:({event:e})=>{e.stopPropagation(),i(null),(0,_.My)("unauth.mweb.context_menu.open_plp_new_tab"),window.open(`/pin/${n}/`)},children:(0,w.jsx)(x.xv,{size:"200",weight:"bold",children:E.bt("    ", "Open link in new tab", "unauth.mweb.context_menu.link.plp_new_tab", undefined, true)})})}),["download","save","main"].includes(e.context)&&(z||!(!F||!O))&&(0,w.jsx)(x.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(x.iP,{onTap:()=>{(0,_.My)("unauth.mweb.context_menu.see_more_pins"),R.push(O?`${O}`:M)},children:F?(0,w.jsx)(x.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,m.nk)(E.bt("     {{levelOneInterestName}}", "See more ideas about {{levelOneInterestName}}", "unauth.mweb.context_menu.link.see_more_ideas.l1", undefined, true),{levelOneInterestName:F})}):(0,w.jsx)(x.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,m.nk)(E.bt("     {{interestTag}}", "See more ideas about {{interestTag}}", "unauth.mweb.context_menu.link.see_more_ideas.interest_tag", undefined, true),{interestTag:z})})})}),["download","save","main"].includes(e.context)&&!(!S||!b)&&(0,w.jsx)(x.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(x.iP,{onTap:()=>{(0,_.My)("unauth.mweb.context_menu.more_from_creator"),R.push(`/${b}/`)},children:(0,w.jsx)(x.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,m.nk)(E.bt("     {{full_name}}", "See more from {{full_name}}", "unauth.context_menu.link.more_from_creator", undefined, true),{full_name:S})})})}),(0,w.jsx)(x.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(x.iP,{onTap:({event:e})=>{e.stopPropagation(),i(null),(0,_.My)("unauth.mweb.context_menu.login_signup"),Z({reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_context_menu_login_signup"})},children:(0,w.jsx)(x.xv,{size:"200",weight:"bold",children:E.bt("  ,   ", "Log in or sign up for more", "unauth.mweb.context_menu.link.login_signup", undefined, true)})})})]}):null}function T({graphqlRef:e,pinId:t,...i}){var n,a,o,r,s;const l=(0,b.useFragment)(k,e),d=(0,u.Z)(l);let c;var p,h;(c=null!=l&&l.nativeCreator?l.nativeCreator:null!=l&&l.linkDomain?l.linkDomain.officialUser:(null==l?void 0:l.originPinner)||(null==l?void 0:l.pinner),c&&"string"!=typeof c)||(c=null!==(p=null==l||null===(h=l.linkDomain)||void 0===h?void 0:h.officialUser)&&void 0!==p?p:null==l?void 0:l.pinner);const m=(null==l?void 0:l.gridTitle)||(null==l?void 0:l.closeupUnifiedDescription),_=null==l?void 0:l.imageSignature;return(0,w.jsx)(I,{...i,embedSrc:(null==l?void 0:l.embed)&&l.embed.src,embedType:(null==l?void 0:l.embed)&&l.embed.type,images:d,sourceUserUsername:null===(n=c)||void 0===n?void 0:n.username,sourceUserFullname:null===(a=c)||void 0===a?void 0:a.fullName,pinDownloadFilename:m,pinImageSignature:_,pinJoinVisualAnnotation:null==l||null===(o=l.pinJoin)||void 0===o?void 0:o.visualAnnotation,pinJoinSeoBreadcrumbName:(null==l||null===(r=l.pinJoin)||void 0===r?void 0:r.seoBreadcrumbs)&&(l.pinJoin.seoBreadcrumbs.length>0?l.pinJoin.seoBreadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==l||null===(s=l.pinJoin)||void 0===s?void 0:s.seoBreadcrumbs)&&(l.pinJoin.seoBreadcrumbs.length>0?l.pinJoin.seoBreadcrumbs[0].url:null),pinId:t})}function j({graphqlRef:e,pinId:t,...i}){var n,a,o,r,s,l;const d=(0,y.S6)()(t),{link_domain:c,native_creator:u,origin_pinner:p,pinner:m}=d||{};let _=(0,h.wS)(c,u,p,m);var g,v;_&&"string"!=typeof _||(_=null!==(g=null==d||null===(v=d.link_domain)||void 0===v?void 0:v.official_user)&&void 0!==g?g:m);const{full_name:f,username:x}=null!==(n=_)&&void 0!==n?n:{},b=(null==d?void 0:d.grid_title)||(null==d?void 0:d.closeup_unified_description),P=null==d?void 0:d.image_signature;return(0,w.jsx)(I,{...i,embedSrc:null==d||null===(a=d.embed)||void 0===a?void 0:a.src,embedType:null==d||null===(o=d.embed)||void 0===o?void 0:o.type,images:null==d?void 0:d.images,sourceUserUsername:f,sourceUserFullname:x,pinDownloadFilename:b,pinImageSignature:P,pinJoinVisualAnnotation:null==d||null===(r=d.pin_join)||void 0===r?void 0:r.visual_annotation,pinJoinSeoBreadcrumbName:(null==d||null===(s=d.pin_join)||void 0===s?void 0:s.seo_breadcrumbs)&&(d.pin_join.seo_breadcrumbs.length>0?d.pin_join.seo_breadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==d||null===(l=d.pin_join)||void 0===l?void 0:l.seo_breadcrumbs)&&(d.pin_join.seo_breadcrumbs.length>0?d.pin_join.seo_breadcrumbs[0].url:null),pinId:t})}function C(e){return e.graphqlRef?(0,w.jsx)(T,{...e}):(0,w.jsx)(j,{...e})}},893101:(e,t,i)=>{i.d(t,{Z:()=>m});var n=i(702664),a=i(172071),o=i(938917),r=i(436851),s=i(948376),l=i(50286),d=i(276775),c=i(780280),u=i(56390),p=i(339363),h=i(53987);const m=()=>{const{isBot:e}=(0,c.B)(),t=(0,d.useLocation)(),{userAgentPlatform:i,userAgent:m}=(0,n.useSelector)((e=>e.session)),_=(0,o.Z)(),g=(0,l.ml)();return!e&&!(g&&!_)&&!(0,s.Rp)({platform:i,userAgent:m})&&((0,h.uM)(t)||(0,h.am)(t))&&!(0,u.P)()&&!(e=>!!(0,r.d)(e)&&((0,p.qn)("ufausfiiab")||(a.Z.increment("unauth.floating_app_upsell.suppress_for_instagram_in_app_browser"),(0,p.Nh)("ufausfiiab","1")),!0))(m)}},862193:(e,t,i)=>{i.d(t,{Z:()=>s});var n,a=i(667294),o=i(167912);const r=void 0!==n?n:n=i(569772),s=e=>{var t;const i=(0,o.useFragment)(r,e),n=null==i||null===(t=i.pinJoin)||void 0===t?void 0:t.annotationsWithLinksArray;return(0,a.useMemo)((()=>null==n?void 0:n.reduce(((e,{name:t,url:i})=>t?{...e,[t]:{name:t,url:i}}:e),{})),[n])}},491563:(e,t,i)=>{i.d(t,{Z:()=>w});var n=i(667294),a=i(702664),o=i(116303),r=i(815613),s=i(149230),l=i(898781),d=i(883119),c=i(785893);const u={__style:{backgroundColor:"rgba(0, 0, 0, 0.04)"}},p=({height:e,image:t,width:i})=>{var n,a,o;const r=(0,l.ZP)();return(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{borderRight:"1px solid white"}},children:t?(0,c.jsxs)(d.xu,{position:"relative",children:[(0,c.jsx)(d.GH,{width:i,height:e,contentAspectRatio:"number"==typeof t.height&&"number"==typeof t.width?t.width/t.height:1,children:(0,c.jsx)(d.Ee,{alt:r.bt(" ", "pin image", "alt text for pin image", undefined, true),color:t.dominant_color||void 0,naturalWidth:null!==(n=t.width)&&void 0!==n?n:1,naturalHeight:null!==(a=t.height)&&void 0!==a?a:1,src:null!==(o=t.url)&&void 0!==o?o:""})}),(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:u,height:e,width:i,position:"absolute",top:!0,left:!0})]}):(0,c.jsx)(d.xu,{color:"secondary",width:i,height:e})})};var h=i(112690),m=i(892819),_=i(865673),g=i(57791),v=i(349700),y=i(698330),f=i(780280),x=i(861411),b=i(461773);function w({action:e,auxData:t,isPinnerAuthorityHero:i=!1,userSearchRepStyle:u=!1,onFollowUser:w,onUnfollowUser:P,userId:S,userPins:k,viewParameter:I,viewType:T,truncateName:j=!1}){const C=(0,l.ZP)(),A=(0,m.Z)(),E=(0,a.useDispatch)(),{locale:R}=(0,f.B)(),D=(0,h.Z)(),[L,F]=(0,n.useState)(u?window.innerWidth-16:null),O=(0,y.mN)()(S);if(!O)return null;const{contextual_pin_image_urls:z,explicitly_followed_by_me:N,follower_count:M=0,full_name:Z,image_medium_url:U,is_verified_merchant:B,recent_pin_images:V,username:H,verified_identity:W}=O,$=e=>L?(L-(e-1))/e:0,K=u?1.6*$(4):117,G=(null==k?void 0:k.map((e=>{var t;return null==e||null===(t=e.images)||void 0===t?void 0:t["236x"]})))||[],q=(null==V?void 0:V["222x"])||(null==V?void 0:V["192x"])||[];let Y=(null==z?void 0:z["222x"])||(null==z?void 0:z["192x"])||[];i&&0===Y.length&&(Y=q);const J=u&&Y.length<=0;let X=u?Y.concat(q).slice(0,4):G.concat(q).slice(0,2);0===X.length&&(X=[void 0,void 0]);const Q=!J&&(L?(0,c.jsx)(d.zd,{rounding:4,children:(0,c.jsx)(d.kC,{children:X.map(((e,t)=>(0,c.jsx)(p,{height:K,image:e,width:$(X.length)},`pinImage-${t}`)))})}):(0,c.jsx)(d.xu,{height:K,ref:e=>{e&&F(e.offsetWidth)},width:"100%"})),ee=e=>(0,c.jsx)(d.kC,{justifyContent:"center",children:(0,c.jsx)(d.xu,{marginTop:e,height:60,width:60,children:(0,c.jsx)(o.Z,{outline:!0,name:null!=Z?Z:"",src:null!=U?U:""})})}),te=e=>(0,c.jsxs)(d.kC,{direction:"column",gap:{row:0,column:1},alignItems:e,children:[(0,c.jsx)(d.kC,{alignItems:"stretch",maxWidth:(u?(L||0)/2:L)||void 0,children:(0,c.jsx)(d.xv,{align:e,weight:"bold",lineClamp:j?1:void 0,children:B||null!=W&&W.verified?(0,c.jsx)(_.Z,{badgeSize:"md",badgeSpacing:2,fullName:null!=Z?Z:"",verifiedType:B?"verifiedMerchant":"verifiedIdentity",truncate:j}):Z})}),(0,c.jsx)(d.xv,{inline:!0,size:"100",align:e,children:(0,v.nk)(C.nbt(["{{followers}} ", "{{followers}} ", "{{followers}} "], M, "PinnerAuthority.followersCount", true),{followers:A(R,M,{shortform:!0})})})]}),ie=(0,c.jsx)(d.kC,{justifyContent:"center",children:e&&e.url?(0,c.jsx)(d.zx,{role:"link",accessibilityLabel:e.text,color:"gray",size:"lg",text:e.text,href:e.url,onClick:()=>{D({event_type:9029,object_id_str:S,view_type:T,view_parameter:I,aux_data:t})},rel:(0,s.Z)({url:e.url})?"nofollow":void 0,target:(0,s.Z)({url:e.url})?"blank":void 0}):(0,c.jsx)(r.Z,{id:S,isSecondaryButton:!0,isFollowed:N,onFollow:e=>{w&&w(),E((0,b.ZN)(e))},onUnfollow:e=>{P&&P(),E((0,b.fv)(e))},size:"lg",followEventType:45,unfollowEventType:46,viewParameter:I,viewType:T})});return(0,c.jsx)(x.Cy,{loggingId:S,objectIdStr:S,slotIndex:0,viewParameter:I,viewType:T,children:({impressionTrackerRef:e})=>(0,c.jsx)(d.xu,{ref:e,padding:1,marginBottom:6,"data-test-id":"user-rep",children:(0,c.jsx)(g.MZ,{to:`/${H}/`,onTouch:()=>{D({event_type:43,object_id_str:S,view_parameter:I,view_type:T})},children:(0,c.jsxs)(d.kC,{direction:"column",gap:{row:0,column:2},width:"100%",children:[Q,u?(0,c.jsx)(d.xu,{width:"100%",children:(0,c.jsxs)(d.kC,{justifyContent:"between",alignItems:"center",children:[(0,c.jsxs)(d.kC,{alignItems:"center",gap:{row:2,column:0},children:[ee(),te("start")]}),ie]})}):(0,c.jsxs)(d.kC,{direction:"column",gap:{row:0,column:2},children:[ee(-10),te("center"),ie]})]})})})})}},865673:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(667294),a=i(512176),o=i(883119),r=i(785893);const s=function({badgeSize:e,badgeSpacing:t,fullName:i,verifiedType:s,truncate:l=!1}){const d=i.split(" "),c=d.slice(0,d.length-1).join(" "),u=" ".concat(d[d.length-1]);return l?(0,r.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,r.jsx)(o.xv,{lineClamp:1,weight:"bold",children:i}),(0,r.jsx)(o.xu,{flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:t}},paddingX:1,children:(0,r.jsx)(a.Z,{isVerifiedMerchant:"verifiedMerchant"===s,size:e,showVerifiedIdentity:"verifiedIdentity"===s})})]}):(0,r.jsxs)(n.Fragment,{children:[(0,r.jsx)("span",{children:c}),(0,r.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[u,"",(0,r.jsx)(o.xu,{display:"inlineBlock",flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:t}},children:(0,r.jsx)(a.Z,{isVerifiedMerchant:"verifiedMerchant"===s,size:e,showVerifiedIdentity:"verifiedIdentity"===s})})]})]})}},926749:(e,t,i)=>{i.d(t,{ZP:()=>S});var n=i(667294),a=i(23279),o=i.n(a),r=i(722767);function s(e){const{eventData:{videoEvent:{videoDuration:t,startTime:i,endTime:n,videoStartTime:a,videoEndTime:o,isAudible:r,height:s,width:l,playbackState:d,quartile:c,quartilePercentValue:u,windowHeight:p,windowWidth:h,viewability:m}},component:_,objectId:g,view:v,viewParameter:y,...f}=e;return{component:_,object_id_str:g,view_type:v,view_parameter:y,aux_data:{...f},event_data:{videoEventData:{videoDuration:t,time:i,endTime:n,videoTime:a,endVideoTime:o,isAudible:r,height:s,width:l,playbackState:d,quartile:c,quartilePercentValue:u,windowHeight:p,windowWidth:h,viewability:m}}}}var l=i(121630),d=i(944546),c=i(407043),u=i(158103),p=i(883119),h=i(785893);function m(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const _=[0,.25,.5,.75,.95,.97],g=[0,.5,.8,.99,1],v="-64px 0px 0px 0px",y={rootMargin:v,threshold:g},f={rootMargin:v,threshold:d.iM},x=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function b(){return(new Date).getTime()}function w(e){return!!e.volume&&e.volume>0}class P extends n.Component{constructor(e){super(e),m(this,"videoWrapperRef",(0,n.createRef)()),m(this,"handleWindowResize",(()=>{if(!this.fullscreen){const e=this.getDimensions(),{height:t,width:i}=this.currentInterval;e.height!==t||e.width!==i?this.startNewInterval(e):(this.currentInterval.windowHeight=e.windowHeight,this.currentInterval.windowWidth=e.windowWidth)}})),m(this,"handlePlayheadDown",(({event:e})=>{const{onPlayheadDown:t}=this.props;this.setState({seeking:!0}),t&&t({event:e})})),m(this,"handlePlayheadUp",(({event:e})=>{const{onPlayheadUp:t}=this.props;this.setState({seeking:!1}),t&&t({event:e})})),m(this,"handleLoop",(()=>{this.videoTime=0})),m(this,"handleTimeChange",(e=>{const{seeking:t,ready:i}=this.state;if(!this.currentInterval.videoDuration)return;const n=1e3*e.time,a=function(e,t,i,n){if(e>t)return null;if(i<=0)return null;for(const a of n){const n=a*i;if(e<=n&&t>n)return a}return null}(this.videoTime,n,this.currentInterval.videoDuration,_);if("number"==typeof a&&this.props.playing&&!t&&i){const e=b();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*a),quartilePercentValue:a})}this.videoTime=n,this.props.onTimeChange&&this.props.onTimeChange(e)})),m(this,"handleDurationChange",(e=>{this.currentInterval.videoDuration=1e3*e.duration,this.props.onDurationChange&&this.props.onDurationChange(e)})),m(this,"handleReady",(e=>{const{ready:t}=this.state;t||this.setState({ready:!0}),this.props.onReady&&this.props.onReady(e)})),m(this,"handleEnded",(e=>{this.logFourthQuartileEvent(),this.props.loop&&(this.startNewInterval(),this.currentInterval.videoStartTime=0),this.props.onEnded&&this.props.onEnded(e)})),m(this,"handleVisibilityChange",((e,t)=>{if(0===e.length)return;const i=e.slice(-1)[0],n=function(e,t){for(let i=0;i<t.length;i+=1){const n=t[i],a=t[i+1];if(null==a)return n;if(n<=e&&e<a)return n}return null}(Number.parseFloat(i.intersectionRatio.toFixed(2)),g);"number"==typeof n&&(this.visible=n>=.5),null==n||n===this.currentInterval.viewability||this.fullscreen||(0===n?this.startNewInterval({viewability:n,playbackState:x.PAUSED}):this.startNewInterval({viewability:n}))})),m(this,"handleFullscreenChange",(({event:e,fullscreen:t})=>{if(t){const{height:e,width:t}=window.screen;this.startNewInterval({height:e,width:t,windowHeight:e,windowWidth:t})}else t||this.startNewInterval(this.getDimensions());this.fullscreen=t,this.props.onFullscreenChange&&this.props.onFullscreenChange({event:e,fullscreen:t})})),m(this,"handleClose",(()=>{this.startNewInterval()})),m(this,"handleContextMenu",(e=>{e.preventDefault()})),this.state={ready:!1,seeking:!1};const t=b();this.handleWindowResize=o()(this.handleWindowResize,1e3),this.currentInterval={videoDuration:0,startTime:t,endTime:t,videoStartTime:0,videoEndTime:0,isAudible:w(e),playbackState:this.getPlaybackState(e,this.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},this.videoTime=0,this.fullscreen=!1,this.visible=null}componentDidMount(){this.currentInterval={...this.currentInterval,...this.getDimensions()},window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}componentDidUpdate(e,t){const i={};w(e)&&!w(this.props)?i.isAudible=!1:!w(e)&&w(this.props)&&(i.isAudible=!0);const n=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,t)!==n&&(i.playbackState=n),Object.keys(i).length>0&&this.startNewInterval(i)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}getPlaybackState(e,t){return t.ready?e.playing&&!t.seeking?x.PLAYING:x.PAUSED:x.LOADING}getDimensions(){let e,t;if(this.videoWrapperRef.current){const i=this.videoWrapperRef.current;i.clientHeight&&i.clientWidth&&(e=i.clientHeight,t=i.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}logVideoEvent(e,t){const{closeupStoryPinViewability:i,contextLogData:n,logContextEvent:a}=this.props,{height:o,width:r,windowHeight:l,windowWidth:d,viewability:c,...u}=t;if(null!=o&&null!=r&&null!=l&&null!=d&&null!=c){const t={...u,height:o,width:r,windowHeight:l,windowWidth:d,viewability:i||c};a({event_type:e,...s({...n,view:this.fullscreen?108:n.view,eventData:{videoEvent:t}})})}}logFourthQuartileEvent(){const e=b();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1})}startNewInterval(e){const t=b();this.logVideoEvent(6904,{...this.currentInterval,endTime:t,videoEndTime:this.videoTime}),this.currentInterval={...this.currentInterval,...e,startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1}}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:n,accessibilityPlayLabel:a,accessibilityProgressBarLabel:o,accessibilityUnmuteLabel:s,aspectRatio:d,backgroundColor:c,captions:m,contextLogData:_,controls:g,cropHeight:v,hlsConfig:x,inAdsDesktopVideoExperiment:b,isAutoPlay:w,loop:P,objectFit:S,onLoadedChange:k,onControlsPause:I,onControlsPlay:T,onSeek:j,onVolumeChange:C,playbackRate:A,playing:E,playsInline:R,poster:D,preload:L,rootMargin:F,src:O,surface:z,videoStartTime:N,volume:M}=this.props,{seeking:Z}=this.state,U=b?f:y;return void 0!==F&&(U.rootMargin=z?(0,l.e)(z):F),(0,h.jsx)(r.Z,{options:U,onVisibilityChange:this.handleVisibilityChange,children:(0,h.jsx)(p.xu,{ref:this.videoWrapperRef,onContextMenu:this.handleContextMenu,dangerouslySetInlineStyle:{__style:v?{display:"flex",alignItems:"center",height:`${v}px`}:{}},children:(0,h.jsx)(u.default,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:n,accessibilityPlayLabel:a,accessibilityProgressBarLabel:o,accessibilityUnmuteLabel:s,aspectRatio:v?236/v:d,backgroundColor:c,captions:m,contextLogData:_,controls:g,hlsConfig:x,isAutoPlay:w,loop:P,objectFit:S,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:k,onLoop:this.handleLoop,onControlsPause:I,onControlsPlay:T,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onSeek:j,onTimeChange:this.handleTimeChange,onVolumeChange:C,playbackRate:A,playing:!Z&&E,onPlay:()=>{},onPlayError:()=>{},playsInline:R,poster:D,preload:L,src:O,videoStartTime:N,visible:this.visible,volume:M})})})}}function S(e){const{logContextEvent:t}=(0,c.v)();return(0,h.jsx)(P,{...e,logContextEvent:t})}m(P,"defaultProps",p.nk.defaultProps)},158103:(e,t,i)=>{i.r(t),i.d(t,{VideoWrapper:()=>w,default:()=>P,getPlaylistSourceSrc:()=>b});var n=i(667294),a=i(19121),o=i(965900),r=i(407043),s=i(773285),l=i(858416),d=i(780280),c=i(883119),u=i(969315),p=i(179888),h=i(785893);function m(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _(e,t){if(!e||void 0===e)return"undefined";if("string"==typeof e){let i=e;if(t){const n="control"===t?"v3.pinimg.com":"v2.pinimg.com";i=e.replace("v.pinimg.com",n)}return i}if(Array.isArray(e)&&e[0].src){let i=e[0].src;if(t){const e="control"===t?"v3.pinimg.com":"v2.pinimg.com";i=i.replace("v.pinimg.com",e)}return i}return"unsupported_type_"+typeof e}class g extends n.Component{constructor(...e){super(...e),m(this,"state",{canPlayVideo:!1,playbackState:p.Cy.DEFAULT}),m(this,"errorRetryCount",2),m(this,"hasSegmentStarted",!1),m(this,"hasPlaybackStarted",!1),m(this,"hasVideoSessionStarted",!1),m(this,"hasVideoSessionEnded",!1),m(this,"lastStallTime",null),m(this,"lastPauseTime",null),m(this,"logSessionStartOnNextPlay",!1),m(this,"playerId",""),m(this,"videoSessionId",""),m(this,"videoVisibleTime",null),m(this,"playbackPerformance",{canPlayTime:null,detailedErrors:"",errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numberOfStalls:0,numberOfSeeks:0,playbackStartTimestamp:null,segments:[],srcString:_(this.props.src,this.props.quicExpGroup),totalStallDurationMs:0,totalPauseDurationMs:0}),m(this,"componentDidMount",(()=>{const{contextLogData:e={},playing:t}=this.props,{is_closeup_video:i=!1}=e;(0,u.tE)("videoMounted",!1,i),t&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(p.DR,{initiator:"mount"}))})),m(this,"componentDidUpdate",(e=>{const{playing:t,visible:i,appInFocus:n}=this.props;e.appInFocus&&!n&&(this.logPlaybackPerformance(p.$f,{initiator:"update"}),this.logSessionStartOnNextPlay=!0),e.visible&&!1===i&&(this.logSessionStartOnNextPlay=!1,this.updatePauseDuration(),this.logPlaybackPerformance(p.$f,{initiator:"update"})),!1===e.visible&&!0===i&&(this.videoVisibleTime=this.videoVisibleTime||new Date,t?(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(p.DR,{initiator:"update"})):this.logSessionStartOnNextPlay=!0),t&&n&&this.logSessionStartOnNextPlay&&(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(p.DR,{initiator:"update"}),this.logSessionStartOnNextPlay=!1)})),m(this,"addSegment",(()=>{const{canPlayTime:e,loadStartTime:t,segments:i,srcString:n}=this.playbackPerformance;let a=-1;e&&t&&0===i.length&&(a=e>t?e-t:0);const o=this.videoPlayerRef&&this.videoPlayerRef.video,r={indicatedKbps:-1,duration:o&&o.duration*p.gJ||-1,lastStartPlayTime:null,level:-1,numServerAddressChange:-1,observedKbps:-1,playbackStartDate:null,serverAddress:"",sourceWidth:-1,sourceHeight:-1,startupTimeMs:a,switchBitrateKbps:-1,uri:n,viewportWidth:o&&o.clientWidth||-1,viewportHeight:o&&o.clientHeight||-1,watchedDurationMs:0};i.push(r)})),m(this,"getCurrentVideoTime",(()=>this.videoPlayerRef&&this.videoPlayerRef.video?this.videoPlayerRef.video.currentTime*p.gJ:0)),m(this,"getVideoResourceTiming",(()=>{var e,t;if(null!==(e=window)&&void 0!==e&&null!==(t=e.performance)&&void 0!==t&&t.getEntriesByName&&this.playbackPerformance.srcString){const e=window.performance.getEntriesByName(this.playbackPerformance.srcString);return e.length>0&&e[0]||null}return null})),m(this,"handleCanPlayVideo",(e=>{const{contextLogData:t={},onReady:i,playing:n}=this.props,{is_closeup_video:a=!1}=t,{canPlayVideo:o}=this.state;(0,u.tE)("handleCanPlayVideo",!1,a,{firstCanPlayEvent:!o,playing:n}),this.playbackPerformance.hasFatalError=!1,o||(this.playbackPerformance.canPlayTime=new Date),this.setState({canPlayVideo:!0}),i&&i(e)})),m(this,"handleEnded",(e=>{const{loop:t,onEnded:i}=this.props,{segments:n}=this.playbackPerformance,a=n&&n[n.length-1];t&&this.videoPlayerRef&&this.videoPlayerRef.video?(this.updateWatchDurationForCurrentSegment(),a&&(a.lastStartPlayTime=0),this.hasSegmentStarted=!1):t||this.logPlaybackPerformance(p.$f,{initiator:"videoEnded",loop:t}),this.setState({playbackState:p.Cy.ENDED}),i&&i(e)})),m(this,"handleError",(()=>{var e,t,i,n,a,o,r,s;const{contextLogData:l={}}=this.props,{is_closeup_video:d=!1}=l,c=this.videoPlayerRef&&this.videoPlayerRef.video;(null==c||null===(e=c.error)||void 0===e?void 0:e.code)!==p.lG.MEDIA_ERR_ABORTED&&(this.playbackPerformance.hasFatalError=!0),this.playbackPerformance.detailedErrors+=`${this.playbackPerformance.detailedErrors.length>0?", ":""}${(null==c||null===(t=c.error)||void 0===t?void 0:t.message)||""}`,this.playbackPerformance.errorCode=(null==c||null===(i=c.error)||void 0===i?void 0:i.code)||0,this.playbackPerformance.errorName=(null==c||null===(n=c.error)||void 0===n||null===(a=n.message)||void 0===a?void 0:a.slice(0,100))||"unknown",this.playbackPerformance.errorReason=(null==c||null===(o=c.error)||void 0===o||null===(r=o.message)||void 0===r?void 0:r.slice(0,100))||"unknown";const h={errorName:this.playbackPerformance.errorCode,errorReason:this.playbackPerformance.errorName,errorRetryCount:this.errorRetryCount,playbackState:this.state.playbackState,networkState:(null==c?void 0:c.networkState)||"unknown"};switch((0,u.tE)("fatalError",!1,d,h),null==c||null===(s=c.error)||void 0===s?void 0:s.code){case p.lG.MEDIA_ERR_ABORTED:break;case p.lG.MEDIA_ERR_NETWORK:case p.lG.MEDIA_ERR_DECODE:case p.lG.MEDIA_ERR_SRC_NOT_SUPPORTED:default:this.errorRetryCount>0&&(null==c||c.load(),this.errorRetryCount-=1)}this.updateWatchDurationForCurrentSegment(),this.setState({playbackState:p.Cy.FAILED})})),m(this,"handleLoadedMetadata",(()=>{this.setState({playbackState:p.Cy.LOADED_METADATA})})),m(this,"handleLoadStart",(()=>{this.playbackPerformance.loadStartTime=new Date,this.setState({playbackState:p.Cy.LOAD_START})})),m(this,"handleLoadedData",(()=>{this.setState({playbackState:p.Cy.LOADED_DATA})})),m(this,"handlePlaying",(()=>{this.playbackPerformance.hasFatalError=!1,this.setPlaybackStartTime(),this.hasSegmentStarted||this.addSegment(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.updateStallDuration(),this.updatePauseDuration(),this.setState({playbackState:p.Cy.PLAYING}),this.props.clearSeekTime&&this.props.clearSeekTime()})),m(this,"handleUserPause",(e=>{const{onControlsPause:t}=this.props;this.lastPauseTime=new Date,t&&t(e)})),m(this,"handleVideoPause",(()=>{this.state.playbackState!==p.Cy.STALLING&&this.state.playbackState!==p.Cy.SEEKING&&(this.updateWatchDurationForCurrentSegment(),this.lastPauseTime||this.updateStallDuration()),this.setState({playbackState:p.Cy.PAUSED})})),m(this,"handleSeeking",(()=>{this.playbackPerformance.numberOfSeeks+=1;const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&(t.lastStartPlayTime=null),this.state.playbackState!==p.Cy.ENDED&&this.setState({playbackState:p.Cy.SEEKING})})),m(this,"handleStalled",(()=>{null===this.lastStallTime&&this.state.playbackState!==p.Cy.ENDED&&(this.lastStallTime=new Date,this.playbackPerformance.numberOfStalls+=1,this.setState({playbackState:p.Cy.STALLING}))})),m(this,"handleTimeUpdate",(e=>{const{onTimeChange:t}=this.props;t&&t(e),this.state.playbackState===p.Cy.PLAYING&&(this.updateWatchDurationForCurrentSegment(),this.setLastSegmentStartPlayTime())})),m(this,"resetPlaybackMetrics",(()=>{this.hasSegmentStarted=!0,this.hasPlaybackStarted=!1,this.hasVideoSessionStarted=!1,this.hasVideoSessionEnded=!0,this.lastStallTime=null,this.lastPauseTime=null,this.videoSessionId="",this.videoVisibleTime=null,this.logSessionStartOnNextPlay=!1;const e={...this.playbackPerformance.segments[this.playbackPerformance.segments.length-1],lastStartPlayTime:null,playbackStartDate:null,watchedDurationMs:0};this.playbackPerformance.detailedErrors="",this.playbackPerformance.errorCode=0,this.playbackPerformance.errorName="",this.playbackPerformance.errorReason="",this.playbackPerformance.hasFatalError=!1,this.playbackPerformance.numberOfStalls=0,this.playbackPerformance.numberOfSeeks=0,this.playbackPerformance.playbackStartTimestamp=null,this.playbackPerformance.totalStallDurationMs=0,this.playbackPerformance.segments=[e]})),m(this,"setLastSegmentStartPlayTime",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.lastStartPlayTime&&(t.lastStartPlayTime=this.getCurrentVideoTime())})),m(this,"setLastSegmentPlaybackStartDate",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.playbackStartDate&&(t.playbackStartDate=Date.now())})),m(this,"setPlaybackStartTime",(()=>{this.hasPlaybackStarted||(this.playbackPerformance.playbackStartTimestamp=Date.now(),this.hasPlaybackStarted=!0)})),m(this,"setVideoPlayerRef",(e=>{const{setVideoRef:t}=this.props;if(e&&(t&&t(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){const e=this.videoPlayerRef.video;e.addEventListener("loadedmetadata",this.handleLoadedMetadata),e.addEventListener("loadeddata",this.handleLoadedData),e.addEventListener("pause",this.handleVideoPause),e.readyState>=3&&(this.setState({canPlayVideo:!0}),this.playbackPerformance.canPlayTime=new Date)}})),m(this,"updateStallDuration",(()=>{if(null!==this.lastStallTime){const e=this.lastStallTime;this.playbackPerformance.totalStallDurationMs+=new Date-e,this.lastStallTime=null}})),m(this,"updatePauseDuration",(()=>{if(null!==this.lastPauseTime){const e=this.lastPauseTime;this.playbackPerformance.totalPauseDurationMs+=new Date-e,this.lastPauseTime=null}})),m(this,"updateWatchDurationForCurrentSegment",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1],i=t?t.lastStartPlayTime:null,n=this.getCurrentVideoTime();if(t&&null!==i&&"number"==typeof n&&"number"==typeof i){const e=n-i;e>0&&(t.watchedDurationMs+=e,t.lastStartPlayTime=null)}})),m(this,"logPlaybackPerformance",((e,t)=>{const{contextLogData:i={},userId:n,isAutoPlay:a,logContextEvent:o}=this.props,{is_closeup_video:r=!1}=i,{canPlayTime:s,detailedErrors:l,errorCode:d,errorName:c,errorReason:h,hasFatalError:m,loadStartTime:_,totalPauseDurationMs:g,totalStallDurationMs:v,numberOfStalls:y,numberOfSeeks:f,playbackStartTimestamp:x,segments:b,srcString:w}=this.playbackPerformance,P=this.videoPlayerRef&&this.videoPlayerRef.video,S=e===p.DR,k=S&&!this.hasVideoSessionStarted,I=!S&&!this.hasVideoSessionEnded&&this.hasVideoSessionStarted;if(P&&(k||I)){var T;let k=-1;s&&_&&(k=s>_?s-_:0);let I=-1;s&&this.videoVisibleTime&&(I=s>this.videoVisibleTime?s-this.videoVisibleTime:0),S&&(this.videoSessionId=(0,p.Y7)(n),this.playerId=this.playerId||(0,p.EB)());const j=this.getVideoResourceTiming(),C={averageVideoKbps:-1,autoplaying:a,detailedErrors:l,downloadedKiloBytes:"number"==typeof(null==j?void 0:j.decodedBodySize)&&j.decodedBodySize/p.Fm||0,errorCode:d,errorName:c,errorReason:h,fatalError:m,isCellular:!1,nativeVideoDurationMs:P.duration*p.gJ||-1,numberOfStalls:y,numberOfSeeks:f,overallPausedDurationMs:g,overallBufferDurationMs:v,overallWatchedDurationMs:-1,rebufferRate:-1,playbackSessionId:this.videoSessionId,playbackStartTimestamp:x||-1,segments:[],sessionMark:e,screenPixelScale:null!==(T=window)&&void 0!==T&&T.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:P.clientWidth,startupPlayerHeight:P.clientHeight,startupTimeMs:k,startupLatencyMs:I,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:P.videoWidth,startupVariantHeight:P.videoHeight,videoUrl:w};if(!S){this.updateWatchDurationForCurrentSegment(),this.updateStallDuration();const e=b.reduce(((e,t)=>e+(t.watchedDurationMs||0)),0);C.overallWatchedDurationMs=e,C.startupVariantWatchedDurationMs=e,C.segments=this.playbackPerformance.segments,0===e?(C.errorName="invalid_watch_duration",C.rebufferRate=-1):C.rebufferRate=v/e}(0,u.ZP)(C,!1,r,{playbackState:this.state.playbackState,...t});const{view:A,viewParameter:E,component:R,element:D,objectId:L,...F}=i;o({event_type:3606,event_data:{videoPerformanceData:C},view_type:A,view_parameter:E,component:R,element:D,object_id_str:L,aux_data:{...F,is_closeup_video:r,playback_session_id:this.videoSessionId}}),S?(this.hasVideoSessionStarted=!0,this.hasVideoSessionEnded=!1):this.resetPlaybackMetrics(),(0,u.tE)(S?"sessionStart":"sessionEnd",!1,r,{playbackState:this.state.playbackState,...t})}}))}componentWillUnmount(){const{loop:e}=this.props;this.updatePauseDuration(),this.logPlaybackPerformance(p.$f,{initiator:"unmount",loop:e})}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:n,accessibilityPlayLabel:a,accessibilityProgressBarLabel:o,accessibilityUnmuteLabel:r,aspectRatio:s,captions:l,controls:d,loop:u,loopOverride:p,objectFit:m,onDurationChange:g,onFullscreenChange:v,onLoadedChange:y,onControlsPlay:f,onPlayheadDown:x,onPlayheadUp:b,onSeek:w,onVolumeChange:P,playbackRate:S,playing:k,playsInline:I,poster:T,preload:j,src:C,videoStartTime:A,volume:E}=this.props,{canPlayVideo:R}=this.state;return(0,h.jsx)(c.nk,{autoplay:R&&k,accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:n,accessibilityPlayLabel:a,accessibilityProgressBarLabel:o,accessibilityUnmuteLabel:r,aspectRatio:s,captions:l,controls:d,loop:void 0===p?u:p,objectFit:m,onDurationChange:g,onEnded:this.handleEnded,onError:this.handleError,onFullscreenChange:v,onLoadedChange:y,onLoadStart:this.handleLoadStart,onControlsPause:this.handleUserPause,onControlsPlay:f,onPlaying:this.handlePlaying,onPlayheadDown:x,onPlayheadUp:b,onReady:this.handleCanPlayVideo,onSeek:w,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:P,onWaiting:this.handleStalled,playbackRate:S,onPlay:()=>{},onPlayError:()=>{},playing:R&&k,playsInline:I,poster:T,preload:j,ref:this.setVideoPlayerRef,src:_(C,this.props.quicExpGroup),startTime:A||void 0,volume:E})}}const v=(0,n.memo)((function(e){const{logContextEvent:t}=(0,r.v)(),{country:i,isAuthenticated:n,isBot:c,isSocialBot:p,unauthId:m,userAgent:_}=(0,d.B)(),{browserName:v,browserVersion:y,isMobile:f}=_,{contextLogData:x={}}=e,{is_closeup_video:b=!1,view:w,viewParameter:P}=x,{appUI:{appInFocus:S}}=(0,o.I)(),{checkExperiment:k}=(0,s.F)(),{clearSeekTime:I}=(0,l.RC)();let T=null;n&&(T=k("web_video_quic").group.length?k("web_video_quic").group:null);const j=(0,a.Z)(),C={browserName:v,browserVersion:y,country:i,isAuthenticated:n,isBot:c,is_closeup_video:b,isMobile:f,isSocialBot:p,view:w,viewParameter:P};return(0,u.r$)(C),(0,h.jsx)(g,{...e,userId:j.id||m,appInFocus:S,quicExpGroup:T,logContextEvent:t,clearSeekTime:I})}));var y=i(562559),f=i(366284);function x(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const b=e=>{if(Array.isArray(e)){const t=e.find((e=>"video/m3u8"===e.type));return t?t.src:void 0}return RegExp("m3u8$").test(e)?e:void 0};class w extends n.PureComponent{constructor(e){super(e),x(this,"componentDidUpdate",((e,t)=>{var i;e.videoStartTime&&this.props.videoStartTime&&e.videoStartTime<this.props.videoStartTime&&null!==(i=this.videoPlayerRef)&&void 0!==i&&i.video&&(this.videoPlayerRef.video.currentTime=this.props.videoStartTime)})),x(this,"setVideoPlayerRef",(e=>{e&&(this.videoPlayerRef=e)})),x(this,"handleOnEnded",(({event:e})=>{const{loop:t,onLoop:i,onEnded:n}=this.props;n&&(n({event:e}),this.videoPlayerRef&&this.videoPlayerRef.video&&t&&(this.videoPlayerRef.video.play(),i&&i()))}));const t=b(e.src);this.state={useHlsVideo:!e.preferMp4&&!(0,f.G6)(e.requestContext.userAgent.browserName)&&!!t}}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:n,accessibilityPlayLabel:a,accessibilityProgressBarLabel:o,accessibilityUnmuteLabel:r,aspectRatio:s,appInFocus:l,backgroundColor:d,captions:c,contextLogData:u,controls:p,hlsConfig:m,isAutoPlay:_,loop:g,objectFit:f,onDurationChange:x,onEnded:w,onFullscreenChange:P,onLoadedChange:S,onControlsPause:k,onControlsPlay:I,onPlayheadDown:T,onPlayheadUp:j,onReady:C,onSeek:A,onTimeChange:E,onVolumeChange:R,playbackRate:D,playing:L,playsInline:F,poster:O,preferMp4:z,preload:N,src:M,videoStartTime:Z,visible:U,volume:B}=this.props,{useHlsVideo:V}=this.state,H=b(M),W={...m,startPosition:Z||-1},$=!w&&g;return V&&H?(0,h.jsx)(y.Z,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:n,accessibilityPlayLabel:a,accessibilityProgressBarLabel:o,accessibilityUnmuteLabel:r,aspectRatio:s,appInFocus:l,backgroundColor:d,captions:c,contextLogData:u,controls:p,hlsConfig:W,isAutoPlay:_,loop:g,loopOverride:$,onDurationChange:x,onEnded:this.handleOnEnded,onFullscreenChange:P,onLoadedChange:S,onControlsPause:k,onControlsPlay:I,onPlayheadDown:T,onPlayheadUp:j,onReady:C,onSeek:A,onTimeChange:E,onVolumeChange:R,playbackRate:D,onPlay:()=>{},onPlayError:()=>{},playing:L,playsInline:F,poster:O,preload:N,setVideoRef:this.setVideoPlayerRef,src:H,visible:U,volume:B}):(0,h.jsx)(v,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:n,accessibilityPlayLabel:a,accessibilityProgressBarLabel:o,accessibilityUnmuteLabel:r,aspectRatio:s,captions:c,contextLogData:u,controls:p,isAutoPlay:_,loop:g,loopOverride:$,objectFit:f,onDurationChange:x,onEnded:this.handleOnEnded,onFullscreenChange:P,onLoadedChange:S,onControlsPause:k,onControlsPlay:I,onPlayheadDown:T,onPlayheadUp:j,onReady:C,onSeek:A,onTimeChange:E,onVolumeChange:R,playbackRate:D,onPlay:()=>{},onPlayError:()=>{},playing:L,playsInline:F,poster:O,preload:N,setVideoRef:this.setVideoPlayerRef,src:z?M:H||M,videoStartTime:Z,visible:U,volume:B})}}function P(e){const{appUI:{appInFocus:t}}=(0,o.I)(),i=(0,d.B)();return(0,h.jsx)(w,{...e,appInFocus:t,requestContext:i})}},944546:(e,t,i)=>{i.d(t,{HJ:()=>a,VS:()=>n,iM:()=>o});const n=2,a="V_HLSV3_MOBILE",o=[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1,.11,.12,.13,.14,.15,.16,.17,.18,.19,.2,.21,.22,.23,.24,.25,.26,.27,.28,.29,.3,.31,.32,.33,.34,.35,.36,.37,.38,.39,.4,.41,.42,.43,.44,.45,.46,.47,.48,.49,.5,.51,.52,.53,.54,.55,.56,.57,.58,.59,.6,.61,.62,.63,.64,.65,.66,.67,.68,.69,.7,.71,.72,.73,.74,.75,.76,.77,.78,.79,.8,.81,.82,.83,.84,.85,.86,.87,.88,.89,.9,.91,.92,.93,.94,.95,.96,.97,.98,.99,1]},619519:(e,t,i)=>{i.d(t,{Z:()=>d});var n=i(667294),a=i(722767),o=i(655428),r=i(883119),s=i(785893);function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class d extends n.PureComponent{constructor(...e){super(...e),l(this,"state",{isPlaying:!1,isVideoReady:!1,isVisibleForPlaying:!1,startLoading:!1}),l(this,"handleVisibilityChanged",(e=>{const{intersectionRatio:t}=e[0],{isPlaying:i,isVideoReady:n,startLoading:a}=this.state;t>=.8?(this.setState({isVisibleForPlaying:!0}),this.videoRef&&(a?n&&!i&&this.videoRef.play():(this.videoRef.load(),this.setState({startLoading:!0})))):(this.setState({isVisibleForPlaying:!1}),this.videoRef&&n&&this.videoRef.pause())})),l(this,"handleVideoPause",(()=>this.setState({isPlaying:!1}))),l(this,"handleVideoPlay",(()=>this.setState({isPlaying:!0}))),l(this,"getVideoRef",(e=>this.videoRef=e)),l(this,"setIsVideoReadyTrue",(()=>{this.setState({isVideoReady:!0}),this.videoRef&&!this.state.isPlaying&&this.state.isVisibleForPlaying&&this.videoRef.play()}))}render(){const{height:e,thumbnail:t,url:i,width:n,pinDescription:l,pinImageHeight:d,pinImageUrl:c,pinImageWidth:u}=this.props,p=(null!=e?e:1)/(null!=n?n:1);return i?(0,s.jsx)(a.Z,{options:{threshold:[0,.5,.8,1]},onVisibilityChange:this.handleVisibilityChanged,children:(0,s.jsx)(r.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingBottom:100*p+"%"}},children:(0,s.jsx)(r.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:(0,s.jsx)("video",{height:"100%",muted:!0,onCanPlay:this.setIsVideoReadyTrue,onPause:this.handleVideoPause,onPlay:this.handleVideoPlay,playsInline:!0,poster:t,preload:"none",ref:this.getVideoRef,src:i,width:"100%"})})})}):(0,s.jsx)(r.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},children:(0,s.jsx)(o.Z,{description:l,imageUrl:c,imageHeight:d,imageWidth:u})})}}},464228:(e,t,i)=>{i.d(t,{P:()=>o,Z:()=>r});var n=i(667294);const a=(0,n.createContext)();function o(){return(0,n.useContext)(a)}const r=a}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/duplo-ProfileBoards.ru_RU-7b75f0b89b46bbc6.mjs.map