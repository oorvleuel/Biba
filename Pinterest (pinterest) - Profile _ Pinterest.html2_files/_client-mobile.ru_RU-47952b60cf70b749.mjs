(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[40267,47974,76030,42816,23019,75926,44722,28153,13748,71866],{361600:e=>{var t,n,i,r,a,o,s,l,d={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"inviteCode"},n={defaultValue:null,kind:"LocalArgument",name:"inviteType"},i={defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"AllShareOptionsUtilityMutation",selections:[{alias:null,args:r=[{fields:[{kind:"Variable",name:"inviteCode",variableName:"inviteCode"},{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteSentExternalMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"fromUserId",storageKey:null}],storageKey:null}],type:"V3InviteSentExternal",abstractKey:null},{kind:"InlineFragment",selections:[a,l={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"InvalidParameters",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,t,i],kind:"Operation",name:"AllShareOptionsUtilityMutation",selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"v3InviteSentExternalMutation",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[o,s,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3InviteSentExternal",abstractKey:null},{kind:"InlineFragment",selections:[l],type:"InvalidParameters",abstractKey:null}],storageKey:null}]},params:{id:"1705ed8db84c79dc12b83cafd1757686fa888571bbecd699295d011693ddd4cf",metadata:{},name:"AllShareOptionsUtilityMutation",operationKind:"mutation",text:null}};d.hash="7e73aab163ac599c2451f08566f2eb15",e.exports=d},865107:e=>{var t,n,i,r,a={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"inviteType"},{defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r={alias:null,args:null,concreteType:"InviteUserExternal",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inviteCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inviteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[r],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}]},params:{id:"6312848b4bb08588587683a04a42e4d0333e2e986fcab0cef4ed200786d3f5d9",metadata:{},name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",operationKind:"query",text:null}};a.hash="bc8b32c56a4a58de585c9a05ae69bd9c",e.exports=a},833045:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupRelatedModuleConfiguration_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"02bde8dfbac8f0ee5b08d5f677e73dfe"};e.exports=t},7745:e=>{var t,n,i,r,a,o,s,l={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"invite_code"}],kind:"Fragment",metadata:null,name:"PinCardSharedHeaderQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"inviteCode",variableName:"invite_code"}],concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[r={alias:"first_name",args:null,kind:"ScalarField",name:"firstName",storageKey:null},a={alias:"is_default_image",args:null,kind:"ScalarField",name:"isDefaultImage",storageKey:null},o={alias:"image_medium_url",args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"PinCardSharedHeaderQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[r,a,o,s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},s],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}]},params:{id:"6ecc0f5ef5b300806765351890d4c30338f4cba0f2ed6262aebb971f8d13cedd",metadata:{},name:"PinCardSharedHeaderQuery",operationKind:"query",text:null}};l.hash="6113bb3593481961950c5053449014f3",e.exports=l},922275:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinStory_pin",selections:[{args:null,kind:"FragmentSpread",name:"CloseupRelatedModuleConfiguration_pin"}],type:"Pin",abstractKey:null,hash:"ae543539bb18673977d412b8bef960ed"};e.exports=t},276667:e=>{var t,n,i,r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeeMoreButton_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},i,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null}],storageKey:null},t,{args:null,kind:"FragmentSpread",name:"VaseSection_pin"}],type:"Pin",abstractKey:null};r.hash="64effb4f1e63deaf1d53b77187d996de",e.exports=r},584818:e=>{var t,n,i,r,a,o,s,l,d,c,u={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TodayArticleModule",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"contentPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"images170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a=[n={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"170x")'},{alias:"images236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"236x")'},{alias:"images736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"736x")'},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:c=[t,o={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},d={alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[t,l,s,o,d],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pageCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"contentPinOfficialUser",plural:!1,selections:c,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedSource",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"headerPinId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageUrls",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isProductPinFeed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showCreator",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"videoPin",plural:!1,selections:[t,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},i,r],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"TodayArticle",abstractKey:null};u.hash="3afdada2f3d905a39bf4a6d5bf55a160",e.exports=u},133132:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicImageWithText_topic",selections:[{alias:"background_color",args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"follower_count",args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Interest",abstractKey:null,hash:"b5b71fb4390c1d3835e468a25f687669"};e.exports=t},964820:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicRepFragment_topic",selections:[{alias:"is_followed",args:null,kind:"ScalarField",name:"isFollowed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"TopicImageWithText_topic"}],type:"Interest",abstractKey:null,hash:"e5a0b7dce2aa2313e4cf2c9871cbedf7"};e.exports=t},12617:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthDesktopContextMenu_pin",selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImagesFragment_pin"}],type:"Pin",abstractKey:null};n.hash="6cc486603fe4bb19b18741c21346a49b",e.exports=n},167074:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthMobileContextMenu_pin",selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImagesFragment_pin"}],type:"Pin",abstractKey:null};n.hash="74f28c48f3a5ddb4a53f101389981c63",e.exports=n},85934:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseAnnotations_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"}],type:"Pin",abstractKey:null,hash:"594237c2ea6ccfb8bbc0e3e8c62cac9f"};e.exports=t},877821:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseSection_pin",selections:[{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"}],type:"Pin",abstractKey:null,hash:"5645b1c5850647c98e4d2fefbb484bf4"};e.exports=t},569772:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useAnnotationsWithLinksFragment_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"35075da6e1f4b526ac4314727015c44d"};e.exports=t},110767:e=>{var t,n,i,r,a,o,s={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"useUnauthContextMenuQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"UnauthDesktopContextMenu_pin"},{args:null,kind:"FragmentSpread",name:"UnauthMobileContextMenu_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"useUnauthContextMenuQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:r,storageKey:null},i],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null},{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"60x60")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"736x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"600x315")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},i],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"a3c7af73694bf4bca337151ae03a4ab0cd268d45aad7d6a29c9cab3ffedebaa3",metadata:{},name:"useUnauthContextMenuQuery",operationKind:"query",text:null}};s.hash="28d48aeed76d97d5b2fc59af2e75669f",e.exports=s},353576:(e,t,n)=>{var i={"./af_ZA/inlined.js":[580927,58394],"./ar_SA/inlined.js":[987405,12799],"./bg_BG/inlined.js":[115470,273],"./bn_IN/inlined.js":[355527,72829],"./cs_CZ/inlined.js":[63315,49347],"./da_DK/inlined.js":[559793,59651],"./de/inlined.js":[364887,64291],"./el_GR/inlined.js":[611887,46625],"./en_AU/inlined.js":[70549,29365],"./en_GB/inlined.js":[694732,27715],"./en_IN/inlined.js":[806476,62658],"./en_US/inlined.js":[238210,17762],"./es_419/inlined.js":[204261,69595],"./es_AR/inlined.js":[565145,92243],"./es_ES/inlined.js":[96528,60146],"./es_MX/inlined.js":[131266,78353],"./es_US/inlined.js":[5905,60465],"./fi_FI/inlined.js":[882931,46740],"./fr/inlined.js":[966196,386],"./he_IL/inlined.js":[923381,63230],"./hi_IN/inlined.js":[252382,89454],"./hr_HR/inlined.js":[178235,15446],"./hu_HU/inlined.js":[271045,2177],"./id_ID/inlined.js":[934307,94966],"./it/inlined.js":[160660,51949],"./ja/inlined.js":[946595,74719],"./ko_KR/inlined.js":[779375,2832],"./ms_MY/inlined.js":[739381,76461],"./nb_NO/inlined.js":[391181,43029],"./nl/inlined.js":[639102,54230],"./pl_PL/inlined.js":[278070,84783],"./pt_BR/inlined.js":[921168,76639],"./pt_PT/inlined.js":[682626,55038],"./ro_RO/inlined.js":[602543,4414],"./ru_RU/inlined.js":[707033,43304],"./sk_SK/inlined.js":[37562,41319],"./sv_SE/inlined.js":[481880,12393],"./te_IN/inlined.js":[688506,1481],"./th_TH/inlined.js":[316108,82077],"./tl_PH/inlined.js":[790805,93897],"./tr/inlined.js":[39191,58892],"./uk_UA/inlined.js":[498447,86620],"./vi_VN/inlined.js":[715418,93545],"./zh_CN/inlined.js":[252819,96397],"./zh_TW/inlined.js":[545609,44009]};function r(e){if(!n.o(i,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],r=t[0];return n.e(t[1]).then((()=>n.t(r,23)))}r.keys=()=>Object.keys(i),r.id=353576,e.exports=r},727345:(e,t,n)=>{var i={"./af_ZA/lite.js":[168454,70776],"./ar_SA/lite.js":[91744,84967],"./bg_BG/lite.js":[192463,95872],"./bn_IN/lite.js":[554521,35759],"./cs_CZ/lite.js":[865170,92002],"./da_DK/lite.js":[305866,52601],"./de/lite.js":[398590,75847],"./el_GR/lite.js":[731913,105],"./en_AU/lite.js":[745587,87328],"./en_GB/lite.js":[104201,94019],"./en_IN/lite.js":[928956,60137],"./en_US/lite.js":[600812,11890],"./es_419/lite.js":[919301,60],"./es_AR/lite.js":[300065,11661],"./es_ES/lite.js":[750943,66195],"./es_MX/lite.js":[593664,78238],"./es_US/lite.js":[247479,42003],"./fi_FI/lite.js":[734195,38074],"./fr/lite.js":[722103,99825],"./he_IL/lite.js":[99938,75686],"./hi_IN/lite.js":[408687,33515],"./hr_HR/lite.js":[703267,31058],"./hu_HU/lite.js":[333186,25360],"./id_ID/lite.js":[35949,88902],"./it/lite.js":[633627,48097],"./ja/lite.js":[63983,20998],"./ko_KR/lite.js":[488958,1293],"./ms_MY/lite.js":[811763,45767],"./nb_NO/lite.js":[875656,95593],"./nl/lite.js":[532934,67245],"./pl_PL/lite.js":[930624,46156],"./pt_BR/lite.js":[321275,74764],"./pt_PT/lite.js":[998959,16342],"./ro_RO/lite.js":[240993,13352],"./ru_RU/lite.js":[443174,70730],"./sk_SK/lite.js":[945756,24109],"./sv_SE/lite.js":[24784,62919],"./te_IN/lite.js":[583953,57914],"./th_TH/lite.js":[172914,94529],"./tl_PH/lite.js":[899292,14504],"./tr/lite.js":[179287,41009],"./uk_UA/lite.js":[511979,11860],"./vi_VN/lite.js":[821395,7106],"./zh_CN/lite.js":[191336,48563],"./zh_TW/lite.js":[729667,63838]};function r(e){if(!n.o(i,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],r=t[0];return n.e(t[1]).then((()=>n.t(r,23)))}r.keys=()=>Object.keys(i),r.id=727345,e.exports=r},435319:(e,t,n)=>{var i={"./af_ZA/mobile.js":[564440,86789],"./ar_SA/mobile.js":[929418,19113],"./bg_BG/mobile.js":[574245,55909],"./bn_IN/mobile.js":[329805,64011],"./cs_CZ/mobile.js":[669,70584],"./da_DK/mobile.js":[47026,54867],"./de/mobile.js":[725372,59318],"./el_GR/mobile.js":[391074,13131],"./en_AU/mobile.js":[367,95144],"./en_GB/mobile.js":[653274,97675],"./en_IN/mobile.js":[251751,24847],"./en_US/mobile.js":[593213,53215],"./es_419/mobile.js":[475002,63716],"./es_AR/mobile.js":[838578,89564],"./es_ES/mobile.js":[913549,21099],"./es_MX/mobile.js":[631591,63706],"./es_US/mobile.js":[883904,77083],"./fi_FI/mobile.js":[378045,22928],"./fr/mobile.js":[848759,37575],"./he_IL/mobile.js":[460967,33979],"./hi_IN/mobile.js":[901802,17364],"./hr_HR/mobile.js":[86874,89667],"./hu_HU/mobile.js":[308177,41379],"./id_ID/mobile.js":[584497,91298],"./it/mobile.js":[655985,66443],"./ja/mobile.js":[205432,80733],"./ko_KR/mobile.js":[874613,80882],"./ms_MY/mobile.js":[83897,24697],"./nb_NO/mobile.js":[863081,13363],"./nl/mobile.js":[318211,72148],"./pl_PL/mobile.js":[400471,80911],"./pt_BR/mobile.js":[943223,99035],"./pt_PT/mobile.js":[969182,50188],"./ro_RO/mobile.js":[691251,7369],"./ru_RU/mobile.js":[929153,89190],"./sk_SK/mobile.js":[230166,22065],"./sv_SE/mobile.js":[475816,8773],"./te_IN/mobile.js":[705194,23162],"./th_TH/mobile.js":[302372,75862],"./tl_PH/mobile.js":[731184,9726],"./tr/mobile.js":[259958,27218],"./uk_UA/mobile.js":[709712,65399],"./vi_VN/mobile.js":[282803,45358],"./zh_CN/mobile.js":[81927,37222],"./zh_TW/mobile.js":[467893,5199]};function r(e){if(!n.o(i,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],r=t[0];return n.e(t[1]).then((()=>n.t(r,23)))}r.keys=()=>Object.keys(i),r.id=435319,e.exports=r},500016:(e,t,n)=>{var i={"./af_ZA/inlined.js":580927,"./ar_SA/inlined.js":987405,"./bg_BG/inlined.js":115470,"./bn_IN/inlined.js":355527,"./cs_CZ/inlined.js":63315,"./da_DK/inlined.js":559793,"./de/inlined.js":364887,"./el_GR/inlined.js":611887,"./en_AU/inlined.js":70549,"./en_GB/inlined.js":694732,"./en_IN/inlined.js":806476,"./en_US/inlined.js":238210,"./es_419/inlined.js":204261,"./es_AR/inlined.js":565145,"./es_ES/inlined.js":96528,"./es_MX/inlined.js":131266,"./es_US/inlined.js":5905,"./fi_FI/inlined.js":882931,"./fr/inlined.js":966196,"./he_IL/inlined.js":923381,"./hi_IN/inlined.js":252382,"./hr_HR/inlined.js":178235,"./hu_HU/inlined.js":271045,"./id_ID/inlined.js":934307,"./it/inlined.js":160660,"./ja/inlined.js":946595,"./ko_KR/inlined.js":779375,"./ms_MY/inlined.js":739381,"./nb_NO/inlined.js":391181,"./nl/inlined.js":639102,"./pl_PL/inlined.js":278070,"./pt_BR/inlined.js":921168,"./pt_PT/inlined.js":682626,"./ro_RO/inlined.js":602543,"./ru_RU/inlined.js":707033,"./sk_SK/inlined.js":37562,"./sv_SE/inlined.js":481880,"./te_IN/inlined.js":688506,"./th_TH/inlined.js":316108,"./tl_PH/inlined.js":790805,"./tr/inlined.js":39191,"./uk_UA/inlined.js":498447,"./vi_VN/inlined.js":715418,"./zh_CN/inlined.js":252819,"./zh_TW/inlined.js":545609};function r(e){var t=a(e);if(!n.m[t]){var i=new Error("Module '"+e+"' ('"+t+"') is not available (weak dependency)");throw i.code="MODULE_NOT_FOUND",i}return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,r.id=500016,e.exports=r},734521:(e,t,n)=>{var i={"./af_ZA/lite.js":168454,"./ar_SA/lite.js":91744,"./bg_BG/lite.js":192463,"./bn_IN/lite.js":554521,"./cs_CZ/lite.js":865170,"./da_DK/lite.js":305866,"./de/lite.js":398590,"./el_GR/lite.js":731913,"./en_AU/lite.js":745587,"./en_GB/lite.js":104201,"./en_IN/lite.js":928956,"./en_US/lite.js":600812,"./es_419/lite.js":919301,"./es_AR/lite.js":300065,"./es_ES/lite.js":750943,"./es_MX/lite.js":593664,"./es_US/lite.js":247479,"./fi_FI/lite.js":734195,"./fr/lite.js":722103,"./he_IL/lite.js":99938,"./hi_IN/lite.js":408687,"./hr_HR/lite.js":703267,"./hu_HU/lite.js":333186,"./id_ID/lite.js":35949,"./it/lite.js":633627,"./ja/lite.js":63983,"./ko_KR/lite.js":488958,"./ms_MY/lite.js":811763,"./nb_NO/lite.js":875656,"./nl/lite.js":532934,"./pl_PL/lite.js":930624,"./pt_BR/lite.js":321275,"./pt_PT/lite.js":998959,"./ro_RO/lite.js":240993,"./ru_RU/lite.js":443174,"./sk_SK/lite.js":945756,"./sv_SE/lite.js":24784,"./te_IN/lite.js":583953,"./th_TH/lite.js":172914,"./tl_PH/lite.js":899292,"./tr/lite.js":179287,"./uk_UA/lite.js":511979,"./vi_VN/lite.js":821395,"./zh_CN/lite.js":191336,"./zh_TW/lite.js":729667};function r(e){var t=a(e);if(!n.m[t]){var i=new Error("Module '"+e+"' ('"+t+"') is not available (weak dependency)");throw i.code="MODULE_NOT_FOUND",i}return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,r.id=734521,e.exports=r},290790:(e,t,n)=>{var i={"./af_ZA/mobile.js":564440,"./ar_SA/mobile.js":929418,"./bg_BG/mobile.js":574245,"./bn_IN/mobile.js":329805,"./cs_CZ/mobile.js":669,"./da_DK/mobile.js":47026,"./de/mobile.js":725372,"./el_GR/mobile.js":391074,"./en_AU/mobile.js":367,"./en_GB/mobile.js":653274,"./en_IN/mobile.js":251751,"./en_US/mobile.js":593213,"./es_419/mobile.js":475002,"./es_AR/mobile.js":838578,"./es_ES/mobile.js":913549,"./es_MX/mobile.js":631591,"./es_US/mobile.js":883904,"./fi_FI/mobile.js":378045,"./fr/mobile.js":848759,"./he_IL/mobile.js":460967,"./hi_IN/mobile.js":901802,"./hr_HR/mobile.js":86874,"./hu_HU/mobile.js":308177,"./id_ID/mobile.js":584497,"./it/mobile.js":655985,"./ja/mobile.js":205432,"./ko_KR/mobile.js":874613,"./ms_MY/mobile.js":83897,"./nb_NO/mobile.js":863081,"./nl/mobile.js":318211,"./pl_PL/mobile.js":400471,"./pt_BR/mobile.js":943223,"./pt_PT/mobile.js":969182,"./ro_RO/mobile.js":691251,"./ru_RU/mobile.js":929153,"./sk_SK/mobile.js":230166,"./sv_SE/mobile.js":475816,"./te_IN/mobile.js":705194,"./th_TH/mobile.js":302372,"./tl_PH/mobile.js":731184,"./tr/mobile.js":259958,"./uk_UA/mobile.js":709712,"./vi_VN/mobile.js":282803,"./zh_CN/mobile.js":81927,"./zh_TW/mobile.js":467893};function r(e){var t=a(e);if(!n.m[t]){var i=new Error("Module '"+e+"' ('"+t+"') is not available (weak dependency)");throw i.code="MODULE_NOT_FOUND",i}return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,r.id=290790,e.exports=r},565936:(e,t,n)=>{n.d(t,{ZP:()=>Ce});var i=n(570655);function r(e,t){return new Promise((function(n){return setTimeout(n,e,t)}))}function a(e,t){try{var n=e();(i=n)&&"function"==typeof i.then?n.then((function(e){return t(!0,e)}),(function(e){return t(!1,e)})):t(!0,n)}catch(r){t(!1,r)}var i}function o(e,t,n){return void 0===n&&(n=16),(0,i.mG)(this,void 0,void 0,(function(){var a,o,s;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:a=Date.now(),o=0,i.label=1;case 1:return o<e.length?(t(e[o],o),(s=Date.now())>=a+n?(a=s,[4,r(0)]):[3,3]):[3,4];case 2:i.sent(),i.label=3;case 3:return++o,[3,1];case 4:return[2]}}))}))}function s(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function l(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function d(e,t){return 32===(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function c(e,t){return 0===(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function u(e,t){return[e[0]^t[0],e[1]^t[1]]}function p(e){return e=u(e,[0,e[0]>>>1]),e=u(e=l(e,[4283543511,3981806797]),[0,e[0]>>>1]),e=u(e=l(e,[3301882366,444984403]),[0,e[0]>>>1])}function _(e,t){t=t||0;var n,i=(e=e||"").length%16,r=e.length-i,a=[0,t],o=[0,t],_=[0,0],h=[0,0],m=[2277735313,289559509],g=[1291169091,658871167];for(n=0;n<r;n+=16)_=[255&e.charCodeAt(n+4)|(255&e.charCodeAt(n+5))<<8|(255&e.charCodeAt(n+6))<<16|(255&e.charCodeAt(n+7))<<24,255&e.charCodeAt(n)|(255&e.charCodeAt(n+1))<<8|(255&e.charCodeAt(n+2))<<16|(255&e.charCodeAt(n+3))<<24],h=[255&e.charCodeAt(n+12)|(255&e.charCodeAt(n+13))<<8|(255&e.charCodeAt(n+14))<<16|(255&e.charCodeAt(n+15))<<24,255&e.charCodeAt(n+8)|(255&e.charCodeAt(n+9))<<8|(255&e.charCodeAt(n+10))<<16|(255&e.charCodeAt(n+11))<<24],_=d(_=l(_,m),31),a=s(a=d(a=u(a,_=l(_,g)),27),o),a=s(l(a,[0,5]),[0,1390208809]),h=d(h=l(h,g),33),o=s(o=d(o=u(o,h=l(h,m)),31),a),o=s(l(o,[0,5]),[0,944331445]);switch(_=[0,0],h=[0,0],i){case 15:h=u(h,c([0,e.charCodeAt(n+14)],48));case 14:h=u(h,c([0,e.charCodeAt(n+13)],40));case 13:h=u(h,c([0,e.charCodeAt(n+12)],32));case 12:h=u(h,c([0,e.charCodeAt(n+11)],24));case 11:h=u(h,c([0,e.charCodeAt(n+10)],16));case 10:h=u(h,c([0,e.charCodeAt(n+9)],8));case 9:h=l(h=u(h,[0,e.charCodeAt(n+8)]),g),o=u(o,h=l(h=d(h,33),m));case 8:_=u(_,c([0,e.charCodeAt(n+7)],56));case 7:_=u(_,c([0,e.charCodeAt(n+6)],48));case 6:_=u(_,c([0,e.charCodeAt(n+5)],40));case 5:_=u(_,c([0,e.charCodeAt(n+4)],32));case 4:_=u(_,c([0,e.charCodeAt(n+3)],24));case 3:_=u(_,c([0,e.charCodeAt(n+2)],16));case 2:_=u(_,c([0,e.charCodeAt(n+1)],8));case 1:_=l(_=u(_,[0,e.charCodeAt(n)]),m),a=u(a,_=l(_=d(_,31),g))}return a=s(a=u(a,[0,e.length]),o=u(o,[0,e.length])),o=s(o,a),a=s(a=p(a),o=p(o)),o=s(o,a),("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)+("00000000"+(o[0]>>>0).toString(16)).slice(-8)+("00000000"+(o[1]>>>0).toString(16)).slice(-8)}function h(e){return parseInt(e)}function m(e){return parseFloat(e)}function g(e,t){return"number"==typeof e&&isNaN(e)?t:e}function f(e){return e.reduce((function(e,t){return e+(t?1:0)}),0)}function v(e,t){if(void 0===t&&(t=1),Math.abs(t)>=1)return Math.round(e/t)*t;var n=1/t;return Math.round(e*n)/n}function y(e){return e&&"object"==typeof e&&"message"in e?e:{message:e}}function x(e,t,n){var s=Object.keys(e).filter((function(e){return!function(e,t){for(var n=0,i=e.length;n<i;++n)if(e[n]===t)return!0;return!1}(n,e)})),l=Array(s.length);return o(s,(function(n,i){l[i]=function(e,t){var n=function(e){return"function"!=typeof e},i=new Promise((function(i){var r=Date.now();a(e.bind(null,t),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=Date.now()-r;if(!e[0])return i((function(){return{error:y(e[1]),duration:o}}));var s=e[1];if(n(s))return i((function(){return{value:s,duration:o}}));i((function(){return new Promise((function(e){var t=Date.now();a(s,(function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=o+Date.now()-t;if(!n[0])return e({error:y(n[1]),duration:r});e({value:n[1],duration:r})}))}))}))}))}));return function(){return i.then((function(e){return e()}))}}(e[n],t)})),function(){return(0,i.mG)(this,void 0,void 0,(function(){var e,t,n,a,d,c;return(0,i.Jh)(this,(function(u){switch(u.label){case 0:for(e={},t=0,n=s;t<n.length;t++)a=n[t],e[a]=void 0;d=Array(s.length),c=function(){var t;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return t=!0,[4,o(s,(function(n,i){d[i]||(l[i]?d[i]=l[i]().then((function(t){return e[n]=t})):t=!1)}))];case 1:return n.sent(),t?[2,"break"]:[4,r(1)];case 2:return n.sent(),[2]}}))},u.label=1;case 1:return[5,c()];case 2:if("break"===u.sent())return[3,4];u.label=3;case 3:return[3,1];case 4:return[4,Promise.all(d)];case 5:return u.sent(),[2,e]}}))}))}}function b(){var e=window,t=navigator;return f(["MSCSSMatrix"in e,"msSetImmediate"in e,"msIndexedDB"in e,"msMaxTouchPoints"in t,"msPointerEnabled"in t])>=4}function w(){var e=window,t=navigator;return f(["webkitPersistentStorage"in t,"webkitTemporaryStorage"in t,0===t.vendor.indexOf("Google"),"webkitResolveLocalFileSystemURL"in e,"BatteryManager"in e,"webkitMediaStream"in e,"webkitSpeechGrammar"in e])>=5}function S(){var e=window,t=navigator;return f(["ApplePayError"in e,"CSSPrimitiveValue"in e,"Counter"in e,0===t.vendor.indexOf("Apple"),"getStorageUpdates"in t,"WebKitMediaKeys"in e])>=4}function T(){var e=window;return f(["safari"in e,!("DeviceMotionEvent"in e),!("ongestureend"in e),!("standalone"in navigator)])>=3}function I(){var e=document;return(e.exitFullscreen||e.msExitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen).call(e)}function P(){var e=w(),t=function(){var e,t,n=window;return f(["buildID"in navigator,"MozAppearance"in(null!==(t=null===(e=document.documentElement)||void 0===e?void 0:e.style)&&void 0!==t?t:{}),"MediaRecorderErrorEvent"in n,"mozInnerScreenX"in n,"CSSMozDocumentRule"in n,"CanvasCaptureMediaStream"in n])>=4}();if(!e&&!t)return!1;var n=window;return f(["onorientationchange"in n,"orientation"in n,e&&"SharedWorker"in n,t&&/android/i.test(navigator.appVersion)])>=2}function E(e){var t=new Error(e);return t.name=e,t}function A(e,t,n){var a,o,s;return void 0===n&&(n=50),(0,i.mG)(this,void 0,void 0,(function(){var l,d;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:l=document,i.label=1;case 1:return l.body?[3,3]:[4,r(n)];case 2:return i.sent(),[3,1];case 3:d=l.createElement("iframe"),i.label=4;case 4:return i.trys.push([4,,10,11]),[4,new Promise((function(e,n){d.onload=e,d.onerror=n;var i=d.style;i.setProperty("display","block","important"),i.position="absolute",i.top="0",i.left="0",i.visibility="hidden",t&&"srcdoc"in d?d.srcdoc=t:d.src="about:blank",l.body.appendChild(d);var r=function(){var t,n;"complete"===(null===(n=null===(t=d.contentWindow)||void 0===t?void 0:t.document)||void 0===n?void 0:n.readyState)?e():setTimeout(r,10)};r()}))];case 5:i.sent(),i.label=6;case 6:return(null===(o=null===(a=d.contentWindow)||void 0===a?void 0:a.document)||void 0===o?void 0:o.body)?[3,8]:[4,r(n)];case 7:return i.sent(),[3,6];case 8:return[4,e(d,d.contentWindow)];case 9:return[2,i.sent()];case 10:return null===(s=d.parentNode)||void 0===s||s.removeChild(d),[7];case 11:return[2]}}))}))}function k(e){for(var t=function(e){for(var t,n,i="Unexpected syntax '"+e+"'",r=/^\s*([a-z-]*)(.*)$/i.exec(e),a=r[1]||void 0,o={},s=/([.:#][\w-]+|\[.+?\])/gi,l=function(e,t){o[e]=o[e]||[],o[e].push(t)};;){var d=s.exec(r[2]);if(!d)break;var c=d[0];switch(c[0]){case".":l("class",c.slice(1));break;case"#":l("id",c.slice(1));break;case"[":var u=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(c);if(!u)throw new Error(i);l(u[1],null!==(n=null!==(t=u[4])&&void 0!==t?t:u[5])&&void 0!==n?n:"");break;default:throw new Error(i)}}return[a,o]}(e),n=t[0],i=t[1],r=document.createElement(null!=n?n:"div"),a=0,o=Object.keys(i);a<o.length;a++){var s=o[a];r.setAttribute(s,i[s].join(" "))}return r}var C=["monospace","sans-serif","serif"],R=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function j(e){return e.rect(0,0,10,10),e.rect(2,2,6,6),!e.isPointInPath(5,5,"evenodd")}function D(e,t){e.width=240,e.height=60,t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(100,1,62,20),t.fillStyle="#069",t.font='11pt "Times New Roman"';var n="Cwm fjordbank gly "+String.fromCharCode(55357,56835);return t.fillText(n,2,15),t.fillStyle="rgba(102, 204, 0, 0.2)",t.font="18pt Arial",t.fillText(n,4,45),N(e)}function O(e,t){e.width=122,e.height=110,t.globalCompositeOperation="multiply";for(var n=0,i=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];n<i.length;n++){var r=i[n],a=r[0],o=r[1],s=r[2];t.fillStyle=a,t.beginPath(),t.arc(o,s,40,0,2*Math.PI,!0),t.closePath(),t.fill()}return t.fillStyle="#f9c",t.arc(60,60,60,0,2*Math.PI,!0),t.arc(60,60,20,0,2*Math.PI,!0),t.fill("evenodd"),N(e)}function N(e){return e.toDataURL()}var L,U;function F(){var e=this;return function(){if(void 0===U){var e=function(){var t=M();z(t)?U=setTimeout(e,2500):(L=t,U=void 0)};e()}}(),function(){return(0,i.mG)(e,void 0,void 0,(function(){var e;return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return z(e=M())?L?[2,(0,i.pr)(L)]:(n=document).fullscreenElement||n.msFullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement?[4,I()]:[3,2]:[3,2];case 1:t.sent(),e=M(),t.label=2;case 2:return z(e)||(L=e),[2,e]}var n}))}))}}function M(){var e=screen;return[g(m(e.availTop),null),g(m(e.width)-m(e.availWidth)-g(m(e.availLeft),0),null),g(m(e.height)-m(e.availHeight)-g(m(e.availTop),0),null),g(m(e.availLeft),null)]}function z(e){for(var t=0;t<4;++t)if(e[t])return!1;return!0}var B={abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",'a[title="7naga poker" i]','[title="ALIENBOLA" i]'],abpvn:["#quangcaomb",".i-said-no-thing-can-stop-me-warning.dark",".quangcao",'[href^="https://r88.vn/"]','[href^="https://zbet.vn/"]'],adBlockFinland:[".mainostila",".sponsorit",".ylamainos",'a[href*="/clickthrgh.asp?"]','a[href^="https://app.readpeak.com/ads"]'],adBlockPersian:["#navbar_notice_50",'a[href^="http://g1.v.fwmrm.net/ad/"]',".kadr",'TABLE[width="140px"]',"#divAgahi"],adBlockWarningRemoval:["#adblock_message",".adblockInfo",".deadblocker-header-bar",".no-ad-reminder","#AdBlockDialog"],adGuardAnnoyances:['amp-embed[type="zen"]',".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil"],adGuardBase:["#ad-fullbanner2-billboard-outer",".stky-ad-footer",".BetterJsPopOverlay","#ad_300X250","#bannerfloat22"],adGuardChinese:['#piao_div_0[style*="width:140px;"]','a[href*=".ttz5.cn"]','a[href*=".yabovip2027.com/"]',".tm3all2h4b","#duilian_left"],adGuardFrench:["#anAdScGp300x25",'a[href*=".kfiopkln.com/"]','a[href^="https://jsecoin.com/o/?"]','a[href^="https://www.clickadu.com/?"]',".bandeauClosePub"],adGuardGerman:[".banneritemwerbung_head_1",".boxstartwerbung",".werbung3",'a[href^="http://www.eis.de/index.phtml?refid="]','a[href^="https://www.tipico.com/?affiliateId="]'],adGuardJapanese:["#kauli_yad_1",".adArticleSidetile",".ads_entrymore",'a[href^="http://ad2.trafficgate.net/"]','a[href^="http://www.rssad.jp/"]'],adGuardMobile:["amp-auto-ads","#mgid_iframe",".amp_ad","amp-sticky-ad",".plugin-blogroll"],adGuardRussian:['a[href^="https://ya-distrib.ru/r/"]','a[href^="https://ad.letmeads.com/"]',".reclama",'div[id^="smi2adblock"]','div[id^="AdFox_banner_"]'],adGuardSocial:['a[href^="//www.stumbleupon.com/submit?url="]','a[href^="//telegram.me/share/url?"]',".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",'[href^="http://ads.glispa.com/"]'],adGuardTrackingProtection:['amp-embed[type="taboola"]',"#qoo-counter",'a[href^="http://click.hotlog.ru/"]','a[href^="http://hitcounter.ru/top/stat.php"]','a[href^="http://top.mail.ru/jump"]'],adGuardTurkish:["#backkapat","#reklami",'a[href^="http://adserv.ontek.com.tr/"]','a[href^="http://izlenzi.com/campaign/"]','a[href^="http://www.installads.net/"]'],bulgarian:["td#freenet_table_ads","#newAd","#ea_intext_div",".lapni-pop-over","#xenium_hot_offers"],easyList:["#adlabelheader","#anAdScGame300x250","#adTakeOverLeft","#ad_LargeRec01","#adundergame"],easyListChina:['a[href*=".wensixuetang.com/"]','A[href*="/hth107.com/"]','.appguide-wrap[onclick*="bcebos.com"]',".frontpageAdvM","#taotaole"],easyListCookie:["#Button_Cookie","#CWCookie","#CookieCon","#DGPR","#PnlCookie"],easyListCzechSlovak:["#onlajny-stickers","#reklamni-box",".reklama-megaboard",".sklik",'[id^="sklikReklama"]'],easyListDutch:["#advertentie","#vipAdmarktBannerBlock",".adstekst",'a[href^="http://adserver.webads.nl/adclick/"]',"#semilo-lrectangle"],easyListGermany:["#nativendo-hometop",'a[href^="http://www.kontakt-vermittler.de/?wm="]',"#gwerbung",'a[href^="https://marketing.net.brillen.de/"]',".werbenbox"],easyListItaly:[".box_adv_annunci",".sb-box-pubbliredazionale",'a[href^="http://affiliazioniads.snai.it/"]','a[href^="https://adserver.html.it/"]','a[href^="https://affiliazioniads.snai.it/"]'],easyListLithuania:[".reklamos_tarpas",".reklamos_nuorodos",'img[alt="Reklaminis skydelis"]','img[alt="Dedikuoti.lt serveriai"]','img[alt="Hostingas Serveriai.lt"]'],estonian:['A[href*="http://pay4results24.eu"]'],fanboyAnnoyances:["#feedback-tab","#taboola-below-article",".feedburnerFeedBlock",".widget-feedburner-counter",'[title="Subscribe to our blog"]'],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag",'div[style*="box-shadow: rgb(136, 136, 136) 0px 0px 12px; color: "]','div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:[".td-tags-and-social-wrapper-box",".twitterContainer",".youtube-social",'a[title^="Like us on Facebook"]','img[alt^="Share on Digg"]'],frellwitSwedish:['a[href*="casinopro.se"][target="_blank"]','a[href*="doktor-se.onelink.me"]',"article.category-samarbete","div.holidAds","ul.adsmodern"],greekAdBlock:['A[href*="adman.otenet.gr/click?"]','A[href*="http://axiabanners.exodus.gr/"]','A[href*="http://interactive.forthnet.gr/click?"]',"DIV.agores300","TABLE.advright"],hungarian:['A[href*="ad.eval.hu"]','A[href*="ad.netmedia.hu"]','A[href*="daserver.ultraweb.hu"]',"#cemp_doboz",".optimonk-iframe-container"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container",".cookie-msg-info-container","#cookies-policy-sticky"],icelandicAbp:['A[href^="/framework/resources/forms/ads.aspx"]'],latvian:['a[href="http://www.salidzini.lv/"][style="display: block; width: 120px; height: 40px; overflow: hidden; position: relative;"]','a[href="http://www.salidzini.lv/"][style="display: block; width: 88px; height: 31px; overflow: hidden; position: relative;"]'],listKr:['a[href*="//kingtoon.slnk.kr"]','a[href*="//playdsb.com/kr"]',"div.logly-lift-adz",'div[data-widget_id="ml6EJ074"]',"ins.daum_ddn_area"],listeAr:[".geminiLB1Ad",".right-and-left-sponsers",'a[href*=".aflam.info"]','a[href*="booraq.org"]','a[href*="dubizzle.com/ar/?utm_source="]'],listeFr:['a[href^="http://promo.vador.com/"]',"#adcontainer_recherche",'a[href*="weborama.fr/fcgi-bin/"]',".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",'[href^="https://aff.sendhub.pl/"]','a[href^="http://advmanager.techfun.pl/redirect/"]','a[href^="http://www.trizer.pl/?utm_source"]',"div#skapiec_ad"],ro:['a[href^="//afftrk.altex.ro/Counter/Click"]','a[href^="/magazin/"]','a[href^="https://blackfridaysales.ro/trk/shop/"]','a[href^="https://event.2performant.com/events/click"]','a[href^="https://l.profitshare.ro/"]'],ruAd:['a[href*="//febrare.ru/"]','a[href*="//utimg.ru/"]','a[href*="://chikidiki.ru"]',"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]","#ads-google-middle_rectangle-group",".ads300s",".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",".ctpl-fullbanner",".zergnet-recommend",".yt.btn-link.btn-md.btn"]},Z=Object.keys(B);function H(e){var t;return(0,i.mG)(this,void 0,void 0,(function(){var n,a,o,s,l,d,c;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:for(n=document,a=n.createElement("div"),o=new Array(e.length),s={},G(a),c=0;c<e.length;++c)l=k(e[c]),G(d=n.createElement("div")),d.appendChild(l),a.appendChild(d),o[c]=l;i.label=1;case 1:return n.body?[3,3]:[4,r(50)];case 2:return i.sent(),[3,1];case 3:n.body.appendChild(a);try{for(c=0;c<e.length;++c)o[c].offsetParent||(s[e[c]]=!0)}finally{null===(t=a.parentNode)||void 0===t||t.removeChild(a)}return[2,s]}}))}))}function G(e){e.style.setProperty("display","block","important")}function V(e){return matchMedia("(inverted-colors: "+e+")").matches}function W(e){return matchMedia("(forced-colors: "+e+")").matches}function K(e){return matchMedia("(prefers-contrast: "+e+")").matches}function q(e){return matchMedia("(prefers-reduced-motion: "+e+")").matches}function Y(e){return matchMedia("(dynamic-range: "+e+")").matches}var $=Math,X=function(){return 0},J=$.acos||X,Q=$.acosh||X,ee=$.asin||X,te=$.asinh||X,ne=$.atanh||X,ie=$.atan||X,re=$.sin||X,ae=$.sinh||X,oe=$.cos||X,se=$.cosh||X,le=$.tan||X,de=$.tanh||X,ce=$.exp||X,ue=$.expm1||X,pe=$.log1p||X,_e=function(e){return $.pow($.PI,e)},he=function(e){return $.log(e+$.sqrt(e*e+1))},me=function(e){return $.log((1+e)/(1-e))/2},ge=function(e){return $.exp(e)-1/$.exp(e)/2},fe=function(e){return($.exp(e)+1/$.exp(e))/2},ve=function(e){return $.exp(e)-1},ye=function(e){return($.exp(2*e)-1)/($.exp(2*e)+1)},xe=function(e){return $.log(1+e)};var be={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]};var we={fonts:function(){return A((function(e,t){var n=t.document,i=n.body;i.style.fontSize="48px";var r=n.createElement("div"),a={},o={},s=function(e){var t=n.createElement("span"),i=t.style;return i.position="absolute",i.top="0",i.left="0",i.fontFamily=e,t.textContent="mmMwWLliI0O&1",r.appendChild(t),t},l=C.map(s),d=function(){for(var e={},t=function(t){e[t]=C.map((function(e){return function(e,t){return s("'"+e+"',"+t)}(t,e)}))},n=0,i=R;n<i.length;n++){t(i[n])}return e}();i.appendChild(r);for(var c=0;c<C.length;c++)a[C[c]]=l[c].offsetWidth,o[C[c]]=l[c].offsetHeight;return R.filter((function(e){return t=d[e],C.some((function(e,n){return t[n].offsetWidth!==a[e]||t[n].offsetHeight!==o[e]}));var t}))}))},domBlockers:function(e){var t=(void 0===e?{}:e).debug;return(0,i.mG)(this,void 0,void 0,(function(){var e,n,r;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return S()||P()?[4,H((r=[]).concat.apply(r,Z.map((function(e){return B[e]}))))]:[2,void 0];case 1:return e=i.sent(),t&&function(e){for(var t="DOM blockers debug:\n```",n=0,i=Z;n<i.length;n++){var r=i[n];t+="\n"+r+":";for(var a=0,o=B[r];a<o.length;a++){var s=o[a];t+="\n  "+s+" "+(e[s]?"":"")}}console.log(t+"\n```")}(e),(n=Z.filter((function(t){var n=B[t];return f(n.map((function(t){return e[t]})))>.6*n.length}))).sort(),[2,n]}}))}))},fontPreferences:function(){return function(e,t){void 0===t&&(t=4e3);return A((function(n,r){var a=r.document,o=a.body,s=o.style;s.width=t+"px",s.webkitTextSizeAdjust=s.textSizeAdjust="none",w()?o.style.zoom=""+1/r.devicePixelRatio:S()&&(o.style.zoom="reset");var l=a.createElement("div");return l.textContent=(0,i.pr)(Array(t/20<<0)).map((function(){return"word"})).join(" "),o.appendChild(l),e(a,o)}),'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">')}((function(e,t){for(var n={},i={},r=0,a=Object.keys(be);r<a.length;r++){var o=a[r],s=be[o],l=s[0],d=void 0===l?{}:l,c=s[1],u=void 0===c?"mmMwWLliI0fiflO&1":c,p=e.createElement("span");p.textContent=u,p.style.whiteSpace="nowrap";for(var _=0,h=Object.keys(d);_<h.length;_++){var m=h[_],g=d[m];void 0!==g&&(p.style[m]=g)}n[o]=p,t.appendChild(e.createElement("br")),t.appendChild(p)}for(var f=0,v=Object.keys(be);f<v.length;f++){i[o=v[f]]=n[o].getBoundingClientRect().width}return i}))},audio:function(){var e=window,t=e.OfflineAudioContext||e.webkitOfflineAudioContext;if(!t)return-2;if(S()&&!T()&&!function(){var e=window;return f(["DOMRectList"in e,"RTCPeerConnectionIceEvent"in e,"SVGGeometryElement"in e,"ontransitioncancel"in e])>=3}())return-1;var n=new t(1,5e3,44100),i=n.createOscillator();i.type="triangle",i.frequency.value=1e4;var r=n.createDynamicsCompressor();r.threshold.value=-50,r.knee.value=40,r.ratio.value=12,r.attack.value=0,r.release.value=.25,i.connect(r),r.connect(n.destination),i.start(0);var a=function(e){var t=3,n=500,i=500,r=5e3,a=function(){};return[new Promise((function(o,s){var l=!1,d=0,c=0;e.oncomplete=function(e){return o(e.renderedBuffer)};var u=function(){setTimeout((function(){return s(E("timeout"))}),Math.min(i,c+r-Date.now()))},p=function(){try{switch(e.startRendering(),e.state){case"running":c=Date.now(),l&&u();break;case"suspended":document.hidden||d++,l&&d>=t?s(E("suspended")):setTimeout(p,n)}}catch(i){s(i)}};p(),a=function(){l||(l=!0,c>0&&u())}})),a]}(n),o=a[0],s=a[1],l=o.then((function(e){return function(e){for(var t=0,n=0;n<e.length;++n)t+=Math.abs(e[n]);return t}(e.getChannelData(0).subarray(4500))}),(function(e){if("timeout"===e.name||"suspended"===e.name)return-3;throw e}));return l.catch((function(){})),function(){return s(),l}},screenFrame:function(){var e=this,t=F();return function(){return(0,i.mG)(e,void 0,void 0,(function(){var e,n;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return[4,t()];case 1:return e=i.sent(),[2,[(n=function(e){return null===e?null:v(e,10)})(e[0]),n(e[1]),n(e[2]),n(e[3])]]}}))}))}},osCpu:function(){return navigator.oscpu},languages:function(){var e,t=navigator,n=[],i=t.language||t.userLanguage||t.browserLanguage||t.systemLanguage;if(void 0!==i&&n.push([i]),Array.isArray(t.languages))w()&&f([!("MediaSettingsRange"in(e=window)),"RTCEncodedAudioFrame"in e,""+e.Intl=="[object Intl]",""+e.Reflect=="[object Reflect]"])>=3||n.push(t.languages);else if("string"==typeof t.languages){var r=t.languages;r&&n.push(r.split(","))}return n},colorDepth:function(){return window.screen.colorDepth},deviceMemory:function(){return g(m(navigator.deviceMemory),void 0)},screenResolution:function(){var e=screen,t=function(e){return g(h(e),null)},n=[t(e.width),t(e.height)];return n.sort().reverse(),n},hardwareConcurrency:function(){return g(h(navigator.hardwareConcurrency),void 0)},timezone:function(){var e,t=null===(e=window.Intl)||void 0===e?void 0:e.DateTimeFormat;if(t){var n=(new t).resolvedOptions().timeZone;if(n)return n}var i,r=(i=(new Date).getFullYear(),-Math.max(m(new Date(i,0,1).getTimezoneOffset()),m(new Date(i,6,1).getTimezoneOffset())));return"UTC"+(r>=0?"+":"")+Math.abs(r)},sessionStorage:function(){try{return!!window.sessionStorage}catch(e){return!0}},localStorage:function(){try{return!!window.localStorage}catch(e){return!0}},indexedDB:function(){var e,t;if(!(b()||(e=window,t=navigator,f(["msWriteProfilerMark"in e,"MSStream"in e,"msLaunchUri"in t,"msSaveBlob"in t])>=3&&!b())))try{return!!window.indexedDB}catch(n){return!0}},openDatabase:function(){return!!window.openDatabase},cpuClass:function(){return navigator.cpuClass},platform:function(){var e=navigator.platform;return"MacIntel"===e&&S()&&!T()?function(){if("iPad"===navigator.platform)return!0;var e=screen,t=e.width/e.height;return f(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,t>2/3&&t<1.5])>=2}()?"iPad":"iPhone":e},plugins:function(){var e=navigator.plugins;if(e){for(var t=[],n=0;n<e.length;++n){var i=e[n];if(i){for(var r=[],a=0;a<i.length;++a){var o=i[a];r.push({type:o.type,suffixes:o.suffixes})}t.push({name:i.name,description:i.description,mimeTypes:r})}}return t}},canvas:function(){var e=function(){var e=document.createElement("canvas");return e.width=1,e.height=1,[e,e.getContext("2d")]}(),t=e[0],n=e[1];return function(e,t){return!(!t||!e.toDataURL)}(t,n)?{winding:j(n),geometry:O(t,n),text:D(t,n)}:{winding:!1,geometry:"",text:""}},touchSupport:function(){var e,t=navigator,n=0;void 0!==t.maxTouchPoints?n=h(t.maxTouchPoints):void 0!==t.msMaxTouchPoints&&(n=t.msMaxTouchPoints);try{document.createEvent("TouchEvent"),e=!0}catch(i){e=!1}return{maxTouchPoints:n,touchEvent:e,touchStart:"ontouchstart"in window}},vendor:function(){return navigator.vendor||""},vendorFlavors:function(){for(var e=[],t=0,n=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];t<n.length;t++){var i=n[t],r=window[i];r&&"object"==typeof r&&e.push(i)}return e.sort()},cookiesEnabled:function(){var e=document;try{e.cookie="cookietest=1; SameSite=Strict;";var t=-1!==e.cookie.indexOf("cookietest=");return e.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",t}catch(n){return!1}},colorGamut:function(){for(var e=0,t=["rec2020","p3","srgb"];e<t.length;e++){var n=t[e];if(matchMedia("(color-gamut: "+n+")").matches)return n}},invertedColors:function(){return!!V("inverted")||!V("none")&&void 0},forcedColors:function(){return!!W("active")||!W("none")&&void 0},monochrome:function(){if(matchMedia("(min-monochrome: 0)").matches){for(var e=0;e<=100;++e)if(matchMedia("(max-monochrome: "+e+")").matches)return e;throw new Error("Too high value")}},contrast:function(){return K("no-preference")?0:K("high")||K("more")?1:K("low")||K("less")?-1:K("forced")?10:void 0},reducedMotion:function(){return!!q("reduce")||!q("no-preference")&&void 0},hdr:function(){return!!Y("high")||!Y("standard")&&void 0},math:function(){return{acos:J(.12312423423423424),acosh:Q(1e308),acoshPf:(e=1e154,$.log(e+$.sqrt(e*e-1))),asin:ee(.12312423423423424),asinh:te(1),asinhPf:he(1),atanh:ne(.5),atanhPf:me(.5),atan:ie(.5),sin:re(-1e300),sinh:ae(1),sinhPf:ge(1),cos:oe(10.000000000123),cosh:se(1),coshPf:fe(1),tan:le(-1e300),tanh:de(1),tanhPf:ye(1),exp:ce(1),expm1:ue(1),expm1Pf:ve(1),log1p:pe(10),log1pPf:xe(10),powPI:_e(-100)};var e}};function Se(e){if(P())return.4;if(S())return T()?.5:.3;var t=e.platform.value||"";return/^Win/.test(t)?.6:/^Mac/.test(t)?.5:.7}function Te(e){return v(.99+.01*e,1e-4)}function Ie(e){return JSON.stringify(e,(function(e,t){return t instanceof Error?(n=t,(0,i.pi)({name:n.name,message:n.message,stack:null===(r=n.stack)||void 0===r?void 0:r.split("\n")},n)):t;var n,r}),2)}function Pe(e){return _(function(e){for(var t="",n=0,i=Object.keys(e).sort();n<i.length;n++){var r=i[n],a=e[r],o=a.error?"error":JSON.stringify(a.value);t+=(t?"|":"")+r.replace(/([:|\\])/g,"\\$1")+":"+o}return t}(e))}function Ee(e){var t;return{get visitorId(){return void 0===t&&(t=Pe(this.components)),t},set visitorId(e){t=e},confidence:function(e){var t=Se(e),n=Te(t);return{score:t,comment:"$ if upgrade to Pro: https://fpjs.dev/pro".replace(/\$/g,""+n)}}(e),components:e,version:"3.3.0"}}function Ae(e){return void 0===e&&(e=50),function(e,t){void 0===t&&(t=1/0);var n=window.requestIdleCallback;return n?new Promise((function(e){return n.call(window,(function(){return e()}),{timeout:t})})):r(Math.min(e,t))}(e,2*e)}function ke(e,t){var n=Date.now();return{get:function(r){return(0,i.mG)(this,void 0,void 0,(function(){var a,o,s;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return a=Date.now(),[4,e()];case 1:return o=i.sent(),s=Ee(o),(t||(null==r?void 0:r.debug))&&console.log("Copy the text below to get the debug data:\n\n```\nversion: "+s.version+"\nuserAgent: "+navigator.userAgent+"\ntimeBetweenLoadAndGet: "+(a-n)+"\nvisitorId: "+s.visitorId+"\ncomponents: "+Ie(o)+"\n```"),[2,s]}}))}))}}}const Ce={load:function(e){var t=void 0===e?{}:e,n=t.delayFallback,r=t.debug;return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(e){switch(e.label){case 0:return[4,Ae(n)];case 1:return e.sent(),[2,ke(x(we,{debug:r},[]),r)]}}))}))},hashComponents:Pe,componentsToDebugString:Ie}},376030:(e,t,n)=>{n.d(t,{Z:()=>se});var i={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},r={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},a=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],o={CSS:{},springs:{}};function s(e,t,n){return Math.min(Math.max(e,t),n)}function l(e,t){return e.indexOf(t)>-1}function d(e,t){return e.apply(null,t)}var c={arr:function(e){return Array.isArray(e)},obj:function(e){return l(Object.prototype.toString.call(e),"Object")},pth:function(e){return c.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||c.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},nil:function(e){return c.und(e)||null===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return c.hex(e)||c.rgb(e)||c.hsl(e)},key:function(e){return!i.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function u(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map((function(e){return parseFloat(e)})):[]}function p(e,t){var n=u(e),i=s(c.und(n[0])?1:n[0],.1,100),r=s(c.und(n[1])?100:n[1],.1,100),a=s(c.und(n[2])?10:n[2],.1,100),l=s(c.und(n[3])?0:n[3],.1,100),d=Math.sqrt(r/i),p=a/(2*Math.sqrt(r*i)),_=p<1?d*Math.sqrt(1-p*p):0,h=p<1?(p*d-l)/_:-l+d;function m(e){var n=t?t*e/1e3:e;return n=p<1?Math.exp(-n*p*d)*(1*Math.cos(_*n)+h*Math.sin(_*n)):(1+h*n)*Math.exp(-n*d),0===e||1===e?e:1-n}return t?m:function(){var t=o.springs[e];if(t)return t;for(var n=1/6,i=0,r=0;;)if(1===m(i+=n)){if(++r>=16)break}else r=0;var a=i*n*1e3;return o.springs[e]=a,a}}function _(e){return void 0===e&&(e=10),function(t){return Math.ceil(s(t,1e-6,1)*e)*(1/e)}}var h,m,g=function(){var e=.1;function t(e,t){return 1-3*t+3*e}function n(e,t){return 3*t-6*e}function i(e){return 3*e}function r(e,r,a){return((t(r,a)*e+n(r,a))*e+i(r))*e}function a(e,r,a){return 3*t(r,a)*e*e+2*n(r,a)*e+i(r)}return function(t,n,i,o){if(0<=t&&t<=1&&0<=i&&i<=1){var s=new Float32Array(11);if(t!==n||i!==o)for(var l=0;l<11;++l)s[l]=r(l*e,t,i);return function(e){return t===n&&i===o||0===e||1===e?e:r(d(e),n,o)}}function d(n){for(var o=0,l=1;10!==l&&s[l]<=n;++l)o+=e;--l;var d=o+(n-s[l])/(s[l+1]-s[l])*e,c=a(d,t,i);return c>=.001?function(e,t,n,i){for(var o=0;o<4;++o){var s=a(t,n,i);if(0===s)return t;t-=(r(t,n,i)-e)/s}return t}(n,d,t,i):0===c?d:function(e,t,n,i,a){var o,s,l=0;do{(o=r(s=t+(n-t)/2,i,a)-e)>0?n=s:t=s}while(Math.abs(o)>1e-7&&++l<10);return s}(n,o,o+e,t,i)}}}(),f=(h={linear:function(){return function(e){return e}}},m={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}},Elastic:function(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var n=s(e,1,10),i=s(t,.1,2);return function(e){return 0===e||1===e?e:-n*Math.pow(2,10*(e-1))*Math.sin((e-1-i/(2*Math.PI)*Math.asin(1/n))*(2*Math.PI)/i)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach((function(e,t){m[e]=function(){return function(e){return Math.pow(e,t+2)}}})),Object.keys(m).forEach((function(e){var t=m[e];h["easeIn"+e]=t,h["easeOut"+e]=function(e,n){return function(i){return 1-t(e,n)(1-i)}},h["easeInOut"+e]=function(e,n){return function(i){return i<.5?t(e,n)(2*i)/2:1-t(e,n)(-2*i+2)/2}},h["easeOutIn"+e]=function(e,n){return function(i){return i<.5?(1-t(e,n)(1-2*i))/2:(t(e,n)(2*i-1)+1)/2}}})),h);function v(e,t){if(c.fnc(e))return e;var n=e.split("(")[0],i=f[n],r=u(e);switch(n){case"spring":return p(e,t);case"cubicBezier":return d(g,r);case"steps":return d(_,r);default:return d(i,r)}}function y(e){try{return document.querySelectorAll(e)}catch(t){return}}function x(e,t){for(var n=e.length,i=arguments.length>=2?arguments[1]:void 0,r=[],a=0;a<n;a++)if(a in e){var o=e[a];t.call(i,o,a,e)&&r.push(o)}return r}function b(e){return e.reduce((function(e,t){return e.concat(c.arr(t)?b(t):t)}),[])}function w(e){return c.arr(e)?e:(c.str(e)&&(e=y(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function S(e,t){return e.some((function(e){return e===t}))}function T(e){var t={};for(var n in e)t[n]=e[n];return t}function I(e,t){var n=T(e);for(var i in e)n[i]=t.hasOwnProperty(i)?t[i]:e[i];return n}function P(e,t){var n=T(e);for(var i in t)n[i]=c.und(e[i])?t[i]:e[i];return n}function E(e){return c.rgb(e)?(n=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t=e))?"rgba("+n[1]+",1)":t:c.hex(e)?function(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,i){return t+t+n+n+i+i})),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgba("+parseInt(n[1],16)+","+parseInt(n[2],16)+","+parseInt(n[3],16)+",1)"}(e):c.hsl(e)?function(e){var t,n,i,r=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),a=parseInt(r[1],10)/360,o=parseInt(r[2],10)/100,s=parseInt(r[3],10)/100,l=r[4]||1;function d(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(0==o)t=n=i=s;else{var c=s<.5?s*(1+o):s+o-s*o,u=2*s-c;t=d(u,c,a+1/3),n=d(u,c,a),i=d(u,c,a-1/3)}return"rgba("+255*t+","+255*n+","+255*i+","+l+")"}(e):void 0;var t,n}function A(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function k(e,t){return c.fnc(e)?e(t.target,t.id,t.total):e}function C(e,t){return e.getAttribute(t)}function R(e,t,n){if(S([n,"deg","rad","turn"],A(t)))return t;var i=o.CSS[t+n];if(!c.und(i))return i;var r=document.createElement(e.tagName),a=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;a.appendChild(r),r.style.position="absolute",r.style.width=100+n;var s=100/r.offsetWidth;a.removeChild(r);var l=s*parseFloat(t);return o.CSS[t+n]=l,l}function j(e,t,n){if(t in e.style){var i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=e.style[t]||getComputedStyle(e).getPropertyValue(i)||"0";return n?R(e,r,n):r}}function D(e,t){return c.dom(e)&&!c.inp(e)&&(!c.nil(C(e,t))||c.svg(e)&&e[t])?"attribute":c.dom(e)&&S(a,t)?"transform":c.dom(e)&&"transform"!==t&&j(e,t)?"css":null!=e[t]?"object":void 0}function O(e){if(c.dom(e)){for(var t,n=e.style.transform||"",i=/(\w+)\(([^)]*)\)/g,r=new Map;t=i.exec(n);)r.set(t[1],t[2]);return r}}function N(e,t,n,i){var r=l(t,"scale")?1:0+function(e){return l(e,"translate")||"perspective"===e?"px":l(e,"rotate")||l(e,"skew")?"deg":void 0}(t),a=O(e).get(t)||r;return n&&(n.transforms.list.set(t,a),n.transforms.last=t),i?R(e,a,i):a}function L(e,t,n,i){switch(D(e,t)){case"transform":return N(e,t,i,n);case"css":return j(e,t,n);case"attribute":return C(e,t);default:return e[t]||0}}function U(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var i=A(e)||0,r=parseFloat(t),a=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return r+a+i;case"-":return r-a+i;case"*":return r*a+i}}function F(e,t){if(c.col(e))return E(e);if(/\s/g.test(e))return e;var n=A(e),i=n?e.substr(0,e.length-n.length):e;return t?i+t:i}function M(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function z(e){for(var t,n=e.points,i=0,r=0;r<n.numberOfItems;r++){var a=n.getItem(r);r>0&&(i+=M(t,a)),t=a}return i}function B(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return function(e){return 2*Math.PI*C(e,"r")}(e);case"rect":return function(e){return 2*C(e,"width")+2*C(e,"height")}(e);case"line":return function(e){return M({x:C(e,"x1"),y:C(e,"y1")},{x:C(e,"x2"),y:C(e,"y2")})}(e);case"polyline":return z(e);case"polygon":return function(e){var t=e.points;return z(e)+M(t.getItem(t.numberOfItems-1),t.getItem(0))}(e)}}function Z(e,t){var n=t||{},i=n.el||function(e){for(var t=e.parentNode;c.svg(t)&&c.svg(t.parentNode);)t=t.parentNode;return t}(e),r=i.getBoundingClientRect(),a=C(i,"viewBox"),o=r.width,s=r.height,l=n.viewBox||(a?a.split(" "):[0,0,o,s]);return{el:i,viewBox:l,x:l[0]/1,y:l[1]/1,w:o,h:s,vW:l[2],vH:l[3]}}function H(e,t,n){function i(n){void 0===n&&(n=0);var i=t+n>=1?t+n:0;return e.el.getPointAtLength(i)}var r=Z(e.el,e.svg),a=i(),o=i(-1),s=i(1),l=n?1:r.w/r.vW,d=n?1:r.h/r.vH;switch(e.property){case"x":return(a.x-r.x)*l;case"y":return(a.y-r.y)*d;case"angle":return 180*Math.atan2(s.y-o.y,s.x-o.x)/Math.PI}}function G(e,t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,i=F(c.pth(e)?e.totalLength:e,t)+"";return{original:i,numbers:i.match(n)?i.match(n).map(Number):[0],strings:c.str(e)||t?i.split(n):[]}}function V(e){return x(e?b(c.arr(e)?e.map(w):w(e)):[],(function(e,t,n){return n.indexOf(e)===t}))}function W(e){var t=V(e);return t.map((function(e,n){return{target:e,id:n,total:t.length,transforms:{list:O(e)}}}))}function K(e,t){var n=T(t);if(/^spring/.test(n.easing)&&(n.duration=p(n.easing)),c.arr(e)){var i=e.length;2===i&&!c.obj(e[0])?e={value:e}:c.fnc(t.duration)||(n.duration=t.duration/i)}var r=c.arr(e)?e:[e];return r.map((function(e,n){var i=c.obj(e)&&!c.pth(e)?e:{value:e};return c.und(i.delay)&&(i.delay=n?0:t.delay),c.und(i.endDelay)&&(i.endDelay=n===r.length-1?t.endDelay:0),i})).map((function(e){return P(e,n)}))}function q(e,t){var n=[],i=t.keyframes;for(var r in i&&(t=P(function(e){for(var t=x(b(e.map((function(e){return Object.keys(e)}))),(function(e){return c.key(e)})).reduce((function(e,t){return e.indexOf(t)<0&&e.push(t),e}),[]),n={},i=function(i){var r=t[i];n[r]=e.map((function(e){var t={};for(var n in e)c.key(n)?n==r&&(t.value=e[n]):t[n]=e[n];return t}))},r=0;r<t.length;r++)i(r);return n}(i),t)),t)c.key(r)&&n.push({name:r,tweens:K(t[r],e)});return n}function Y(e,t){var n;return e.tweens.map((function(i){var r=function(e,t){var n={};for(var i in e){var r=k(e[i],t);c.arr(r)&&1===(r=r.map((function(e){return k(e,t)}))).length&&(r=r[0]),n[i]=r}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(i,t),a=r.value,o=c.arr(a)?a[1]:a,s=A(o),l=L(t.target,e.name,s,t),d=n?n.to.original:l,u=c.arr(a)?a[0]:d,p=A(u)||A(l),_=s||p;return c.und(o)&&(o=d),r.from=G(u,_),r.to=G(U(o,u),_),r.start=n?n.end:0,r.end=r.start+r.delay+r.duration+r.endDelay,r.easing=v(r.easing,r.duration),r.isPath=c.pth(a),r.isPathTargetInsideSVG=r.isPath&&c.svg(t.target),r.isColor=c.col(r.from.original),r.isColor&&(r.round=1),n=r,r}))}var $={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,i,r){if(i.list.set(t,n),t===i.last||r){var a="";i.list.forEach((function(e,t){a+=t+"("+e+") "})),e.style.transform=a}}};function X(e,t){W(e).forEach((function(e){for(var n in t){var i=k(t[n],e),r=e.target,a=A(i),o=L(r,n,a,e),s=U(F(i,a||A(o)),o),l=D(r,n);$[l](r,n,s,e.transforms,!0)}}))}function J(e,t){return x(b(e.map((function(e){return t.map((function(t){return function(e,t){var n=D(e.target,t.name);if(n){var i=Y(t,e),r=i[i.length-1];return{type:n,property:t.name,animatable:e,tweens:i,duration:r.end,delay:i[0].delay,endDelay:r.endDelay}}}(e,t)}))}))),(function(e){return!c.und(e)}))}function Q(e,t){var n=e.length,i=function(e){return e.timelineOffset?e.timelineOffset:0},r={};return r.duration=n?Math.max.apply(Math,e.map((function(e){return i(e)+e.duration}))):t.duration,r.delay=n?Math.min.apply(Math,e.map((function(e){return i(e)+e.delay}))):t.delay,r.endDelay=n?r.duration-Math.max.apply(Math,e.map((function(e){return i(e)+e.duration-e.endDelay}))):t.endDelay,r}var ee=0;var te=[],ne=function(){var e;function t(n){for(var i=te.length,r=0;r<i;){var a=te[r];a.paused?(te.splice(r,1),i--):(a.tick(n),r++)}e=r>0?requestAnimationFrame(t):void 0}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",(function(){re.suspendWhenDocumentHidden&&(ie()?e=cancelAnimationFrame(e):(te.forEach((function(e){return e._onDocumentVisibility()})),ne()))})),function(){e||ie()&&re.suspendWhenDocumentHidden||!(te.length>0)||(e=requestAnimationFrame(t))}}();function ie(){return!!document&&document.hidden}function re(e){void 0===e&&(e={});var t,n=0,a=0,o=0,l=0,d=null;function c(e){var t=window.Promise&&new Promise((function(e){return d=e}));return e.finished=t,t}var u=function(e){var t=I(i,e),n=I(r,e),a=q(n,e),o=W(e.targets),s=J(o,a),l=Q(s,n),d=ee;return ee++,P(t,{id:d,children:[],animatables:o,animations:s,duration:l.duration,delay:l.delay,endDelay:l.endDelay})}(e);c(u);function p(){var e=u.direction;"alternate"!==e&&(u.direction="normal"!==e?"normal":"reverse"),u.reversed=!u.reversed,t.forEach((function(e){return e.reversed=u.reversed}))}function _(e){return u.reversed?u.duration-e:e}function h(){n=0,a=_(u.currentTime)*(1/re.speed)}function m(e,t){t&&t.seek(e-t.timelineOffset)}function g(e){for(var t=0,n=u.animations,i=n.length;t<i;){var r=n[t],a=r.animatable,o=r.tweens,l=o.length-1,d=o[l];l&&(d=x(o,(function(t){return e<t.end}))[0]||d);for(var c=s(e-d.start-d.delay,0,d.duration)/d.duration,p=isNaN(c)?1:d.easing(c),_=d.to.strings,h=d.round,m=[],g=d.to.numbers.length,f=void 0,v=0;v<g;v++){var y=void 0,b=d.to.numbers[v],w=d.from.numbers[v]||0;y=d.isPath?H(d.value,p*b,d.isPathTargetInsideSVG):w+p*(b-w),h&&(d.isColor&&v>2||(y=Math.round(y*h)/h)),m.push(y)}var S=_.length;if(S){f=_[0];for(var T=0;T<S;T++){_[T];var I=_[T+1],P=m[T];isNaN(P)||(f+=I?P+I:P+" ")}}else f=m[0];$[r.type](a.target,r.property,f,a.transforms),r.currentValue=f,t++}}function f(e){u[e]&&!u.passThrough&&u[e](u)}function v(e){var i=u.duration,r=u.delay,h=i-u.endDelay,v=_(e);u.progress=s(v/i*100,0,100),u.reversePlayback=v<u.currentTime,t&&function(e){if(u.reversePlayback)for(var n=l;n--;)m(e,t[n]);else for(var i=0;i<l;i++)m(e,t[i])}(v),!u.began&&u.currentTime>0&&(u.began=!0,f("begin")),!u.loopBegan&&u.currentTime>0&&(u.loopBegan=!0,f("loopBegin")),v<=r&&0!==u.currentTime&&g(0),(v>=h&&u.currentTime!==i||!i)&&g(i),v>r&&v<h?(u.changeBegan||(u.changeBegan=!0,u.changeCompleted=!1,f("changeBegin")),f("change"),g(v)):u.changeBegan&&(u.changeCompleted=!0,u.changeBegan=!1,f("changeComplete")),u.currentTime=s(v,0,i),u.began&&f("update"),e>=i&&(a=0,u.remaining&&!0!==u.remaining&&u.remaining--,u.remaining?(n=o,f("loopComplete"),u.loopBegan=!1,"alternate"===u.direction&&p()):(u.paused=!0,u.completed||(u.completed=!0,f("loopComplete"),f("complete"),!u.passThrough&&"Promise"in window&&(d(),c(u)))))}return u.reset=function(){var e=u.direction;u.passThrough=!1,u.currentTime=0,u.progress=0,u.paused=!0,u.began=!1,u.loopBegan=!1,u.changeBegan=!1,u.completed=!1,u.changeCompleted=!1,u.reversePlayback=!1,u.reversed="reverse"===e,u.remaining=u.loop,t=u.children;for(var n=l=t.length;n--;)u.children[n].reset();(u.reversed&&!0!==u.loop||"alternate"===e&&1===u.loop)&&u.remaining++,g(u.reversed?u.duration:0)},u._onDocumentVisibility=h,u.set=function(e,t){return X(e,t),u},u.tick=function(e){o=e,n||(n=o),v((o+(a-n))*re.speed)},u.seek=function(e){v(_(e))},u.pause=function(){u.paused=!0,h()},u.play=function(){u.paused&&(u.completed&&u.reset(),u.paused=!1,te.push(u),h(),ne())},u.reverse=function(){p(),u.completed=!u.reversed,h()},u.restart=function(){u.reset(),u.play()},u.remove=function(e){oe(V(e),u)},u.reset(),u.autoplay&&u.play(),u}function ae(e,t){for(var n=t.length;n--;)S(e,t[n].animatable.target)&&t.splice(n,1)}function oe(e,t){var n=t.animations,i=t.children;ae(e,n);for(var r=i.length;r--;){var a=i[r],o=a.animations;ae(e,o),o.length||a.children.length||i.splice(r,1)}n.length||i.length||t.pause()}re.version="3.2.1",re.speed=1,re.suspendWhenDocumentHidden=!0,re.running=te,re.remove=function(e){for(var t=V(e),n=te.length;n--;){oe(t,te[n])}},re.get=L,re.set=X,re.convertPx=R,re.path=function(e,t){var n=c.str(e)?y(e)[0]:e,i=t||100;return function(e){return{property:e,el:n,svg:Z(n),totalLength:B(n)*(i/100)}}},re.setDashoffset=function(e){var t=B(e);return e.setAttribute("stroke-dasharray",t),t},re.stagger=function(e,t){void 0===t&&(t={});var n=t.direction||"normal",i=t.easing?v(t.easing):null,r=t.grid,a=t.axis,o=t.from||0,s="first"===o,l="center"===o,d="last"===o,u=c.arr(e),p=u?parseFloat(e[0]):parseFloat(e),_=u?parseFloat(e[1]):0,h=A(u?e[1]:e)||0,m=t.start||0+(u?p:0),g=[],f=0;return function(e,t,c){if(s&&(o=0),l&&(o=(c-1)/2),d&&(o=c-1),!g.length){for(var v=0;v<c;v++){if(r){var y=l?(r[0]-1)/2:o%r[0],x=l?(r[1]-1)/2:Math.floor(o/r[0]),b=y-v%r[0],w=x-Math.floor(v/r[0]),S=Math.sqrt(b*b+w*w);"x"===a&&(S=-b),"y"===a&&(S=-w),g.push(S)}else g.push(Math.abs(o-v));f=Math.max.apply(Math,g)}i&&(g=g.map((function(e){return i(e/f)*f}))),"reverse"===n&&(g=g.map((function(e){return a?e<0?-1*e:-e:Math.abs(f-e)})))}return m+(u?(_-p)/f:p)*(Math.round(100*g[t])/100)+h}},re.timeline=function(e){void 0===e&&(e={});var t=re(e);return t.duration=0,t.add=function(n,i){var a=te.indexOf(t),o=t.children;function s(e){e.passThrough=!0}a>-1&&te.splice(a,1);for(var l=0;l<o.length;l++)s(o[l]);var d=P(n,I(r,e));d.targets=d.targets||e.targets;var u=t.duration;d.autoplay=!1,d.direction=t.direction,d.timelineOffset=c.und(i)?u:U(i,u),s(t),t.seek(d.timelineOffset);var p=re(d);s(p),o.push(p);var _=Q(o,e);return t.delay=_.delay,t.endDelay=_.endDelay,t.duration=_.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},re.easing=v,re.penner=f,re.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};const se=re},13882:(e,t,n)=>{function i(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,{Z:()=>i})},983946:(e,t,n)=>{function i(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,{Z:()=>i})},777349:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(983946),r=n(619013),a=n(13882);function o(e,t){(0,a.Z)(2,arguments);var n=(0,r.Z)(e),o=(0,i.Z)(t);return isNaN(o)?new Date(NaN):o?(n.setDate(n.getDate()+o),n):n}},707069:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(983946),r=n(777349),a=n(13882);function o(e,t){(0,a.Z)(2,arguments);var n=(0,i.Z)(t);return(0,r.Z)(e,-n)}},619013:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(13882);function r(e){(0,i.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}},422908:e=>{e.exports="https://s.pinimg.com/webapp/CS@2x-ecc1d35a.png"},832637:e=>{e.exports="https://s.pinimg.com/webapp/DA@2x-0a8213db.png"},986021:e=>{e.exports="https://s.pinimg.com/webapp/DE@2x-e398675a.png"},252881:e=>{e.exports="https://s.pinimg.com/webapp/EL@2x-5895bc67.png"},216462:e=>{e.exports="https://s.pinimg.com/webapp/EN@2x-c3eda626.png"},435574:e=>{e.exports="https://s.pinimg.com/webapp/ES@2x-d867d9a4.png"},890398:e=>{e.exports="https://s.pinimg.com/webapp/FI@2x-47fa27f7.png"},597437:e=>{e.exports="https://s.pinimg.com/webapp/FR@2x-bf910b39.png"},358787:e=>{e.exports="https://s.pinimg.com/webapp/HI@2x-58486090.png"},403529:e=>{e.exports="https://s.pinimg.com/webapp/HU@2x-1705acdc.png"},687096:e=>{e.exports="https://s.pinimg.com/webapp/ID@2x-1dc864b9.png"},720069:e=>{e.exports="https://s.pinimg.com/webapp/IT@2x-60e3683e.png"},154047:e=>{e.exports="https://s.pinimg.com/webapp/JA@2x-15535147.png"},899338:e=>{e.exports="https://s.pinimg.com/webapp/KO@2x-1099f44a.png"},532492:e=>{e.exports="https://s.pinimg.com/webapp/ML@2x-e7a6773b.png"},361316:e=>{e.exports="https://s.pinimg.com/webapp/MS@2x-58f3c917.png"},671307:e=>{e.exports="https://s.pinimg.com/webapp/NL@2x-5f1515db.png"},450914:e=>{e.exports="https://s.pinimg.com/webapp/NN@2x-f061e9b4.png"},888784:e=>{e.exports="https://s.pinimg.com/webapp/NO@2x-d7864990.png"},979730:e=>{e.exports="https://s.pinimg.com/webapp/PL@2x-7b44a0ea.png"},267569:e=>{e.exports="https://s.pinimg.com/webapp/PT@2x-1cf70049.png"},554154:e=>{e.exports="https://s.pinimg.com/webapp/RO@2x-112e3f0c.png"},234540:e=>{e.exports="https://s.pinimg.com/webapp/RU@2x-7e4486d9.png"},209153:e=>{e.exports="https://s.pinimg.com/webapp/SK@2x-2a81803e.png"},271648:e=>{e.exports="https://s.pinimg.com/webapp/SV@2x-61ea661d.png"},108806:e=>{e.exports="https://s.pinimg.com/webapp/TH@2x-0a53c197.png"},505944:e=>{e.exports="https://s.pinimg.com/webapp/TL@2x-3af02ef3.png"},373750:e=>{e.exports="https://s.pinimg.com/webapp/TR@2x-ec2d7ab5.png"},354593:e=>{e.exports="https://s.pinimg.com/webapp/UK@2x-5787bbf9.png"},523673:e=>{e.exports="https://s.pinimg.com/webapp/VI@2x-09999946.png"},934348:e=>{e.exports="https://s.pinimg.com/webapp/arSA@2x-024c511e.png"},70098:e=>{e.exports="https://s.pinimg.com/webapp/zhCN@2x-d3d7eda9.png"},692169:e=>{e.exports="https://s.pinimg.com/webapp/zhTW@2x-af9e1419.png"},908601:e=>{e.exports="https://s.pinimg.com/webapp/CS@2x-488e8cc6.png"},198667:e=>{e.exports="https://s.pinimg.com/webapp/DA@2x-e5d12354.png"},324637:e=>{e.exports="https://s.pinimg.com/webapp/DE@2x-22831293.png"},669639:e=>{e.exports="https://s.pinimg.com/webapp/EL@2x-e764ccf8.png"},882786:e=>{e.exports="https://s.pinimg.com/webapp/EN@2x-ca0773fb.png"},598188:e=>{e.exports="https://s.pinimg.com/webapp/ES@2x-55483593.png"},143832:e=>{e.exports="https://s.pinimg.com/webapp/FI@2x-695433d6.png"},484974:e=>{e.exports="https://s.pinimg.com/webapp/FR@2x-62177ec4.png"},629958:e=>{e.exports="https://s.pinimg.com/webapp/HI@2x-e55c64e4.png"},7747:e=>{e.exports="https://s.pinimg.com/webapp/HU@2x-2916bbea.png"},939492:e=>{e.exports="https://s.pinimg.com/webapp/ID@2x-34da9a4a.png"},800202:e=>{e.exports="https://s.pinimg.com/webapp/IT@2x-5749beff.png"},799486:e=>{e.exports="https://s.pinimg.com/webapp/JA@2x-a57c5839.png"},511036:e=>{e.exports="https://s.pinimg.com/webapp/KO@2x-c909bac5.png"},83365:e=>{e.exports="https://s.pinimg.com/webapp/ML@2x-8998d852.png"},309285:e=>{e.exports="https://s.pinimg.com/webapp/MS@2x-fa38b8b6.png"},186665:e=>{e.exports="https://s.pinimg.com/webapp/NL@2x-d31d4a18.png"},452833:e=>{e.exports="https://s.pinimg.com/webapp/NN@2x-c4b8da55.png"},759050:e=>{e.exports="https://s.pinimg.com/webapp/NO@2x-fd9bd702.png"},9046:e=>{e.exports="https://s.pinimg.com/webapp/PL@2x-5685a97f.png"},27322:e=>{e.exports="https://s.pinimg.com/webapp/PT@2x-2939b38c.png"},501796:e=>{e.exports="https://s.pinimg.com/webapp/RO@2x-188b728d.png"},791841:e=>{e.exports="https://s.pinimg.com/webapp/RU@2x-888d9aa1.png"},50486:e=>{e.exports="https://s.pinimg.com/webapp/SK@2x-bfa2f8d5.png"},417658:e=>{e.exports="https://s.pinimg.com/webapp/SV@2x-0e099997.png"},461619:e=>{e.exports="https://s.pinimg.com/webapp/TH@2x-988a46e6.png"},350421:e=>{e.exports="https://s.pinimg.com/webapp/TL@2x-1e888ea6.png"},97776:e=>{e.exports="https://s.pinimg.com/webapp/TR@2x-c216b517.png"},394445:e=>{e.exports="https://s.pinimg.com/webapp/UK@2x-fb5c6e06.png"},948992:e=>{e.exports="https://s.pinimg.com/webapp/VI@2x-abdc2e13.png"},993235:e=>{e.exports="https://s.pinimg.com/webapp/arSA@2x-1bf8e802.png"},137404:e=>{e.exports="https://s.pinimg.com/webapp/zhCN@2x-0b2349f4.png"},697072:e=>{e.exports="https://s.pinimg.com/webapp/zhTW@2x-0ef5b95c.png"},428368:(e,t,n)=>{var i=n(690939);e.exports=function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?i(e,t,void 0,n):!!r}},414293:e=>{e.exports=function(e){return null==e}},730236:(e,t,n)=>{var i=n(642980),r=n(321463)((function(e,t,n,r){i(e,t,n,r)}));e.exports=r},30084:(e,t,n)=>{var i=n(829932),r=n(200278),a=n(701469),o=n(733448),s=n(555514),l=n(240327),d=n(479833);e.exports=function(e){return a(e)?i(e,l):o(e)?[e]:r(s(d(e)))}},742816:(e,t,n)=>{n.d(t,{tn:()=>A});var i,r=n(667294);!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(i||(i={}));function a(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}const o=(0,r.createContext)(null);const s=(0,r.createContext)(null);const l=(0,r.createContext)({outlet:null,matches:[]});function d(e,t){if(!e)throw new Error(t)}function c(e,t,n){void 0===n&&(n="/");let i=f(("string"==typeof t?a(t):t).pathname||"/",n);if(null==i)return null;let r=u(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]))?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(r);let o=null;for(let a=0;null==o&&a<r.length;++a)o=m(r[a],i);return o}function u(e,t,n,i){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===i&&(i=""),e.forEach(((e,r)=>{let a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(i)||d(!1),a.relativePath=a.relativePath.slice(i.length));let o=v([i,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&d(!1),u(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:h(o,e.index),routesMeta:s})})),t}const p=/^:\w+$/,_=e=>"*"===e;function h(e,t){let n=e.split("/"),i=n.length;return n.some(_)&&(i+=-2),t&&(i+=2),n.filter((e=>!_(e))).reduce(((e,t)=>e+(p.test(t)?3:""===t?1:10)),i)}function m(e,t){let{routesMeta:n}=e,i={},r="/",a=[];for(let o=0;o<n.length;++o){let e=n[o],s=o===n.length-1,l="/"===r?t:t.slice(r.length)||"/",d=g({path:e.relativePath,caseSensitive:e.caseSensitive,end:s},l);if(!d)return null;Object.assign(i,d.params);let c=e.route;a.push({params:i,pathname:v([r,d.pathname]),pathnameBase:y(v([r,d.pathnameBase])),route:c}),"/"!==d.pathnameBase&&(r=v([r,d.pathnameBase]))}return a}function g(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,((e,t)=>(i.push(t),"([^\\/]+)")));e.endsWith("*")?(i.push("*"),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(r,t?void 0:"i"),i]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let a=r[0],o=a.replace(/(.)\/+$/,"$1"),s=r.slice(1);return{params:i.reduce(((e,t,n)=>{if("*"===t){let e=s[n]||"";o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(s[n]||""),e}),{}),pathname:a,pathnameBase:o,pattern:e}}function f(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}const v=e=>e.join("/").replace(/\/\/+/g,"/"),y=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");function x(){return null!=(0,r.useContext)(s)}function b(){return x()||d(!1),(0,r.useContext)(s).location}function w(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight(((n,i,a)=>(0,r.createElement)(l.Provider,{children:void 0!==i.route.element?i.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})),null)}function S(e){d(!1)}function T(e){let{basename:t="/",children:n=null,location:l,navigationType:c=i.Pop,navigator:u,static:p=!1}=e;x()&&d(!1);let _=y(t),h=(0,r.useMemo)((()=>({basename:_,navigator:u,static:p})),[_,u,p]);"string"==typeof l&&(l=a(l));let{pathname:m="/",search:g="",hash:v="",state:b=null,key:w="default"}=l,S=(0,r.useMemo)((()=>{let e=f(m,_);return null==e?null:{pathname:e,search:g,hash:v,state:b,key:w}}),[_,m,g,v,b,w]);return null==S?null:(0,r.createElement)(o.Provider,{value:h},(0,r.createElement)(s.Provider,{children:n,value:{location:S,navigationType:c}}))}function I(e){let{children:t,location:n}=e;return function(e,t){x()||d(!1);let{matches:n}=(0,r.useContext)(l),i=n[n.length-1],o=i?i.params:{},s=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;let u,p=b();if(t){var _;let e="string"==typeof t?a(t):t;"/"===s||(null==(_=e.pathname)?void 0:_.startsWith(s))||d(!1),u=e}else u=p;let h=u.pathname||"/",m=c(e,{pathname:"/"===s?h:h.slice(s.length)||"/"});return w(m&&m.map((e=>Object.assign({},e,{params:Object.assign({},o,e.params),pathname:v([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:v([s,e.pathnameBase])}))),n)}(P(t),n)}function P(e){let t=[];return r.Children.forEach(e,(e=>{if(!(0,r.isValidElement)(e))return;if(e.type===r.Fragment)return void t.push.apply(t,P(e.props.children));e.type!==S&&d(!1);let n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=P(e.props.children)),t.push(n)})),t}var E=n(276775);function A(e){let{children:t}=e,n=(0,E.useHistory)(),[i,a]=(0,r.useState)((()=>({location:n.location,action:n.action})));return(0,r.useLayoutEffect)((()=>{n.listen(((e,t)=>a({location:e,action:t})))}),[n]),(0,r.createElement)(T,{navigationType:i.action,location:i.location,navigator:n},(0,r.createElement)(I,null,(0,r.createElement)(S,{path:"*",element:t})))}},11754:(e,t)=>{t.__esModule=!0,t.default=t.UPDATE_SYNC_WARNINGS=t.UPDATE_SYNC_ERRORS=t.UNTOUCH=t.UNREGISTER_FIELD=t.TOUCH=t.SUBMIT=t.STOP_SUBMIT=t.STOP_ASYNC_VALIDATION=t.START_SUBMIT=t.START_ASYNC_VALIDATION=t.SET_SUBMIT_SUCCEEDED=t.SET_SUBMIT_FAILED=t.RESET_SECTION=t.RESET=t.REGISTER_FIELD=t.INITIALIZE=t.FOCUS=t.DESTROY=t.CLEAR_ASYNC_ERROR=t.CLEAR_SUBMIT_ERRORS=t.CLEAR_SUBMIT=t.CLEAR_FIELDS=t.CHANGE=t.BLUR=t.AUTOFILL=t.ARRAY_SWAP=t.ARRAY_UNSHIFT=t.ARRAY_SPLICE=t.ARRAY_SHIFT=t.ARRAY_REMOVE_ALL=t.ARRAY_REMOVE=t.ARRAY_PUSH=t.ARRAY_POP=t.ARRAY_MOVE=t.ARRAY_INSERT=t.prefix=void 0;var n="@@redux-form/";t.prefix=n;var i=n+"ARRAY_INSERT";t.ARRAY_INSERT=i;var r=n+"ARRAY_MOVE";t.ARRAY_MOVE=r;var a=n+"ARRAY_POP";t.ARRAY_POP=a;var o=n+"ARRAY_PUSH";t.ARRAY_PUSH=o;var s=n+"ARRAY_REMOVE";t.ARRAY_REMOVE=s;var l=n+"ARRAY_REMOVE_ALL";t.ARRAY_REMOVE_ALL=l;var d=n+"ARRAY_SHIFT";t.ARRAY_SHIFT=d;var c=n+"ARRAY_SPLICE";t.ARRAY_SPLICE=c;var u=n+"ARRAY_UNSHIFT";t.ARRAY_UNSHIFT=u;var p=n+"ARRAY_SWAP";t.ARRAY_SWAP=p;var _=n+"AUTOFILL";t.AUTOFILL=_;var h=n+"BLUR";t.BLUR=h;var m=n+"CHANGE";t.CHANGE=m;var g=n+"CLEAR_FIELDS";t.CLEAR_FIELDS=g;var f=n+"CLEAR_SUBMIT";t.CLEAR_SUBMIT=f;var v=n+"CLEAR_SUBMIT_ERRORS";t.CLEAR_SUBMIT_ERRORS=v;var y=n+"CLEAR_ASYNC_ERROR";t.CLEAR_ASYNC_ERROR=y;var x=n+"DESTROY";t.DESTROY=x;var b=n+"FOCUS";t.FOCUS=b;var w=n+"INITIALIZE";t.INITIALIZE=w;var S=n+"REGISTER_FIELD";t.REGISTER_FIELD=S;var T=n+"RESET";t.RESET=T;var I=n+"RESET_SECTION";t.RESET_SECTION=I;var P=n+"SET_SUBMIT_FAILED";t.SET_SUBMIT_FAILED=P;var E=n+"SET_SUBMIT_SUCCEEDED";t.SET_SUBMIT_SUCCEEDED=E;var A=n+"START_ASYNC_VALIDATION";t.START_ASYNC_VALIDATION=A;var k=n+"START_SUBMIT";t.START_SUBMIT=k;var C=n+"STOP_ASYNC_VALIDATION";t.STOP_ASYNC_VALIDATION=C;var R=n+"STOP_SUBMIT";t.STOP_SUBMIT=R;var j=n+"SUBMIT";t.SUBMIT=j;var D=n+"TOUCH";t.TOUCH=D;var O=n+"UNREGISTER_FIELD";t.UNREGISTER_FIELD=O;var N=n+"UNTOUCH";t.UNTOUCH=N;var L=n+"UPDATE_SYNC_ERRORS";t.UPDATE_SYNC_ERRORS=L;var U=n+"UPDATE_SYNC_WARNINGS";t.UPDATE_SYNC_WARNINGS=U;var F={ARRAY_INSERT:i,ARRAY_MOVE:r,ARRAY_POP:a,ARRAY_PUSH:o,ARRAY_REMOVE:s,ARRAY_REMOVE_ALL:l,ARRAY_SHIFT:d,ARRAY_SPLICE:c,ARRAY_UNSHIFT:u,ARRAY_SWAP:p,AUTOFILL:_,BLUR:h,CHANGE:m,CLEAR_FIELDS:g,CLEAR_SUBMIT:f,CLEAR_SUBMIT_ERRORS:v,CLEAR_ASYNC_ERROR:y,DESTROY:x,FOCUS:b,INITIALIZE:w,REGISTER_FIELD:S,RESET:T,RESET_SECTION:I,SET_SUBMIT_FAILED:P,SET_SUBMIT_SUCCEEDED:E,START_ASYNC_VALIDATION:A,START_SUBMIT:k,STOP_ASYNC_VALIDATION:C,STOP_SUBMIT:R,SUBMIT:j,TOUCH:D,UNREGISTER_FIELD:O,UNTOUCH:N,UPDATE_SYNC_ERRORS:L,UPDATE_SYNC_WARNINGS:U};t.default=F},151107:(e,t,n)=>{var i=n(564836);t.__esModule=!0,t.default=void 0;var r=i(n(7071)),a=i(n(623560)),o=n(11754),s=i(n(730932)),l=i(n(80020)),d=function(e){var t=e.getIn;return function(e,n){var i=null;/^values/.test(n)&&(i=n.replace("values","initial"));var r=!i||void 0===t(e,i);return void 0!==t(e,n)&&r}};var c=function(e){var t,n=e.deepEqual,i=e.empty,c=e.forEach,u=e.getIn,p=e.setIn,_=e.deleteIn,h=e.fromJS,m=e.keys,g=e.size,f=e.some,v=e.splice,y=(0,s.default)(e)(d),x=(0,s.default)(l.default)(d),b=function(e,t,n,i,r,a,o){var s=u(e,t+"."+n);return s||o?p(e,t+"."+n,v(s,i,r,a)):e},w=function(e,t,n,i,r,a,o){var s=u(e,t),d=l.default.getIn(s,n);return d||o?p(e,t,l.default.setIn(s,n,l.default.splice(d,i,r,a))):e},S=["values","fields","submitErrors","asyncErrors"],T=function(e,t,n,r,a){var o=e,s=null!=a?i:void 0;return o=b(o,"values",t,n,r,a,!0),o=b(o,"fields",t,n,r,s),o=w(o,"syncErrors",t,n,r,void 0),o=w(o,"syncWarnings",t,n,r,void 0),o=b(o,"submitErrors",t,n,r,void 0),o=b(o,"asyncErrors",t,n,r,void 0)},I=((t={})[o.ARRAY_INSERT]=function(e,t){var n=t.meta,i=n.field,r=n.index,a=t.payload;return T(e,i,r,0,a)},t[o.ARRAY_MOVE]=function(e,t){var n=t.meta,i=n.field,r=n.from,a=n.to,o=u(e,"values."+i),s=o?g(o):0,l=e;return s&&S.forEach((function(e){var t=e+"."+i;if(u(l,t)){var n=u(l,t+"["+r+"]");l=p(l,t,v(u(l,t),r,1)),l=p(l,t,v(u(l,t),a,0,n))}})),l},t[o.ARRAY_POP]=function(e,t){var n=t.meta.field,i=u(e,"values."+n),r=i?g(i):0;return r?T(e,n,r-1,1):e},t[o.ARRAY_PUSH]=function(e,t){var n=t.meta.field,i=t.payload,r=u(e,"values."+n),a=r?g(r):0;return T(e,n,a,0,i)},t[o.ARRAY_REMOVE]=function(e,t){var n=t.meta,i=n.field,r=n.index;return T(e,i,r,1)},t[o.ARRAY_REMOVE_ALL]=function(e,t){var n=t.meta.field,i=u(e,"values."+n),r=i?g(i):0;return r?T(e,n,0,r):e},t[o.ARRAY_SHIFT]=function(e,t){var n=t.meta.field;return T(e,n,0,1)},t[o.ARRAY_SPLICE]=function(e,t){var n=t.meta,i=n.field,r=n.index,a=n.removeNum,o=t.payload;return T(e,i,r,a,o)},t[o.ARRAY_SWAP]=function(e,t){var n=t.meta,i=n.field,r=n.indexA,a=n.indexB,o=e;return S.forEach((function(e){var t=u(o,e+"."+i+"["+r+"]"),n=u(o,e+"."+i+"["+a+"]");void 0===t&&void 0===n||(o=p(o,e+"."+i+"["+r+"]",n),o=p(o,e+"."+i+"["+a+"]",t))})),o},t[o.ARRAY_UNSHIFT]=function(e,t){var n=t.meta.field,i=t.payload;return T(e,n,0,0,i)},t[o.AUTOFILL]=function(e,t){var n=t.meta.field,i=t.payload,r=e;return r=y(r,"asyncErrors."+n),r=y(r,"submitErrors."+n),r=p(r,"fields."+n+".autofilled",!0),r=p(r,"values."+n,i)},t[o.BLUR]=function(e,t){var n=t.meta,i=n.field,r=n.touch,a=t.payload,o=e;return void 0===u(o,"initial."+i)&&""===a?o=y(o,"values."+i):void 0!==a&&(o=p(o,"values."+i,a)),i===u(o,"active")&&(o=_(o,"active")),o=_(o,"fields."+i+".active"),r&&(o=p(o,"fields."+i+".touched",!0),o=p(o,"anyTouched",!0)),o},t[o.CHANGE]=function(e,t){var n=t.meta,i=n.field,r=n.touch,o=n.persistentSubmitErrors,s=t.payload,l=e;if(void 0===u(l,"initial."+i)&&""===s||void 0===s)l=y(l,"values."+i);else if((0,a.default)(s)){var d=u(e,"values."+i);l=p(l,"values."+i,s(d,e.values))}else l=p(l,"values."+i,s);return l=y(l,"asyncErrors."+i),o||(l=y(l,"submitErrors."+i)),l=y(l,"fields."+i+".autofilled"),r&&(l=p(l,"fields."+i+".touched",!0),l=p(l,"anyTouched",!0)),l},t[o.CLEAR_SUBMIT]=function(e){return _(e,"triggerSubmit")},t[o.CLEAR_SUBMIT_ERRORS]=function(e){var t=e;return t=y(t,"submitErrors"),t=_(t,"error")},t[o.CLEAR_ASYNC_ERROR]=function(e,t){var n=t.meta.field;return _(e,"asyncErrors."+n)},t[o.CLEAR_FIELDS]=function(e,t){var n=t.meta,i=n.keepTouched,r=n.persistentSubmitErrors,a=n.fields,o=e;a.forEach((function(t){o=y(o,"asyncErrors."+t),r||(o=y(o,"submitErrors."+t)),o=y(o,"fields."+t+".autofilled"),i||(o=_(o,"fields."+t+".touched"));var n=u(e,"initial."+t);o=n?p(o,"values."+t,n):y(o,"values."+t)}));var s=f(m(u(o,"registeredFields")),(function(e){return u(o,"fields."+e+".touched")}));return o=s?p(o,"anyTouched",!0):_(o,"anyTouched")},t[o.FOCUS]=function(e,t){var n=t.meta.field,i=e,r=u(e,"active");return i=_(i,"fields."+r+".active"),i=p(i,"fields."+n+".visited",!0),i=p(i,"fields."+n+".active",!0),i=p(i,"active",n)},t[o.INITIALIZE]=function(e,t){var r=t.payload,a=t.meta,o=a.keepDirty,s=a.keepSubmitSucceeded,l=a.updateUnregisteredFields,d=a.keepValues,_=h(r),g=i,f=u(e,"warning");f&&(g=p(g,"warning",f));var v=u(e,"syncWarnings");v&&(g=p(g,"syncWarnings",v));var y=u(e,"error");y&&(g=p(g,"error",y));var x=u(e,"syncErrors");x&&(g=p(g,"syncErrors",x));var b=u(e,"registeredFields");b&&(g=p(g,"registeredFields",b));var w=u(e,"values"),S=u(e,"initial"),T=_,I=w;if(o&&b){if(!n(T,S)){var P=function(e){var t=u(S,e),i=u(w,e);if(n(i,t)){var r=u(T,e);u(I,e)!==r&&(I=p(I,e,r))}};l||c(m(b),(function(e){return P(e)})),c(m(T),(function(e){if(void 0===u(S,e)){var t=u(T,e);I=p(I,e,t)}l&&P(e)}))}}else I=T;return d&&(c(m(w),(function(e){var t=u(w,e);I=p(I,e,t)})),c(m(S),(function(e){var t=u(S,e);T=p(T,e,t)}))),s&&u(e,"submitSucceeded")&&(g=p(g,"submitSucceeded",!0)),g=p(g,"values",I),g=p(g,"initial",T)},t[o.REGISTER_FIELD]=function(e,t){var n=t.payload,i=n.name,r=n.type,a="registeredFields['"+i+"']",o=u(e,a);if(o){var s=u(o,"count")+1;o=p(o,"count",s)}else o=h({name:i,type:r,count:1});return p(e,a,o)},t[o.RESET]=function(e){var t=i,n=u(e,"registeredFields");n&&(t=p(t,"registeredFields",n));var r=u(e,"initial");return r&&(t=p(t,"values",r),t=p(t,"initial",r)),t},t[o.RESET_SECTION]=function(e,t){var n=t.meta.sections,i=e;n.forEach((function(t){i=y(i,"asyncErrors."+t),i=y(i,"submitErrors."+t),i=y(i,"fields."+t);var n=u(e,"initial."+t);i=n?p(i,"values."+t,n):y(i,"values."+t)}));var r=f(m(u(i,"registeredFields")),(function(e){return u(i,"fields."+e+".touched")}));return i=r?p(i,"anyTouched",!0):_(i,"anyTouched")},t[o.SUBMIT]=function(e){return p(e,"triggerSubmit",!0)},t[o.START_ASYNC_VALIDATION]=function(e,t){var n=t.meta.field;return p(e,"asyncValidating",n||!0)},t[o.START_SUBMIT]=function(e){return p(e,"submitting",!0)},t[o.STOP_ASYNC_VALIDATION]=function(e,t){var n=t.payload,i=e;if(i=_(i,"asyncValidating"),n&&Object.keys(n).length){var a=n._error,o=(0,r.default)(n,["_error"]);a&&(i=p(i,"error",a)),Object.keys(o).length&&(i=p(i,"asyncErrors",h(o)))}else i=_(i,"error"),i=_(i,"asyncErrors");return i},t[o.STOP_SUBMIT]=function(e,t){var n=t.payload,i=e;if(i=_(i,"submitting"),i=_(i,"submitFailed"),i=_(i,"submitSucceeded"),n&&Object.keys(n).length){var a=n._error,o=(0,r.default)(n,["_error"]);i=a?p(i,"error",a):_(i,"error"),i=Object.keys(o).length?p(i,"submitErrors",h(o)):_(i,"submitErrors"),i=p(i,"submitFailed",!0)}else i=_(i,"error"),i=_(i,"submitErrors");return i},t[o.SET_SUBMIT_FAILED]=function(e,t){var n=t.meta.fields,i=e;return i=p(i,"submitFailed",!0),i=_(i,"submitSucceeded"),i=_(i,"submitting"),n.forEach((function(e){return i=p(i,"fields."+e+".touched",!0)})),n.length&&(i=p(i,"anyTouched",!0)),i},t[o.SET_SUBMIT_SUCCEEDED]=function(e){var t=e;return t=_(t,"submitFailed"),t=p(t,"submitSucceeded",!0)},t[o.TOUCH]=function(e,t){var n=t.meta.fields,i=e;return n.forEach((function(e){return i=p(i,"fields."+e+".touched",!0)})),i=p(i,"anyTouched",!0)},t[o.UNREGISTER_FIELD]=function(e,t){var r=t.payload,a=r.name,o=r.destroyOnUnmount,s=e,d="registeredFields['"+a+"']",c=u(s,d);if(!c)return s;var h=u(c,"count")-1;if(h<=0&&o){s=_(s,d),n(u(s,"registeredFields"),i)&&(s=_(s,"registeredFields"));var m=u(s,"syncErrors");m&&(m=x(m,a),s=l.default.deepEqual(m,l.default.empty)?_(s,"syncErrors"):p(s,"syncErrors",m));var g=u(s,"syncWarnings");g&&(g=x(g,a),s=l.default.deepEqual(g,l.default.empty)?_(s,"syncWarnings"):p(s,"syncWarnings",g)),s=y(s,"submitErrors."+a),s=y(s,"asyncErrors."+a)}else c=p(c,"count",h),s=p(s,d,c);return s},t[o.UNTOUCH]=function(e,t){var n=t.meta.fields,i=e;n.forEach((function(e){return i=_(i,"fields."+e+".touched")}));var r=f(m(u(i,"registeredFields")),(function(e){return u(i,"fields."+e+".touched")}));return i=r?p(i,"anyTouched",!0):_(i,"anyTouched")},t[o.UPDATE_SYNC_ERRORS]=function(e,t){var n=t.payload,i=n.syncErrors,r=n.error,a=e;return r?(a=p(a,"error",r),a=p(a,"syncError",!0)):(a=_(a,"error"),a=_(a,"syncError")),a=Object.keys(i).length?p(a,"syncErrors",i):_(a,"syncErrors")},t[o.UPDATE_SYNC_WARNINGS]=function(e,t){var n=t.payload,i=n.syncWarnings,r=n.warning,a=e;return a=r?p(a,"warning",r):_(a,"warning"),a=Object.keys(i).length?p(a,"syncWarnings",i):_(a,"syncWarnings")},t);return function e(t){return t.plugin=function(t,n){var r=this;return void 0===n&&(n={}),e((function(e,a){void 0===e&&(e=i),void 0===a&&(a={type:"NONE"});var o=function(n,i){var r=u(n,i),o=t[i](r,a,u(e,i));return o!==r?p(n,i,o):n},s=r(e,a),l=a&&a.meta&&a.meta.form;return l&&!n.receiveAllFormActions?t[l]?o(s,l):s:Object.keys(t).reduce(o,s)}))},t}(function(e){return function(t,n){void 0===t&&(t=i),void 0===n&&(n={type:"NONE"});var r=n&&n.meta&&n.meta.form;if(!r||!function(e){return e&&e.type&&e.type.length>o.prefix.length&&e.type.substring(0,o.prefix.length)===o.prefix}(n))return t;if(n.type===o.DESTROY&&n.meta&&n.meta.form)return n.meta.form.reduce((function(e,t){return y(e,t)}),t);var a=u(t,r),s=e(a,n);return s===a?t:p(t,r,s)}}((function(e,t){void 0===e&&(e=i);var n=I[t.type];return n?n(e,t):e})))};t.default=c},730932:(e,t,n)=>{var i=n(564836);t.__esModule=!0,t.default=void 0;var r=i(n(30084));var a=function(e){var t=function(e){return function(t,n){return void 0!==e.getIn(t,n)}},n=e.deepEqual,i=e.empty,a=e.getIn,o=e.deleteIn,s=e.setIn;return function(l){void 0===l&&(l=t);return function t(d,c){if("]"===c[c.length-1]){var u=(0,r.default)(c);return u.pop(),a(d,u.join("."))?s(d,c):d}var p=d;l(e)(d,c)&&(p=o(d,c));var _=c.lastIndexOf(".");if(_>0){var h=c.substring(0,_);if("]"!==h[h.length-1]){var m=a(p,h);if(n(m,i))return t(p,h)}}return p}}};t.default=a},853824:(e,t,n)=>{var i=n(564836);t.Z=void 0;var r=i(n(151107)),a=i(n(80020)),o=(0,r.default)(a.default);t.Z=o},525706:(e,t,n)=>{var i=n(564836);t.__esModule=!0,t.default=void 0;var r=i(n(414293)),a=i(n(428368)),o=i(n(667294)),s=function(e){return(0,r.default)(e)||""===e||isNaN(e)},l=function(e,t){return e===t||(e||t?(!e||!t||e._error===t._error)&&((!e||!t||e._warning===t._warning)&&(!o.default.isValidElement(e)&&!o.default.isValidElement(t)&&void 0)):s(e)===s(t))},d=function(e,t){return(0,a.default)(e,t,l)};t.default=d},954826:(e,t,n)=>{var i=n(564836);t.__esModule=!0,t.default=void 0;var r=i(n(310434)),a=i(n(30084));function o(e,t){if(null==e||null==t)return e;for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(i.length){if(Array.isArray(e)){if(isNaN(t))throw new Error('Must access array elements with a number, not "'+String(t)+'".');var s=Number(t);if(s<e.length){var l=o.apply(void 0,[e&&e[s]].concat(i));if(l!==e[s]){var d=[].concat(e);return d[s]=l,d}}return e}if(t in e){var c,u=o.apply(void 0,[e&&e[t]].concat(i));return e[t]===u?e:(0,r.default)({},e,((c={})[t]=u,c))}return e}if(Array.isArray(e)){if(isNaN(t))throw new Error('Cannot delete non-numerical index from an array. Given: "'+String(t));var p=Number(t);if(p<e.length){var _=[].concat(e);return _.splice(p,1),_}return e}if(t in e){var h=(0,r.default)({},e);return delete h[t],h}return e}var s=function(e,t){return o.apply(void 0,[e].concat((0,a.default)(t)))};t.default=s},179298:(e,t,n)=>{var i=n(564836);t.__esModule=!0,t.default=void 0;var r=i(n(30084)),a=function(e,t){if(!e)return e;var n=(0,r.default)(t),i=n.length;if(i){for(var a=e,o=0;o<i&&a;++o)a=a[n[o]];return a}};t.default=a},80020:(e,t,n)=>{var i=n(564836);t.__esModule=!0,t.default=void 0;var r=i(n(968554)),a=i(n(179298)),o=i(n(759572)),s=i(n(525706)),l=i(n(954826)),d=i(n(792234)),c={allowsArrayErrors:!0,empty:{},emptyList:[],getIn:a.default,setIn:o.default,deepEqual:s.default,deleteIn:l.default,forEach:function(e,t){return e.forEach(t)},fromJS:function(e){return e},keys:d.default,size:function(e){return e?e.length:0},some:function(e,t){return e.some(t)},splice:r.default,equals:function(e,t){return t.every((function(t){return~e.indexOf(t)}))},orderChanged:function(e,t){return t.some((function(t,n){return t!==e[n]}))},toJS:function(e){return e}};t.default=c},792234:(e,t)=>{t.__esModule=!0,t.default=void 0;var n=function(e){return e?Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e):[]};t.default=n},759572:(e,t,n)=>{var i=n(564836);t.__esModule=!0,t.default=void 0;var r=i(n(310434)),a=i(n(30084)),o=function e(t,n,i,a){var o;if(a>=i.length)return n;var s=i[a],l=e(t&&(Array.isArray(t)?t[Number(s)]:t[s]),n,i,a+1);if(!t){var d;if(isNaN(s))return(d={})[s]=l,d;var c=[];return c[parseInt(s,10)]=l,c}if(Array.isArray(t)){var u=[].concat(t);return u[parseInt(s,10)]=l,u}return(0,r.default)({},t,((o={})[s]=l,o))},s=function(e,t,n){return o(e,n,(0,a.default)(t),0)};t.default=s},968554:(e,t)=>{t.__esModule=!0,t.default=void 0;var n=function(e,t,n,i){if(t<(e=e||[]).length){if(void 0===i&&!n){var r=[].concat(e);return r.splice(t,0,!0),r[t]=void 0,r}if(null!=i){var a=[].concat(e);return a.splice(t,n,i),a}var o=[].concat(e);return o.splice(t,n),o}if(n)return e;var s=[].concat(e);return s[t]=i,s};t.default=n},753894:(e,t,n)=>{function i(e){return function(t){var n=t.dispatch,i=t.getState;return function(t){return function(r){return"function"==typeof r?r(n,i,e):t(r)}}}}n.d(t,{Z:()=>a});var r=i();r.withExtraArgument=i;const a=r},570655:(e,t,n)=>{n.d(t,{Jh:()=>a,fl:()=>s,mG:()=>r,pi:()=>i,pr:()=>l});var i=function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function r(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{l(i.next(e))}catch(t){a(t)}}function s(e){try{l(i.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((i=i.apply(e,t||[])).next())}))}function a(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}Object.create;function o(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(i=a.next()).done;)o.push(i.value)}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return o}function s(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e}function l(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,r++)i[r]=a[o];return i}Object.create},365804:(e,t,n)=>{n.d(t,{C:()=>o,Z:()=>l});var i=n(844974),r=n(773285),a=n(276775);const o="lastOnHomefeed",s=["/","/homefeed/"];function l(){const{pathname:e}=(0,a.useLocation)(),t=(0,a.useHistory)(),{checkExperiment:n}=(0,r.F)(),l=s.includes(e),d=t&&"POP"!==t.action;if(l&&d){const e=JSON.parse((0,i.qn)(o)),t=null!=e&&e.time?Date.now()-e.time:0,r=d&&t>0?n("hfp_hf_refresh_logic_web"):{};return{shouldMaintainHomefeed:"enabled_2_5_min"===r.group&&t/6e4<2.5||"enabled_1_min"===r.group&&t/6e4<1,lastHFScrollPosition:null==e?void 0:e.scrollPosition}}return{shouldMaintainHomefeed:!1}}},373232:(e,t,n)=>{n.d(t,{EP:()=>r,RQ:()=>o,u7:()=>a});var i=n(425288);const{Provider:r,useHook:a,deprecatedHOC:o}=(0,i.Z)("legacyServerContext")},927955:(e,t,n)=>{n.d(t,{Z:()=>i});const i=new class{get instance(){return this.__storeInstance__}set instance(e){return this.__storeInstance__=e,e}set(e){return this.instance=e,e}}},157796:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294),r=n(883119),a=n(785893);function o({color:e="red",duration:t,finalProgress:n,shape:o="pill"}){const[s,l]=(0,i.useState)(!1);(0,i.useEffect)((()=>{const e=setTimeout((()=>{l(!0)}),0);return()=>{clearTimeout(e)}}),[]);const d="pill"===o;return(0,a.jsx)(r.xu,{color:e,height:d?8:6,rounding:d?"pill":2,width:`${n}%`,dangerouslySetInlineStyle:{__style:{transform:d?`translateX(${s?"-5px":"-100%"})`:`scaleX(${s?1:0})`,transformOrigin:"left",transitionDuration:`${t}ms`,transitionTimingFunction:"ease-in"}}})}},843077:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(643913),r=n(172071),a=n(6637),o=n(966113);const s=e=>e.json(),l=o.cD+"/vx/users/cctld_session/",d=(e,t)=>r.Z.increment(`${e}.${t}`,1),c=e=>a.Z.create("ApiResource",{url:"/vx/users/cctld_token/",ignore_bookmark:!0}).callCreate().then((t=>{if(t&&t.resource_response&&t.resource_response.data){d(e,"cctld.token_creation.success");const n=t.resource_response.data,r={credentials:"include",mode:"cors",method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:(0,i.Z)({token:n})};fetch(l,r).then(s).then((t=>"success"===t.status?(d(e,"cctld.session_creation.success"),Promise.resolve(t)):(d(e,"cctld.session_creation.failure"),Promise.reject(t)))).catch((t=>(d(e,"cctld.session_creation.error"),Promise.reject(t))))}else d(e,"cctld.token_creation.error")})).catch((t=>{d(e,"cctld.unknown.error")}))},422722:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var i=n(176532),r=n(635240),a=n(395164);const o={};o.BASE_URL_PATH="/_/_/report/",o.BASE_URL_PATH_TRACE="/_/_/trace/",o.SERVER_LOG_TYPE=Object.freeze({PAGE_LOAD_METRIC:"page_load_metric",BROWSER_EXTENSION:"browser_extension",RENDER_TIME:"render_time",NETWORK_LOAD:"network_load",SIGNUP_LOAD:"signup_load",TRACE:"trace",STRING_USAGE:"string_usage",HF_REFRESH:"hf_refresh"}),o.HTTP_METHOD=Object.freeze({GET:"GET",POST:"POST"});const s=function(e,t){if(!/password/i.test(e))return t};o._assembleXhrData=function(e,t){let n;try{n=JSON.stringify(t,s)}catch(i){n=JSON.stringify({messages:[i.toString()]})}return{report_context:JSON.stringify(e,s),report_data:n}},o.logToServer=function(e,t,n,s=0,l,d){var c;let u=null!=s?s:0;const p=null!=l?l:1;d=null!==(c=d)&&void 0!==c?c:l,function(e,t,n,a){let s;s="trace"===e?o.BASE_URL_PATH_TRACE+e+"/":o.BASE_URL_PATH+e+"/",a&&(n.timeElapsed=Date.now()-a),e&&(n.logType=e);let l="";try{l=window.location.href}catch(u){}const d={app_version:(0,r.Z)(),current_url:l},c=o._assembleXhrData(d,n);return(0,i.Z)({url:s,type:t,data:c}).promise.then((({ok:e,status:t,statusText:n})=>e?Promise.resolve():Promise.reject({type:"error",message:n,httpStatus:t})))}(e,t,n,d).catch((i=>{if(u){u-=1;const i=Math.min(18e5,1.23*p);setTimeout((()=>{o.logToServer(e,t,n,u,i,d)}),l)}else u-=1,(0,a.T)({name:i.name,message:`LogToServer failed: ${i.message}`})}))},o.logPerfDataToServer=o.logToServer,o.logToServer=function(e,t){let n=0;return function(...i){if(!(n>=t))return n+=1,e.apply(this,i)}}(o.logToServer,10);const l=o},711344:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(231486),r=n(226198);var a=n(932046),o=n(172071),s=n(867820),l=n(644035);const d=({moduleName:e,pageType:t,requestContext:n,route:d})=>{const c=(e=>{const{userAgent:t}=e;if(!t.isMobile&&!t.isTablet)return"desktop";switch(t.platform){case l.RL:return"iphone";case l.GW:return t.isTablet?"android_tablet":"android";case l.s4:return"ipad";default:return"mobile_other"}})(n),u=n.isAuthenticated?"auth":"unauth",p=(()=>{const e=navigator&&navigator.userAgent.toLowerCase();if(e){if(e.indexOf("googlebot")>-1||e.indexOf("google web preview")>-1||e.indexOf("google page speed insights")>-1)return"google_bot";if(e.indexOf("msnbot")>-1||e.indexOf("bingbot")>-1)return"ms_bot";if(e.indexOf("applebot")>-1)return"apple_bot";if(e.indexOf("yahoo")>-1||e.indexOf("slurp")>-1)return"yahoo_bot";if(e.indexOf("yandex")>-1)return"yandex"}})(),_=(0,a.Z)(),h=function(){let e=!1;return i.U2(r.VL)||(i.t8(r.VL,"1",(0,i.kZ)(r.VL)),e=!0),e}(),m=document.domain||"unknown";h&&((0,s.My)(`traffic.${c}.${_}.${e}.${u}`),(0,s.My)(`traffic_subdomain.${m}.${_}.${e}.${u}`),(0,s.My)(`traffic_subdomain.${m}.${c}.${_}.${e}.${u}`),(0,s.My)(`traffic_subdomain.${m}.${c}.${u}`),(0,s.My)(`traffic_duplo.${c}.${_}.${e}.${u}`),p&&(0,s.My)(`traffic_bot.${p}.${e}`));o.Z.increment("webapp.traffic",.1,{domain:m,isAuth:u,pageType:t,userAgentPlatform:c,botType:p,firstVisit:h,moduleName:e,referrer:_,route:d})};function c({pageType:e,requestContext:t,route:n}){d({moduleName:{"/":"HomePage","/login":"LoginPage","/pin/:id":"Closeup","/:username":"ProfilePage","/:username/:slug":"BoardPage","/topics/:interest":"TopicPage","/today":"TodayTabPage","/today/:term/:title/:articleId":"TodayArticleFeedPage","/ideas":"IdeasRootPage","/ideas/:interest/:id":"IdeasPage","/videos":"VideosRootPage","/shopping":"ShoppingRootPage"}[n]||"other",pageType:e,requestContext:t,route:n})}},630409:(e,t,n)=>{n.d(t,{Z:()=>I});var i=n(421781),r=n(883119),a=n(50286),o=n(785893);function s({children:e}){const t=(0,a.ml)();return(0,o.jsx)(r.Q_,{deviceType:t?"mobile":"desktop",children:e})}var l=n(780280);const d=["web_gestalt_redesigned_badge","mweb_gestalt_redesigned_badge","unauth_web_show_password_button","unauth_mweb_show_password_button","web_gestalt_redesigned_toast","mweb_gestalt_redesigned_toast"];function c({children:e}){const t=(0,l.B)(),n=d.reduce(((e,n)=>({...e,[n]:t.experimentsClient.checkExperiment(n)})),{});return(0,o.jsx)(r.II,{value:n,children:e})}var u=n(538128),p=n(287072);function _({children:e}){return(0,o.jsx)(r.Pz,{onNavigation:function({href:e,target:t}){const n={href:e,target:t};return(0,p.Z)(n)},children:e})}var h=n(129291),m=n(773285),g=n(558068),f=n(348584),v=n(411465),y=n(198462),x=n(505920),b=n(790348),w=n(385740),S=n(276775);function T({children:e,traceLoggerData:t}){const n=(0,l.B)(),r=(0,S.useHistory)(),a=(0,S.useLocation)(),s=(0,i.Z)({requestContext:n,traceLoggerData:t});(0,b.iF)(r.action);const d=a;return(0,o.jsx)(y.cA,{immutableLocation:d,resourceTimingCacheSize:400,routerHistoryAction:r.action,staticContext:s,children:(0,o.jsx)(h.MH,{children:e})})}function I({children:e,copytuneExperiments:t,inContextTranslation:n,locale:i,localeBundleType:r="lite",requestContext:a,traceLoggerData:d}){return(0,o.jsx)(l.P2,{value:a,children:(0,o.jsx)(m.a,{value:a.experimentsClient,children:(0,o.jsx)(T,{traceLoggerData:d,children:(0,o.jsx)(s,{children:(0,o.jsx)(c,{children:(0,o.jsx)(u.Z,{copytuneExperiments:t,enableInContextTranslation:n,locale:i,localeBundleType:r,children:(0,o.jsx)(g.nK,{children:(0,o.jsx)(v.G,{children:(0,o.jsx)(_,{children:(0,o.jsx)(w.Ih,{children:(0,o.jsx)(f.D,{children:(0,o.jsx)(x.UZ,{children:e})})})})})})})})})})})})}},675149:(e,t,n)=>{n.d(t,{me:()=>f,pK:()=>x,bJ:()=>m,Y7:()=>v,Nv:()=>_,Ph:()=>u,Bf:()=>b,gC:()=>g,J3:()=>y,ay:()=>h,Un:()=>p,lv:()=>I,BG:()=>A});var i=n(247756),r=n(172071);const a="https://pinterest-uk-web.admo.tv/server/pixel.php",o="https://pinterest-uk-web.admo.tv/server/pixel.php?act=tag&a=page_load&l=resurrection_login&v=1",s="https://pinterest-uk-web.admo.tv/server/pixel.php?act=tag&a=page_load&l=login_customer&v=1",l="https://pinterest-uk-web.admo.tv/server/pixel.php?act=tag&a=page_load&l=customer_registration&v=1",d="https://pinterest-uk-web.admo.tv/server/pixel.php?act=tag&a=page_load&l=business_registration&v=1";var c=n(844974);const u="admo-tv-d-ses",p="admo-tv-m-ses",_="admo-tv-d-rez-login",h="admo-tv-m-rez-login",m="admo-tv-d-login",g="admo-tv-m-login",f="admo-tv-def-login",v="admo-tv-d-reg",y="admo-tv-m-reg",x="admo-tv-d-billing",b="admo-tv-m-billing",w={"admo-tv-d-ses":a,"admo-tv-m-ses":a,"admo-tv-d-rez-login":o,"admo-tv-m-rez-login":o,"admo-tv-d-login":s,"admo-tv-m-login":s,"admo-tv-d-reg":l,"admo-tv-m-reg":l,"admo-tv-d-billing":d,"admo-tv-m-billing":d,"admo-tv-def-login":"https://pinterest-uk-web.admo.tv/server/pixel.php?act=tag&a=page_load&l=logged_users&v=1"};function S(e,t){r.Z.increment("admo_tracking_pixel",1,{event_category:e,event_name:"All"}),"All"!==t&&r.Z.increment("admo_tracking_pixel",1,{event_category:e,event_name:t})}function T(){for(const t of Object.keys(w)){let n=(0,c.qn)(t);if(n){const r=(0,i.Z)({src:w[t],id:t,height:1,width:1,sandbox:"allow-scripts",style:"display:none;"});if(!document.getElementById(t)){var e;null===(e=document.body)||void 0===e||e.appendChild(r),n=n.split("#");const[i,a]=n;S(i,a),(0,c.L_)(t)}}}}function I(e,t){function n(e,t){const n=(0,i.Z)({src:w[e],id:e,height:1,width:1,sandbox:"allow-scripts",style:"display:none;"});var r;document.getElementById(e)||(null===(r=document.body)||void 0===r||r.appendChild(n),t(),T())}document.getElementById(e)?T():("complete"===document.readyState&&n(e,t),window.addEventListener("load",function e(t,i){return r=>{n(t,i),window.removeEventListener(r,e)}}(e,t)))}function P(e,t,n){w[e]&&(0,c.Nh)(e,`${t}#${n}`)}function E(e,t,n){return i=>{P(e,t,n),window.removeEventListener(i,E)}}function A(e,t,n){"complete"===document.readyState?P(e,t,n):window.addEventListener("load",E(e,t,n))}},422586:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(89254),r=n(966113);function a(e,t){let n="";if(e&&(n=e,t)){const a=(0,i.Z)(e,!0),o="/advertiser/",{hostname:s}=a;null!==s&&s!==r.KU||(e.startsWith(r.au)&&(e=e.replace(r.au,"")),n=e.startsWith(o)?e:o+t+e)}return n}},283698:(e,t,n)=>{function i(e){return"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"requestAnimationFrame")||e&&e(),window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{e&&e()}))}))}n.d(t,{Z:()=>i})},427014:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(172071);function r({appType:e,currVersion:t,deviceType:n,eventType:r,eventName:a,stage:o,nextVersion:s,isBot:l,originHost:d}){const c="desktop"===n?5:6;i.Z.increment(`web.client_refresh.${r}.${n}`,1,{stage:o,currVersion:t,nextVersion:s,isBot:l,siteType:e||c,appType:e||c,event:a,originHost:d||"unknown"})}},436851:(e,t,n)=>{n.d(t,{$:()=>r,d:()=>i});const i=e=>/instagram/i.test(e||""),r=e=>(e||"").includes("[Pinterest/iOS]")||(e||"").includes("[Pinterest/Android]")},363046:(e,t,n)=>{n.d(t,{Z:()=>f});var i=n(27255),r=n(768559),a=n(124580),o=n(172071),s=n(567450),l=n(6637),d=n(433780),c=n(12610),u=n(745760);const p=[9,3];function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let h=null;const m=(0,u.ZP)();class g{constructor(){_(this,"_logTimeoutLong",null),_(this,"_logTimeoutShort",null),_(this,"_clickthroughStartEvent",null),_(this,"_utcDate",new Date);const e=(e,t)=>{const{activeElement:n}=document;n&&n.id===i.Z.VIDEO_IFRAME_ID&&n?setTimeout((()=>n.blur()),0):(a.Z.pause(c.LU),this.flushEvents(e))},t=(e=>{let t=!1;return(...n)=>{t||(t=!0,e(...n))}})((t=>e(!0))),n=()=>{a.Z.resume(c.LU)};window.addEventListener("beforeunload",t),window.addEventListener("pagehide",t),window.addEventListener("focus",n),window.addEventListener("blur",(t=>e(!1)))}setTimeoutToFlushEvents(e){const t=e.event_type;if(p.includes(e.view_type)&&!this._logTimeoutShort&&13===t)this._logTimeoutShort=setTimeout(this.flushEvents.bind(this,!1,!0),300);else if(!this._logTimeoutLong){const e=1e4;this._logTimeoutLong=setTimeout(this.flushEvents.bind(this),e)}}addEvent(e,t){const n=e.event_type;if(null==n)return;if(!(0,u.cA)(e))return;this.setTimeoutToFlushEvents(e);const i=(0,u.li)(e,t);i.appState=s.Z.getAppState();const r=u.Ch[n];var a,l;if(r)return r.startsWith("storyImpression")?(null!==(a=i.event_data)&&void 0!==a&&a.storyImpressions&&(i.event_data.storyImpression=i.event_data.storyImpressions,delete i.event_data.storyImpressions),void m.logImpression((0,u.a)(i,"storyImpression"))):void(0,u.nc)(i,r).forEach(m.logImpression);(o.Z.increment("webapp.contextLogger.impressionType",.01,{event_type:n}),m.logContextEvent(i),12===n)&&(m.logContextEvent({...i,event_type:7946}),this._clickthroughStartEvent={...i,time:1e6*Date.now()},null===(l=h)||void 0===l||l.storeClickthroughProperties({view_type:i.view_type,view_parameter:i.view_parameter,component:i.component,element:i.element,object_id_str:i.object_id_str,view_data:i.view_data,aux_data:i.aux_data,clientTrackingParams:i.clientTrackingParams}))}flushEvents(e){var t;const n=null===(t=m.getContextEvents)||void 0===t?void 0:t.call(m);n&&!n.length||(m.flushContextEvents(e),this._reset())}_reset(){this._resetShortTimerEvents(),this._resetLongTimerEvents()}_resetShortTimerEvents(){var e;null===(e=m.resetEventsBuffer)||void 0===e||e.call(m),clearTimeout(this._logTimeoutShort),this._logTimeoutShort=null}_resetLongTimerEvents(){var e;null===(e=m.resetEventsBuffer)||void 0===e||e.call(m),clearTimeout(this._logTimeoutLong),this._logTimeoutLong=null}}function f({location:e,reduxPins:t,shouldExtractTrackingParams:n=!0}){const i=new g;window.addEventListener&&window.addEventListener("focus",(()=>{if(i._clickthroughStartEvent){const e=i._clickthroughStartEvent;i._clickthroughStartEvent=null;const t={...e,event_type:4100,duration_ns:(0,u.h1)()-e.time};i.addEvent(t)}}));const a={flushContextEvents:e=>i.flushEvents(e),logContextEvent:n=>{if(null===n.event_type||void 0===n.event_type)return;const o=n.clientTrackingParams||(n=>{try{var i,a;const o=t&&n?t[n]:void 0;return o?(0,r.Z)({boardUrl:null===(i=o.board)||void 0===i?void 0:i.url,callToCreateSourcePinId:o.call_to_create_source_pin_id,location:e,pinId:o.id,pinnerUserName:null===(a=o.pinner)||void 0===a?void 0:a.username,storyPinDataId:o.story_pin_data_id,trackingParams:o.tracking_params,trackingParamsMap:o.tracking_params_map})||`${o.tracking_params}~0`:void 0}catch(o){return}})(n.object_id_str);i.addEvent({...n,clientTrackingParams:o},a.injectSetViewContextDataFromHook)},logImpression:({auxData:e,component:t,eventData:n,eventType:r,impressionType:o,objectIdStr:s,viewData:l,viewParameter:d,viewType:c})=>{null!=r&&i.addEvent({event_type:r,event_data:{[o]:[n]},component:t,object_id_str:s,aux_data:e,view_type:c,view_parameter:d,view_data:l},a.injectSetViewContextDataFromHook)}};return h=(0,d.Z)(a,n),l.Z.contextLogger=a,a}},517490:(e,t,n)=>{n.d(t,{g:()=>r,z:()=>i});const i="https://p.tvpixel.com/i?aid=pinterest-aac27acd-90e7-48ad-9f38-60b7bf197c22&e=pv&p=web&tv=1x1",r="https://p.tvpixel.com/i?aid=pinterest-aac27acd-90e7-48ad-9f38-60b7bf197c22&e=se&p=web&tv=1x1&se_ca=conversion&se_ac="},887432:(e,t,n)=>{n.d(t,{C:()=>c,FB:()=>u,ZY:()=>p,l8:()=>_});var i=n(811859),r=n(517490),a=n(330102);const o=r.z,s=r.g,l="dpm_images",d="dpm_pixel_unauth";function c(e){const{origin:t,pixelEvent:n,userIdString:i}=e,r=n?new URL(t+n):new URL(t);return r.searchParams.set("url",document.URL),r.searchParams.set("refr",document.referrer),r.searchParams.set("uid",i),r.toString()}async function u(e,t,n){const r=e+"*"+("undefined"!=typeof window&&window.crypto&&window.crypto.subtle?await(0,i.Z)(t):""),s=c({origin:o,userIdString:r});(0,a.VL)(e,"dpm_pixel_auth",d,l,s,r,"dpm",n)}async function p(e,t,n,r){let o="";t&&(o="undefined"!=typeof window&&window.crypto&&window.crypto.subtle?await(0,i.Z)(t):"");const s=e+"*"+o;(0,a.YJ)(n,e,l,s,"dpm",r)}async function _(e,t="",n,r,o){let d;if(t){const n="undefined"!=typeof window&&window.crypto&&window.crypto.subtle?await(0,i.Z)(t):"";d=c({origin:s,pixelEvent:e,userIdString:n})}(0,a.dO)({pixelId:e,divId:l,url:d,eventCategory:n,eventName:r,onSendPixelSuccess:o})}},151725:(e,t,n)=>{function i(){return new Date(Date.now())}n.d(t,{Z:()=>i})},816068:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>Math.floor(new Date(e).getTime()/1e3)},22359:(e,t,n)=>{function i(e){const t=new Date(e);return t.setUTCMilliseconds(0),t.setUTCMinutes(0),t.setUTCSeconds(0),t.setUTCHours(0),t}n.d(t,{Z:()=>i})},549872:(e,t,n)=>{n.d(t,{IV:()=>c,Ii:()=>_,Ob:()=>u,sX:()=>p,vF:()=>d});var i=n(247756),r=n(811859),a=n(330102);const o="dentsu_images",s="ds_pixel_unauth",l="PageView";function d(e,t){const n=new URL("https://pp.d2-apps.net/v1/impressions/log?client_id=644&c_1=pintrest&c_2="+document.URL);return n.searchParams.set("c_3",t),n.searchParams.set("c_4",e),n.searchParams.set("c_7",(0,a.OJ)()),n.toString()}async function c(e,t,n){const i=e+"*"+("undefined"!=typeof window&&window.crypto&&window.crypto.subtle?await(0,r.Z)(t):""),c=d(i,l);(0,a.VL)(e,"ds_pixel_auth",s,o,c,i,"dentsu",n)}async function u(e,t){const n=d(e,l);(0,a.PN)(e,s,o,n,t)}function p(e,t,n){(0,a.dO)({pixelId:e,divId:o,eventCategory:t,eventName:n})}function _(e){function t(){const t=(0,i.Z)({src:"https://"+location.hostname+"/_/_/pixel/fb-dentsu-jp.html",id:"dentsuFBPixel",sandbox:"allow-scripts allow-same-origin",style:"display: none;"});if(!document.body)throw new Error("missing <body>");document.body.appendChild(t),t.contentWindow.addEventListener("load",(()=>window._sendFacebookPixel=t.contentWindow.fbq)),e()}document.getElementById("dentsuFBPixel")||("complete"===document.readyState&&t(),window.addEventListener("load",t))}},995146:(e,t,n)=>{n.d(t,{a$:()=>p,kv:()=>u,pH:()=>_});var i=n(643913),r=n(966113),a=n(584595),o=n(6637);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends Error{constructor(e){super(e.statusText),s(this,"name","CrossDomainHandshakeHttpError"),this.response=e}}class d extends Error{constructor(e){super(e.message),s(this,"name","CrossDomainHandshakeApiError"),this.api_error_code=e.code,this.response=e}}const c=({path:e,data:t,unauthId:n})=>fetch(`${r.cD}/v3/${e}/handshake/`,{credentials:"include",mode:"cors",method:"POST",body:(0,i.Z)(t),headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","X-Pinterest-InstallId":n}}).then((e=>{if(200===e.status||401===e.status||409===e.status)return e;throw new l(e)})).then((e=>e.json())).then((e=>{if("success"===e.status)return Promise.resolve(e);if(e.code===a.Zn)return e.api_error_code=e.code,Promise.reject(e);throw new d(e)})).catch((e=>{throw e})),u=(e,t=!1)=>o.Z.create("HandshakeSessionResource",{token:e,isRegistration:t}).callCreate(),p=(e,{facebookToken:t,inviteCode:n,locale:i,referrer:r,unauthId:a})=>{const o=(e.business_name?"partner":e.facebook_id&&"facebook")||"email";let s={email:e.email||"",username:e.username||"",password:e.password||"",first_name:e.first_name||"",last_name:e.last_name||"",country:e.country||"",locale:i,referrer:r};return e.birthday&&(s={...s,birthday:e.birthday}),e.custom_gender&&(s={...s,custom_gender:e.custom_gender}),e.gender&&(s={...s,gender:e.gender}),e.business_name&&(s={...s,business_name:e.business_name,first_name:e.business_name}),n&&(s={...s,invite_code:n}),e.facebook_id&&(s={...s,facebook_id:e.facebook_id,facebook_token:t||e.facebook_token||""}),e.recaptchaV3Token&&(s={...s,recaptcha_v3_token:e.recaptchaV3Token}),c({path:`register/${o}`,data:s,unauthId:a})},_=(e,{recaptchaV3Token:t,referrer:n,unauthId:i})=>{const r=e.mfa_token?"login/mfa":"login";let a={username_or_email:e.username_or_email.trim(),password:e.password,referrer:n};return e.mfa_token&&(a={...a,mfa_token:e.mfa_token}),t&&(a={...a,token:t}),c({path:r,data:a,unauthId:i})}},233211:(e,t,n)=>{n.d(t,{B$:()=>d,Cw:()=>o,I7:()=>l,c4:()=>s});var i=n(667294),r=n(425288);const a=(0,i.createContext)(null),o=()=>(0,i.useContext)(a),s=a.Provider,{Provider:l,useHook:d}=(0,r.Z)("DesktopCoreLogin")},172903:(e,t,n)=>{n.d(t,{Z:()=>k});var i=n(667294),r=n(231486),a=n(807998),o=n(704115),s=n(957161),l=n(172071),d=n(6637),c=n(594881),u=n(383690),p=n(898781),_=n(112690),h=n(69642),m=n(330102),g=n(826067),f=n(844974),v=n(867820),y=n(487116),x=n(780280),b=n(584595),w=n(45169),S=n(696157),T=n(995146),I=n(226198),P=n(529195);let E=0;const A=()=>{const e=document.referrer;return e?e.indexOf("/t.co/")>-1?"twitter":e.indexOf("google.")>-1?"google":e.indexOf("bing.")>-1?"bing":e.indexOf("facebook.")>-1?"facebook":"other":"direct"};function k(){const e=(0,p.ZP)(),t=(0,u.Z)(),n=(0,_.Z)(),k=(0,x.B)(),C=(0,h.Z)();return(0,i.useCallback)(((i,{inviteCode:u,loggingOptions:{signupContext:p,signupAttemptContextEvent:_}})=>{const h=({isRetrying:t})=>{var x,R,j,D;const O={...i},N=a.Z.includes(k.origin),L=(0,P.t_)(),U=(0,P.OJ)(),F=null!==(x=null===(R=window)||void 0===R||null===(j=R.location)||void 0===j?void 0:j.search)&&void 0!==x?x:null,M=(0,g.mB)(F).utm_campaign;L&&(O.visited_pages=L),U&&(O.referrer=U),M&&(O.utm_campaign=M);const z=s.Z.getItem(S.e9);if(L)O.visited_pages=L;else if(z){const e=[];for(const t of z)t.is_shared_pin&&e.push({ts:t.ts,path:t.path,first_pin_image_signature:t.image_signature,is_shared:!0});e&&(O.visited_pages=JSON.stringify(e.concat(L||[])))}O.user_behavior_data=(()=>{const e={};return[S.qo,S.Y9,S.E9].forEach((t=>{const n=s.Z.getItem(t);n&&(e[t]=n)})),JSON.stringify(e)})();const B=(0,w.yV)(O);t||(n({..._,event_type:7537}),C({action:"signup",event:"attempt",trigger:null==p?void 0:p.trigger,type:B}));const Z=()=>{const{country:e,countryFromHostName:t,countryFromIp:i,regionFromIp:a}=k;(0,y.D)("signup"),r.zN(I.Mq.name),r.zN(I.x2.name),(0,c.Z)(),r.t8(I.Xh,"1"),(0,f.L_)(S._b);const s=(null==p?void 0:p.container)||"container_unknown";(0,v.My)(`signup.container.${s}`);const l=(null==p?void 0:p.signupSource)||"signupSource_unknown";(0,v.My)(`signup.source.${l}`),n({event_type:"home_page"===s?1750:1754}),(0,v.My)(`signup_referrer_module.${String((0,o.Z)().referrer||"unknown")}`),(0,m.ko)({country:e,countryFromHostName:t,countryFromIp:i,regionFromIp:a,deviceType:"Desktop",eventCategory:"NewUsers"}),n({..._,event_type:7487}),C({action:"signup",event:"success",referrer:A(),trigger:null==p?void 0:p.trigger,type:B})},H=e=>{e.api_error_code===b.tz&&((0,v.My)("multi_step_set_age_restrict_cookie"),r.t8(I.It,"1",(0,r.kZ)(I.It)));if((!e.api_error_code||[b.dO,b.cZ].includes(e.api_error_code))&&E<3)return(0,v.My)(`unauth_web.signup_retry_error.${String(e.api_error_code)}.${String(null==p?void 0:p.container)}`),E+=1,h({isRetrying:!0});throw n({..._,event_type:7488}),C({action:"signup",event:"fail",trigger:null==p?void 0:p.trigger,type:B}),e};if(!O.facebook_id&&!O.google_open_id_token&&!O.line_id_token&&Boolean(O.email)&&N){(0,v.My)("unauth_cross_domain_register_debugging_counter");const t=e=>{(0,v.My)(`web_cross_domain_register.${e}.${B}`)};t("attempt");const n={facebookToken:k.facebookToken,inviteCode:u,locale:k.locale,referrer:k.referrerFromCookie,unauthId:k.unauthId};return(0,T.a$)(O,n).then((n=>{Z();const i=n.data||"";if(i)return t("success_with_token"),(0,T.kv)(i,!0).then((e=>{t("success_token_exchanged")}),(e=>{throw t("success_token_not_exchanged"),e}));throw t("success_without_token"),new Error(e.bt("  ,        .   .", "We were able to create your account, but there was a problem logging you in. Try refreshing the page to continue.", " - ", undefined, true))}),(e=>{t("failure"),H(e)}))}return l.Z.increment("webapp.debug_signup_type.core_register",1,{CHECK_TYPE:null!==(D=(0,w.Eh)(O,"CHECK_TYPE"))&&void 0!==D?D:"none",CHECK_EXISTS:(0,w.Eh)(O,"DEPRECATED_CHECK_EXISTS"),CHECK_TRUTHY:(0,w.Eh)(O,"DEPRECATED_CHECK_TRUTHY")}),d.Z.create("UserRegisterResource",O).callCreate().then((()=>Z()),(e=>H(e)))};return t(),h({isRetrying:!1})}),[e,t,n,k,C])}},903095:(e,t,n)=>{n.d(t,{Mi:()=>r,lO:()=>a});var i=n(425288);const{Provider:r,useMaybeHook:a}=(0,i.Z)("pageContext")},541741:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(829407),r=n(497529);function a(){const e=(0,r.Z)();return(0,i.Z)((()=>{e.fetchAllExperiences(),e.fetchAllExperiencesMulti()})),null}},131108:(e,t,n)=>{n.d(t,{HI:()=>o,f8:()=>l,hm:()=>s,sH:()=>a});var i=n(883119),r=n(785893);const a=({children:e})=>(0,r.jsx)(i.xu,{padding:4,position:"absolute",bottom:!0,left:!0,right:!0,children:e}),o=({children:e})=>(0,r.jsx)(i.xu,{padding:2,children:e}),s=({children:e})=>(0,r.jsx)(i.xu,{display:"flex",position:"absolute",top:!0,height:"100%",width:"100%",alignItems:"center",justifyContent:"center",children:e}),l=({children:e})=>(0,r.jsx)(i.xu,{padding:4,position:"absolute",top:!0,left:!0,right:!0,children:e})},599997:(e,t,n)=>{n.d(t,{Ec:()=>d,IA:()=>g,LX:()=>c,Mf:()=>m,SF:()=>s,_e:()=>l,l0:()=>o,ml:()=>a,q4:()=>r,zn:()=>i});const i=e=>["feed_card_default","feed_card_video"].includes(e),r=2/3,a=2/3,o=1/3,s="36px",l="28px",d=.4,c=.65,u={0:"start",1:"center",2:"end"},p={web:{0:"16",1:"20",2:"24"},mweb:{0:"12",1:"16",2:"18",3:"20"}},_={1:"italics",0:"normal"},h={1:"bold",0:"normal"},m=({color:e,font_style:t,font_weight:n,horizontal_alignment:i,size:r},a)=>({color:e,fontStyle:_[null!=t?t:0],fontWeight:h[null!=n?n:1],horizontalAlignment:u[null!=i?i:0],fontSize:p[a][null!=r?r:0]+"px"}),g=e=>e<=280?1.2:e>280&&e<=375?.85:e>375&&e<=540?.75:e>540&&e<1024?c:e>=1024?d:0},494990:(e,t,n)=>{n.d(t,{D:()=>a,G:()=>r});var i=n(207737);function r(e={},t){switch(t.type){case i.V$:const{experienceId:n,placementId:r,status:a}=t.payload,o={...e},s=o[r]||[],l=s.findIndex((e=>e.experience_id===n));return l>=0&&(["completed","dismissed"].includes(a)?s.splice(l,1):s[l].status=a),o;case i.$S:const{experiencesMulti:d}=t.payload;return{...d};default:return e}}function a(e={},t){switch(t.type){case i.iY:const{placementId:n,status:r}=t.payload,a={...e};return a[n]&&(["completed","dismissed"].includes(r)?delete a[n]:a[n].status=r),a;case i.mR:return{...e,...t.payload.experiences};case i._4:const{experiences:o}=t.payload;return{...o};default:return e}}},180630:(e,t,n)=>{n.d(t,{W:()=>s,Z:()=>o});var i=n(247756);function r(e,t,n=3){if(window._sendFacebookPixel)"NewOrRezUsers"===e||"MAU"===e?window._sendFacebookPixel("trackCustom",e):window._sendFacebookPixel("track",e),t();else if(n>0){const i=Math.floor(3e3/n);setTimeout((()=>{r(e,t,n-1)}),i)}}function a(e,t){return n=>{r(e,t),window.removeEventListener(n,a)}}function o(e,t){"complete"===document.readyState?r(e,t):window.addEventListener("load",a(e,t))}function s(){document.getElementById("facebookPixel")||("complete"===document.readyState&&function(){const e=(0,i.Z)({src:"https://"+location.hostname+"/fb.html",id:"facebookPixel",sandbox:"allow-scripts allow-same-origin",style:"display: none;"});if(!document.body)throw new Error("missing <body>");document.body.appendChild(e),e.contentWindow.addEventListener("load",(()=>window._sendFacebookPixel=e.contentWindow.fbq))}(),window.addEventListener("load",s))}},683090:(e,t,n)=>{n.d(t,{F8:()=>k,el:()=>D,M7:()=>A,tr:()=>R,lV:()=>j,x9:()=>N,sl:()=>C,eP:()=>O,VC:()=>T,Rs:()=>E});var i=n(247756),r=n(172071),a=n(330102);var o=n(844974);const s={"flashtalking-d-ses":["https://servedby.flashtalking.com/container/19112;123474;13378;iframe/?spotName=Desktop_Web_Session&ftXCurrency=A&ftXName=A&ftXNumItems=A&ftXRef=A&ftXType=A&ftXValue=A&U1=A&U2=A&U3=A&U4=A&U5=A&cachebuster=","__;WyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV0rKw!!N96JrnIq8IfO5w!3OqZ065GjRFlcxmjnVAQoMbP5zuw_9E57X2k7VKfgLzeMs11kSYtkrw8mpha-Zx62--R$"],"flashtalking-m-ses":["https://servedby.flashtalking.com/container/19112;123473;13378;iframe/?spotName=Mobile_Web_Session&ftXCurrency=A&ftXName=A&ftXNumItems=A&ftXRef=A&ftXType=A&ftXValue=A&U1=A&U2=A&U3=A&U4=A&U5=A&cachebuster=","__;WyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV0rKw!!N96JrnIq8IfO5w!3OqZ065GjRFlcxmjnVAQoMbP5zuw_9E57X2k7VKfgLzeMs11kSYtkrw8mpha-aC5fNCn$"],"flashtalking-d-login":["https://servedby.flashtalking.com/container/19112;123477;13378;iframe/?spotName=Desktop_Web_Login&ftXCurrency=A&ftXName=A&ftXNumItems=A&ftXRef=A&ftXType=A&ftXValue=A&U1=A&U2=A&U3=A&U4=A&U5=A&cachebuster=","__;WyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV0rKw!!N96JrnIq8IfO5w!3OqZ065GjRFlcxmjnVAQoMbP5zuw_9E57X2k7VKfgLzeMs11kSYtkrw8mpha-UP9cLAD$"],"flashtalking-m-login":["https://servedby.flashtalking.com/container/19112;123460;13378;iframe/?spotName=Mobile_Web_Login&ftXCurrency=A&ftXName=A&ftXNumItems=A&ftXRef=A&ftXType=A&ftXValue=A&U1=A&U2=A&U3=A&U4=A&U5=A&cachebuster=","__;WyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV0rKw!!N96JrnIq8IfO5w!3OqZ065GjRFlcxmjnVAQoMbP5zuw_9E57X2k7VKfgLzeMs11kSYtkrw8mpha-dZEP4zq$"],"flashtalking-d-reg":["https://servedby.flashtalking.com/container/19112;123459;13378;iframe/?spotName=Desktop_Web_Registration&ftXCurrency=A&ftXName=A&ftXNumItems=A&ftXRef=A&ftXType=A&ftXValue=A&U1=A&U2=A&U3=A&U4=A&U5=A&cachebuster=","__;WyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV0rKw!!N96JrnIq8IfO5w!3OqZ065GjRFlcxmjnVAQoMbP5zuw_9E57X2k7VKfgLzeMs11kSYtkrw8mpha-bBBO_93$"],"flashtalking-m-reg":["https://servedby.flashtalking.com/container/19112;123472;13378;iframe/?spotName=Mobile_Web_Registration&ftXCurrency=A&ftXName=A&ftXNumItems=A&ftXRef=A&ftXType=A&ftXValue=A&U1=A&U2=A&U3=A&U4=A&U5=A&cachebuster=","__;WyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV0rKw!!N96JrnIq8IfO5w!3OqZ065GjRFlcxmjnVAQoMbP5zuw_9E57X2k7VKfgLzeMs11kSYtkrw8mpha-QIr-gzV$"],"flashtalking-bus":["https://servedby.flashtalking.com/container/19112;123475;13379;iframe/?spotName=Desktop_Business_Billing&ftXCurrency=A&ftXName=A&ftXNumItems=A&ftXRef=A&ftXType=A&ftXValue=A&U1=A&U2=A&U3=A&U4=A&U5=A&cachebuster=","__;WyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV0rKw!!N96JrnIq8IfO5w!3OqZ065GjRFlcxmjnVAQoMbP5zuw_9E57X2k7VKfgLzeMs11kSYtkrw8mpha-UtxgWP6$"],"flashtalking-first-spend-event":["https://servedby.flashtalking.com/container/19112;130299;13379;iframe/?spotName=First_Time_Spenders&U7="],"flashtalking-all-spend-event":["https://servedby.flashtalking.com/container/19112;130301;13379;iframe/?spotName=All_Spenders&U7="],"flashtalking-advertiser-rez-event":["https://servedby.flashtalking.com/container/19112;130300;13379;iframe/?spotName=Resurrected_Spenders&U7="],"flashtalking-shop-event":["https://servedby.flashtalking.com/container/19112;126331;13379;iframe/?spotName=Shopping_Advertisers&U6=&U7="],"flashtalking-catalog-feed-event":["https://servedby.flashtalking.com/container/19112;126604;13379;iframe/?spotName=Catalog_Uploads&U7="],"flashtalking-billing-complete-event":["https://servedby.flashtalking.com/container/19112;126329;13379;iframe/?spotName=Billing_Completion&U7="],"flashtalking-no-micro-catalog-feed-realtime-event":["https://servedby.flashtalking.com/container/19112;130191;13379;iframe/?spotName=No_micro_catalog_feed&U7="],"flashtalking-catalog-feed-realtime-event":["https://servedby.flashtalking.com/container/19112;130294;13379;iframe/?spotName=Catalog_Feeds&U7="],"flashtalking-catalog-feed-page-view-event":["https://servedby.flashtalking.com/container/19112;130295;13379;iframe/?spotName=Catalog_Feeds_Starting_Page_Unique_Visitors&U7="],"flashtalking-business-site-catalog-upload-click-event":["https://servedby.flashtalking.com/container/19112;130298;13379;iframe/?spotName=Catalog_Upload_Button_Click_on_Biz_Site&U7="],"flashtalking-business-site-no-micro-catalog-upload-click-event":["https://servedby.flashtalking.com/container/19112;130297;13379;iframe/?spotName=No_Micro_Catalog_Upload_Button_Click_on_Biz_Site&U7="],"flashtalking-business-site-page-view-event":["https://servedby.flashtalking.com/container/19112;130446;13379;iframe/?spotName=Biz_site_shopping_page_unique_visitors&U7="]},l=["flashtalking-d-login","flashtalking-m-login","flashtalking-d-reg","flashtalking-m-reg"],d="flashtalking-first-spend-event",c="flashtalking-all-spend-event",u="flashtalking-advertiser-rez-event",p="flashtalking-catalog-feed-event",_="flashtalking-billing-complete-event",h="flashtalking-no-micro-catalog-feed-realtime-event",m="flashtalking-catalog-feed-realtime-event",g="flashtalking-catalog-feed-page-view-event",f="flashtalking-business-site-catalog-upload-click-event",v="flashtalking-business-site-no-micro-catalog-upload-click-event",y="flashtalking-business-site-page-view-event",x=new Set([d,u,"flashtalking-shop-event",p,_,h,m,g,f,v,y,c]);function b(e,t=""){let n="";return n=x.has(e)?s[e][0]+t+"&cachebuster="+(0,a.OJ)():s[e][0]+(0,a.OJ)()+s[e][1],n}function w(e,t){r.Z.increment("flashtalking_tracking_pixel",1,{event_category:e,event_name:"All"}),"All"!==t&&r.Z.increment("flashtalking_tracking_pixel",1,{event_category:e,event_name:t})}function S(){for(const t of l){let n=(0,o.qn)(t);if(n){const r=(0,i.Z)({src:b(t),id:t,height:1,width:1,style:"display:none;"});if(!document.getElementById(t)){var e;null===(e=document.body)||void 0===e||e.appendChild(r),n=n.split("#");const[i,a]=n;w(i,a),(0,o.L_)(t)}}}}function T(e,t,n,r){function a(e,t,n,r){const a=(0,i.Z)({src:b(e,n),id:e,height:1,width:1,style:"display:none;"});var o;document.getElementById(e)||(a.setAttribute("data-test-id",r),null===(o=document.body)||void 0===o||o.appendChild(a),t(),S())}document.getElementById(e)?S():("complete"===document.readyState&&a(e,t,n,r),window.addEventListener("load",function e(t,n,i,r){return o=>{a(t,n,i,r),window.removeEventListener(o,e)}}(e,t,n,r)))}function I(e,t,n,i){l.find((t=>t===e))?(0,o.Nh)(e,`${t}#${n}`):T(e,i)}function P(e,t,n,i){return r=>{I(e,t,n,i),window.removeEventListener(r,P)}}function E(e,t,n,i){"complete"===document.readyState?I(e,t,n,i):window.addEventListener("load",P(e,t,n,i))}function A(e,t){if(!e||!t||0===Object.keys(e).length)return;const n=e[t].resurrected;if(n){const e=new Date(n),i=new Date;if((0,a.LG)(e,i)<=90){const e=i.toISOString().slice(0,10),n=(0,a.TF)(a.qs,t);T(u,(()=>{r.Z.increment("flashtalking_tracking_pixel",1,{event_category:"AdvertiserRez",event_name:"All"})}),e+"&U8="+n)}}}function k(e,t){if(!e||!t||0===Object.keys(e).length)return;const n=e[t].replaceAll("'",'"');let i="";try{const e=JSON.parse(n);if(e&&Object.keys(e).length>0){const{dt:t,merchant_id:n,feed_profile_ids:r}=e;if(t&&n&&r){i=t+"&U8="+r+"&U9="+(0,a.TF)(a.qs,n)}}}catch(o){r.Z.increment("flashtalking_tracking_pixel",1,{event_category:"CatalogFeed",event_name:"ParseErrors"})}T(p,(()=>{r.Z.increment("flashtalking_tracking_pixel",1,{event_category:"CatalogFeed",event_name:"All"})}),i)}function C(e,t){const n=(new Date).toISOString().slice(0,10),i=(0,a.TF)(a.qs,e),o=(0,a.TF)(a.qs,t);T(_,(()=>{r.Z.increment("flashtalking_tracking_pixel",1,{event_category:"Billing",event_name:"All"})}),n+"&U8="+o+"&U9="+i)}function R(e,t){const n=(new Date).toISOString().slice(0,10),i=(0,a.TF)(a.qs,e);T(m,(()=>{r.Z.increment("flashtalking_tracking_pixel",1,{event_category:"CatalogFeedRealtime",event_name:"All"})}),n+"&U8="+t+"&U9="+i,"data-source-catalog-upload-realtime-pixel")}function j(e,t){const n=(new Date).toISOString().slice(0,10),i=(0,a.TF)(a.qs,e);T(h,(()=>{r.Z.increment("flashtalking_tracking_pixel",1,{event_category:"NoMicroCatalogFeedRealtime",event_name:"All"})}),n+"&U8="+t+"&U9="+i,"data-source-no-micro-catalog-upload-realtime-pixel")}function D(e,t){if(!e)return;const n=(new Date).toISOString().slice(0,10),i=(0,a.TF)(a.qs,e),o=t?(0,a.TF)(a.qs,t):"";T(g,(()=>{r.Z.increment("flashtalking_tracking_pixel",1,{event_category:"CatalogFeedPageView",event_name:"All"})}),n+"&U8="+i+"&U9="+o,"data-source-catalog-page-view-pixel")}function O(e){const t=(new Date).toISOString().slice(0,10),n=e?(0,a.TF)(a.qs,e):"";T(d,(()=>{r.Z.increment("flashtalking_tracking_pixel",1,{event_category:"FirstSpender",event_name:"All"})}),t+"&U8="+n)}function N(e){const t=(new Date).toISOString().slice(0,10),n=e?(0,a.TF)(a.qs,e):"";T(c,(()=>{r.Z.increment("flashtalking_tracking_pixel",1,{event_category:"AllSpender",event_name:"All"})}),t+"&U8="+n)}},375985:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(172071),r=n(6637);function a(){setTimeout((async()=>{try{const e=await async function(){const e=n(565936).ZP,t=Date.now(),r=await e.load(),a=await r.get(),o=Date.now();i.Z.timing("fingerprint.time",o-t,1);const s=a.components;for(const n in s){const e=s[n].duration;i.Z.timing("fingerprint.componentDuration",e,.1,{component:n})}return a.visitorId}();r.Z.create("ApiResource",{url:"/v3/spam/fingerprints/",data:{fingerprint:e}}).callCreate()}catch(e){i.Z.increment("webapp.generateClientFingerprint.failure",1)}}),300)}},128315:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),r=n(898781),a=n(883119),o=n(785893);function s({children:e}){const t=(0,r.ZP)(),n=(0,i.useMemo)((()=>({ComboBox:{accessibilityClearButtonLabel:t.bt(" ", "Clear input", "gestalt.comboBox.accessibilityClearButtonLabel", undefined, true)},Link:{accessibilityNewTabLabel:t.bt("  ", "Opens a new tab", "gestalt.linkRoleComponent.accessibilityNewTabLabel", undefined, true)},Modal:{accessibilityDismissButtonLabel:t.bt("  ", "Close modal", "gestalt.modal.accessibilityDismissButtonLabel", undefined, true)},Popover:{accessibilityDismissButtonLabel:t.bt("  ", "Close popover", "gestalt.popover.accessibilityDismissButtonLabel", undefined, true)},Sheet:{accessibilityDismissButtonLabel:t.bt(" ", "Close sheet", "gestalt.sheet.accessibilityDismissButtonLabel", undefined, true),dismissConfirmationMessage:t.bt(" ?", "Are you sure you want to dismiss?", "gestalt.sheet.dismissConfirmationMessage", undefined, true),dismissConfirmationSubtext:t.bt("   .    .", "You will lose all of your changes. This cannot be undone.", "gestalt.sheet.dismissConfirmationSubtext", undefined, true),dismissConfirmationPrimaryActionText:t.bt(", ", "Yes, dismiss", "gestalt.sheet.dismissConfirmationPrimaryActionText", undefined, true),dismissConfirmationPrimaryActionTextLabel:t.bt(",  .", "Yes, dismiss the sheet.", "gestalt.sheet.dismissConfirmationPrimaryActionTextLabel", undefined, true),dismissConfirmationSecondaryActionText:t.bt(", ", "No, go back", "gestalt.sheet.dismissConfirmationSecondaryActionText", undefined, true),dismissConfirmationSecondaryActionTextLabel:t.bt(",   .", "No, go back to the sheet.", "gestalt.sheet.dismissConfirmationSecondaryActionTextLabel", undefined, true)},Tag:{accessibilityErrorIconLabel:t.bt("", "Error", "gestalt.tag.accessibilityErrorIconLabel", undefined, true),accessibilityRemoveIconLabel:t.bt(" ", "Remove tag", "gestalt.tag.accessibilityRemoveIconLabel", undefined, true),accessibilityWarningIconLabel:t.bt("", "Warning", "gestalt.tag.accessibilityWarningIconLabel", undefined, true)},TextField:{accessibilityHidePasswordLabel:t.bt(" ", "Hide password", "gestalt.textField.accessibilityHidePasswordLabel", undefined, true),accessibilityShowPasswordLabel:t.bt(" ", "Show password", "gestalt.textField.accessibilityShowPasswordLabel", undefined, true)}})),[t]);return(0,o.jsx)(a.J6,{labels:n,children:e})}},373420:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var i=n(667294),r=n(124580),a=n(223815),o=n(968121),s=n(883119),l=n(785893);function d({_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:n,allowClickAndDrag:d,allowMediaPlay:c,allowScroll:u,children:p,closeOnOutsideClick:_,footer:h,heading:m,onDismiss:g,role:f,size:v,subHeading:y}){(0,i.useEffect)((()=>(r.Z.pause(),function(){r.Z.resume()})),[]);return(0,l.jsx)(s.mh,{zIndex:o.b7,children:(0,l.jsx)(a.Z,{allowClickAndDrag:d,allowEsc:!0,allowMediaPlay:c,allowScroll:u,children:(0,l.jsx)(s.u_,{_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:n,closeOnOutsideClick:_,heading:m,footer:h,onDismiss:()=>{r.Z.resume(),g()},role:f,size:v,subHeading:y,padding:"none",children:p})})})}},430322:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var i=n(667294),r=n(124580),a=n(283698),o=n(223815),s=n(50286),l=n(898781),d=n(965900),c=n(780280),u=n(883119),p=n(968121),_=n(867820),h=n(785893);function m({_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:n="center",allowScroll:m=!1,children:g,closeOnOutsideClick:f=!0,footer:v,heading:y,mobileAccessibilityCloseIconLabel:x,mobileHideCloseIcon:b,mobileIsFullscreen:w,isOpen:S,mobileIsSlideUp:T,modalStyle:I,onDismiss:P,overrideZDepth:E,subHeading:A,type:k}){const C=(0,l.ZP)(),{isRTL:R}=(0,c.B)(),j=(0,i.useRef)(!1),[D,O]=(0,i.useState)(!1),{setAppFocusState:N}=(0,d.I)(),L=(0,s.ZP)();(0,i.useEffect)((()=>{(0,_.My)(`mweb_unauth.mobile_modal.${k||"unknown_type"}.did_mount.is_open.${String(!!S)}`)}),[S,k]),(0,i.useEffect)((()=>(j.current=(0,a.Z)((()=>{j.current&&O(!0)})),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&j.current&&(window.cancelAnimationFrame(j.current),j.current=null)})),[]),(0,i.useEffect)((()=>(S?(r.Z.pause(),N(!1)):(r.Z.resume(),N(!0)),()=>{S&&(r.Z.resume(),N(!0))})),[N,S]);const U=S&&!m;(0,i.useEffect)((()=>(U&&(()=>{if(document.body){const{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}})(),()=>{U&&(()=>{if(document.body){const{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}})()})),[U]);const F=(0,p.bf)();if(!S)return null;const M=T?(0,p.Vf)({isFullscreen:w,isTablet:"tablet"===L,isShowing:D,type:k}):(0,p.JN)({isFullscreen:w,isTablet:"tablet"===L,modalStyle:I,type:k});return(0,h.jsx)(o.Z,{children:(0,h.jsx)(u.mh,{children:(0,h.jsxs)(u.xu,{"aria-label":t,display:"inlineBlock",zIndex:E?new u.Ry(E):p.ZM,position:"relative",role:"dialog",children:[(0,h.jsx)(u.iP,{accessibilityLabel:C.bt("      ", "Mobile Signup Modal Mask", "mweb.signup_modal.mask", undefined, true),onTap:({event:e})=>{const t=e,n=P?"with":"without",i=k||"unknown_type";(0,_.tj)(`mweb_unauth.mobile_modal.wash_tap.${i}.${n}_dismissal`,{x:t.clientX,y:t.clientY}),f&&P&&P()},tapStyle:"none",children:(0,h.jsx)(u.xu,{position:"fixed",top:!0,left:!0,dangerouslySetInlineStyle:F})}),(0,h.jsxs)(u.xu,{position:"fixed",color:"default",dangerouslySetInlineStyle:M,children:[(0,h.jsxs)(u.kC,{alignItems:"center",justifyContent:"start",width:"100%",gap:{row:2,column:0},children:[x&&!b?(0,h.jsx)(u.xu,{padding:2,"data-test-id":"mobile-modal-cancel-button",children:(0,h.jsx)(u.hU,{accessibilityLabel:x,iconColor:"darkGray",icon:"cancel",onClick:P,padding:4,size:"sm"})}):null,y?(0,h.jsx)(u.kC.Item,{flex:"grow",children:(0,h.jsx)(u.kC,{direction:"column",alignItems:"center",justifyContent:"center",children:(0,h.jsxs)(u.xu,{dangerouslySetInlineStyle:x&&!b?(0,p.ju)(R):{__style:{}},children:[w?y:(0,h.jsx)(u.xv,{align:n,weight:"bold",size:"400",children:y}),A?(0,h.jsx)(u.xv,{align:n,children:A}):null]})})}):null]}),(0,h.jsxs)(u.xu,{overflow:e?"visible":"auto",children:[g,v]})]})]})})})}},560352:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294),r=n(50286),a=n(121151);function o(){const e=(0,r.ZP)();(0,i.useEffect)((()=>{"desktop"===e?a.bN.preload():a.p4.preload()}),[e])}},934494:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(995228),r=n(785893);function a({useGraphQLAdapter:e,useLegacyAdapter:t}){const n=({children:t,data:n})=>t({enabled:!0,data:e(n)}),a=({children:e,data:n})=>e({enabled:!1,data:t(n)});return function({children:e,input:t}){const o=t.enabled?(0,r.jsx)(n,{data:t.data,children:e}):(0,r.jsx)(a,{data:t.data,children:e});return t.suspense?(0,r.jsx)(i.Z,{fallback:t.suspense.fallback,children:o}):o}}},959698:(e,t,n)=>{n.d(t,{Nq:()=>o,aK:()=>l,as:()=>a,pl:()=>r});var i=n(6637);const r="GUIDANCE_FETCH_RECOMMENDATION_DATA_START",a="GUIDANCE_FETCH_RECOMMENDATION_DATA_SUCCESS",o="GUIDANCE_FETCH_RECOMMENDATION_DATA_FAILURE";function s(e){return{type:a,payload:{data:e,error:null,isLoading:!1,isLoaded:!0}}}function l(e){const{advertiser_id:t}=e;return async n=>{try{if(n(function(e){return{type:r,payload:{error:null,isLoading:!0,lastCallParams:e}}}(e)),t){const r="/ads/v4/notification_messages/RECOMMENDATIONS/",a=i.Z.create("ApiResource",{url:r,data:{...e,recipient_id:t,recipient_type:"ADVERTISER"}}),o=await a.callGet();n(s(o.resource_response.data))}else n(s([]))}catch(a){n({type:o,payload:{data:[],error:a,isLoading:!1}})}}}},811859:(e,t,n)=>{async function i(e){if("undefined"==typeof TextEncoder)return"";const t=(new TextEncoder).encode(e),n=await window.crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}n.d(t,{Z:()=>i})},538128:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(667294),r=n(854750),a=n(128315),o=n(240684),s=n(100925),l=n(898781),d=n(773285),c=n(785893);const u=o.ZP.lib({resolved:{},chunkName:e=>`locale-${e.locale}-lite-js`.replace(/[^a-zA-Z0-9_!$()=\-^]+/g,"-"),isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:e=>n(727345)(`./${e.locale}/lite.js`),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(e){return n(734521).resolve(`./${e.locale}/lite.js`)}}),p=o.ZP.lib({resolved:{},chunkName:e=>`locale-${e.locale}-mobile-js`.replace(/[^a-zA-Z0-9_!$()=\-^]+/g,"-"),isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:e=>n(435319)(`./${e.locale}/mobile.js`),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(e){return n(290790).resolve(`./${e.locale}/mobile.js`)}}),_=o.ZP.lib({resolved:{},chunkName:e=>`locale-${e.locale}-inlined-js`.replace(/[^a-zA-Z0-9_!$()=\-^]+/g,"-"),isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:e=>n(353576)(`./${e.locale}/inlined.js`),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(e){return n(500016).resolve(`./${e.locale}/inlined.js`)}});function h({children:e,locale:t,localeBundleType:n}){const i=(0,r.Z)(t),a=t.split("-").join("_");let o=p;return i?o=_:"lite"===n&&(o=u),(0,c.jsx)(o,{locale:a,children:e})}function m({children:e,copytuneExperiments:t,enableInContextTranslation:r,locale:o,localeBundleType:u}){const[p,_]=(0,i.useState)(),m=(0,d.F)();return(0,i.useEffect)((()=>{r&&(async()=>{const e=(await n.e(98022).then(n.bind(n,398022))).default;_(new e("webapp"))})()}),[r,u]),(0,c.jsx)(h,{locale:o,localeBundleType:u,children:n=>{const i=(0,s.Z)(o,{...n,copytuneExperiments:t,experimentsClient:m,inContextTranslationWebapp:p});return(0,c.jsx)(l.q6,{value:i,children:(0,c.jsx)(a.Z,{children:e})})}})}},100925:(e,t,n)=>{n.d(t,{Z:()=>w});var i=n(460200);const r="string_usage_logger.exceptions";let a=[],o=null;function s(e){try{n(172071).Z.increment(e)}catch(t){}}function l(){a=[],clearTimeout(o),o=null}function d(){if(!a.length)return;const e=[...a];l();try{const t=3,i=1e3;(()=>{const{default:r}=n(422722);r.logToServer(r.SERVER_LOG_TYPE.STRING_USAGE,r.HTTP_METHOD.POST,e,t,i)})()}catch(t){s(r)}}function c(e){a.push(e),o||(o=setTimeout(d.bind(this),1e4))}function u(e,t,n,a,o,l,d,u=1e-4){setTimeout((()=>{try{if(!function(e){return Math.random()<e}(u))return;const r=i.Z.getTextUnitName(e,n,d,t,!0);c({repository:"webapp",sample_rate:u,content:e,text_unit_name:r,asset_path:"messages.pot",comment:a.trim(),app_locale:t,mojito_locale:t,target:o,translation_status:l,version:"1.0"})}catch(p){s(r)}}),0)}const p="TRANSLATED",_="UNTRANSLATED",h="DELTA",m="i18n.ota_deltas.prod.lookup.hit";function g(e,t,i){n(172071).Z.increment(e,t,i)}function f(e){const t={locale:e,repository:"webapp"};return window.location.hostname.includes("pinterdev.com")?{locale:e,repository:"webapp",hostname:window.location.hostname}:t}const v="NATIVE",y="MT_REQUIRED";function x(e,t,n,r,a,o){const{localeCode:s,getCopytuneTranslation:l,inContextTranslation:d,getDeltaTranslation:c}=e;let x=t;const b=o||void 0===s||"en-US"===s?p:_;if(n=n.replace(/\s+/g," "),"en-US"!==s&&c){const e=c(i.Z.getTextUnitName(n,r,a,s));if(e)return g(m,.001,f(s)),u(n,s,r,"",e,h,a),e}if(l){const e=l(i.Z.getTextUnitName(n,r,a,s));if(e)return u(n,s,r,"",e,p,a),e}return d&&(x=b===p?d.getIctTranslationOrDefault(n,r,a,s,t,v):d.getIctTranslationOrDefault(n,r,a,s,t,y)),u(n,s,r,"",x,b,a),x}function b(e,t,n="",r="",a){const{localeCode:o,i18nStrings:s,getCopytuneTranslation:l,inContextTranslation:d,getDeltaTranslation:c}=e;if(t=t.replace(/\s+/g," "),"en-US"!==o&&c){const e=c(i.Z.getTextUnitName(t,n,a,o));if(e)return g(m,.001,f(o)),u(t,o,n,r,e,h,a),e}if(l){const e=l(i.Z.getTextUnitName(t,n,a,o));if(e)return u(t,o,n,r,e,p,a),e}let x=t,b=void 0===o||"en-US"===o?p:_;return void 0!==o&&"en-US"!==o&&void 0!==s&&void 0!==s[n]&&void 0!==s[n][t]&&(b=p,Array.isArray(s[n][t])?void 0!==a&&(x=s[n][t][a]):x=s[n][t]),d&&(x=b===p?d.getIctTranslationOrDefault(t,n,a,o,x,v):d.getIctTranslationOrDefault(t,n,a,o,x,y)),u(t,o,n,r,x,b,a),x}function w(e,t){var n,i;const{copytuneExperiments:r,experimentsClient:a}=t,o={...t,[e]:{...t[e]||{},i18nStrings:(null===(n=t[e])||void 0===n?void 0:n.i18nStrings)||t.i18nStrings,plural:(null===(i=t[e])||void 0===i?void 0:i.plural)||t.plural}},s={localeCode:e,i18nStrings:o.i18nStrings,pluralFunction:o.locale===e&&o.plural||null,inContextTranslation:o.inContextTranslationWebapp,getCopytuneTranslation:r?e=>{const t=r.translations[e];if(t){const t=r.triggerable[e];t&&(null==a||a.checkExperiment(t))}return t}:null,getDeltaTranslation:r?e=>r.deltas?r.deltas[e]:null:null},l={_:(e,t="",n="",i)=>b(s,e,t,n,i),bt:(e,t,n,i,r)=>x(s,e,t,n,i,r),nbt:(e,t,n,i)=>function(e,t,n,i,r){var a;const{localeCode:o,pluralFunction:s}=e,l=+(s||(e=>1!==e))(n),d="en-US"===o&&1===l?t[1]:t[0];return x(e,null!==(a=t[l])&&void 0!==a?a:t[0],d,i,l,r)}(s,e,t,n,i),ngettext:(e,t,n,i,r)=>function(e,t,n,i,r,a){const{localeCode:o,pluralFunction:s}=e,l=+(s||(e=>1!==e))(i);return b(e,"en-US"===o&&1===l?n:t,r,a,l)}(s,e,t,n,i,r),getLocaleData:()=>o,getPluralFunction:(t=e)=>o[t]&&o[t].plural?o[t].plural:function(e){return 1!==e}},d={defaultErrorMessage:l.bt(",  .  !", "Sorry! Something went wrong on our end!", " - ", undefined, true),asciiPasswordError:l.bt("!      ,    .", "Oops! Your password can only have letters, numbers and basic symbols.", " - ", undefined, true)};return{...l,commonStrings:d}}},166300:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(50286),r=n(883119),a=n(444445),o=n(134879),s=n(785893);const l=({children:e,roundedForLargeDevice:t})=>{const n="phone"!==(0,i.ZP)()&&t;return(0,o.V)()?(0,s.jsx)(r.xu,{marginStart:-a.D6,marginEnd:-a.D6,rounding:n?6:void 0,overflow:n?"hidden":void 0,children:(0,s.jsx)(o.C,{value:!1,children:e})}):e}},539278:(e,t,n)=>{n.d(t,{Di:()=>p,Jl:()=>d,R:()=>c,ZP:()=>f,aU:()=>_,j2:()=>u,pN:()=>h,rL:()=>v,vW:()=>g});var i=n(116303),r=n(499128),a=n(349700),o=n(826067),s=n(883119),l=n(785893);const d=7e3,c="permanent_account_closure",u="account_deletion_email_sent",p="account_deactivated",_="unlink_successful",h="account_switch_to_settings";function m(e,t,n){return(0,l.jsx)(s.xv,{align:n||"center",children:(0,a.nk)(e,{username:(0,l.jsx)(s.xv,{inline:!0,weight:"bold",children:t})})})}function g({i18n:e,message:t,multipleAccounts:n,username:i=""}){switch(t){case c:return e.bt("  . ,   ", "Your account has been deleted. We're sad to see you go", "unauthLoginPage.accountDeletedToast.message", undefined, true);case u:return m(n?e.bt("          {{username}}      ", "An email has been sent with final steps to delete your account, {{username}} and its linked accounts", "accountDeletedEmailToast.message.multipleAccounts", undefined, true):e.bt("{{username}},          ", "An email has been sent with final steps to delete your account, {{username}}", "accountDeletedEmailToast.message.singleAccount", undefined, true),i);case p:return m(n?e.bt(" {{username}}     .", "The account, {{username}}, and its associated linked accounts have been deactivated", "unauthLoginPage.deactivatedToast.message.multipleAccounts", undefined, true):e.bt(" {{username}} .", "The account, {{username}}, has been deactivated", "unauthLoginPage.deactivatedToast.message.singleAccount", undefined, true),i);case _:return m(e.bt("! - .      {{username}}.", "Success! You've unlinked this business account. You are currently in {{username}}.", "authHomeFeedPage.unlinkAccountToast.message", undefined, true),i,"start");case h:return m(e.bt("       {{username}}", "You've switched into and are currently in the account {{username}}", "accountSettings.switchAccountToAccountChanges", undefined, true),i,"start");default:return""}}function f(e,t,n=""){if(!t||!t.search)return"";const i=(0,o.mB)(t.search).message,r=(0,o.mB)(t.search).username||n;return g({i18n:e,message:i,multipleAccounts:"true"===(0,o.mB)(t.search).multiple_accounts,username:r})}function v({showOneToast:e,i18n:t,location:n,history:a,username:s,fullName:c,avatarUrl:u}){if(!n||!n.search)return;const p=f(t,n,s||""),m=(0,o.mB)(n.search).message,g=m===h||m===_;p&&(e((({hideToast:e})=>(0,l.jsx)(r.ZP,{duration:d,onHide:e,text:p,iconThumbnail:g?(0,l.jsx)(i.Z,{name:c||"",src:u||"",size:"md"}):null}))),a.replace(n.hash?`${n.pathname}${n.hash}`:n.pathname))}},627995:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(927104),r=n(898781),a=n(903095),o=n(112690),s=n(883119),l=n(785893);const d=(e,t)=>{let n={};if(e){const{pinData:i,viewData:r}=e;n={unauth_click_pin_id:i.id,unauth_click_pin_image_signature:i.imageSignature},3===t?n={...n,unauth_page_pin_id:r.id,unauth_page_pin_image_signature:r.imageSignature}:5===t&&(n={...n,unauth_page_board_id:r.id})}return n},c=({clickLoggingOptions:e,domain:t,link:n,onClick:c})=>{var u;const p=null===(u=(0,a.lO)())||void 0===u?void 0:u.logging,_=(0,r.ZP)(),h=(0,o.Z)(),m=()=>[{event_type:8948},{event_type:12},{event_type:101,element:0,aux_data:d(e.unauthRankingLoggingData,null==p?void 0:p.viewType)}].map((t=>({component:0,element:162,view_type:null==p?void 0:p.viewType,view_parameter:null==p?void 0:p.viewParameter,aux_data:e.auxData,object_id_str:e.auxData.objectId,...t})));return(0,l.jsx)(s.iP,{onTap:({event:e})=>{e.stopPropagation(),m().forEach((e=>h(e))),c(e)},children:(0,l.jsxs)(s.xu,{marginBottom:4,marginStart:4,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",left:!0,bottom:!0,children:[(0,l.jsx)(s.xu,{marginEnd:1,children:(0,l.jsx)(s.JO,{size:9,icon:"arrow-up-right",color:"light",accessibilityLabel:_.bt("", "Link", "unauth.pin.domain.link", undefined, true)})}),(0,l.jsx)("a",{href:n,onClick:e=>{e.stopPropagation(),m().forEach((e=>h(e))),c(e)},rel:"nofollow noopener noreferrer",target:"_blank",type:"button",children:(0,l.jsx)(s.xv,{size:"200",inline:!0,weight:"bold",lineClamp:1,color:"inverse",children:(0,i.Z)(t,27)})})]})})}},958007:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(992750);const r=e=>(e||"").trim().replace(/\s+/g," "),a=({storyPinDataId:e,pinDescription:t,richMetadataDescription:n,richSummaryDisplayName:a,placeSummaryName:o,closeupDescription:s,closeupUnifiedDescription:l})=>!!e?r(t):r((0,i.eK)({richMetadataDescription:n,richSummaryDisplayName:a,placeSummaryName:o,closeupUnifiedDescription:l}).description)||r(l||"")||r(s)||r(t)||r(n)||""},992750:(e,t,n)=>{n.d(t,{hP:()=>u,fs:()=>l,eK:()=>d,Ly:()=>c,BY:()=>p,bN:()=>_,RC:()=>o,EU:()=>s});const i=/\s\s+/g,r=e=>e.replace(i," ");var a=n(883561);const o=({storyPinDataMetadataPinTitle:e,pinTitle:t})=>e||t,s=(e,t)=>e?e.trim().length>t?(0,a.ZP)(e.trim(),t).trim():e.trim():"",l=({pinTitle:e,gridTitle:t,richSummaryDisplayName:n,richMetadataTitle:i,storyPinDataId:r,storyPinDataMetadataPinTitle:a,placeSummaryName:o})=>{const l=a||e,d=s(t,200);return d||(n||(o||(i||(r&&l?l:null))))},d=e=>{var t,n,i,o;const{richSummaryDisplayName:s,placeSummaryName:l}=e,d=null!==(t=e.pinJoinVisualAnnotation)&&void 0!==t?t:[],c=null!==(n=e.pinJoinAnnotationsWithLinks)&&void 0!==n?n:{},u=null!==(i=e.richMetadataDescription)&&void 0!==i?i:"",p=null!==(o=e.closeupUnifiedDescription)&&void 0!==o?o:"",_=d.map((e=>(c||{})[e]||{name:e,url:""}));let h="";const m=(({richSummaryDisplayName:e,placeSummaryName:t})=>e||t||"")({richSummaryDisplayName:s,placeSummaryName:l}).toLocaleLowerCase().trim(),g=u.toLocaleLowerCase().trim(),f=p.toLocaleLowerCase().trim();return p&&p.length>3&&f!==m?h=p:u&&u.length>3&&g!==m&&(h=u),h&&(h=r((0,a.ZP)(h,496)).trim()),{description:h,annotationsWithLinks:_}},c=({pinTitle:e,gridTitle:t,richSummaryDisplayName:n,richMetadataTitle:i,storyPinDataId:r,storyPinDataMetadataPinTitle:a,placeSummaryName:o,pinJoinVisualAnnotation:s,pinJoinAnnotationsWithLinks:c})=>{const{annotationsWithLinks:u}=d({pinJoinVisualAnnotation:s,pinJoinAnnotationsWithLinks:c}),p=(u||[]).map((e=>e.name)),_=e=>(e||[])[0]||null;return l({pinTitle:e,gridTitle:t,richSummaryDisplayName:n,richMetadataTitle:i,storyPinDataId:r,storyPinDataMetadataPinTitle:a,placeSummaryName:o})||_(s)||_(p)||e},u=(e,t,n,i)=>{var r;let a=(r=e,"string"==typeof r?r:"").trim();return n?(i&&i.trim().length&&(a=i),n.length>0&&(a&&(a+=" "),a+=n.join(", ")),a):i&&i.trim().length?i:a},p=e=>`/pin/${e}/`,_=({pinId:e,seoUrl:t})=>t&&"string"==typeof t?t:p(e)},299295:(e,t,n)=>{n.d(t,{$4:()=>R,$K:()=>A,AQ:()=>V,Bj:()=>f,DB:()=>W,FH:()=>se,FM:()=>J,G9:()=>L,GX:()=>g,Hy:()=>ce,JO:()=>D,Ke:()=>j,LM:()=>r,Lc:()=>_e,Lr:()=>de,MN:()=>y,Mn:()=>Q,NB:()=>te,P0:()=>ne,P9:()=>oe,Pn:()=>x,TK:()=>w,TZ:()=>E,UU:()=>u,Uw:()=>$,VP:()=>pe,W_:()=>le,XB:()=>l,Xy:()=>k,YM:()=>S,aD:()=>he,aj:()=>B,bA:()=>N,bo:()=>d,dS:()=>I,eZ:()=>h,fk:()=>re,g1:()=>ue,gU:()=>c,hH:()=>M,i2:()=>p,iR:()=>U,jh:()=>me,km:()=>_,lx:()=>O,mr:()=>K,mt:()=>G,n_:()=>z,np:()=>H,of:()=>i,qY:()=>T,qm:()=>ae,rc:()=>X,ro:()=>ge,sD:()=>o,sG:()=>m,u1:()=>Y,uR:()=>s,v5:()=>a,v9:()=>q,vk:()=>ee,wj:()=>b,x1:()=>F,yC:()=>v,yI:()=>C,yX:()=>P,yb:()=>Z,zr:()=>ie});const i=880,r=340,a=380,o=510,s=40,l=20,d=4,c=474,u=134,p=96,_=800,h=186,m=40,g=10,f=88,v=183,y=130,x=24,b=400,w=50,S=8,T=8,I=5,P=20,E=13,A=29,k=5,C=20,R=C**2,j=100,D=500,O=500,N=40,L=100,U=5,F=["attempted","publishing","succeeded","uploading"],M={carousel:[{w:2,h:3},{w:3,h:4},{w:1,h:1}],single:[{w:2,h:3},{w:3,h:4},{w:1,h:1}],story:[{w:9,h:16}],storyFARPortrait:[{w:1,h:2},{w:9,h:16},{w:2,h:3},{w:3,h:4},{w:4,h:5},{w:1,h:1}],storyFARLandscape:[{w:2,h:1},{w:16,h:9},{w:3,h:2},{w:4,h:3},{w:5,h:4},{w:1,h:1}]},z=["tl","tc","tr","bl","bc","br"],B=["left","center"],Z=["top","center","bottom"],H=["none","uppercase"],G=["sm","md","lg"],V=[1,.75],W=198,K=132,q=1,Y=56,$=240,X="cubic-bezier(0.66, 0.025, 0.33, 0.975)",J=1e3,Q=1500,ee=2,te=3,ne=20,ie=20,re=2,ae=["processing","publishing","saving"],oe=60.5,se=120.5,le=1,de=104857600,ce=2500,ue=3,pe=5e3,_e="pin-builder-default-education-id",he="pin-builder-default-tour-id",me="pin-builder-editing-tour-id",ge="save_from_url"},283943:(e,t,n)=>{n.d(t,{aU:()=>s,hq:()=>o,o_:()=>r});var i=n(425288);const{Provider:r,useHook:a}=(0,i.Z)("AuthenticationContext");function o(){return a().loginContext}function s(){return a().logout}},524172:(e,t,n)=>{n.d(t,{M:()=>_,Z:()=>h});var i=n(667294),r=n(914772),a=n(366284),o=n(773285),s=n(50286),l=n(780280),d=n(425288),c=n(83969),u=n(785893);const{Provider:p,useMaybeHook:_}=(0,d.Z)("GoogleSignInApi");function h({children:e}){const t=(()=>{const e=(0,s.HG)(),{checkExperiment:t}=(0,o.F)();return t(e?"web_google_disabled":"mweb_google_disabled").anyEnabled})(),n=(()=>{const{userAgent:e}=(0,l.B)(),{browserName:t,platform:n}=e,i=null!=t?t:"";return(0,a.G6)(i)||"ios"===n})(),d=(0,i.useRef)(null),_=(0,i.useRef)(new Set),h=(0,i.useRef)(new Set),m=(0,i.useRef)(null),g=(0,i.useRef)(!1),f=(0,i.useCallback)((()=>{if(g.current)return;g.current=!0;let e=!1;const t=()=>{const t=(0,c.Fm)();t&&(e||(e=!0,(0,r.Z)({type:"loadScript",status:"success"}),(0,r.Z)({type:"apiClient",valid:!!t}),m.current=t,(0,c.OY)({autoSelect:!0,itpSupport:n},(e=>{if((0,r.Z)({type:"response",valid:!!e}),!e)return;if("SIGN_IN_WITH_GOOGLE_BUTTON"===(0,c.PL)(e.select_by)){const t=Array.from(_.current),n=t[t.length-1],i=d.current;n?n(e):i&&i(e)}else{var t;null===(t=d.current)||void 0===t||t.call(d,e)}})),h.current.forEach((e=>{e()})),h.current.clear()))};window.onGoogleLibraryLoad=()=>t(),(0,r.Z)({type:"loadScript",status:"start"}),(0,c.Px)().then((()=>{t()})).catch((()=>{}))}),[n]);(0,i.useEffect)((()=>{t?(_.current.clear(),h.current.clear()):f()}),[t,f]);const v=(0,i.useRef)({ensureInit:(e,t)=>(f(),"button"===e?_.current.add(t):d.current=t,new Promise((e=>{!!m.current?e():h.current.add(e)}))),removeButtonCallback:e=>{_.current.delete(e)}});return(0,u.jsx)(p,{value:v.current,children:e})}},7893:(e,t,n)=>{n.d(t,{Kw:()=>s,RD:()=>l,dD:()=>c});var i=n(6637),r=n(189734),a=n.n(r),o=n(884732);const s=async()=>{var e,t;return(null===(e=(await i.Z.create("UserSessionResource",{session_accounts:!0}).callCreate()).resource_response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.session_accounts)||{}},l=(e,t)=>{let n=Object.freeze({});try{n=(0,o.rl)()}catch(a){e(`${t}.removeAccountDataFromLocalStorage.jsonParseFailed`)}const i=Object.keys(n);if(e(`${t}.removeAccountDataFromLocalStorage.start`),0===i.length||n[i[0]].logged_in)return void e(`${t}.removeAccountDataFromLocalStorage.early_return`);const r=i.reduce(((e,t)=>({...e,[t]:{logged_in:!0}})),Object.freeze({}));(0,o.r8)(r),e(`${t}.removeAccountDataFromLocalStorage.updated`)};const d=e=>{var t,n,i,r;return{id:e.id,username:e.username,email:e.email,fullName:e.full_name,imageMediumUrl:e.image_medium_url,imageLargeUrl:e.image_large_url||"",owners:e.owners||null,partner:e.partner?{bizContactEmail:(null===(t=e.partner)||void 0===t?void 0:t.contact_email)||"",bizOwnershipEmail:(null===(n=e.partner)||void 0===n?void 0:n.biz_ownership_email)||e.email||"",businessName:null===(i=e.partner)||void 0===i?void 0:i.business_name,isLinkedBusiness:null===(r=e.partner)||void 0===r?void 0:r.is_linked_business}:null,businesses:((null==e?void 0:e.businesses)||[]).map((t=>{var n,i,r,a;return{...d(t),partner:{bizContactEmail:(null===(n=t.partner)||void 0===n?void 0:n.contact_email)||"",bizOwnershipEmail:(null===(i=t.partner)||void 0===i?void 0:i.biz_ownership_email)||e.email||"",businessName:null===(r=t.partner)||void 0===r?void 0:r.business_name,isLinkedBusiness:null===(a=t.partner)||void 0===a?void 0:a.is_linked_business}}}))}},c=async e=>{var t;const n=await s(),r=e.id;n[r]||(n[r]={logged_in:!0});const o=Object.keys(n||{}),l=i.Z.create("MultiUserResource",{ids:o,fieldSetKey:"linked_partner"}),c=null===(t=(await l.callGet()).resource_response)||void 0===t?void 0:t.data;if(c&&Object.keys(c).length>0){return function(e){const t=e.every((e=>Boolean(e.fullName)));return a()(e,[t?"fullName":"username"])}(Object.keys(c).filter((e=>"success"===c[e].status)).map((e=>d(c[e].data))))}return[]}},807998:(e,t,n)=>{n.d(t,{Z:()=>i});const i=["https://www.pinterest.info","https://www.pinterest.at","https://www.pinterest.com.au","https://www.pinterest.ca","https://www.pinterest.ch","https://www.pinterest.cl","https://www.pinterest.de","https://www.pinterest.dk","https://www.pinterest.es","https://www.pinterest.fr","https://www.pinterest.co.uk","https://www.pinterest.ie","https://www.pinterest.it","https://www.pinterest.jp","https://www.pinterest.co.kr","https://www.pinterest.com.mx","https://www.pinterest.nz","https://www.pinterest.se","https://www.pinterest.ph","https://www.pinterest.pt","https://www.pinterest.ru"]},467570:(e,t,n)=>{n.d(t,{$:()=>d,GH:()=>l,JF:()=>g,Jb:()=>_,MI:()=>m,sl:()=>u,we:()=>p});var i=n(935879),r=n(713930),a=n(816068),o=n(6637),s=n(867820);const l="274266067164",d=["public_profile","email","user_birthday","user_friends"],c=["picture.type(large)","id","first_name","last_name","email","gender","birthday"],u=e=>{e&&(0,s.dy)({event:"load_script_success",provider:"facebook"}),"undefined"!=typeof window&&window.FB?(e&&(0,s.dy)({event:"initialize_library",provider:"facebook"}),window.FB.init({appId:l,status:!0,xfbml:!0,version:"v2.7"})):e&&(0,s.dy)({event:"global_object_not_found",provider:"facebook"})},p=(e,t)=>{t&&(0,s.dy)({event:"load_script_start",provider:"facebook"});return(0,r.Z)((0,i.Z)(e),"FACEBOOK").then((()=>u(t)))},_=()=>new Promise((e=>{"undefined"!=typeof window&&window.FB&&window.FB.getLoginStatus(e)})),h=({userID:e,accessToken:t,data:{birthday:n,email:i,first_name:r,gender:o,last_name:s,picture:l}})=>({type:"facebook",facebook_id:e,facebook_token:t,birthday:n?(0,a.Z)(n):void 0,email:i,first_name:r,gender:o,image_url:l&&!l.data.is_silhouette?l.data.url:void 0,last_name:s});async function m(e){var t;const n=(null===(t=(await o.Z.create("ApiResource",{url:"/v3/facebook/profile_data/",data:{access_token:e,pii_safe_birthday:!0,fields:c.join(",")}}).callCreate()).resource_response)||void 0===t?void 0:t.data)||{};return{access_token:e,birthday:n.birthday,email:n.email,first_name:n.first_name,gender:n.gender,id:n.id,last_name:n.last_name,picture:n.picture}}const g=()=>new Promise((e=>{window.FB.login(e,{scope:d.join(",")})})).then((e=>((e,t)=>new Promise(((n,i)=>{if("connected"!==e.status)return void i({status:e.status||"unknown"});const{userID:r,accessToken:a}=e.authResponse;m(a).then((e=>{n({creds:{facebook_id:r,facebook_token:a,facebook_autologin:(null==t?void 0:t.autologin)||!1},signupOptions:h({userID:r,accessToken:a,data:e})})}),i)})))(e)))},290148:(e,t,n)=>{n.d(t,{Ny:()=>u,ZP:()=>_,eD:()=>m,lp:()=>h});var i=n(794230),r=n(704115),a=n(78714),o=n(957161),s=n(432300),l=n(966113),d=n(696157),c=n(867820);const u=Object.freeze({SOFT_BANNED:0,RATE_LIMITED:1,LOGIN_ASSISTANCE:2,PASSWORD_RESET_SENT:3,PREVENT_FACEBOOK_REGISTER:4,PREVENT_GOOGLE_REGISTER:5,SUSPENDED:6});class p{static defaultLoginRedirectUrl(){return window.location.pathname===l.lf||window.location.pathname===l.ZE||window.location.pathname.startsWith(l.rO)?"/":window.location.pathname+window.location.search}static defaultSocialLoginRedirectUrl(){return window.location.pathname.startsWith(l.rO)?"/":window.location.pathname}static isExceedRecaptchaLocalLimit(){const e=o.Z.getItem(d.kl);if(e&&e.indexOf("|")>-1){const t=e.split("|");return 3===t.length&&(new Date).getTime()/1e3-parseInt(t[0],10)<=3600}return!1}static updateRecaptchaTimeStamp(){const e=o.Z.getItem(d.kl);let t=[];e&&(t=e.split("|"),3===t.length&&t.shift());const n=((new Date).getTime()/1e3).toString();t.push(n);const i=t.join("|");o.Z.setItem(d.kl,i)}static isFullyLoggedIn(e,t){return e&&t===s.Z.DEFAULT}static handleRedirect(e){if(!e){e="/";const t=(0,r.Z)();if(t){const n=t.next;n&&(e=n,delete t.next),e=(0,i.Z)(e,t)}}(0,a.Z)(e)}static handleRedirectWithFallbackWindowLocation(){this.handleRedirect(this.defaultLoginRedirectUrl())}static handleSignupRedirect(e,t){o.Z.setItem(d.F6,Date.now()),!t&&e&&"/"!==e?p.handleRedirect(e):p.handleRedirect("/")}static storeLoginCredentialsToBrowser(e){const t=window.navigator.credentials;if(t&&e.username_or_email)try{const n=new window.PasswordCredential({id:e.username_or_email,password:e.password});t.store(n).then((()=>{(0,c.My)("navigatorCredentials.store.success")}))}catch(n){(0,c.My)("navigatorCredentials.store.error")}}static handleLoginMfa(e,t,n){(0,c.My)("multi_step_login"),p.storeLoginCredentialsToBrowser(e),n?n(e,t):(0,c.My)("unauth.login.error.CLIENT_ERROR.null_mfa_handler")}}const _=p;function h(e){return e.facebook_id?"facebook":e.google_open_id_token?"google_one_tap":e.line_id_token?"line":e.username_or_email?"email":"other"}function m(e){return e.mfa_token?"mfa_token":e.mfa_resend?"mfa_resend":h(e)}},884732:(e,t,n)=>{n.d(t,{M3:()=>d,PE:()=>o,Q:()=>c,lv:()=>s,r8:()=>a,rl:()=>r,yW:()=>l});var i=n(844974);const r=()=>{try{const e=(0,i.qn)("MULTIPLE_ACCOUNTS");return e?JSON.parse(e):Object.freeze({})}catch(e){return Object.freeze({})}},a=e=>(0,i.Nh)("MULTIPLE_ACCOUNTS",JSON.stringify(e)),o=()=>!!(0,i.qn)("MULTIPLE_ACCOUNTS"),s=()=>Object.keys(r()).length,l=()=>{try{const e=(0,i.qn)("MULTIPLE_ACCOUNTS_GROUP");return e?JSON.parse(e):null}catch(e){return null}},d=e=>(0,i.Nh)("MULTIPLE_ACCOUNTS_GROUP",JSON.stringify(e)),c=()=>({multipleAccountMap:r(),multipleAccountGroupId:l()})},45169:(e,t,n)=>{n.d(t,{E_:()=>l,Eh:()=>a,du:()=>s,yV:()=>o});var i=n(109322),r=n(116485);const a=(e,t)=>"DEPRECATED_CHECK_EXISTS"===t?("facebook_id"in e?"facebook":"google_open_id_token"in e&&"google")||"line_id_token"in e&&"line"||"email":"DEPRECATED_CHECK_TRUTHY"===t?e.facebook_id?"facebook":e.google_open_id_token?"google":e.line_id_token?"line":"email":e.type,o=e=>{const t=a(e,"DEPRECATED_CHECK_TRUTHY");return"google"===t?"google_one_tap":t},s=e=>r.rT.includes(e)||r.ZR.has(e)||((e="")=>e in i.i5)(e),l={GOOGLE:"g",FACEBOOK:"fb",PINTEREST:"p",APPLE:"apl",LINE:"ln",UNKNOWN:"unk"}},914772:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(701563),r=n(867820);const a=e=>(0,r.dy)({event:e,provider:"google"}),o=e=>(0,i.RP)("google_autologin",e),s=e=>(0,i.M3)("google_autologin",e),l=e=>{switch(e.type){case"loadScript":"start"===e.status?(a("start"),a("load_script_start"),s("autoLoginGoogleStart")):"success"===e.status?a("load_script_success"):a("load_script_failure");break;case"apiClient":e.valid?(a("initialize_library"),s("autoLoginGoogleInitEnd")):(o("noAccountFound"),a("global_object_not_found"));break;case"response":e.valid?a("receive_credential_response_from_provider"):o("noResponse");break;case"autologin":"start"===e.status?(a("pinterest_login_start"),(0,r.NC)("press_google_one_tap_other"),(0,i.M3)("google_autologin","autoLoginGoogleEnd"),(0,i.PA)("google_autologin")):"success"===e.status?(a("pinterest_login_success"),a("end")):(a("pinterest_login_failure"),a("end"));break;case"manualLoginAttempt":(0,r.NC)(e.fromConnectButton?"press_google_one_tap_button":"press_google_one_tap"),(0,i.PA)("google_autologin")}}},23799:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(466225);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(479218),o=n(6637);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends class{constructor(e={},t={},n=!1){r(this,"useBatching",!1),r(this,"flush",(()=>{})),r(this,"_markExperimentAsActivated",(e=>{})),r(this,"checkExperiment",((e,t)=>{var n;null!=t&&t.dangerouslySkipActivation||this._markExperimentAsActivated(e);const r=(null!==(n=this.active[e])&&void 0!==n?n:this.triggerable[e])||"";return{anyEnabled:(0,i.Z)(r),group:r}})),this.active=e,this.triggerable=t,this.useBatching=n}}{constructor(...e){super(...e),s(this,"_markExperimentAsActivated",(e=>{let t=this.active[e];if(void 0===t&&(t=this.triggerable[e],void 0!==t)){this.active[e]=t;const n={experiment_name:e,...t?{experiment_group:t}:Object.freeze({})};this.useBatching?(this._queuedResource||(this._queuedResource=new a.Z("ActivateExperimentResource",(e=>({experiments:e})))),this._queuedResource.enqueue(n)):o.Z.create("ActivateExperimentResource",n).callCreate({showError:!1})}})),s(this,"flush",(()=>{this._queuedResource&&this._queuedResource.flush()}))}}},125203:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n(23799).Z},466225:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>e.startsWith("enabled")||e.startsWith("employee")},383690:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294),r=n(773285);const a=()=>{const e=(0,r.F)();return(0,i.useCallback)((()=>{e.flush()}),[e])}},460200:(e,t,n)=>{n.d(t,{Z:()=>i});const i=new class{getTextUnitName(e,t,n,i,r=!1){let a=e;return t&&(r&&(t=t.replace(/"/g,'\\"')),a=a+" --- "+t),null!==n&&n>=0&&(a=a+" _"+this.poPluralFormToCLDRForm(n,i)),a}poPluralFormToCLDRForm(e,t){return({"cs-CZ":{0:"one",1:"few",2:"other"},"ja-JP":{0:"other"},"ko-KR":{0:"other"},"pl-PL":{0:"one",1:"few",2:"many"},"ro-RO":{0:"one",1:"few",2:"other"},"ru-RU":{0:"one",1:"few",2:"many"},"sk-SK":{0:"one",1:"few",2:"other"},"uk-UA":{0:"one",1:"few",2:"many"},"vi-VN":{0:"other"},"id-ID":{0:"other"},"th-TH":{0:"other"},"ms-MY":{0:"other"},"zh-CN":{0:"other"},"zh-TW":{0:"other"},"he-IL":{0:"one",1:"two",2:"many",3:"other"},"ar-SA":{0:"zero",1:"one",2:"two",3:"few",4:"many",5:"other"},"hr-HR":{0:"one",1:"few",2:"other"}}[t]||{0:"one",1:"other"})[e]||"other"}}},767989:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(172071);const r=()=>{!function(e){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))};const e=window.pintrk;e.queue=[],e.version="3.0";const t=document.createElement("script");t.async=!0,t.src="https://s.pinimg.com/ct/core.js";const n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}}();let e=Object.freeze({});try{e={timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,timezoneOffset:(new Date).getTimezoneOffset(),availWidth:window.screen.availWidth,availHeight:window.screen.availHeight,language:window.navigator.language,languages:window.navigator.languages,colorDepth:window.screen.colorDepth,pixelDepth:window.screen.pixelDepth,navigationStart:window.performance.timing.navigationStart},void 0!==window.navigator.deviceMemory&&(e={...e,deviceMemory:window.navigator.deviceMemory});const t=window.performance.getEntries().filter((e=>new RegExp("^http(.*?)/static/sterling/advertiser/(.*?).css$","g").test(e.name)));t.length>0&&(e={...e,duration:t[0].duration})}catch(t){}window.pintrk("load","2613397633248",e),(async()=>{const r=await async function(){try{var e,r,a;const t=n(565936).ZP,i=await t.load(),o=(await i.get()).components;let s=Object.freeze({});return void 0!==(null===(e=o.colorGamut)||void 0===e?void 0:e.value)&&(s={...s,colorGamut:o.colorGamut.value}),void 0!==(null===(r=o.fonts)||void 0===r?void 0:r.value)&&(s={...s,fonts:o.fonts.value}),void 0!==(null===(a=o.hdr)||void 0===a?void 0:a.value)&&(s={...s,hdr:o.hdr.value}),s}catch(t){return i.Z.increment("pinterest_tag.get_fingerprint.error",1,{error:t.message}),Object.freeze({})}}();e={...e,...r},window.pintrk("set",e),window.pintrk("page")})()}},247756:(e,t,n)=>{function i(e){const t=document.createElement("iframe");for(const n in e)t.setAttribute(n,e[n]);return t}n.d(t,{Z:()=>i})},330102:(e,t,n)=>{n.d(t,{Dq:()=>h,JB:()=>U,LG:()=>A,OJ:()=>I,PN:()=>R,TF:()=>E,VL:()=>C,YJ:()=>j,dO:()=>N,ko:()=>L,qs:()=>P,xA:()=>m});var i=n(411938),r=n(172071),a=n(549872),o=n(887432),s=n(517490),l=n(675149),d=n(161164),c=n(844974),u=n(3223);const p="dpm_pixel_login_event",_="dpm_pixel_new_user_event",h="dpm_pixel_rez_user_event",m="dpm_engaged_session_event",g="dentsu_pixel_login_event",f="dentsu_pixel_new_user_event",v="web_login",y="web_new_user",x={dpm_pixel_login_event:v,dentsu_pixel_login_event:v,dpm_pixel_new_user_event:y,dentsu_pixel_new_user_event:y,dpm_pixel_rez_user_event:"web_resurrections",dpm_engaged_session_event:"engaged_session"},b={NewUsers:{Admo:{Mobile:l.J3,Desktop:l.Y7},Flashtalking:{Mobile:"flashtalking-m-reg",Desktop:"flashtalking-d-reg"},Dentsu:{Mobile:f,Desktop:f},DPM:{Mobile:_,Desktop:_}},Logins:{Admo:{Mobile:l.gC,Desktop:l.bJ},Flashtalking:{Mobile:"flashtalking-m-login",Desktop:"flashtalking-d-login"},Dentsu:{Mobile:g,Desktop:g},DPM:{Mobile:p,Desktop:p}}},w={dpm:[p,_,h],dentsu:[g,f]},S=s.g;function T(e,t,n){r.Z.increment(`${e}_tracking_pixel`,1,{event_category:t,event_name:"All"}),"All"!==n&&r.Z.increment(`${e}_tracking_pixel`,1,{event_category:t,event_name:n})}const I=()=>(1e6*Math.random()).toString(),P="pbm_shopping_bespoke",E=(e,t)=>{const n=e=>e.split("").map((e=>e.charCodeAt(0)));return t.split("").map(n).map((t=>n(e).reduce(((e,t)=>e^t),t))).map((e=>("0"+Number(e).toString(16)).substr(-2))).join("")},A=(e,t)=>{const n=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),i=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.floor((i-n)/864e5)};function k(e,t,n){const i=document.createElement("img"),{dpmUserIdString:r,dentsuUserIdString:s}=n;let l="";return r?l=(0,o.C)({origin:S,pixelEvent:t,userIdString:r}):s&&(l=(0,a.vF)(s,t)),i.height=1,i.width=1,i.style.display="none",i.id=e,i.src=l,i}function C(e,t,n,i,r,a="",o,s){const l=document.getElementById(t),d=document.getElementById(n);async function u(e,t,n,i,r,a,o){const l=document.getElementById(i)?document.getElementById(i):document.createElement("div"),d=document.createElement("img");d.height=1,d.width=1,d.style.display="none",d.id=t,d.src=r,l&&(l.id=i,l.appendChild(d));for(const s of w[o]){let e=(0,c.qn)(s);if(e){const t={dentsuUserIdString:"",dpmUserIdString:""};t["dentsu"===o?"dentsuUserIdString":"dpmUserIdString"]=a,e=e.split("#");const[n,i,r]=e,d=k(s,n,t);l&&(l.appendChild(d),T(o,i,r)),(0,c.L_)(s)}}var u;l&&(null===(u=document.body)||void 0===u||u.insertBefore(l,document.body.firstChild),s())}l||(d&&d.remove(),"complete"===document.readyState&&u(0,t,0,i,r,a,o),window.addEventListener("load",function e(t,n,i,r,a,o,s){return t=>{u(0,n,0,r,a,o,s),window.removeEventListener(t,e)}}(0,t,0,i,r,a,o)))}function R(e,t,n,i,r){function a(e,t,n,i){const a=document.getElementById(n)?document.getElementById(n):document.createElement("div"),o=document.createElement("img");var s;(o.height=1,o.width=1,o.style.display="none",o.id=t,o.src=i,a)&&(a.id=n,a.appendChild(o),null===(s=document.body)||void 0===s||s.insertBefore(a,document.body.firstChild),r())}document.getElementById(t)||("complete"===document.readyState&&a(0,t,n,i),window.addEventListener("load",function e(t,n,i,r){return t=>{a(0,n,i,r),window.removeEventListener(t,e)}}(0,t,n,i)))}function j(e,t,n,i="",r,a){if(document.getElementById(e))return;const s=x[e],l=(0,o.C)({origin:S,pixelEvent:s,userIdString:i});async function d(e,t,n){const i=document.getElementById(t)?document.getElementById(t):document.createElement("div"),r=document.createElement("img");if(r.height=1,r.width=1,r.style.display="none",r.id=e,r.src=n,i&&(i.id=t,i.appendChild(r)),i){var o;if(!document.getElementById(t))null===(o=document.body)||void 0===o||o.insertBefore(i,document.body.firstChild);a()}}"complete"===document.readyState&&d(e,n,l),window.addEventListener("load",function e(t,n,i){return r=>{d(t,n,i),window.removeEventListener(r,e)}}(e,n,l))}function D(e){const{pixelId:t,divId:n,url:i,eventCategory:r,eventName:a,onSendPixelSuccess:o}=e,s=x[t];if(s)(0,c.Nh)(t,`${s}#${r}#${a}`);else if("web_billing_complete"===t&&i){const e=document.getElementById(n)?document.getElementById(n):document.createElement("div"),t=document.createElement("img");var l;if(t.height=1,t.width=1,t.style.display="none",t.id="web_billing_complete",t.src=i,!document.getElementById(n))if(e)e.id=n,e.appendChild(t),null===(l=document.body)||void 0===l||l.insertBefore(e,document.body.firstChild),o&&o()}}function O(e,t,n,i,r,a){return o=>{D({pixelId:e,divId:t,url:n,eventCategory:i,eventName:r,onSendPixelSuccess:a}),window.removeEventListener(o,O)}}function N(e){const{pixelId:t,divId:n,url:i,eventCategory:r,eventName:a,onSendPixelSuccess:o}=e;"complete"===document.readyState?D({pixelId:t,divId:n,url:i,eventCategory:r,eventName:a,onSendPixelSuccess:o}):window.addEventListener("load",O(t,n,i,r,a,o))}const L=({eventCategory:e,deviceType:t,country:n,countryFromHostName:i,countryFromIp:r,regionFromIp:a})=>{!("undefined"==typeof window||!window.navigator||!window.navigator.globalPrivacyControl)&&window.navigator.globalPrivacyControl||((0,u.c_)({country:n,countryFromHostName:i,countryFromIp:r})&&(0,d.yP)({id:b[e].Admo[t],eventCategory:e,eventName:t}),(0,u.$r)({country:n,countryFromHostName:i,countryFromIp:r,regionFromIp:a})&&(0,d.jw)({id:b[e].Flashtalking[t],eventCategory:e,eventName:t}),(0,u.NR)(n,a)&&(0,d.EN)({pixelId:b[e].DPM[t],eventCategory:e,eventName:t}),(0,u.Fc)({country:n,countryFromHostName:i,countryFromIp:r})&&(0,d.Be)({pixelId:b[e].Dentsu[t],eventCategory:e,eventName:t}))};function U(e,t,n,r,a,o){(0,u.c_)({country:e,countryFromHostName:t,countryFromIp:n})&&((0,i.Z)(a,null,28)&&(0,d.X)({id:l.ay,eventName:"Mobile",eventCategory:"RezLogins"}),(0,d.yP)({id:l.me,eventCategory:"Logins",eventName:"LoggedInViews"}),(0,d.X)({id:l.Un,eventName:"Mobile"})),(0,u.$r)({country:e,countryFromHostName:t,countryFromIp:n,regionFromIp:r})&&(0,d.Kv)({id:"flashtalking-m-ses",eventName:"Mobile"}),(0,u.NR)(e,r)&&o&&a&&a.id&&((0,i.Z)(a,null,28)&&(0,d.EN)({pixelId:h,eventCategory:"RezLogins",eventName:"Mobile"}),(0,d.fh)({unauthId:o,userId:a.id}),(0,d.zW)({id:m,unauthId:o,userId:a.id,eventCategory:"EngagedSessions",eventName:"Mobile"})),(0,u.Fc)({country:e,countryFromHostName:t,countryFromIp:n})&&o&&a&&a.id&&(0,d.Xn)({unauthId:o,userId:a.id})}},3223:(e,t,n)=>{n.d(t,{$r:()=>i,Fc:()=>a,HX:()=>s,NR:()=>r,c_:()=>o,ew:()=>l});function i(e){return!1}function r(e,t,n){return!1}function a(e){return!1}function o(e){return!1}function s(e){return!1}function l(e){return!1}},421781:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(635240),r=n(50286);function a({requestContext:e,traceLoggerData:t}){return{appVersion:(0,i.Z)(),browserName:e.userAgent.browserName,browserVersion:e.userAgent.browserVersion,deviceType:(0,r.Mq)(e),getExperimentGroup:t=>e.experimentsClient.checkExperiment(t,{dangerouslySkipActivation:!0}).group||null,isAppShell:!1,isAuthenticated:e.isAuthenticated,isCachedRender:!1,isBot:e.isBot,isSocialBot:e.isSocialBot,locale:e.locale,osName:e.userAgent.osName||"",serverData:t,stageName:e.stage}}},701563:(e,t,n)=>{n.d(t,{M3:()=>m,PA:()=>g,RP:()=>h,gq:()=>p});var i=n(729524),r=n(991067),a=n(543059),o=n(358864),s=n(558775),l=n(985271),d=n(638089),c=n(790348);const u={},p=(e,t)=>{t.forEach((t=>{u[t]=(({name:e,pwtStaticContext:t})=>{if(!l.Z||!(0,r.Z)())return null;const n={type:"stopwatch",name:e},a=[];let c=!0;return{abort:e=>{c&&(c=!1,(0,s.Z)({metricId:n,pwtStaticContext:t,result:{type:"ABORT",reason:e}}))},annotate:e=>{c&&a.push({label:e,timestamp:l.Z.now()})},stop:()=>{if(!c)return;c=!1;const e={type:"COMPLETE",traceId:(0,o.Z)(),startTime:0,endTime:l.Z.now(),spans:[],annotationMap:(0,i.Z)(a),binaryAnnotationMap:(0,d.ng)({metricId:n,pwtStaticContext:t})};(0,s.Z)({metricId:n,pwtStaticContext:t,result:e})}}})({name:t,pwtStaticContext:e})}))},_=e=>u[e],h=(e,t)=>{const n=_(e);if(n)try{n.abort(t)}catch(i){(0,c.H)("app_load_stopwatch_error",{name:e,result:"abort"})}},m=(e,t)=>{const n=_(e);n&&(n.annotate(t),(0,a.ZP)(`stopwatch_${e}_${t}`))},g=e=>{const t=_(e);if(t)try{t.stop()}catch(n){(0,c.H)("app_load_stopwatch_error",{name:e,result:"complete"})}}},129291:(e,t,n)=>{n.d(t,{MH:()=>l,ad:()=>s,iN:()=>d});var i=n(7789),r=n(584992);const{Provider:a,useHook:o}=(0,r.Z)({name:"board_picker",sampleRate:i.DQ?1:.1}),s=(e,t)=>{let n="unknown";null!=t&&t.includes("pin/")?n="PinCloseup":"/"===t?n="HomeFeed":"PinBookMarklet"===t&&(n="PinBookmarklet"),null==e||e.addBinaryAnnotation("source",n,"STRING")},l=a,d=o},874103:(e,t,n)=>{n.d(t,{OA:()=>c,f$:()=>h,rY:()=>l,sk:()=>m,wQ:()=>u,xW:()=>p,yc:()=>d,ys:()=>_});var i=n(172071);const r="onloadRecaptchaJsCallback",a="6Ldx7ZkUAAAAAF3SZ05DRL2Kdh911tCa3qFP0-0r",o="recaptcha-enterprise-src",s=(e,t,n)=>{i.Z.increment("recaptcha_v3.request_token.attempt",.1,{action:n}),void 0===window.grecaptcha||void 0===window.grecaptcha.enterprise?(t(new Error("Error loading reCAPTCHA Enterprise")),i.Z.increment("recaptcha_v3.request_token.js_loading_error",.1,{action:n})):window.grecaptcha.enterprise.ready((()=>{try{window.grecaptcha.enterprise.execute(a,{action:n}).then(e).catch(t)}catch(r){i.Z.increment("recaptcha_v3.request_token.exec_error",.1,{action:n}),t(r)}}))},l=(e,t,n)=>{if(window[r]=function(){return s(e,t,n)},document.getElementById(o))s(e,t,n);else{const e=document.createElement("script");e.id=o,e.src=`https://www.recaptcha.net/recaptcha/enterprise.js?onload=${r}&render=${a}`;const t=document.getElementsByTagName("script")[0];t.parentNode&&t.parentNode.insertBefore(e,t)}},d=105e3,c=8e3,u="mweb_auth",p="mweb_login",_="mweb_signup",h="web_auth",m="web_unauth"},952712:(e,t,n)=>{n.d(t,{H:()=>s});var i=n(844753);var r=n(395164);const a=new class{constructor(e){this.table={},this.interval=e,this.lastCallTime=Date.now()}_garbageCollectEntries(){Date.now()-this.lastCallTime>this.interval&&(this.table={})}_generateHash(e){const t=Object.keys(e).sort(),n=[];return t.forEach((t=>{if(e[t]){let r=(0,i.Z)(e[t])?JSON.stringify(e[t]):e[t]+"";r=t+":"+r,n.push(r)}})),n.join("")}getTableKey(e){return e.auxData?this._generateHash({message:e.errorObj.message,...e.auxData}):e.errorObj.message?e.errorObj.message:""}isWithinRateLimit(e){this._garbageCollectEntries();const t=Date.now();this.lastCallTime=t;const n=this.getTableKey(e);return this.table[n]&&t-this.table[n]<this.interval||(this.table[n]=t,!1)}}(5e3),o={};o._reportToConsole=(e,t={})=>{if(console&&console.error){const{name:n="",message:i="No message available",stack:r="No stack trace available"}=e,a=`Name: ${n}\nMessage: ${i}\n----------\nStack: \n${r}\n`;console.error(a,t)}},o._reportToServer=(e,t)=>{const n={errorObj:e};t&&(n.auxData=t),a.isWithinRateLimit(n)||(0,r.T)({...e,message_detail:t?JSON.stringify(t):""})};const s=(e,t)=>{const{columnNumber:n="",fileName:i="",lineNumber:r="",message:a="",original_message:s="",name:l="",stack:d="",stack_trace:c="",moduleName:u="",location:p=""}=e,_={columnNumber:n,fileName:i,lineNumber:r,message:s||a,name:l,stack:d||c,moduleName:u,location:p};o._reportToConsole(_,t),function(e){const t=e.http_status||e.httpStatus||e.status;if(404===t||500===t)return!1;const n=e.stack||e.stack_trace;return!(n&&-1!==n.indexOf("global code")||e.message&&("Connectivity error or cancelled by navigation"===e.message||e.message.includes("count mfss fcw")||e.message.includes("evaluating 'elem.classList'")))}(e)&&o._reportToServer(_,t)};o.report=s},813171:(e,t,n)=>{n.d(t,{Z:()=>i});class i extends Error{constructor(...e){var t,n,i;super(...e),i="ServerResourceError",(n="name")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}static fromPlainObject(e,t){const n=new i;return e.message&&(n.message=e.message),e.message_detail&&(n.message_detail=e.message_detail),e.original_message&&(n.original_message=e.original_message),e.code&&(n.code=e.code),e.http_status&&(n.http_status=e.http_status),e.api_error_code&&(n.api_error_code=e.api_error_code),e.stack_trace&&(n.stack_trace=e.stack_trace),e.extra_data&&(n.extra_data=e.extra_data),e.request_identifier&&(n.request_identifier=e.request_identifier),t&&(n.data=t),n}toString(){return"["+this.name+"] "+JSON.stringify({name:this.name,code:this.code,http_status:this.http_status,api_error_code:this.api_error_code,stack_trace:this.stack_trace,extra_data:this.extra_data,request_identifier:this.request_identifier})}}},387246:(e,t,n)=>{n.d(t,{Z:()=>r});const i=["bookmark","code","data","endpoint_name","error","http_status","message","status"];function r(e){const t={};return Object.keys(e).filter((e=>!i.includes(e))).forEach((n=>{t[n]=e[n]})),t}},314919:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(387246),r=n(813171),a=n(718368);function o(e){var t;const n=e.resource,o=e.resource_response.error;return{auxData:(0,i.Z)(e.resource_response),bookmarks:(null==n||null===(t=n.options)||void 0===t?void 0:t.bookmarks)||[a.q],client_context:e.client_context,request_identifier:e.request_identifier,resource_response:{data:e.resource_response.data,error:o?r.Z.fromPlainObject(o,e.resource_response.data):null}}}},396675:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(886858),r=n(718368),a=n(338739);const o=e=>{if(!e)return;const t={api_error_code:e.api_error_code,code:e.code,message:e.message,message_detail:e.message_detail};return e.extra_data&&(t.extraData=e.extra_data),e.http_status&&(t.httpStatus=e.http_status),t};function s(e,t){switch(e.type){case a.KK:return{...t||{},fetching:e.payload.isFetching,error:null};case a.cR:return{...t||{},fetching:!1,error:o(e.payload.error),data:null};default:const{options:i,resource:s,response:l}=e.payload,d=e.type===a.zP&&e.payload.isRefresh,c=(n=(null==i?void 0:i.bookmarks)||l.bookmarks)&&n[0]!==r.q?n[0]:r.q,u=o(l.resource_response.error),p=null==t?void 0:t.auxData,_=d||null==t?void 0:t.data;let h=l.resource_response.data;return"BaseSearchResource"!==s&&"VisualLiveSearchResource"!==s&&"StoreFrontSearchResource"!==s&&"VisualSearchFlashlightUnifiedResource"!==s&&"NativeInteractionsResource"!==s||!_?Array.isArray(_)&&(h=[..._||[],...h||[]]):Array.isArray(_.results)&&(h=h?{..._,results:[..._.results||[],...h.results||[]]}:_),{...t||{},auxData:p?{...p,...l.auxData}:l.auxData,data:h,fetching:!1,nextBookmark:c,error:u}}var n}function l(e={},t){if(t.type===a.se){const n={...e||{},[t.payload.resource]:{...(e||{})[t.payload.resource]||Object.freeze({})}},r="string"==typeof t.payload.optionsOrOptionsKey?t.payload.optionsOrOptionsKey:(0,i.Z)(t.payload.optionsOrOptionsKey);return delete n[t.payload.resource][r],0===Object.keys(n[t.payload.resource]).length&&delete n[t.payload.resource],n}if(t.type===a.zP||t.type===a.aW||t.type===a.cR||t.type===a.KK){const{options:n,resource:r}=t.payload,a=(0,i.Z)(n),o=e[r]||{},l=s(t,o[a]);return{...e,[r]:{...o,[a]:l}}}return e}},857079:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(883119),r=n(785893);function a({accessibilityLabel:e}){return(0,r.jsx)(i.kC,{alignItems:"center",justifyContent:"center",children:(0,r.jsx)(i.$j,{accessibilityLabel:e,show:!0})})}},740990:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(0,n(667294).createContext)("undefined"!=typeof window?window:null)},763585:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294),r=n(365804),a=n(276775);function o({children:e,scrollOn:t="animationFrame",disableForHashLinks:n}){const o=(0,a.useHistory)(),{action:s}=o,{hash:l,key:d,pathname:c}=(0,a.useLocation)(),u=(0,i.useRef)(d),p=(0,i.useRef)(c),_=(0,i.useRef)(!0),h=(0,i.useRef)({}),{shouldMaintainHomefeed:m,lastHFScrollPosition:g}=(0,r.Z)();return d!==u.current&&"PUSH"===s&&(h.current[u.current]=[window.scrollX,window.scrollY]),u.current=d,(0,i.useEffect)((()=>{window.history.scrollRestoration="manual"}),[]),(0,i.useEffect)((()=>{const e=!_.current;_.current=!1;const i=n&&c===p.current&&!!l;if(p.current=c,!e||i)return;const r=()=>{m?window.scrollTo(...g):"PUSH"===s||"REPLACE"===s?window.scrollTo(0,0):Object.hasOwnProperty.call(h.current,d)?window.scrollTo(...h.current[d]):window.scrollTo(0,0)};"timeout"===t?setTimeout(r,0):requestAnimationFrame(r)}),[s,d]),i.Children.only(e)}},487116:(e,t,n)=>{n.d(t,{D:()=>o,N:()=>a});var i=n(172071);const r=.1;async function a(){const e=navigator.serviceWorker;if(i.Z.increment("web_service_worker.update",r),e&&e.getRegistration){const n=await e.getRegistration();if(!n)return i.Z.increment("web_service_worker.update.registration.not_exist",r),await async function(){const e=navigator.serviceWorker;if(i.Z.increment("web_service_worker.install",r),e&&e.register)try{const t=await e.register("/sw.js");return i.Z.increment("web_service_worker.install.success",r),t}catch(t){throw i.Z.increment("web_service_worker.install.error",r),t}}();i.Z.increment("web_service_worker.update.registration.exist",r);try{return await n.update(),i.Z.increment("web_service_worker.update.success",r),n}catch(t){throw i.Z.increment("web_service_worker.update.fail",r),t}}}async function o(e){const t=navigator.serviceWorker;if(i.Z.increment("web_service_worker.unregister",r,{source:e||"unknown"}),t&&t.getRegistration)try{const n=await t.getRegistration();n?(i.Z.increment("web_service_worker.unregister.registration.exist",r,{source:e||"unknown"}),await n.unregister(),i.Z.increment("web_service_worker.unregister.success",r,{source:e||"unknown"}),async function(e){const t=navigator.serviceWorker;if(i.Z.increment("web_service_worker.clear_app_shell",r,{source:e||"unknown"}),t&&window.caches){const t=(await window.caches.keys()).find((e=>e.startsWith("workbox-precaching")));t?(i.Z.increment("web_service_worker.clear_app_shell.precache.exist",r,{source:e||"unknown"}),(await window.caches.open(t)).delete("/sw-shell.html"),i.Z.increment("web_service_worker.clear_app_shell.delete",r,{source:e||"unknown"})):i.Z.increment("web_service_worker.clear_app_shell.precache.not_exist",r,{source:e})}}(e)):i.Z.increment("web_service_worker.unregister.registration.not_exist",r,{source:e||"unknown"})}catch(n){i.Z.increment("web_service_worker.unregister.fail",r,{source:e||"unknown"})}}},90771:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(785893);function r({size:e=56}){return(0,i.jsxs)("svg",{fill:"none",height:e,width:e,viewBox:"0 0 56 56",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{fill:"#1a73e8",height:"56",rx:"28",width:"56"}),(0,i.jsx)("path",{d:"m37.086 39.782h-18.454c-2.624 0-4.914-1.983-4.914-4.607v-.028 1.536c0 2.624 2.29 4.913 4.914 4.913h18.454c2.653 0 4.914-2.317 4.914-4.913v-1.536c0 2.624-2.29 4.635-4.914 4.635zm-23.395-13.234v-2.094l-3.434-5.667c-.196-.307-.28-.586-.252-.866v2.401c0 .224.084.447.223.698z",fill:"#185abc"}),(0,i.jsx)("path",{d:"m37.086 17h-25.853c-1.033 0-1.619.893-.92 1.843l3.377 5.863v10.469c0 2.68 1.955 4.914 4.607 4.914h18.761c2.653 0 4.914-2.262 4.914-4.914v-13.233c.028-2.68-2.234-4.942-4.886-4.942z",fill:"#fff"}),(0,i.jsx)("path",{d:"m36.78 24.39h-17.842c-.782 0-1.535-.474-1.535-1.228 0-.753.753-1.228 1.535-1.228h17.84c.782 0 1.536.475 1.536 1.228 0 .754-.754 1.229-1.536 1.229zm0 4.915h-17.842c-.782 0-1.535-.475-1.535-1.229s.753-1.228 1.535-1.228h17.84c.782 0 1.536.474 1.536 1.228s-.754 1.229-1.536 1.229zm-4.942 4.941h-12.928c-.782 0-1.535-.474-1.535-1.228s.753-1.229 1.535-1.229h12.927c.781 0 1.535.475 1.535 1.229s-.754 1.228-1.535 1.228z",fill:"#8ab4f8"})]})}},214680:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(785893);function r({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"url(#paint0_linear_4144_9512)"}),(0,i.jsx)("path",{d:"M27.7512 13C23.3085 13 19.0478 14.47 15.9063 17.0867C12.7649 19.7033 11 23.2522 11 26.9526C11.004 29.3596 11.7556 31.7247 13.1816 33.8182C14.6076 35.9117 16.6595 37.6624 19.138 38.9C18.4779 40.3778 17.4878 41.7636 16.2089 43C18.6891 42.5646 21.0173 41.65 23.0123 40.3273C24.5505 40.708 26.1465 40.9027 27.7512 40.9053C32.1939 40.9052 36.4546 39.4352 39.5961 36.8186C42.7375 34.202 44.5024 30.6531 44.5024 26.9526C44.5024 23.2522 42.7375 19.7033 39.5961 17.0867C36.4546 14.47 32.1939 13 27.7512 13Z",fill:"white"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("linearGradient",{id:"paint0_linear_4144_9512",x1:"28.4444",y1:"52.2827",x2:"28.4444",y2:"6.94986",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#0CBD2A"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#5BF675"})]})})]})}},862960:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(785893);function r({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"url(#paint0_linear_4401_2673)"}),(0,i.jsx)("path",{d:"M22.452 39.991c-.907 0-.753-.342-1.066-1.206l-2.667-8.779 20.533-12.181",fill:"#C8DAEA"}),(0,i.jsx)("path",{d:"M22.452 39.991c.7 0 1.01-.32 1.4-.7l3.734-3.63-4.657-2.808",fill:"#A9C9DD"}),(0,i.jsx)("path",{d:"m22.928 32.854 11.284 8.336c1.288.71 2.217.343 2.538-1.195l4.593-21.645c.47-1.885-.719-2.74-1.95-2.181l-26.971 10.4c-1.841.738-1.83 1.765-.336 2.223l6.921 2.16 16.024-10.109c.757-.458 1.45-.212.881.294",fill:"url(#paint1_linear_4401_2673)"}),(0,i.jsxs)("defs",{children:[(0,i.jsxs)("linearGradient",{id:"paint0_linear_4401_2673",x1:"37.352",y1:"9.352",x2:"23.352",y2:"42",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#37AEE2"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#1E96C8"})]}),(0,i.jsxs)("linearGradient",{id:"paint1_linear_4401_2673",x1:"31.096",y1:"27.16",x2:"35.466",y2:"37.116",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#EFF7FC"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#fff"})]})]})]})}},89396:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(785893);function r({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#7360F2"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.362 31.327s.57.05.875-.33l.597-.75c.288-.374.984-.61 1.665-.232.902.509 2.067 1.309 2.866 2.054.44.371.542.918.242 1.495l-.002.012a6.278 6.278 0 0 1-1.243 1.53l-.012.009c-.587.489-1.261.773-1.983.538l-.013-.018c-1.296-.367-4.405-1.952-6.386-3.532-3.242-2.558-5.546-6.776-6.183-9.038l-.02-.013c-.235-.724.052-1.398.539-1.984l.01-.01a6.224 6.224 0 0 1 1.53-1.243l.012-.003c.576-.3 1.122-.198 1.494.243.49.505 1.408 1.721 2.054 2.865.378.68.141 1.377-.231 1.664l-.752.598c-.379.306-.33.876-.33.876s1.113 4.207 5.271 5.269Zm6.543-3.488a.405.405 0 0 1-.406-.403c-.018-2.44-.752-4.384-2.178-5.776-1.43-1.393-3.236-2.108-5.37-2.122a.403.403 0 0 1-.4-.408.403.403 0 0 1 .403-.402h.003c2.35.016 4.344.808 5.93 2.352 1.586 1.55 2.402 3.687 2.422 6.35a.406.406 0 0 1-.401.409h-.003Zm-2.127-.832h-.01a.405.405 0 0 1-.395-.414c.032-1.384-.364-2.503-1.208-3.425-.84-.918-1.993-1.42-3.527-1.532a.406.406 0 0 1-.374-.433.406.406 0 0 1 .433-.375c1.725.127 3.093.73 4.065 1.794.977 1.066 1.456 2.409 1.42 3.989a.406.406 0 0 1-.404.396Zm-2.077-.696a.404.404 0 0 1-.404-.386c-.068-1.373-.716-2.045-2.036-2.117a.404.404 0 1 1 .043-.808c1.744.093 2.712 1.092 2.8 2.886a.403.403 0 0 1-.383.423l-.02.002Zm9.09 4.625c-.808 6.503-5.563 6.913-6.44 7.195-.374.12-3.843.982-8.203.698 0 0-3.251 3.92-4.266 4.94-.158.159-.344.223-.469.194-.175-.043-.223-.251-.22-.553l.027-5.354v-.001c-6.35-1.764-5.98-8.394-5.908-11.864.072-3.47.724-6.315 2.661-8.227 3.48-3.152 10.65-2.681 10.65-2.681 6.054.027 8.955 1.85 9.628 2.46 2.234 1.912 3.371 6.49 2.54 13.193Zm-.87-14.817c-.796-.73-4.01-3.064-11.167-3.096 0 0-8.44-.51-12.554 3.267-2.29 2.29-3.096 5.64-3.181 9.797-.085 4.157-.195 11.944 7.311 14.056l.008.002-.005 3.221s-.047 1.306.812 1.572c1.039.322 1.648-.669 2.641-1.738a88.708 88.708 0 0 0 1.863-2.107c5.135.43 9.082-.556 9.532-.701 1.036-.337 6.902-1.088 7.857-8.876.984-8.03-.477-13.106-3.117-15.397Z",fill:"#fff"})]})}},619277:(e,t,n)=>{n.d(t,{o$:()=>r,ty:()=>a,vE:()=>o});var i=n(425288);const{Provider:r,MaybeConsumer:a,useMaybeHook:o}=(0,i.Z)("inviteContext")},296011:(e,t,n)=>{n.d(t,{Z:()=>l,t:()=>d});var i=n(667294),r=n(6637),a=n(167912);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s={};class l extends i.Component{constructor(...e){super(...e),o(this,"state",{invite:s[this.props.invite_code]||null,loaded:this.props.invite_code in s})}componentDidMount(){const{invite_code:e}=this.props;r.Z.create("InviteCodeMetadataResource",{invite_code:e}).callGet().then((t=>{if(t&&t.resource_response){const n=t.resource_response.data;s[e]=n,this.setState({invite:n,loaded:!0})}})).catch((()=>{this.setState({invite:null,loaded:!0})}))}render(){const{invite:e,loaded:t}=this.state;return t?this.props.children(e):null}}class d extends i.Component{constructor(...e){super(...e),o(this,"state",{invite:s[this.props.invite_code]||null,loaded:this.props.invite_code in s})}componentDidMount(){const{invite_code:e,relayEnvironment:t,inviteQuery:n}=this.props;(0,a.fetchQuery)(t,n,{invite_code:e}).subscribe({next:e=>{var t;if(null!==(t=e.v3GetInviteCodeQuery)&&void 0!==t&&t.data){const t=e.v3GetInviteCodeQuery;this.setState({invite:t,loaded:!0})}},error:()=>{this.setState({invite:null,loaded:!0})}})}render(){const{invite:e,loaded:t}=this.state;return t?this.props.children(e):null}}},161164:(e,t,n)=>{n.d(t,{X:()=>w,fh:()=>p,Xn:()=>v,c:()=>_,Um:()=>c,Kv:()=>g,jO:()=>u,zW:()=>h,yP:()=>S,EN:()=>m,Be:()=>x,KT:()=>b,jw:()=>f,o4:()=>y});var i=n(172071),r=n(844974),a=n(549872),o=n(683090),s=n(887432),l=n(675149),d=n(180630);function c(){(0,d.W)(),(0,d.Z)("PageView",(()=>{i.Z.increment("fb_tracking_pixel",1,{event_category:"PageView",event_name:"AllViews"})})),(0,d.Z)("ViewContent",(()=>{i.Z.increment("fb_tracking_pixel",1,{event_category:"ViewContent",event_name:"AuthViews"})}))}function u(){!function(){function e(){const e=document.createElement("script");e.src="https://www.googletagmanager.com/gtag/js?id=AW-819016158";const t="gtag-id-1";function n(){window.dataLayer.push(arguments)}e.id=t,e.async=!0,document.getElementById(t)||document.body.insertBefore(e,document.body.firstChild),window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","AW-819016158"),n("event","page_view",{send_to:"AW-819016158"})}"complete"===document.readyState&&e(),window.addEventListener("load",e)}()}function p(e){if(e){const t=e.unauthId,n=e.userId;t&&n&&((0,r.qn)("dpm_pixel_login_event")?(0,s.FB)(t,n,(()=>{i.Z.increment("dpm_tracking_pixel",1,{event_category:"PageView",event_name:"AllViews"}),i.Z.increment("dpm_tracking_pixel",1,{event_category:"PageView",event_name:"AuthViews"})})):(0,s.FB)(t,n,(()=>{i.Z.increment("dpm_tracking_pixel",1,{event_category:"PageView",event_name:"AllViews"}),i.Z.increment("dpm_tracking_pixel",1,{event_category:"PageView",event_name:"AuthViews"}),i.Z.increment("dpm_tracking_pixel",1,{event_category:"PageView",event_name:"UniqueViews"})})))}}function _(e){if(e){const t=e.id,n=e.unauthId,r=e.userId,a=e.eventCategory,o=e.eventName;t&&a&&o&&n&&r&&(0,s.ZY)(n,r,t,(()=>{i.Z.increment("dpm_tracking_pixel",1,{event_category:a,event_name:o}),i.Z.increment("dpm_tracking_pixel",1,{event_category:a,event_name:"All"})}))}}function h(e){if(e){const t=e.id,n=e.unauthId,r=e.userId,a=e.eventCategory,o=e.eventName;t&&a&&o&&n&&r&&setTimeout((()=>{(0,s.ZY)(n,r,t,(()=>{i.Z.increment("dpm_tracking_pixel",1,{event_category:a,event_name:o}),i.Z.increment("dpm_tracking_pixel",1,{event_category:a,event_name:"All"})}))}),6e4)}}function m(e){if(e){const t=e.pixelId,n=e.userId?e.userId:"",r=e.eventCategory,a=e.eventName;t&&r&&a&&(0,s.l8)(t,n,r,a,(()=>{i.Z.increment("dpm_tracking_pixel",1,{event_category:r,event_name:"All"}),"All"!==a&&i.Z.increment("dpm_tracking_pixel",1,{event_category:r,event_name:a})}))}}function g(e){if(e){const t=e.id,n=e.eventName;t&&n&&(0,o.VC)(t,(()=>{i.Z.increment("flashtalking_tracking_pixel",1,{event_category:"PageView",event_name:"AllViews"}),i.Z.increment("flashtalking_tracking_pixel",1,{event_category:"PageView",event_name:n})}))}}function f(e){if(e){const t=e.id,n=e.eventCategory,r=e.eventName;t&&n&&r&&(0,o.Rs)(t,n,r,(()=>{i.Z.increment("flashtalking_tracking_pixel",1,{event_category:n,event_name:"All"}),"All"!==r&&i.Z.increment("flashtalking_tracking_pixel",1,{event_category:n,event_name:r})}))}}function v(e){if(e){const t=e.unauthId,n=e.userId;t&&n&&(0,a.IV)(t,n,(()=>{i.Z.increment("dentsu_tracking_pixel",1,{event_category:"PageView",event_name:"AllViews"}),i.Z.increment("dentsu_tracking_pixel",1,{event_category:"PageView",event_name:"AuthViews"})}))}}function y(e){if(e){const t=e.unauthId;t&&(0,a.Ob)(t,(()=>{i.Z.increment("dentsu_tracking_pixel",1,{event_category:"PageView",event_name:"AllViews"}),i.Z.increment("dentsu_tracking_pixel",1,{event_category:"PageView",event_name:"UnAuthViews"})}))}}function x(e){if(e){const t=e.pixelId,n=e.eventCategory,i=e.eventName;t&&n&&i&&(0,a.sX)(t,n,i)}}function b(){(0,a.Ii)((()=>{i.Z.increment("dentsu_tracking_pixel",1,{event_category:"PageViews (Facebook)",event_name:"AllViews"})}))}function w(e){if(e){const t=e.id,n=e.eventName,r=e.eventCategory?e.eventCategory:"PageView";t&&n&&(0,l.lv)(t,(()=>{i.Z.increment("admo_tracking_pixel",1,{event_category:r,event_name:"AllViews"}),i.Z.increment("admo_tracking_pixel",1,{event_category:r,event_name:n})}))}}function S(e){if(e){const t=e.id,n=e.eventCategory,i=e.eventName;t&&n&&i&&(0,l.BG)(t,n,i)}}},433780:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(768559),r=n(704115),a=n(172071),o=n(245474);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let l=null;const d="ACTIVE",c="PAUSED",u=()=>window&&window.performance&&window.performance.now?`(Time: ${(window.performance.now()/1e3).toFixed(3)}s)`:"",p=({flushEvents:e,track:t})=>{if(l)return l;const n=new Map,i=(0,r.Z)()&&(0,r.Z)().debug_timespent,p=i?console:{error:(...e)=>{},log:(...e)=>{},group:(...e)=>{},groupEnd:(...e)=>{}};console.group||(p.group=(...e)=>console.log(...e),p.groupEnd=(...e)=>{});return l=new class{constructor(){s(this,"appTimedPair",null),s(this,"clickthroughProperties",null),s(this,"historyStackContext",null),s(this,"offsiteTimedPair",null),s(this,"offsiteTimedPairForegroundId",null),s(this,"pins",Object.freeze({})),s(this,"addEventListeners",(()=>{let e,t;"undefined"!==document.hidden?(e="hidden",t="visibilitychange"):"undefined"!==document.msHidden?(e="msHidden",t="msvisibilitychange"):"undefined"!==document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange");const n=t=>{document[e]?this.unregisterApp(!1,void 0,t):document.hasFocus()&&this.registerApp()};t&&document.addEventListener(t,n,!1),window.addEventListener("focus",this.registerApp),window.addEventListener("blur",(e=>this.unregisterApp(!1,void 0,e)));const i=(e=>{let t=!1;return(...n)=>{t||(t=!0,e(...n))}})((e=>this.unregisterApp(!0,void 0,e)));window.addEventListener("beforeunload",i),window.addEventListener("pagehide",i);const r=navigator&&navigator.userAgent.toLowerCase();r&&r.includes("macintosh")&&r.includes("chrome")&&window.addEventListener("popstate",(t=>{document.hasFocus()||document[e]||a.Z.increment("chrome_mac_back_forward_button",1)}))})),s(this,"storeClickthroughProperties",(e=>{this.clickthroughProperties&&a.Z.increment("webapp.metrics.clickthroughs.overwritten",1,{previousView:this.clickthroughProperties.view_type,previousViewParameter:this.clickthroughProperties.view_parameter,nextView:e.view_type,nextViewParameter:e.view_parameter}),this.clickthroughProperties=e})),s(this,"clearClickthroughProperties",(()=>{this.clickthroughProperties=null,this.offsiteTimedPair=null,this.offsiteTimedPairForegroundId=null})),s(this,"registerApp",(()=>{p.group("App Foreground",u()),null==this.appTimedPair?(this.appTimedPair=new o.Z,this.appTimedPair.start(),this._unpauseAllComponents(),this._endOffsiteTimedPair(),null!==this.appTimedPair&&void 0!==this.appTimedPair&&t({event_type:4700,pair_id:this.appTimedPair.uuid},this.historyStackContext,this.pins)):p.error("TimedPair already exists for app."),p.groupEnd()})),s(this,"unregisterApp",((n=!1,i=!1,r)=>{p.group("App Background",u());const a=this.appTimedPair;if(null!=a){this._pauseAllComponents();const e=a.end();this._startOffsiteTimedPair(),t({event_type:4701,duration_ns:e,pair_id:a.uuid},this.historyStackContext,this.pins),this.appTimedPair=null}else p.error("No TimedPair found for app.");const o=["beforeunload","pagehide"],s=o.includes(null==r?void 0:r.type),l=o.includes(null==r?void 0:r.pauseReason);(s||l)&&this._endOffsiteTimedPair(),i||e(null!=n&&n),p.groupEnd()})),s(this,"_activateComponent",(e=>{p.group("Activating component",u()),i&&p.log(e.getContext());const n=e.getTimedPair();if(n){n.start();const{view:i,viewParameter:r,component:a,element:o,objectId:s,clientTrackingParams:l}=e.getLoggerContext();t({event_type:4702,view_type:i,view_parameter:r,component:a,element:o,object_id_str:s,view_data:e.props.viewData,pair_id:n.uuid,clientTrackingParams:l,aux_data:{time_spent_foreground_pairid:this.appTimedPair&&this.appTimedPair.uuid,time_spent_parent_pairid:e.getParentId(),...e.props.auxData}},this.historyStackContext,this.pins)}p.groupEnd()})),s(this,"_deactivateComponent",(e=>{p.group("Deactivating component",u()),i&&p.log(e.getContext());const n=e.getTimedPair();if(n){const{view:i,viewParameter:r,component:a,element:o,objectId:s,clientTrackingParams:l}=n,d=n.end();t({event_type:4703,view_type:i,view_parameter:r,component:a,element:o,object_id_str:s,view_data:e.props.viewData,duration_ns:d,pair_id:n.uuid,clientTrackingParams:l,aux_data:{time_spent_foreground_pairid:this.appTimedPair&&this.appTimedPair.uuid,time_spent_parent_pairid:e.getParentId(),...e.props.auxData}},this.historyStackContext,this.pins)}p.groupEnd()})),s(this,"_startOffsiteTimedPair",(()=>{const{clickthroughProperties:e}=this;e&&(this.offsiteTimedPair=new o.Z({...e,view:186,viewParameter:e.view_parameter,objectId:e.object_id_str}),this.offsiteTimedPair.start(),this.offsiteTimedPairForegroundId=this.appTimedPair?this.appTimedPair.uuid:null,t({...e,event_type:4702,view_type:186,pair_id:this.offsiteTimedPair?this.offsiteTimedPair.uuid:null,aux_data:{...e.aux_data,time_spent_foreground_pairid:this.offsiteTimedPairForegroundId}},this.historyStackContext,this.pins))})),s(this,"_endOffsiteTimedPair",(()=>{const{offsiteTimedPair:e,clickthroughProperties:n}=this;if(e&&n){const i=e.end();t({...n,event_type:4703,view_type:186,pair_id:this.offsiteTimedPair?this.offsiteTimedPair.uuid:null,aux_data:{...n.aux_data,time_spent_foreground_pairid:this.offsiteTimedPairForegroundId},duration_ns:i},this.historyStackContext,this.pins),this.clearClickthroughProperties()}})),s(this,"_pauseAllComponents",(()=>{p.group("Pause all components"),n.forEach(((e,t,n)=>{e===d&&this._deactivateComponent(t),n.set(t,c)})),p.groupEnd()})),s(this,"_unpauseAllComponents",(()=>{p.group("Unpause all components"),n.forEach(((e,t)=>{t.setTimedPair(new o.Z(t.getLoggerContext()))})),n.forEach(((e,t)=>{n.set(t,d),this._activateComponent(t)})),p.groupEnd()}))}setHistoryStackContext(e){this.historyStackContext=e}setPins(e){this.pins=e}registerComponent(e){null===this.appTimedPair?n.set(e,c):(n.set(e,d),this._activateComponent(e))}unregisterComponent(e){n.get(e)===d&&(this._deactivateComponent(e),e.setTimedPair(new o.Z(e.getLoggerContext()))),n.delete(e)}size(){return n.size}},l},_={},h=(e,t=!0)=>p({flushEvents:e.flushContextEvents,track:(n,r,a)=>{if(t&&a&&n){let e;const{pair_id:t,event_type:d}=n;if(4703===d&&t&&_[t])n.clientTrackingParams=_[t];else{var o;const c=n.object_id_str,u=c?a[c]:null,p=null==r||null===(o=r.current)||void 0===o?void 0:o.location,h=null==r?void 0:r.previous;var s,l;if(u&&p)e=(0,i.Z)({boardUrl:null===(s=u.board)||void 0===s?void 0:s.url,callToCreateSourcePinId:u.call_to_create_source_pin_id,location:p,pinId:u.id,pinnerUserName:null===(l=u.pinner)||void 0===l?void 0:l.username,previousHistory:h,storyPinDataId:u.story_pin_data_id,trackingParams:u.tracking_params,trackingParamsMap:u.tracking_params_map})||`${u.tracking_params||""}~0`,n.clientTrackingParams=e,4702===d&&t&&(_[t]=e)}}e.logContextEvent(n)}})},932046:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(826067);function r(){const e=(0,i.mB)(window.location.search);if("31"===e.utm_source)return"email";if(e.utm_pai)return"paid";const t=document.referrer;return t?t.includes("/t.co/")?"twitter":t.includes("cdn.ampproject.org")?"amp":t.includes("google.")?"google":t.includes("bing.")?"bing":t.includes("facebook.")?"facebook":"other":"direct"}},69642:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294),r=n(867820),a=n(932046);function o(){return(0,i.useCallback)((e=>{e.action&&e.event?(0,r.My)("pinner_conversion",{...e,type:e.type||"none",trigger:e.trigger||"other",referrer:(0,a.Z)()}):(0,r.My)("pinner_conversion.missing_tags")}),[])}},758127:(e,t,n)=>{n.d(t,{U:()=>a,Z:()=>o});var i=n(883119),r=n(785893);const a=", ";function o(){return(0,r.jsx)(i.xu,{display:"visuallyHidden",children:a})}},439890:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),r=n(223815),a=n(50286),o=n(343341),s=n(883119),l=n(785893);function d({children:e}){const[t,n]=(0,i.useState)([]),d=(0,i.useRef)(0),c=(0,a.ZP)(),u=()=>{const e=d.current;return d.current+=1,`toast${e}`},p=(0,i.useMemo)((()=>({showOneToast:e=>{n([{name:u(),component:e}])},showToast:e=>{n([...t,{name:u(),component:e}])}})),[n,t]);return(0,l.jsxs)(o.Zo,{value:p,children:[e,(0,l.jsx)(r.Z,{children:(0,l.jsx)(s.mh,{children:(0,l.jsx)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{pointerEvents:"none",..."desktop"===c?{bottom:"14px"}:{top:"phone"===c?56:80}}},display:"flex",direction:"column",justifyContent:"center",position:"fixed",width:"100%",zIndex:new s.Ry(1500),children:t.map((({name:e,component:i})=>{if(i)return(0,l.jsx)(i,{hideToast:()=>(e=>{const i=[...t],r=i.findIndex((t=>t.name===e));-1!==r&&(i.splice(r,1),n(i))})(e)},e)}))})})})]})}},753311:(e,t,n)=>{n.d(t,{M:()=>o,Q:()=>a});var i=n(667294);const r=(0,i.createContext)(null),a=()=>(0,i.useContext)(r),o=r.Provider},690035:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(753311);const r=()=>{const e=(0,i.Q)();return t=>{if(e){const{pinId:n,location:i,seoPlacementConfig:r}=t;e.showUnauthContextMenu({pinId:n,location:i,seoPlacementConfig:r})}}}},934723:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(422586),r=n(966113);function a({advertiser:e,isAdsSite:t,isAnalyticsSite:n,isTrendsSite:a,baseUrl:o,adsUrl:s,isQuickPromote:l,isShoppingCatalogs:d}){if(t&&!e&&!l)return"/";let c=o;return(t||n||a)&&!d?(s||(s=o),e?(c=(0,i.Z)(s,e.id),t||(c=r.au+c)):c=t?s:r.au+c):d?c=r.au+(0,i.Z)(o,e?e.id:""):s||(c=r.au+o),c}},323716:(e,t,n)=>{n.d(t,{Z:()=>i});const i=()=>window.location.pathname+("?"===window.location.search?"":window.location.search)},198125:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294);function r(){const[e,t]=(0,i.useState)(!1);return{isHovering:e,handleMouseEnter:(0,i.useCallback)((()=>t(!0)),[t]),handleMouseLeave:(0,i.useCallback)((()=>t(!1)),[t])}}},348584:(e,t,n)=>{n.d(t,{D:()=>l,Z:()=>d});var i=n(667294),r=n(826067),a=n(276775),o=n(785893);const s=(0,i.createContext)(!1);function l({children:e}){const t=(()=>{var e,t;const n=(0,a.useLocation)();return(null===(e=(0,a.useHistory)().location.state)||void 0===e?void 0:e.isAppFactoryOAuth)||(null!==(t=(0,r.mB)(n.search).next)&&void 0!==t?t:"").startsWith("/app-factory-oauth/")})(),[n,l]=(0,i.useState)(t);return(0,i.useEffect)((()=>{t&&l(!0)}),[t]),(0,o.jsx)(s.Provider,{value:n,children:e})}function d(){return(0,i.useContext)(s)}},644035:(e,t,n)=>{n.d(t,{GW:()=>r,RL:()=>i,s4:()=>a});const i="ios",r="android",a="ipad"},127412:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(432300);function r(e){var t,n,r,a,o,s,l,d,c,u,p,_,h,m,g,f,v,y,x,b,w,S,T,I,P,E,A,k,C;return e&&e.id?{allow_personalization_cookies:null!==(t=e.allow_personalization_cookies)&&void 0!==t&&t,allow_analytic_cookies:null!==(n=e.allow_analytic_cookies)&&void 0!==n&&n,allow_marketing_cookies:null!==(r=e.allow_marketing_cookies)&&void 0!==r&&r,boardCount:e.board_count,groupBoardCount:e.group_board_count,pinCount:e.pin_count,eligibleForStlTool:e.eligible_for_stl_tool,isAuth:!0,id:e.id,epik:e.epik,username:e.username,fullName:null!==(a=e.full_name)&&void 0!==a?a:"",firstName:null!==(o=e.first_name)&&void 0!==o?o:"",lastName:null!==(s=e.last_name)&&void 0!==s?s:"",email:null!==(l=e.email)&&void 0!==l?l:"",facebookId:e.facebook_id,hasPassword:null!==(d=e.has_password)&&void 0!==d&&d,isEmployee:null!==(c=e.is_employee)&&void 0!==c&&c,isLimitedLogin:e.login_state===i.Z.LIMITED,isPartner:null!==(u=e.is_partner)&&void 0!==u&&u,isWriteBanned:null!==(p=e.is_write_banned)&&void 0!==p&&p,imageSmallUrl:null!==(_=e.image_small_url)&&void 0!==_?_:"",imageMediumUrl:null!==(h=e.image_medium_url)&&void 0!==h?h:"",imageLargeUrl:null!==(m=e.image_large_url)&&void 0!==m?m:"",imageXLargeUrl:null!==(g=e.image_xlarge_url)&&void 0!==g?g:"",nags:null!==(f=e.nags)&&void 0!==f?f:[],profileDiscoveredPublic:null!==(v=e.profile_discovered_public)&&void 0!==v&&v,showDiscoveredFeed:null!==(y=e.show_discovered_feed)&&void 0!==y&&y,createdAt:null!==(x=e.created_at)&&void 0!==x?x:"",resurrectionInfo:e.resurrection_info&&e.resurrection_info.resurrection_dt?{resurrectionDate:e.resurrection_info.resurrection_dt}:void 0,country:null!==(b=e.country)&&void 0!==b?b:"",domainUrl:e.domain_url,domainVerified:e.domain_verified,isAnyWebsiteVerified:e.is_any_website_verified,verifiedWebsites:e.verified_user_websites,listedWebsiteUrl:null!==(w=e.listed_website_url)&&void 0!==w?w:"",gender:e.gender,customGender:e.custom_gender,firstHomeFeedRequestAfterNux:null!==(S=e.firstHomeFeedRequestAfterNux)&&void 0!==S&&S,partner:e.partner,socialNetwork:{facebook:{connected:!!e.connected_to_facebook},google:{connected:!!e.connected_to_google},youtube:{connected:!!e.connected_to_youtube},gplus:{connected:!!e.gplus_url,url:e.gplus_url},microsoft:{connected:!!e.connected_to_microsoft},twitter:{connected:!!e.twitter_url,url:e.twitter_url},etsy:{connected:!!e.connected_to_etsy},instagram:{connected:!!e.connected_to_instagram},dropbox:{connected:!!e.connected_to_dropbox}},can_enable_mfa:null!==(T=e.can_enable_mfa)&&void 0!==T&&T,has_mfa_enabled:null!==(I=e.has_mfa_enabled)&&void 0!==I&&I,has_quicksave_board:e.has_quicksave_board,phone_country:null!==(P=e.phone_country)&&void 0!==P?P:"",phone_number:null!==(E=e.phone_number)&&void 0!==E?E:"",phone_number_end:null!==(A=e.phone_number_end)&&void 0!==A?A:"",push_package_user_id:null!==(k=e.push_package_user_id)&&void 0!==k?k:"",third_party_marketing_tracking_enabled:void 0===e.third_party_marketing_tracking_enabled||null===e.third_party_marketing_tracking_enabled||e.third_party_marketing_tracking_enabled,age_in_years:e.age_in_years,save_behavior:e.save_behavior,shopping_rec_disabled:e.shopping_rec_disabled,show_personal_boutique:null!==(C=e.show_personal_boutique)&&void 0!==C&&C}:{isAuth:!1,isLimitedLogin:!1}}},109322:(e,t,n)=>{n.d(t,{Ur:()=>r,i5:()=>i,kx:()=>a});const i={AT:14,BE:13,BG:16,HR:16,CY:14,CZ:15,DK:13,EE:14,FI:13,FR:15,DE:16,GR:15,HU:16,IE:16,IT:14,LV:13,LT:14,LU:16,MT:13,NL:16,PL:16,PT:13,RO:16,SK:16,SI:15,ES:14,SE:13,GB:13},r=13,a=5},8320:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(63552),r=n(883119),a=n(785893);const o={__style:{borderRadius:"4px",padding:"10px 14px"}},s={borderWidth:"1px",borderStyle:"solid",borderColor:"white"},l={__style:{borderRadius:"4px",padding:"10px 14px 9px 8px",whiteSpace:"nowrap"}},d=({accessibilityLabel:e,color:t,customStyles:n,forwardedRef:d,icon:c,inline:u=!1,minHeight:p=40,minWidth:_=70,onTouch:h,pressState:m,shape:g,text:f})=>{const v=(e=>"primary"===e||"transparent"===e||"dark"===e?"inverse":"default")(t),y=(({color:e,icon:t})=>t?l:"transparent"===e?{__style:{...o.__style,...s}}:o)({color:t,icon:c}),x=(0,a.jsx)(r.xu,{position:"relative",children:(0,a.jsx)(r.xu,{color:t,display:u?"inlineBlock":"flex",justifyContent:"center",minHeight:p,minWidth:_,dangerouslySetInlineStyle:"pill"===g?(b=n,{__style:{borderRadius:"24px",paddingTop:"10px",paddingBottom:"10px",paddingLeft:"14px",paddingRight:"14px",...b}}):y,children:(0,a.jsxs)(r.kC,{alignItems:"center",justifyContent:"center",children:[c&&(0,a.jsx)(r.xu,{paddingX:"check"===c?2:0,children:(0,a.jsx)(r.JO,{accessibilityLabel:e,color:v,icon:c,inline:!0,size:"check"===c?16:20})}),(0,a.jsx)(r.xv,{color:v,inline:!0,size:"300",lineClamp:1,weight:"bold",children:f})]})})});var b;return h?(0,a.jsx)(i.Z,{onTouch:h,rounding:"pill"===g?"pill":2,pressState:m||"none",children:(0,a.jsx)(r.xu,{ref:d,children:x})}):x}},375574:(e,t,n)=>{n.d(t,{Z:()=>T});var i=n(667294),r=n(702664),a=n(898781),o=n(883119),s=n(785893);function l(e){const t=(0,a.ZP)(),{viewType:n,boardId:i,handleTouch:r}=e,l=t.bt("", "Board", "createMenuLinkButton.Create.Board.Label", undefined, true),d=t.bt("", "Section", "createMenuLinkButton.Create.Section.Label", undefined, true);return 5===n&&i?(0,s.jsx)(o.iP,{role:"link",href:`/board/${i}/create_section/`,rounding:2,onTap:r,children:(0,s.jsx)(o.xu,{paddingY:2,"data-test-id":"addSectionButton",children:(0,s.jsx)(o.X6,{size:"400",children:d})})}):(0,s.jsx)(o.iP,{role:"link",onTap:r,href:"/board/create/",children:(0,s.jsx)(o.xu,{paddingY:2,"data-test-id":"createMenuCreateBoardButton",children:(0,s.jsx)(o.X6,{size:"400",children:l})})})}var d=n(276775),c=n(805410);function u({disabledPinCreation:e,handleDisablePublish:t,handleTouch:n}){const i=(0,a.ZP)(),r=(0,d.useHistory)(),l=e=>({base64Image:e,method:c.I}),u=i.bt("", "Photo", "createPinButton.Photo.Upload.Label", undefined, true);return(0,s.jsx)(o.iP,{tapStyle:"none",onTap:()=>{e?t():n()},children:(0,s.jsxs)(o.xu,{position:"relative",paddingY:2,children:[(0,s.jsx)(o.X6,{size:"400",children:u}),e?null:(0,s.jsx)("input",{id:"upload-pin",type:"file",accept:"image/*",onChange:e=>{const t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onload=()=>{const e=t.result;r.push({pathname:`/pin/create/${c.I}/`,state:l(String(e))})}},style:{opacity:0,position:"absolute",top:"0px",height:"100%",width:"100%"}})]})})}var p=n(121151);function _({isOpen:e,onDismiss:t}){const n=(0,a.ZP)();return(0,s.jsx)(p.ZP,{accessibilityModalLabel:n.bt("        ", "Disabled Pin Publishing Error Message Modal", "disabledPinCreationModal.modal.accessibilityLabel", undefined, true),isOpen:e,mobileAccessibilityCloseIconLabel:n.bt("       ", "Close disabled publishing message modal", "disabledPinCreationModal.modal.closeIconLabel", undefined, true),onDismiss:t,type:"DisabledPublishingModal",children:(0,s.jsxs)(o.xu,{alignItems:"center",direction:"column",display:"flex",paddingX:6,paddingY:4,children:[(0,s.jsx)(o.X6,{children:n.bt("!", "Oops...", "disabledPinCreationModal.modal.heading", undefined, true)}),(0,s.jsx)(o.xu,{paddingY:3,children:(0,s.jsx)(o.xv,{children:n.bt("   .       .", "Our server is experiencing a mild case of the hiccups at the moment. Please try refreshing and publishing again later.", "disabledPinCreationModal.modal.text", undefined, true)})}),(0,s.jsx)(o.xu,{paddingY:3,children:(0,s.jsx)(o.zx,{color:"red",onClick:()=>t(),size:"lg",text:n.bt("", "Dismiss", "disabledPinCreationModal.button.dismiss", undefined, true)})})]})})}var h=n(941646),m=n(881802),g=n(134906),f=n(773285),v=n(112690),y=n(927383),x=n(490543);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const w=e=>{const t=window&&window.innerWidth||0,n=e.bt(" ,   : https://...", "Enter a link to create a Pin, https://...", "placeholder in text field where a user inputs a URL to create a Pin", undefined, true),i=e.bt(" : https://...", "Enter a link, https://...", "placeholder in text field where a user inputs a URL to create a Pin - short version, 30 char limit", undefined, true);return t<380?i:n};class S extends i.PureComponent{constructor(...e){super(...e),b(this,"state",{createPinFromLinkUrl:"",showCreateModal:!1,showInlineTextEditCreatePin:!1,showPublishingDisabledError:!1,urlValidationError:null}),b(this,"createPinFromLinkInput",(0,i.createRef)()),b(this,"closeCreateModal",(()=>{this.setState({showCreateModal:!1,showInlineTextEditCreatePin:!1}),this.props.updatePinBuilderInput({isInputOpen:!1,submittedLink:""})})),b(this,"clearValidationError",(()=>{this.setState({urlValidationError:null})})),b(this,"openCreateModal",(e=>{this.handleTouch(),this.props.requireAuthForLimitedLogin({fn:()=>this.setState({showCreateModal:!0}),modalHeader:(0,m.is)(this.props.i18n)})()})),b(this,"handleCreatePinFromLinkTouch",(()=>{this.setState({showInlineTextEditCreatePin:!0}),this.props.updatePinBuilderInput({isInputOpen:!0})})),b(this,"handleDisablePublish",(()=>{this.setState({showCreateModal:!1,showPublishingDisabledError:!0})})),b(this,"handleLinkFieldChange",(({value:e})=>{this.setState({createPinFromLinkUrl:e})})),b(this,"handlePinFromLinkFormSubmit",((e,t)=>{const{createPinFromLinkUrl:n}=this.state;e.preventDefault();const{errors:i}=(0,g.Jx)({message:this.props.i18n.bt("!   URL-.", "Oops! Please enter a valid URL.", "URL validation error message on Pin builder form", undefined, true)})(n),[r]=i;r?this.setState({urlValidationError:r}):this.handleUrlValidationSuccess(t)})),b(this,"handleTouch",(()=>{const{logContextEvent:e,viewType:t,elementType:n}=this.props;e({view_type:t,view_parameter:3106,element:n,event_type:102})})),b(this,"handleUrlValidationSuccess",(e=>{this.setState({showInlineTextEditCreatePin:!1});const t=this.state.createPinFromLinkUrl;this.props.updatePinBuilderInput({submittedLink:t}),e.push({pathname:"/pin-builder/",state:{createPinFromLinkUrl:t}}),this.closeCreateModal()})),b(this,"renderCreatePinFromLinkOption",(()=>{const{disabledPinCreation:e,history:t}=this.props,{createPinFromLinkUrl:n,showInlineTextEditCreatePin:i}=this.state,r=this.props.i18n.bt("", "Website", "editPin.CreatePinFromUrl.Label", undefined, true);return(0,s.jsx)(o.kC,{alignItems:"center",height:46,justifyContent:"start",children:i?(0,s.jsx)("form",{onSubmit:e=>this.handlePinFromLinkFormSubmit(e,t),style:{width:"100%"},children:(0,s.jsxs)(o.xu,{display:"flex",justifyContent:"between",position:"relative",children:[(0,s.jsxs)(o.xu,{ref:this.createPinFromLinkInput,width:"100%",children:[this.renderErrorFlyout(),(0,s.jsx)(o.nv,{id:"create-pin-from-link",onChange:this.handleLinkFieldChange,onFocus:()=>this.setState({urlValidationError:null}),placeholder:w(this.props.i18n),size:"lg",value:n})]}),(0,s.jsx)(o.hU,{accessibilityLabel:this.props.i18n.bt("     ", "Create Pin from entered link", "navigation button to confirm user will create a Pin from a link they entered", undefined, true),iconColor:"darkGray",icon:"arrow-forward",onClick:({event:e})=>this.handlePinFromLinkFormSubmit(e,t),size:"lg"})]})}):(0,s.jsx)(o.iP,{onTap:()=>{e?this.handleDisablePublish():this.handleCreatePinFromLinkTouch()},tapStyle:"none",children:(0,s.jsx)(o.xu,{position:"relative","data-test-id":"websiteButton",children:(0,s.jsx)(o.X6,{size:"400",children:r})})})})})),b(this,"renderErrorFlyout",(()=>{const{urlValidationError:e}=this.state;return e&&(0,s.jsx)(o.J2,{anchor:this.createPinFromLinkInput.current,color:"red",idealDirection:"up",onDismiss:this.clearValidationError,size:"sm",children:(0,s.jsx)(o.xu,{padding:3,width:"100%",children:(0,s.jsx)(o.xv,{align:"center",color:"inverse",weight:"bold",children:e})})})}))}componentDidMount(){const{isInputOpen:e,submittedLink:t}=this.props;(e||t)&&this.setState({showCreateModal:!!e,showInlineTextEditCreatePin:!!e,createPinFromLinkUrl:t||""})}render(){const{bgColor:e,boardId:t,buttonPadding:n,disabledPinCreation:r,i18n:a,iconButtonColor:d="gray",iconButtonSize:c="xl",viewType:m}=this.props,{showCreateModal:g,showPublishingDisabledError:f}=this.state;let v=this.props.i18n.bt("   ", "Add a Pin or board", "heading in profile create modal", undefined, true);164===m?v=this.props.i18n.bt("  ", "Add to section", "heading in section create modal", undefined, true):5===m&&(v=this.props.i18n.bt("   ", "Add a Pin or section", "heading in profile create modal", undefined, true)||a.bt("  ", "Add to board", "heading in board create modal", undefined, true));const y=4===m?this.props.i18n.bt("  ", "Add to profile", "editPin.AddToProfile.Modal.Header", undefined, true):v;return(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(o.kC,{alignItems:"center",justifyContent:"start",children:(0,s.jsx)(h.Z,{id:"createMenuCreateButton",children:(0,s.jsx)(o.hU,{accessibilityLabel:this.props.i18n.bt("   ", "Create a Pin or board", "icon that opens model prompting user to create a new pin or board", undefined, true),bgColor:e,iconColor:d,icon:"add",size:c,padding:"auto"!==n?n:1,onClick:({event:e})=>this.openCreateModal(e)})})}),g&&(0,s.jsx)(p.ZP,{mobileAccessibilityCloseIconLabel:this.props.i18n.bt("     ", "close board and pin create modal", "close modal that prompts user to create a new pin or board", undefined, true),accessibilityModalLabel:"",heading:y,isOpen:this.state.showCreateModal,onDismiss:this.closeCreateModal,type:"create_menu",children:(0,s.jsx)(o.xu,{padding:3,children:(0,s.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,s.jsxs)(i.Fragment,{children:[(0,s.jsxs)(o.xu,{paddingX:2,children:[(0,s.jsx)(o.xv,{children:this.props.i18n.bt("", "Create", "editPin.Create.Section.Text", undefined, true)}),(0,s.jsx)(i.Fragment,{children:this.renderCreatePinFromLinkOption()}),(0,s.jsx)(u,{disabledPinCreation:r,handleDisablePublish:this.handleDisablePublish,handleTouch:this.handleTouch})]}),164!==m&&(0,s.jsxs)(o.xu,{marginTop:6,paddingX:2,children:[(0,s.jsx)(o.xv,{children:this.props.i18n.bt("", "Add", "editPin.Section.Add.Text", undefined, true)}),(0,s.jsx)(l,{boardId:t,handleTouch:()=>{this.handleTouch(),this.closeCreateModal()},viewType:m})]})]}),(0,s.jsx)(o.xu,{display:"flex",justifyContent:"center",marginBottom:2,marginTop:7,children:(0,s.jsx)(o.zx,{onClick:()=>this.closeCreateModal(),size:"lg",text:this.props.i18n.bt("", "Close", "editPin.Modal.Close.Button", undefined, true)})})]})})}),f&&(0,s.jsx)(_,{isOpen:!0,onDismiss:()=>{this.setState({showPublishingDisabledError:!1})}})]})}}function T(e){const t=(0,a.ZP)(),{checkExperiment:n}=(0,f.F)(),i=["disable_all","disable_web_pins"].includes(n("disable_pin_creation").group),o=(0,r.useDispatch)(),l=(0,d.useHistory)(),{pinBuilder:c}=(0,r.useSelector)((e=>e.session)),u=(0,v.Z)(),p=c&&c.isInputOpen,_=c&&c.submittedLink,h=(0,y.Z)();return(0,s.jsx)(S,{...e,disabledPinCreation:i,history:l,i18n:t,isInputOpen:p,logContextEvent:u,requireAuthForLimitedLogin:h,submittedLink:_,updatePinBuilderInput:e=>o((0,x.p)(e))})}},57791:(e,t,n)=>{n.d(t,{MZ:()=>C,di:()=>j,Ai:()=>R});var i=n(667294),r=n(296679),a=n(8320),o=n(329900),s=n(926275),l=n(250059),d=n(149230),c=n(407043),u=n(48714),p=n(276775);const _=({children:e,external:t,externalQueryParams:n,target:i,href:r})=>{const{logContextEvent:a}=(0,c.v)(),o=(0,p.useHistory)(),s=(0,p.useLocation)();if(!r)return null;const _=(0,l.Z)(r);return e({navigate:e=>{e.preventDefault(),(0,d.Z)({url:_})||t?(0,u.lI)({href:_,queryParams:n,location:s},a,null):(0,u.G3)({event:e,href:r,history:o,target:"blank"===i?"blank":null})}})};var h=n(883119),m=n(785893);const g=({accessibilityLabel:e,children:t,external:n,externalQueryParams:i,inline:r=!1,newTab:a,nofollow:o,onTouch:s,onBlur:d,onFocus:c,pressState:u,rounding:p,to:g})=>(0,m.jsx)(_,{external:n,target:a?"blank":null,externalQueryParams:i,href:g,children:({navigate:n})=>(0,m.jsx)(h.rU,{accessibilityLabel:e,onBlur:d?({event:e})=>d(e):void 0,onFocus:c?({event:e})=>c(e):void 0,underline:"none",href:(0,l.Z)(g),display:r?"inlineBlock":"block",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),null==s||s(e),e.defaultPrevented||n(e)},rel:o?"nofollow":"none",rounding:p,tapStyle:(Array.isArray(u)?u:[u]).includes("compress")?"compress":"none",children:t})}),f=({external:e,externalQueryParams:t,newTab:n,onTouch:i,to:r,...o})=>(0,m.jsx)(_,{external:e,target:n?"blank":null,externalQueryParams:t,href:r,children:({navigate:e})=>(0,m.jsx)(a.Z,{onTouch:t=>{null==i||i(t),t.defaultPrevented||e(t)},...o})});var v=n(938917),y=n(112690),x=n(19121),b=n(30287),w=n(948376),S=n(773285),T=n(780280),I=n(698330),P=n(844974),E=n(339363),A=n(53987);const k=(e,t=!1)=>function({isAppUpsellDisabled:n,...a}){const{children:l,clientTrackingParams:d,deeplinkUri:c,external:u,onTouch:_,refresh:g,to:f,viewParameter:k,viewType:C}=a,R=(0,v.Z)(),[j,D]=(0,i.useState)(!1),[O,N]=(0,i.useState)(!1),{isAuth:L}=(0,x.Z)(),{userAgent:{platform:U},locale:F}=(0,T.B)(),M=(0,I.Tt)(),z=(0,y.Z)(),{checkExperiment:B}=(0,S.F)(),Z=(0,p.useLocation)();(0,i.useEffect)((()=>{!async function(){if("getInstalledRelatedApps"in navigator){(await navigator.getInstalledRelatedApps()).length>0&&N(!0)}}()}),[]);const H=()=>{z({event_type:1701,view_type:C,view_parameter:k}),j&&D(!1)};return(0,m.jsxs)(h.xu,{"data-test-id":"deeplink-wrapper",children:[j&&(0,m.jsx)(r.Z,{clientTrackingParams:d,deepLinkUri:c,isOpen:!0,onDismiss:()=>{z({component:14157,element:10308,event_type:10220,view_type:C||202,view_parameter:k,aux_data:{app_upsell_type:"deep-link-app-upsell-modal"}})},onOpenInApp:()=>{(0,P.Nh)("deeplinkBehavior","branchfallback"),H()},shouldTrackDismiss:!0,to:f,viewParameter:k,viewType:C,within:"deep-link-app-upsell-modal"}),(0,m.jsx)(o.Z,{children:i=>(0,m.jsx)(e,{...a,onTouch:e=>{const r=R&&!n&&L&&!u&&!g&&!(0,b.FP)(window)&&!("ios"===U&&(F||"").startsWith("ar"))&&(0,w.kp)((0,s.Z)(null==M?void 0:M.created_at));if(r)if(B("mweb_auth_deep_link_app_upsell").group.startsWith("enabled_check_install")){"string"==typeof c&&(c||"").startsWith("/pin/")&&((0,A.uM)(Z)||(0,A.am)(Z)||(0,A.C$)(Z))&&!O&&(e.stopPropagation(),e.preventDefault(),D(!0))}else e.stopPropagation(),e.preventDefault(),D(!0);else"branchfallback"!==(0,P.qn)("deeplinkBehavior")||(0,E.qn)("fallbackAttempt")||(e.stopPropagation(),e.preventDefault(),(0,E.Nh)("fallbackAttempt",1),i(c,`${window.location.origin}${a=f,"string"==typeof a?a:`${a.pathname||""}${a.search?`?${a.search}`:""}`}`),H());var a;t&&r||!_||_(e)},children:l})})]})},C=k(g),R=k(f),j=k(a.Z,!0)},329900:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(172071),r=n(826067);const a="http://play.google.com/store/apps/details?id=com.pinterest",o=["access_token","new_password","new_password_confirm","password","next"],s=(e,t)=>t?(0,r.ru)(e,{invite_code:t}):e,l=(e,t,n)=>{if("ios"===t&&"string"==typeof e&&e.startsWith("discover/article/")){const t=e.split("/")[2];e=`discover_article/${t}/?is_deeplink=1`}return"string"==typeof e?s(e,n):"ios"===t||"ipad"===t?s(e.iOS,n):"android"===t?s(e.android,n):null},d=({deeplinkUri:e,fallbackUrl:t,invite_code:n,platform:s,redirectToLite:d,unauthId:c,userAgent:u})=>{if(e){const p=(({deeplinkUri:e,invite_code:t,platform:n,fallbackUrl:i,unauthId:a})=>({deeplink_path:l(e,n,t),current_page_url:(0,r.Gw)("undefined"!=typeof window?window.location.href:"",o),install_id:a,utm_source:140,utm_medium:2152,...i?{af_r:i}:null}))({deeplinkUri:e,fallbackUrl:t,invite_code:n,platform:s,unauthId:c,userAgent:u});if(i.Z.increment("mweb.deeplink",1,{platform:s}),n&&i.Z.increment("mweb.deeplink.invite_code",1),i.Z.increment("mweb.deeplink.unauthId",1,{withUnauthId:Boolean(c)}),d){i.Z.increment("mweb.deeplink.lite_link",1);const e=(({unauthId:e})=>{const t=(0,r.XP)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:e});return{referrer:encodeURI(t)}})({unauthId:c});window.location.href=(0,r.ru)("http://play.google.com/store/apps/details?id=com.pinterest.twa",e)}else if("android"===s){const t=(({deeplinkUri:e,invite_code:t,platform:n,unauthId:i})=>{const a=JSON.stringify({deeplink_path:l(e,n,t),current_page_url:(0,r.Gw)("undefined"!=typeof window?window.location.href:"",o),install_id:i});return{referrer:(0,r.XP)({utm_source:"mweb",utm_medium:"upsell",utm_content:a})}})({deeplinkUri:e,invite_code:n,platform:s,unauthId:c});"getInstalledRelatedApps"in navigator?navigator.getInstalledRelatedApps().then((e=>{if(e.length>0){const e=(0,r.ru)(window.location.href,p);window.open(e)}else window.location.href=(0,r.ru)(a,t)})).catch(i.Z.increment("mweb_android.deeplink.playStore.error",1)):window.location.href=(0,r.ru)(a,t)}else{if(i.Z.increment("mweb.deeplink.appsflyer_link",1),"ios"===s&&"undefined"!=typeof window&&window.location.href.includes("show_yip_modal"))return void(window.location.href=(0,r.ru)("https://pinterest.com/pinterest-predicts",p));window.location.href=(0,r.ru)("https://pinterest.onelink.me/TVSr/21e04bfd",p)}}};var c=n(619277),u=n(948376),p=n(780280),_=n(785893);function h({children:e,invite_code:t}){const{unauthId:n,userAgent:{platform:i,raw:r}}=(0,p.B)();return e((async(e,a)=>{d({deeplinkUri:e,fallbackUrl:a,invite_code:t,platform:i,redirectToLite:(0,u.Rp)({platform:i,userAgent:r}),unauthId:n,userAgent:r})}))}const m=e=>(0,_.jsx)(c.ty,{children:t=>(0,_.jsx)(h,{...e,invite_code:t})});m.displayName="DeepLinkNavigator";const g=m},79113:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(667294),r=n(124580),a=n(740990),o=n(223815),s=n(643010),l=n(968121),d=n(965900),c=n(883119),u=n(785893);const p={border:(0,s.Yc)()?void 0:"1px solid #efefef",width:"100vw",maxHeight:"100%",height:"100%",overflow:"auto",top:"0",left:"0",position:"fixed",backgroundColor:(0,s.Yc)()?"#000":"#fff",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"},_={modalOpen:{__style:{...p}},modalClose:{__style:{...p,transform:"translate3d(0px, 100%, 0px)"}}};function h({accessibilityModalLabel:e,allowClickAndDrag:t,children:n,isOpen:s}){const{setAppFocusState:p}=(0,d.I)(),h=(0,i.useRef)(null);return(0,i.useEffect)((()=>(s&&(r.Z.pause(),p(!1),document.body&&(document.body.style.overflow="hidden")),()=>{s&&(r.Z.resume(),p(!0),document.body&&(document.body.style.overflow=""))})),[s,p]),(0,u.jsx)(o.Z,{allowClickAndDrag:t,children:(0,u.jsx)(c.mh,{zIndex:l.b7,children:(0,u.jsx)(c.xu,{display:"inlineBlock",role:"dialog","aria-label":e,children:(0,u.jsx)(c.xu,{ref:h,dangerouslySetInlineStyle:{__style:s?_.modalOpen.__style:_.modalClose.__style},children:(0,u.jsx)(a.Z.Provider,{value:h.current,children:n})})})})})}},326960:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),r=n(172071),a=n(883119),o=n(813401),s=n(112690),l=n(785893);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=(e,t)=>{const n=e&&e.replace(".","_");return t?n&&n.substring(0,50):n};class u extends i.Component{constructor(...e){super(...e),d(this,"state",{href:void 0}),d(this,"onEvent",(()=>new Promise(((e,t)=>{"undefined"==typeof window&&t();const{filename:n,imgSrc:i,isAndroidTwa:a,isChromeOnIOS:o,isUnauth:s,logContextEvent:l,category:d,viewParameter:u,viewType:p,pinId:_,imageSignature:h}=this.props,{href:m}=this.state;window.AndroidTwa&&window.AndroidTwa.downloadImage?(window.AndroidTwa.downloadImage(i,c(n,a)),e()):o?(this.imageDownload&&this.imageDownload.click(),e()):null==m&&fetch(i,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then((e=>e.blob())).then((t=>{this.setState({href:window.URL.createObjectURL(t)},(()=>{this.imageDownload&&(this.imageDownload.click(),e())}))})).catch((()=>this.setState({href:this.DOWNLOAD_ERROR}))),r.Z.increment(`mweb.${s?"unauth":"auth"}.download.click.${d||"no_category"}`),l({event_type:82,object_id_str:_,view_type:p||3,view_parameter:u||139,aux_data:{image_signature:h}})})))),d(this,"DOWNLOAD_ERROR","error")}render(){const{children:e,filename:t,imgSrc:n,isAndroidTwa:r,isChromeOnIOS:o}=this.props,{href:s}=this.state,d=null!=s&&s!==this.DOWNLOAD_ERROR;return(0,l.jsxs)(i.Fragment,{children:[e(this.onEvent),o&&n?(0,l.jsx)(a.xu,{display:"none",children:(0,l.jsx)("a",{ref:e=>this.imageDownload=e,rel:"noopener noreferrer",tabIndex:-1,target:"_blank",href:n})}):d&&(0,l.jsx)(a.xu,{display:"none",children:(0,l.jsx)("a",{ref:e=>this.imageDownload=e,tabIndex:-1,download:c(t,r),href:s})})]})}}function p(e){const t=(0,o.xC)(),n=(0,s.Z)();return(0,l.jsx)(u,{...e,isAndroidTwa:t,logContextEvent:n})}},425713:(e,t,n)=>{n.d(t,{Zt:()=>se,iK:()=>le,G9:()=>ee,ZP:()=>de,kk:()=>Q,cV:()=>ne});var i=n(667294),r=n(702664),a=n(157796),o=n(391254),s=n(283698),l=n(313047),d=n(100183),c=n(639952),u=n(81636),p=n(898781),_=n(883119),h=n(785893);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g="BizNuxHomefeedLoader",f=[140,220,265],v=["#E2780D","#0074e8","#0FA573","#FAB904","#133A5E","#FF8A8A"],y=e=>({position:"absolute",width:"100%",height:"100%",top:"0px",left:"0px",zIndex:"1",pointerEvents:"none",...e?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:"1.15s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${g}_FadeOut`,animationDuration:".5s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:`${g}_FadeOut`}:{}}),x=e=>e?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:".5s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${g}_FadeOut`,animationDuration:".4s",animationDelay:".5s",animationFillMode:"forwards",animationName:`${g}_FadeOut`}:{},b=[`${g}_FadeOut {\n    from { opacity: 1 }\n    to { opacity: 0 }\n  }`,`${g}_SlideUp {\n    from {\n      -webkit-transform: translateY(100vh);\n      transform: translateY(100vh);\n    }\n    to {\n      -webkit-transform: translateY(0);\n      transform: translateY(0);\n    }\n  }`];class w extends i.PureComponent{constructor(...e){super(...e),m(this,"state",{enterAnimationFinished:!1,startExitAnimation:!1}),m(this,"enterAnimationDidFinished",(()=>{this.setState({enterAnimationFinished:!0})})),m(this,"startExitAnimation",(()=>{const{dismissLoader:e}=this.props;this.setState({startExitAnimation:!0},(()=>{this.exitAnimationTimeout=setTimeout((()=>{e()}),1700)}))}))}componentDidMount(){window.scrollTo(0,0),this.enterAnimationTimeout=setTimeout((()=>{this.enterAnimationDidFinished()}),2e3)}componentDidUpdate(e){const{homefeedLoading:t}=this.props,{enterAnimationFinished:n,startExitAnimation:i}=this.state;!n||t||i||(0,s.Z)(this.startExitAnimation)}componentWillUnmount(){clearTimeout(this.enterAnimationTimeout),clearTimeout(this.exitAnimationTimeout)}get gridCellDimensionsByColumn(){const{gridContainerRef:e}=this.props;if(!e.current)return null;const t=e.current.querySelectorAll(".PinCard__imageWrapper"),n=Array.from({length:this.numberOfColumns},(e=>[]));for(let i=0;i<t.length;i+=1){const e=t[i].getBoundingClientRect();n[Math.round(e.left/(window.innerWidth/this.numberOfColumns))].push(e)}return n}get numberOfColumns(){return Math.max(Math.floor(window.innerWidth/200),2)}computeGridCellLayout(e,t,n){const i=this.numberOfColumns+1,r=(window&&window.innerWidth-16*i)/this.numberOfColumns;return{left:e*r+16*(e+1),top:n,width:r,height:f[(e+t)%f.length]}}renderGrid(){const{selectedTopics:e}=this.props,{startExitAnimation:t}=this.state,n=Array(this.numberOfColumns).fill(l.DEFAULT_HEIGHT),i=this.gridCellDimensionsByColumn,r=e.map(((e,r)=>{const a=r%this.numberOfColumns,o=Math.floor(r/this.numberOfColumns),s=v[r%v.length],l=n[a],d=this.computeGridCellLayout(a,o,l),c=(({color:e,startAnimation:t,originDimension:n,destinationDimension:i={}})=>{const r=i&&i.height>0?{top:i.top,left:i.left,width:i.width,height:i.height}:{opacity:0};return{position:"absolute",WebkitTransitionDuration:".5s",WebkitTransitionDelay:".6s",WebkitTransitionProperty:"all",WebkitTransitionTimingFunction:"ease-in-out",transitionDuration:".5s",transitionDelay:".6s",transitionProperty:"all",transitionTimingFunction:"ease-in-out",height:n.height,width:n.width,left:n.left,top:n.top,backgroundColor:e,borderRadius:"8px",...t?r:{}}})({color:s,startAnimation:t,originDimension:d,destinationDimension:i&&i[a][o]});return n[a]+=16+d.height,(0,h.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:c},children:(0,h.jsx)(_.xu,{margin:5,display:"flex",justifyContent:"start",alignItems:"start",dangerouslySetInlineStyle:{__style:x(t)},children:(0,h.jsx)(_.X6,{color:"light",size:"500",children:e.name})})},r)}));return(0,h.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{position:"absolute",height:"100%",width:"100%",left:0,top:0,WebkitTransform:"translateY(100vh)",WebkitAnimationDuration:".8s",WebkitAnimationDelay:"1.2s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${g}_SlideUp`,transform:"translateY(100vh)",animationDuration:".8s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:`${g}_SlideUp`}},children:r})}render(){const{startExitAnimation:e}=this.state;return(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(o.Z,{unsafeCSS:(0,d.Ll)(b)}),(0,h.jsx)(_.xu,{color:"default",dangerouslySetInlineStyle:{__style:y(e)},children:(0,h.jsxs)(_.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(a.Z,{duration:3700,finalProgress:100}),(0,h.jsx)(_.xu,{margin:10,dangerouslySetInlineStyle:{__style:{WebkitAnimationDuration:".5s",WebkitAnimationDelay:"1.4s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${g}_FadeOut`,animationDuration:".5s",animationDelay:"1.25s",animationFillMode:"forwards",animationName:`${g}_FadeOut`}},children:(0,h.jsx)(_.X6,{children:this.props.i18n.bt("  ...", "Personalizing your feed with...", "Loading homefeed details", undefined, true)})})]}),this.renderGrid()]})})]})}}function S(e){const t=(0,p.ZP)(),n=(0,r.useSelector)((({topics:e})=>e)),i=(0,r.useDispatch)();return(0,u.Q)({view_type:24,view_parameter:261}),(0,h.jsx)(w,{...e,dismissLoader:()=>i((0,c.MI)(!1)),i18n:t,selectedTopics:Object.keys(n).filter((e=>n[e].is_followed)).map((e=>n[e]))})}var T=n(223019),I=n(491563),P=n(63552),E=n(920231),A=n(698629),k=n(635225);function C({text:e,isSelected:t,icon:n,animationType:i,position:r,hasStartPulling:a,isExecuted:o}){return(0,h.jsxs)(_.xu,{display:"flex",direction:"column",alignItems:"center",marginBottom:6,children:[(0,h.jsx)(_.xu,{color:t?"dark":"secondary","data-test-id":"action-animated-icon",rounding:"circle",padding:a?4:0,dangerouslySetInlineStyle:t&&o?{__style:{transform:"rotate(360deg)",transition:"all .9s ease-out"}}:{__style:{transition:"all .3s ease-out",marginTop:t&&"move"===i?40:0}},children:(0,h.jsx)(_.JO,{size:100*r<24?100*r:24,icon:n,accessibilityLabel:e,color:t?"light":"dark"})}),(0,h.jsx)(_.xu,{padding:1,"data-test-id":"action-animated-text",dangerouslySetInlineStyle:{__style:{opacity:t?1:0,transition:"all .3s ease-out"}},children:(0,h.jsx)(_.xv,{align:"center",size:"100",children:e})})]})}function R({enabled:e,onSelect:t,refreshing:n}){const r=(0,i.useRef)(null),[a,o]=(0,i.useState)(0),[s,l]=(0,i.useState)(!1),d=n?0:a/250,c=d>0,u=()=>{l(!1),o(0)};(0,i.useEffect)((()=>{if(e){const e=e=>{window.scrollY<=0&&!n&&(r.current=e.touches[0].clientY)},i=e=>{if(r.current){const t=.5*(e.touches[0].clientY-r.current);t>0&&(o(t),e.preventDefault())}},s=e=>{r.current&&(l(!0),t({pullDistance:a,position:d,resetState:u}),r.current=null)};return window.addEventListener("touchstart",e),window.addEventListener("touchmove",i,{passive:!1}),window.addEventListener("touchend",s),()=>{window.removeEventListener("touchstart",e),window.removeEventListener("touchmove",i,{passive:!1}),window.removeEventListener("touchend",s)}}}),[e,t,a,n,d]);const p=r.current;return{pullDistance:a,hasStartPulling:c,position:d,startYRefCurrent:p,PULL_MENU_DISTANCE:250,isExecuted:s}}var j=n(407043),D=n(276775);function O({enabled:e,onPull:t,refreshing:n}){const i=(0,p.ZP)(),r=(0,D.useHistory)(),{logContextEvent:a}=(0,j.v)(),o=e=>e>=.6,s=e=>e>.4&&e<.6,{position:l,hasStartPulling:d,PULL_MENU_DISTANCE:c,isExecuted:u}=R({enabled:e,onSelect:e=>{const{position:n,resetState:i}=e;s(n)?setTimeout((()=>{a({view_type:1,event_type:158,view_parameter:92}),t(),i()}),500):o(n)?setTimeout((()=>{a({view_type:1,event_type:10144,view_parameter:92}),r.push("edit/"),i()}),500):i()},refreshing:n}),m=i.bt("", "Refresh", "pullMenu.refresh", undefined, true),g=i.bt(" ", "Edit Feed", "pullMenu.goTuner", undefined, true);return(0,h.jsx)(_.xu,{children:e&&(0,h.jsxs)(_.xu,{display:"flex",alignItems:"center",direction:"column",height:l*c,justifyContent:"center",marginBottom:d?4:0,children:[(0,h.jsx)(C,{text:g,isSelected:o(l),icon:"edit",animationType:"move",position:l,hasStartPulling:d,isExecuted:u}),(0,h.jsx)(C,{text:m,isSelected:s(l),icon:"refresh",position:l,hasStartPulling:d,isExecuted:u})]})})}function N({enabled:e,onPull:t,refreshing:n}){const i=(0,p.ZP)(),{logContextEvent:r}=(0,j.v)(),{position:a,startYRefCurrent:o,pullDistance:s}=R({enabled:e,onSelect:e=>{const{pullDistance:n,resetState:i}=e;n>=120&&(r({view_type:1,event_type:158,view_parameter:92}),t()),i()},refreshing:n}),l=Math.min(a,1),d=i.bt(" ,  ", "Pull to refresh", "Pull down on grid to refresh items", undefined, true);return(0,h.jsx)(_.xu,{children:e&&(0,h.jsx)(_.xu,{display:"flex",alignItems:"center",justifyContent:"center",height:120*a,dangerouslySetInlineStyle:{__style:{opacity:l,transition:null===o?"all .3s ease-out":void 0}},children:(0,h.jsx)(_.JO,{size:40,icon:o&&s<120?"arrow-circle-down":"arrow-circle-up",accessibilityLabel:d})})})}var L=n(773285);function U({enabled:e,onPull:t,refreshing:n}){const{checkExperiment:r}=(0,L.F)(),{anyEnabled:a}=r("hfp_drive_traffic_to_homefeed_tuner_mweb");return(0,h.jsx)(i.Fragment,{children:a?(0,h.jsx)(O,{enabled:e,onPull:t,refreshing:n}):(0,h.jsx)(N,{enabled:e,onPull:t,refreshing:n})})}var F=n(740990),M=n(182476),z=n(784590),B=n(19121),Z=n(844887),H=n(305324),G=n(780280),V=n(317254),W=n(894023),K=n(50286),q=n(444445);const Y=e=>`BREAK_IN_${e}`,$=new Map,X=e=>{const t=$.get(e);if(t)return t;const n=Object.freeze({type:"FEED_BREAK_IN",id:Y(e)});return $.set(e,n),n};function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Q=({isDesktop:e})=>{const t=(0,W.pinRepPaddingInBoint)({isDesktop:e});return t?-t:0},ee=-2,te={},ne=e=>{te[e]&&te[e].handlePullToRefresh()},ie=()=>{const e="desktop"===(0,K.ZP)(),t=(0,W.pinRepPaddingInBoint)({isDesktop:e}),n=t?-t:0;return(0,h.jsx)(_.xu,{marginTop:n,marginBottom:n,paddingY:t})},re=({children:e,feedRef:t,viewParameter:n,viewType:i})=>(0,B.Z)().isAuth?e:(0,h.jsx)(H.g,{feedRef:t,viewParameter:n,viewType:i,children:e}),ae=()=>{const{plpImageRenderData:e}=(0,Z.HW)(),[t]=e;return t?t.pin_id:null};class oe extends i.PureComponent{constructor(...e){super(...e),J(this,"state",{refreshing:!1,unauthLandingPinStateForAuthHomefeed:this.props.authHomefeedComponentDidUpdate?{pinId:ae(),feedItem:null}:null}),J(this,"backOnlineAutoFetchResource",(()=>{this.props.pagination.loadNext()})),J(this,"handlePullToRefresh",(()=>{this.props.pagination.refetch(),this.setState({refreshing:!0})})),J(this,"gridContainerRef",(0,i.createRef)()),J(this,"renderFeedPin",((e,t)=>{const{feedItemProps:n,location:i,performanceOptimization:r,renderSquarePins:a,showSeoMetadata:o,squarePins:s,trafficSource:l,duploUnauthRelatedPinsAutoplayExpGroup:d}=this.props,{auxData:c,componentType:u,feedback:p,imageOnly:_,impressionData:m,objectIdStr:g,oneTapSave:f,onFeedItemClick:v,onPinLinkClick:y,shouldAllowProductPriceIndicator:x,showSeoMetadata:b,viewData:w,viewParameter:S,viewType:T}=n||{},I=(i.search||"").includes("force_seo"),P=!(null==r||!r.lazyLoadBelowFoldIndex)&&t>r.lazyLoadBelowFoldIndex,E=!(null==r||!r.priorityFetchAboveFoldIndex)&&t<=r.priorityFetchAboveFoldIndex;return(0,h.jsx)(W.default,{auxData:c,componentType:u||0,duploFeedItemProps:{onPinClick:v,onPinLinkClick:y,showSeoMetadata:o||I||b},duploIsSquarePin:a||s,duploLazyLoadImage:P,duploOneTapSave:f,duploPriorityFetchImage:E,duploShouldAllowProductPriceIndicator:x,feedback:p,imageOnlyOption:_?"image-only":"default",impressionData:m,objectIdStr:g,pinId:e.id,slotIndex:t,trackingParams:e.trackingParams,trafficSource:l,viewData:w,viewParameter:S,duploUnauthRelatedPinsAutoplayExpGroup:d,viewType:T||1})}))}componentDidMount(){var e,t;window.addEventListener("online",this.backOnlineAutoFetchResource),e=this.props.feedKey,t=this,te[e]=t}componentWillUnmount(){var e;window.removeEventListener("online",this.backOnlineAutoFetchResource),e=this.props.feedKey,delete te[e]}componentDidUpdate(e){const{refreshing:t,unauthLandingPinStateForAuthHomefeed:n}=this.state,{feedItems:i,authHomefeedComponentDidUpdate:r}=this.props,a=t&&e.pagination.isLoadingNext&&!this.props.pagination.isLoadingNext;if(a&&this.setState({refreshing:!1}),r&&n){const t=r({feedItems:i,prevFeedItems:e.feedItems,finishedRefresh:a,unauthLandingPinStateForAuthHomefeed:n});t&&this.setState({unauthLandingPinStateForAuthHomefeed:t})}}render(){const{deviceType:e,emptyState:t,feedItems:n,feedKey:r,gridConfig:a,pagination:o,pullToRefresh:s,serverRender:l,showBizNuxHomefeedLoader:d,trafficSource:c,feedItemProps:u,feedItemsAdjustment:p,renderFeedItem:m,visuallyCompleteProfilerOptions:g}=this.props,{unauthLandingPinStateForAuthHomefeed:f}=this.state,v=null!=f&&f.feedItem&&n.length?[f.feedItem,...n]:n,{viewParameter:y,viewType:x}=u||{},{key:b}=a||{},w=r+(b?`|${b}`:""),C="user_search"===c,R=C?window.innerWidth-16:200,j={columnWidth:"desktop"===e?q.yF:R,renderItem:({data:e,itemIdx:t})=>{if(m){const n=m(e,t);if("FALLBACK_TO_DEFAULT"!==n)return n}switch(e.type){case"pin":return(0,h.jsx)(P.Z,{onTouch:e=>{if(e.target instanceof HTMLElement&&"IMG"===e.target.tagName){const t=e.target.getBoundingClientRect().top+window.scrollY-70;window.scrollTo(window.scrollX,t)}},pressState:"none",children:this.renderFeedPin(e,t)});case"user":return(0,h.jsx)(I.Z,{truncateName:!0,userId:e.id,userSearchRepStyle:"user_search"===c,viewParameter:y,viewType:x});case"board":return(0,h.jsx)(T.Z,{boardId:e.id,type:"grid",viewParameter:y,viewType:x});case"topic":return(0,h.jsx)(M.Z,{id:e.id,shouldClickthrough:!0,showFollowButton:!0,showFollowerCount:!0,viewParameter:y,viewType:x});case"story":return"number"==typeof y?(0,h.jsx)(k.Z,{slotIndex:t,storyId:e.id,viewParameter:y,viewType:x||1,pinGraphqlRef:null}):null;case"FEED_BREAK_IN":return p&&"breakIn"===p.type&&p.value.content;default:return null}},gutterWidth:"desktop"===e?4*q.jC:void 0,loadItems:o.loadNext,minCols:C?1:2,...a},D=!d&&o.isLoadingNext&&0===v.length&&!this.state.refreshing,[O,N,L]="fullWidthBreakIn"===(null==p?void 0:p.type)?[v.slice(0,p.value.index),p.value.content,v.slice(p.value.index)]:[v,null,[]],z="desktop"===e&&"flashlight"===c,B=z?0:q.qG;return(0,h.jsxs)(_.xu,{"data-test-id":"MobileFeed",children:[(0,h.jsx)(U,{enabled:!!s,onPull:this.handlePullToRefresh,refreshing:this.state.refreshing}),(0,h.jsxs)(_.xu,{marginStart:B,marginEnd:B,"data-test-id":"grid",ref:this.gridContainerRef,opacity:this.state.refreshing?.5:1,children:[(0,h.jsx)(V.Z,{includeBackgroundImages:null==g?void 0:g.includeBackgroundImages,includeVideos:null==g?void 0:g.includeVideos,isAtEndOfFeed:!o.hasNext,itemCount:v.length,pinData:null==g?void 0:g.pins,children:v.length?(0,h.jsx)(_.xu,{"data-test-id":"feed",marginTop:Q({isDesktop:"desktop"===e}),children:(0,h.jsx)(F.Z.Consumer,{children:e=>(0,h.jsx)(i.Fragment,{children:(0,h.jsxs)(re,{feedRef:this.gridContainerRef,viewParameter:y,viewType:x||1,children:[(0,h.jsx)(E.Z,{cacheKey:w,id:l?r:void 0,items:O,scrollContainerRef:e,serverRender:l,...j}),N,L.length>0&&(0,h.jsx)(E.Z,{cacheKey:`${w}_afterBreak`,items:L,scrollContainerRef:e,...j})]})})})}):o.isLoadingNext?(0,h.jsx)(ie,{}):null!=t?t:null}),D&&(0,h.jsx)(_.xu,{column:12,paddingY:2,children:(0,h.jsx)(A.Z,{partialViewportWidth:z})}),d&&(0,h.jsx)(S,{homefeedLoading:o.isLoadingNext,gridContainerRef:this.gridContainerRef})]})]})}}function se({feedItems:e,pagination:t,...n}){const{feedItemsAdjustment:i}=n,a=(0,D.useLocation)(),o=(0,K.ZP)(),{isAuthenticated:s,isBot:l}=(0,G.B)(),{isBizNuxHomefeedLoadShown:d}=(0,r.useSelector)((({session:e})=>e));let c=e;return"breakIn"===(null==i?void 0:i.type)?c=(({breakIn:{index:e},items:t})=>t.length<e?t:[...t.slice(0,e),X(e),...t.slice(e)])({items:e,breakIn:i.value}):"offset"===(null==i?void 0:i.type)&&(c=e.slice(i.value)),(0,h.jsx)(oe,{...n,deviceType:o,feedItems:c,isAuthenticated:s,pagination:t,location:a,showBizNuxHomefeedLoader:!!d,showSeoMetadata:l||!s})}function le({resource:{isAtEnd:e,isFetching:t,fetchMore:n,refresh:i},...a}){const o=(0,r.useSelector)((({feeds:e})=>{var t;return null!==(t=e[a.feedKey])&&void 0!==t?t:[]}));return(0,h.jsx)(se,{...a,feedItems:o,pagination:{hasNext:!e,isLoadingNext:t,loadNext:()=>n(),refetch:()=>i()}})}function de({resourceConfig:e,...t}){const n=(0,z.Z)(e);return(0,h.jsx)(le,{...t,resource:n})}},635974:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(702664),r=n(815613),a=n(698330),o=n(461773),s=n(785893);function l({user:e,invertColors:t,isSecondaryButton:n,onTap:l,size:d,viewParameter:c,viewType:u}){const p=(0,i.useDispatch)(),{id:_}=null!=e?e:{},h=(0,a.kW)(),m=h[_]?h[_].explicitly_followed_by_me:null==e?void 0:e.explicitly_followed_by_me;return(0,s.jsx)(r.Z,{id:_,onFollow:()=>{p((0,o.ZN)(_)),l&&l()},onUnfollow:()=>{p((0,o.fv)(_)),l&&l()},size:d,invertColors:t,isSecondaryButton:n,isFollowed:m,isUserFollowButton:!0,followEventType:45,unfollowEventType:46,viewParameter:c,viewType:u})}},999594:(e,t,n)=>{n.d(t,{C:()=>r,e:()=>i});const i=0,r=new Set(["/","/today"])},861411:(e,t,n)=>{n.d(t,{fv:()=>g,GR:()=>p,Hs:()=>v,Mv:()=>h,uc:()=>m,dL:()=>_,qS:()=>f,Y4:()=>b,HE:()=>x,Cy:()=>y});var i=n(667294),r=n(973935),a=n(124580),o=n(407043),s=n(785893);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.Component{constructor(...e){super(...e),l(this,"observe",(()=>{try{if(this.node=(0,r.findDOMNode)(this),this.node instanceof HTMLElement){const{pinIdStr:e,newsIdStr:t}=this.props.eventData;a.Z.start(this.node).onExitViewport(this.logImpression).setDebugId(e||t||"unknown")}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}})),l(this,"logImpression",(e=>{this.props.logImpression({viewData:this.props.viewData||{},viewType:this.props.viewType,viewParameter:this.props.viewParameter,eventType:this.props.eventType,impressionType:this.props.impressionType,auxData:this.props.auxData,component:this.props.component,objectIdStr:this.props.objectIdStr,eventData:{endTime:e.endTime,time:e.startTime,...this.props.eventData}}),this.props.onTracked&&this.props.onTracked(this.props.eventData)}))}componentDidMount(){this.props.isPaused||this.observe()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.observe()}componentWillUnmount(){this.node instanceof HTMLElement&&a.Z.stop(this.node)}render(){return i.Children.only(this.props.children)}}function c(e){const{logImpression:t}=(0,o.v)();return(0,s.jsx)(d,{...e,logImpression:t})}function u({auxData:e,component:t,eventData:n,eventType:r,impressionType:s,isPaused:l,objectIdStr:d,onTracked:c,viewData:u,viewType:p,viewParameter:_}){const h=(0,i.useRef)(null),{logImpression:m}=(0,o.v)(),g=(0,i.useCallback)((()=>{const i=i=>{m({viewData:u||{},viewType:p,viewParameter:_,eventType:r,impressionType:s,auxData:e,component:t,objectIdStr:d,eventData:{endTime:i.endTime,time:i.startTime,...n}}),c&&c(n)};try{if(h.current instanceof HTMLElement){const{pinIdStr:e,newsIdStr:t}=n;a.Z.start(h.current).onExitViewport(i).setDebugId(e||t||"unknown")}}catch(o){window.console.error('Can only track impressions for type "HTMLElement"')}}),[h.current]);return(0,i.useEffect)((()=>{l||g();const e=h.current;return()=>{e instanceof HTMLElement&&a.Z.stop(e)}}),[l,g]),h}const p=e=>(0,s.jsx)(c,{eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),_=e=>{const t=u({eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},h=e=>{const t=u({eventData:{newsIdStr:e.notificationId,newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},auxData:e.auxData||{},eventType:4111,impressionType:"notificationDetailImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},m=e=>{const t=u({eventData:{newsIdStr:e.notificationId,newsType:e.newsType},auxData:e.auxData||{},eventType:4110,impressionType:"notificationFeedImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3081});return e.children({impressionTrackerRef:t})},g=e=>(0,s.jsx)(c,{eventData:{...e.impressionData||{},articleIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:3829,impressionType:"articleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),f=e=>{const t=u({eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},v=e=>(0,s.jsx)(c,{eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),y=e=>{const t=u({eventData:{...e.impressionData||{},userIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3704,impressionType:"userImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},x=e=>{const t=u({eventData:{...e.impressionData||{},topicIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3703,impressionType:"topicImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},b=e=>{const t=u({eventData:{...e.impressionData||{},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:8569,impressionType:"todayArticleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})}},63552:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(883119),r=n(785893);function a({children:e,onMouseEnter:t,onMouseLeave:n,onTouch:a,rounding:o,fullWidth:s=!1,pressState:l="none",accessibilityLabel:d,role:c}){const u=(Array.isArray(l)?l:[l]).includes("compress");return(0,r.jsx)(i.iP,{fullWidth:s,onMouseEnter:t&&(({event:e})=>t(e)),onMouseLeave:n&&(({event:e})=>n(e)),onTap:a&&(({event:e})=>a(e)),rounding:o,tapStyle:u?"compress":"none",accessibilityLabel:d,role:c,children:e})}},44846:(e,t,n)=>{n.d(t,{Zk:()=>J,Z7:()=>ee,wt:()=>Q,ZP:()=>se});var i=n(667294),r=n(702664),a=n(333312);const o=e=>{const t=e.split("/");return 4===t.length?"pin"===t[1]&&""===t[3]:3===t.length&&("pin"===t[1]&&""!==t[2])};var s=n(926275),l=n(375574),d=n(898781),c=n(883119),u=n(785893);const p=({color:e="subtle",showLabel:t=!1,viewType:n})=>{const i=(0,d.ZP)();return(0,u.jsx)(c.xu,{rounding:3,flex:"grow",children:(0,u.jsxs)(c.xu,{display:"flex",justifyContent:"center",position:"relative",direction:"column",children:[(0,u.jsx)(c.xu,{display:"flex",justifyContent:"center",padding:1,children:(0,u.jsx)(l.Z,{elementType:249,iconButtonColor:"gray",iconButtonSize:"xl",viewType:n})}),t&&(0,u.jsx)(c.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{WebkitUserSelect:"none"}},children:(0,u.jsx)(c.xv,{align:"center",size:"100",lineClamp:1,color:e,children:i.bt("", "Create", "nav.navFooterAdd.createPinButton", undefined, true)})})]})})};var _=n(116303);const h=({height:e,width:t})=>(0,u.jsx)(c.xu,{alignItems:"center",color:"primary",dangerouslySetInlineStyle:{__style:{padding:"0 3px 0 2px"}},display:"flex",height:e,justifyContent:"center",width:t,position:"absolute",rounding:"pill",children:(0,u.jsx)(c.xv,{align:"center",color:"inverse",size:"100",weight:"bold",children:(0,u.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{padding:"0 0 1px 1px"}},children:" "})})}),m={zIndex:1,position:"relative"},g=(0,i.forwardRef)((({accessibilityLabel:e,avatarSrc:t,badge:n,badgeMargins:r,color:a,flyoutText:o,icon:s,onTouch:l,showFlyout:p,showFlyoutButton:g,showLabel:f,svgPath:v,title:y,to:x},b)=>{const w=(0,d.ZP)(),[S,T]=(0,i.useState)(!1),I=(0,i.useRef)(),P="nav-bar-"+String(s);return(0,u.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:S?m:{}},flex:"grow",children:(0,u.jsx)(c.iP,{onBlur:()=>T(!1),onFocus:()=>T(!0),onTap:({event:e})=>l(e),tapStyle:"compress",rounding:f?4:6,role:"link",href:x,children:(0,u.jsxs)(c.xu,{display:"flex",justifyContent:"center",position:"relative",color:"transparent",direction:"column",rounding:3,"data-test-id":P,children:[(0,u.jsxs)(c.xu,{position:"relative",display:"flex",justifyContent:"center",ref:b,children:[(0,u.jsx)(c.xu,{padding:2,ref:I,children:t?(0,u.jsx)(c.xu,{rounding:"circle",dangerouslySetInlineStyle:{__style:{boxShadow:"default"===a?"0 0 0 2px black":"0 0 0 2px transparent"}},children:(0,u.jsx)(_.Z,{name:e,src:t,size:"xs"})}):(0,u.jsx)(c.JO,{accessibilityLabel:e,icon:s,color:a,size:24,inline:!0,dangerouslySetSvgPath:v?{__path:v}:void 0})}),n&&(0,u.jsx)(c.xu,{marginStart:null==r?void 0:r.marginLeft,marginEnd:null==r?void 0:r.marginRight,marginTop:null==r?void 0:r.marginTop,marginBottom:null==r?void 0:r.marginBottom,position:"absolute",children:n.text?(0,u.jsx)(c.Ct,{position:"middle",type:"error",text:n.text.toString()||""}):(0,u.jsx)(h,{height:n.height,width:n.width})}),p&&(0,u.jsx)(c.J2,{anchor:I.current,color:"blue",onDismiss:()=>{},showCaret:!0,size:"flexible",children:(0,u.jsxs)(c.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",minHeight:70,paddingX:g?4:0,paddingY:g?4:1,width:g?200:132,children:[(0,u.jsx)(c.xv,{align:"center",color:"inverse",children:o||w.bt(" - ", "Explore something new", "Flyout message prompting user to click on the explore icon.", undefined, true)}),g?(0,u.jsx)(c.xu,{marginTop:4,children:(0,u.jsx)(c.zx,{role:"link",accessibilityLabel:w.bt("", "Explore", "navFooter.flyout.button", undefined, true),color:"white",href:x,onClick:({event:e})=>l(e),text:w.bt("", "Explore", "navFooter.flyout.button", undefined, true)})}):null]})})]}),f&&(0,u.jsx)(c.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{WebkitUserSelect:"none"}},children:(0,u.jsx)(c.xv,{align:"center",color:a,size:"100",lineClamp:1,children:y})})]})})})})),f=({accessibilityLabel:e,homeFlyoutText:t,isAuthenticated:n,onTouch:r,showHomeBadge:a,shouldUpsellHomePage:o,showHomeFlyoutWithButton:s,selectedItem:l,showLabel:d,title:p})=>{const _={badge:{width:8,height:8},badgeMargins:{marginLeft:6,marginTop:1}},h=(0,i.useRef)(null);return(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(g,{accessibilityLabel:e,badge:a?_.badge:void 0,badgeMargins:a?_.badgeMargins:void 0,color:"home"===l?"default":"subtle",flyoutText:t,onTouch:()=>{r()},showFlyout:s,showFlyoutButton:s,showLabel:d,svgPath:"M12 0L1 10v14h8v-7a3 3 0 116 0v7h8V10z",title:p,to:n?"/":"/ideas/",ref:h}),o&&(0,u.jsx)(c.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:(0,u.jsx)(c.o3,{size:90})})]})};var v=n(121093),y=n(461355),x=n(332611),b=n(378518),w=n(780280);const S=[501227],T={badge:{width:8,height:8,text:" "},badgeMargins:{marginLeft:6,marginTop:1}},I=(0,i.memo)((({avatarSrc:e,completeExperience:t,experience:n,isActive:r,locationPath:a,onTouch:o,showLabel:s,username:l})=>{const c=(0,d.ZP)(),{isAuthenticated:p}=(0,w.B)(),_=a.startsWith(`/${l}`),h=n&&S.includes(n.experience_id);(0,i.useEffect)((()=>{if(h&&_){const{experience_id:e,placement_id:i}=n||{};t(i,e)}}));const m=t=>(0,u.jsx)(g,{accessibilityLabel:c.bt(" ", "My profile", "Nav bar icon", undefined, true),avatarSrc:e,color:r?"default":"subtle",icon:"person",onTouch:o,showLabel:s,title:c.bt("", "Saved", "Saved button on the Nav bar", undefined, true),to:l?`/${l}/`:p?"/":"/unauth-profile/",...t});return h&&!_?(0,u.jsx)(v.Z,{eligibleIds:S,experience:n,children:m(T)}):m({})})),P=(0,r.connect)(null,(e=>({completeExperience:(t,n)=>e((0,x.CK)(t,n))})))((e=>{const t=(0,b._)({id:1000181});return(0,u.jsx)(y.Z,{children:(0,u.jsx)(I,{experience:t,...e})})})),E=({accessibilityLabel:e,onTouch:t,selectedItem:n,showLabel:r,title:a})=>{const o=(0,i.useRef)(null);return(0,u.jsx)(i.Fragment,{children:(0,u.jsx)(g,{accessibilityLabel:e,color:"videos"===n?"default":"subtle",onTouch:()=>{t()},showLabel:r,svgPath:"M10.53 15.85A1 1 0 019 15V9a1 1 0 011.53-.85l4.98 3a1 1 0 010 1.7zM0 8a8 8 0 018-8h8a8 8 0 018 8v8a8 8 0 01-8 8H8a8 8 0 01-8-8zm4 0v8a4 4 0 004 4h8a4 4 0 004-4V8a4 4 0 00-4-4H8a4 4 0 00-4 4z",title:a,to:"/videos/",ref:o})})};var A=n(379764),k=n(6637);function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class R extends i.PureComponent{constructor(...e){super(...e),C(this,"state",{newsBadgeCount:0,unreadMessageCount:0,showBadge:!1}),C(this,"clearNotificationBadge",(()=>{const{isAuthenticated:e,onTouch:t}=this.props;e&&(k.Z.create("NewsHubBadgeResource",{}).callDelete({showError:!1}),this.setState({newsBadgeCount:0,showBadge:!1})),t&&t()})),C(this,"getBadging",(()=>{k.Z.create("NewsHubBadgeResource",{}).callGet().then((({resource_response:{data:e}})=>{const t=e.news_hub_count+e.conversations_unseen_count;this.setState({newsBadgeCount:e.news_hub_count,unreadMessageCount:e.conversations_unseen_count,showBadge:t>0})}))}))}componentDidMount(){this.props.isAuthenticated&&this.getBadging()}render(){const{isActive:e,showLabel:t,icon:n="speech-ellipsis",onTouch:i}=this.props,{newsBadgeCount:r,unreadMessageCount:a,showBadge:o}=this.state,s=r+a,l=s>0&&s<100?s:"99+",d=l.toString().length,c={width:1===d?16:2===d?24:30,height:16,text:l},p=a>0?"/inbox/":"/notifications/";return(0,u.jsx)(g,{accessibilityLabel:this.props.i18n.bt("   ", "News notifications and messages", "mweb.navbar.notifs_button.a11y", undefined, true),badge:o&&c||void 0,badgeMargins:{marginLeft:4},icon:n,to:p,color:e?"default":"subtle",onTouch:"/notifications/"===p?this.clearNotificationBadge:i,title:this.props.i18n.bt("", "Notifications", "Notifications button on the Nav bar", undefined, true),showLabel:t})}}function j(e){const t=(0,d.ZP)(),{isAuthenticated:n}=(0,w.B)();return(0,u.jsx)(R,{...e,i18n:t,isAuthenticated:n})}var D=n(425713),O=n(385740),N=n(276775);class L extends i.PureComponent{constructor(...e){var t,n,i;super(...e),i=null,(n="leftHomeTimeOut")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidUpdate(e){const{location:t}=this.props;this.shouldRefreshHomefeed(t.pathname)?this.refreshHomefeed():this.shouldSetLeftHomeTimeout(t.pathname,e)?this.setLeftHomeTimeout():this.shouldClearLeftHomeTimeout(t.pathname)&&this.clearLeftHomeTimeout()}componentWillUnmount(){this.clearLeftHomeTimeout()}setLeftHomeTimeout(){this.leftHomeTimeOut=setTimeout((()=>{this.leftHomeTimeOut&&(this.clearLeftHomeTimeout(),this.leftHomeTimeOut=void 0)}),5e3)}clearLeftHomeTimeout(){this.leftHomeTimeOut&&(clearTimeout(this.leftHomeTimeOut),this.leftHomeTimeOut=null)}refreshHomefeed(){(0,D.cV)("homefeed"),this.leftHomeTimeOut=null}shouldClearLeftHomeTimeout(e){return this.leftHomeTimeOut&&"/"===e}shouldRefreshHomefeed(e){return"/"===e&&92===this.props.viewParameter&&void 0===this.leftHomeTimeOut}shouldSetLeftHomeTimeout(e,t){return null===this.leftHomeTimeOut&&"/"!==e&&"/"===t.location.pathname&&!e.startsWith("/pin/")}render(){return null}}function U(e){const t=(0,N.useLocation)(),{viewParameter:n,viewData:i}=(0,O.SU)();return(0,u.jsx)(L,{...e,location:t,viewParameter:n,viewData:i})}var F=n(941646),M=n(313047),z=n(995081),B=n(966113),Z=n(29857),H=n(867820),G=n(773285),V=n(50286),W=n(118405),K=n(112690),q=n(52022),Y=n(999594),$=n(534427);function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const J=52,Q=160,ee=60,te={},ne=e=>{const t=e>100?e-100:5,n=Math.max(e-t,0);window.scrollTo(0,n),n>0&&window.requestAnimationFrame((()=>ne(n)))},ie=e=>"/"===e||o(e)||e.startsWith("/search/")||"/inbox/"===e||"/inbox/compose/"===e||"/notifications/"===e||e.includes("/report/"),re=e=>{switch(e){case"home":return 146;case"notifications":return 139;case"profile":return 40;case"today":return 11674;case"videos":return 11924;case"search":return 43;default:return}},ae=(e,t,n)=>{const i=te[e.key];if(i)return i;const r=e.pathname;return"/"===r||!n&&"/ideas/"===r?"home":r.startsWith("/inbox")?"inbox":r.startsWith("/notifications")?"notifications":r.startsWith("/videos")?"videos":r.startsWith("/today")?"today":r.startsWith("/search")?"search":(0,N.matchPath)(r,{path:`/${t}/(|pins|boards|tried)?`,exact:!0})||!n&&r.startsWith("/unauth-profile")?"profile":null};class oe extends i.PureComponent{constructor(...e){super(...e),X(this,"state",{bottom:0,hasScrolled:!1,isNavFooterHidden:!1,prevLocation:this.props.location,selectedItem:ae(this.props.location,this.props.username,this.props.isAuthenticated),showUnauthNavExplorePrompt:!1}),X(this,"profileButtonRef",(0,i.createRef)()),X(this,"handleScrollForIphoneX",(()=>{window.innerHeight!==this.currInnerHeight&&(this.currInnerHeight=window.innerHeight,this.forceUpdate())})),X(this,"selectItem",(e=>{const{logContextEvent:t,viewData:n,viewParameter:i,viewType:r}=this.props;this.setState({selectedItem:e}),t({component:8,element:re(e),event_type:102,view_data:n,view_type:r,view_parameter:i})})),X(this,"handleHomeTouch",(()=>{const{activeHomefeedTabIndex:e,isAuthenticated:t,location:n,setHomeFlyoutText:i,setHomefeedAsActiveHomefeedTab:r,setShowHomeBadge:a,setShowHomeFlyoutWithButton:o,trackInteraction:s}=this.props;this.selectItem("home"),(0,$.E)(!1),i(),a(!1),o(!1),s({action:"click",item:"nav-bar-home"}),t?(0,H.My)("mweb.auth.bottom-nav.home-tap"):(0,H.My)("mweb.unauth.bottom-nav.home-tap"),Y.C.has(n.pathname)&&e!==Y.e&&0===window.scrollY?r():0===window.scrollY&&"/"===n.pathname?(0,D.cV)("homefeed"):"/"===window.location.pathname&&window.scrollY>0&&ne(window.scrollY)})),X(this,"handleVideoIconTouch",(()=>{const{trackInteraction:e}=this.props;this.selectItem("videos"),e({action:"click",item:"nav-bar-videos"}),(0,H.My)("mweb.unauth.bottom-nav.videos-icon-tap")})),X(this,"handleInboxTouch",(()=>this.selectItem("inbox"))),X(this,"handleProfileTouch",(()=>{const{isAuthenticated:e,trackInteraction:t}=this.props;this.selectItem("profile"),t({action:"click",item:"nav-bar-profile"}),e?(0,H.My)("mweb.auth.bottom-nav.profile-tap"):(0,H.My)("mweb.unauth.bottom-nav.profile-tap")})),X(this,"handleSearchTouch",(()=>{const{isAuthenticated:e,trackInteraction:t}=this.props;this.selectItem("search"),t({action:"click",item:"nav-bar-search"}),e?(0,H.My)("mweb.auth.bottom-nav.search-tap"):(0,H.My)("mweb.unauth.bottom-nav.search-tap")})),X(this,"handleNavFooterScroll",(e=>{const{experience:t,dismissExperience:n,setIsNavFooterHiddenAfterScroll:i}=this.props,{hasScrolled:r}=this.state;t&&502511===t.experience_id&&n&&!r&&n(1000151,502511),this.setState({isNavFooterHidden:e,hasScrolled:!0}),i(e)})),X(this,"currInnerHeight",0)}componentDidMount(){const{devicePlatform:e}=this.props;this.currInnerHeight=window.innerHeight,(0,z.Rq)(e)&&window.addEventListener("scroll",this.handleScrollForIphoneX)}static getDerivedStateFromProps(e,t){return e.location===t.prevLocation?null:{...t,prevLocation:e.location,selectedItem:ae(e.location,e.username,e.isAuthenticated)}}componentDidUpdate({location:e},{selectedItem:t}){const{location:n,history:{action:i}}=this.props,{selectedItem:r}=this.state;e!==n&&("REPLACE"===i||"PUSH"===i&&t!==r)&&(te[e.key]=t,te[n.key]=r)}componentWillUnmount(){const{devicePlatform:e,location:t}=this.props;te[t.key]=this.state.selectedItem,(0,z.Rq)(e)&&window.removeEventListener("scroll",this.handleScrollForIphoneX)}render(){var e;const{forceShowNavFooter:t,isAuthenticated:n,isTablet:r,showDockedNavBar:o,dockNavBarForAuthTablet:l,inUnauthVideosNavExp:d,homeFlyoutText:_,location:h,shouldUpsellHomePage:m,showHomeBadge:v,showHomeFlyoutWithButton:x,username:b,viewingUser:w,viewType:S,history:T}=this.props,{isNavFooterHidden:I,selectedItem:k}=this.state,C=(0,s.Z)(null==w?void 0:w.created_at),R=n&&C,D=((e,t,n,i)=>t||i&&!n?i?"100%":e?320:264:200)(R,n,r,o),O=!h.pathname.startsWith(`/${b}`);return(0,u.jsxs)(M.FixedFooter,{forceShow:t,height:ee,location:h,showDockedNavBar:o,dockNavBarForAuthTablet:l,isTablet:r,isModal:(N=h.pathname,N.includes("/report/")),footerWidth:D,noPadding:!0,hideOnScroll:!o&&!l&&(!n||n&&ie(h.pathname)),onScroll:this.handleNavFooterScroll,footerInLego:!0,zIndex:A.Z,children:[(0,u.jsx)(U,{}),(0,u.jsxs)(c.xu,{alignItems:"center",display:"flex",justifyContent:"around",marginEnd:"auto",marginStart:"auto",maxWidth:D,paddingX:2,width:D,children:[(0,u.jsx)(c.xu,{alignItems:"center",display:"flex",justifyContent:"center",position:"relative",flex:"grow","data-test-id":"nav-bar-home",children:(0,u.jsx)(f,{accessibilityLabel:this.props.i18n.bt("", "Home", "Nav bar icon", undefined, true),homeFlyoutText:_,isAuthenticated:n,onTouch:this.handleHomeTouch,selectedItem:k,shouldUpsellHomePage:m&&!I,showHomeBadge:v,showHomeFlyoutWithButton:x,showLabel:R,title:this.props.i18n.bt("", "Home", "Home button on the Nav bar", undefined, true)})}),!n&&(0,u.jsx)(c.xu,{flex:"grow","data-test-id":"nav-bar-search",children:(0,u.jsx)(F.Z,{id:"nav-bar-search",children:(0,u.jsx)(g,{accessibilityLabel:this.props.i18n.bt("", "Search", "bottomNavBar.searchButton", undefined, true),color:"search"===k?"default":"subtle",icon:"search",onTouch:this.handleSearchTouch,showLabel:R,title:this.props.i18n.bt("", "Search", "bottomNavBar.searchButton", undefined, true),to:"/search/"})})}),n&&(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(g,{icon:"search",to:"/search/",color:"search"===k?"default":"subtle",accessibilityLabel:this.props.i18n.bt("", "Search", "Nav bar icon", undefined, true),onTouch:this.handleSearchTouch,title:this.props.i18n.bt("", "Search", "Nav bar icon", undefined, true),showLabel:R}),(null==w?void 0:w.is_partner)&&(0,u.jsx)(p,{showLabel:R,viewType:S}),(0,u.jsx)(j,{isActive:"inbox"===k||"notifications"===k,onTouch:this.handleInboxTouch,showLabel:R,icon:"speech-ellipsis"})]}),d&&(0,u.jsx)(c.xu,{alignItems:"center",display:"flex",justifyContent:"center",position:"relative",flex:"grow","data-test-id":"nav-bar-videos",children:(0,u.jsx)(E,{accessibilityLabel:this.props.i18n.bt("", "Videos", "bottomNavBar.VideosButton", undefined, true),onTouch:this.handleVideoIconTouch,selectedItem:k,showLabel:R,title:this.props.i18n.bt("", "Videos", "bottomNavBar.VideosButton", undefined, true)})}),(0,u.jsx)(y.Z,{children:(0,u.jsx)(c.xu,{flex:"grow","data-test-id":"nav-bar-profile",ref:this.profileButtonRef,children:(0,u.jsx)(P,{avatarSrc:!w||null!==(e=w.image_small_url)&&void 0!==e&&e.includes("default")||"string"!=typeof w.image_small_url?"":w.image_small_url,isActive:"profile"===k,locationPath:h.pathname,onTouch:this.handleProfileTouch,showLabel:R,username:b})})})]}),O&&(0,u.jsx)(a.default,{anchor:this.profileButtonRef.current,experienceIds:[505320],onClickComplete:()=>T.push(B.Gx),placementId:1000151,showCaret:!0,textWeight:"normal",hasFullWidthButton:!1,textAlign:"center",flyoutSize:"md"})]});var N}}const se=(0,r.connect)((function({homefeedTabUI:e,session:t,users:n}){return{activeHomefeedTabIndex:e.activeTabIndex,devicePlatform:t.userAgentPlatform,isAuthenticated:t.isAuthenticated,username:t.isAuthenticated&&n[t.userId]?n[t.userId].username:"",viewingUser:t.isAuthenticated?n[t.userId]:void 0}}),(function(e){return{dismissExperience:(t,n)=>e((0,x.Qu)(t,n)),setHomefeedAsActiveHomefeedTab:()=>e((0,Z.r)(null,Y.e))}}))((e=>{const t=(0,$.S)(),n=(0,N.useHistory)(),i=(0,N.useLocation)(),r=(0,d.ZP)(),{forceShowNavFooter:a,homeFlyoutText:o,setHomeFlyoutText:s,setIsNavFooterHiddenAfterScroll:l,setShowHomeBadge:c,setShowHomeFlyoutWithButton:p,showHomeBadge:_,showHomeFlyoutWithButton:h}=(0,W.U)(),m=(0,b._)({id:1000151}),{viewParameter:g,viewType:f,viewData:v}=(0,O.SU)(),y=(0,K.Z)(),x=(0,q.Z)(),{checkExperiment:w}=(0,G.F)(),S=(0,V.Wb)();return w("community_engagement_holdout_2023_h1"),w("social_growth_holdout_2022_h2"),w("social_growth_holdout_2023_h1"),(0,u.jsx)(oe,{...e,experience:m,forceShowNavFooter:a,history:n,location:i,logContextEvent:y,homeFlyoutText:o,isTablet:S,setHomeFlyoutText:s,setIsNavFooterHiddenAfterScroll:l,setShowHomeBadge:c,setShowHomeFlyoutWithButton:p,showHomeBadge:_,showHomeFlyoutWithButton:h,shouldUpsellHomePage:t,trackInteraction:x,i18n:r,viewData:v,viewParameter:g,viewType:f})}))},118405:(e,t,n)=>{n.d(t,{U:()=>s,m:()=>l});var i=n(667294),r=n(425288),a=n(785893);const{Provider:o,useHook:s}=(0,r.Z)("NavFooterContext");function l({children:e}){const[t,n]=(0,i.useState)(),[r,s]=(0,i.useState)(!1),[l,d]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1),[p,_]=(0,i.useState)(!1);return(0,a.jsx)(o,{value:{forceShowNavFooter:p,homeFlyoutText:t,isNavFooterHiddenAfterScroll:r,setForceShowNavFooter:_,setHomeFlyoutText:n,setIsNavFooterHiddenAfterScroll:s,setShowHomeBadge:d,setShowHomeFlyoutWithButton:u,showHomeBadge:l,showHomeFlyoutWithButton:c},children:e})}},722512:(e,t,n)=>{n.d(t,{Z:()=>p,e:()=>u});var i=n(19121),r=n(883119),a=n(50286),o=n(240684),s=n(785893);const l=(0,o.ZP)({resolved:{},chunkName:()=>"MobilePageWrapper",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(77322).then(n.bind(n,346485)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 346485}}),d=(0,o.ZP)({resolved:{},chunkName:()=>"DesktopUnauthPageWrapper",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(846),n.e(61135),n.e(55582),n.e(48804),n.e(73489)]).then(n.bind(n,493447)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 493447}}),c=(0,o.ZP)({resolved:{},chunkName:()=>"AuthDesktopPageWrapper",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(50239),n.e(16115)]).then(n.bind(n,509423)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 509423}});function u({isAuthenticated:e,isDesktop:t}){return e&&t?c:!e&&t?d:l}function p({children:e}){const{isAuth:t}=(0,i.Z)(),n=(0,a.HG)();return n&&t?(0,s.jsx)(r.xu,{minHeight:"100vh",children:(0,s.jsx)(c,{children:e})}):n&&!t?(0,s.jsx)(d,{children:e}):(0,s.jsx)(l,{children:e})}},948945:(e,t,n)=>{n.d(t,{Z:()=>de});var i=n(667294),r=n(81226),a=n(702664),o=n(8320),s=n(977734),l=n(499128),d=n(898781),c=n(112690),u=n(927383),p=n(662089),_=n(52022),h=n(332611),m=n(639952),g=n(57791),f=n(881802),v=n(698330),y=n(883119),x=n(276775),b=n(785893);const w=new y.Ry(1);function S({buttonText:e,clientTrackingParams:t,color:n="primary",deeplinkUri:r,experience:S,inline:T=!0,minWidth:I,onTouch:P,onUnsave:E,pinId:A,pinnedToBoardId:k,shape:C,shouldShowSavedButton:R,viewType:j,viewParameter:D,showSaveHandoffExperience:O}){var N;const L=(0,d.ZP)(),U=(0,a.useDispatch)(),F=(0,x.useHistory)(),M=(0,x.useLocation)().pathname.startsWith("/pin"),z=(0,a.useSelector)((({session:e})=>e.hasSavedUnauthPin)),B=(0,a.useSelector)((({session:e})=>e.unauthSavePinId)),Z=null===(N=(0,v.Tt)())||void 0===N?void 0:N.pin_count,H=(0,c.Z)(),G=(0,_.Z)(),{showToast:V,showRepinConfirmation:W}=(0,p.Z)(),K=()=>{U((0,s.Z)({history:F,i18n:L,logContextEvent:H,onSuccess:()=>{S&&U((0,h.CK)(S.placement_id,S.experience_id))},originalPinId:A,pinId:A,trackingParams:{clientTrackingParams:t,pinnedToBoardId:k},showRepinConfirmation:O&&!M?()=>{}:W,disableRepinAnimation:B===A,pinCount:Z})).catch((e=>V((({hideToast:t})=>(0,b.jsx)(l.ZP,{variant:"error",text:e.message||L.bt(" ,  .", "Sorry! Something went wrong on our end.", "quickSave.toast.error.message", undefined, true),onHide:t})))))},q=(0,i.useRef)(null),Y=O&&!z,$=(0,u.Z)()({fn:e=>{e.stopPropagation(),e.preventDefault(),P&&P(e),R?R&&E&&E():K()},modalHeader:(0,f.Bx)(L)});(0,i.useEffect)((()=>{Y&&!q.current&&(G({action:"trigger",item:"unauth-save-button-quicksave"}),K(),U((0,m.e2)())),q.current=Y}));const X=()=>L.bt("", "Pin", "quickSave.quickSaveButton.icon.accessibilityLabel", undefined, true),J=()=>e||L.bt("", "Save", "quickSave.quickSaveButton.buttonText", undefined, true);return z&&!M?null:(0,b.jsx)(y.xu,{"data-test-id":"save-button-mobile",zIndex:w,children:r?(0,b.jsx)(g.di,{accessibilityLabel:X(),color:n,customStyles:{padding:"14px 16px"},deeplinkUri:r,inline:T,minHeight:48,minWidth:I,onTouch:$,pressState:["compress","background"],shape:C,size:"lg",text:J(),to:F.location.pathname,upsellType:"save",viewType:j,viewParameter:D}):(0,b.jsx)(o.Z,{accessibilityLabel:X(),color:n,customStyles:{padding:"14px 16px"},inline:T,minHeight:48,minWidth:I,onTouch:$,pressState:"compress",shape:C,size:"300",text:J()})})}var T=n(139574),I=n(850431),P=n(780280),E=n(177891),A=n(343341);function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class C extends i.PureComponent{constructor(...e){var t;super(...e),t=this,k(this,"state",{saveState:void 0}),k(this,"legoFixedZIndex",new y.Ry(2)),k(this,"onAddPin",(async function(){const{clientTrackingParams:e,dispatch:n,i18n:i,oneTapSave:r,pinId:a,pinnedToBoardId:o,showToast:s,viewType:d,historyPush:c}=t.props;try{const i=await n((0,I.w)({i18n:t.props.i18n,logContextEvent:t.props.logContextEvent,originalPinId:a,pinId:a,boardId:null==r?void 0:r.boardId,isOneTapSave:!0,onUndo:()=>{t.onDeletePin()},section:null==r?void 0:r.section,showToast:s,trackingParams:{clientTrackingParams:e,pinnedToBoardId:o},viewType:d,historyPush:c}));t.setState({saveState:"saved"}),n((0,E.a)({boardId:null==r?void 0:r.boardId,localPinId:i.id,pinId:a}))}catch(u){s((({hideToast:e})=>(0,b.jsx)(l.ZP,{variant:"error",text:u.message||i.bt(",  .  !", "Sorry! Something went wrong on our end.", "error during repin", undefined, true),onHide:e}))),t.setState({saveState:void 0})}})),k(this,"onDeletePin",(async function(){const{dispatch:e,clientTrackingParams:n,i18n:i,pinId:r,savedInfo:a,showToast:o}=t.props;if(a){e((0,E.k)({boardId:a.boardId,localPinId:a.localPinId,pinId:r}));try{await e((0,T.q)({pinId:a.localPinId,boardId:a.boardId,clientTrackingParams:n})),o((({hideToast:e})=>(0,b.jsx)(l.ZP,{text:i.bt(" ", "Pin deleted!", "User deleted their pin", undefined, true),onHide:e}))),t.setState({saveState:void 0})}catch(s){o((({hideToast:e})=>(0,b.jsx)(l.ZP,{variant:"error",text:i.bt(" ,     .", "Sorry! There was an error deleting your Pin.", "Error when user tried to delete pin", undefined, true),onHide:e}))),t.setState({saveState:"saved"})}}})),k(this,"handlePinAction",this.props.requireAuthForLimitedLogin({fn:({event:e})=>{e.stopPropagation(),e.preventDefault();const{saveState:t}=this.state,{history:n,pinId:i,isOneTapExploreLocalTab:r,pinnedToBoard:a}=this.props;["saving","deleting"].includes(t)||r&&a||(t||this.props.savedInfo?this.props.isOneTapExploreLocalTab||(this.setState({saveState:"deleting"}),this.onDeletePin()):(this.setState({saveState:"saving"}),r?n.push({pathname:`/pin/${i}/repin`,state:{isOneTapSave:!0}}):this.onAddPin()))},modalHeader:(0,f.Bx)(this.props.i18n)})),k(this,"shouldDisplayAsSaved",(({isOneTapExploreLocalTab:e,pinnedToBoard:t,savedInfo:n})=>e?!!t:!!n))}render(){const{children:e,clientTrackingParams:t,homepageExperience:n,i18n:r,isOneTapExploreLocalTab:a,isRTL:o,oneTapSave:s,pinId:l,pinnedToBoard:d,pinnedToBoardId:c,savedInfo:u,shouldShowSaveHandoffExp:p}=this.props;if(!s&&!a&&!p)return e;const _=this.shouldDisplayAsSaved({isOneTapExploreLocalTab:a,pinnedToBoard:d,savedInfo:u}),h="#000",m="rgba(255, 255, 255, 0.8)",g="light",f="dark";return(0,b.jsxs)(i.Fragment,{children:[e,(0,b.jsx)(y.xu,{bottom:!0,left:o,padding:2,position:"absolute",right:!o,zIndex:this.legoFixedZIndex,children:p?(0,b.jsx)(S,{buttonText:d?r.bt("", "Saved", "OneTapSave.QuickSaveButton.Saved", undefined, true):"",clientTrackingParams:t,color:d?"default":"primary",deeplinkUri:"deeplinkUri",experience:n,inline:!0,pinnedToBoardId:c,minWidth:54,pinId:l,shape:"pill",shouldShowSavedButton:!!d,showSaveHandoffExperience:p}):(0,b.jsx)(y.iP,{onTap:this.handlePinAction,rounding:"circle",children:(0,b.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:_?h:m}},padding:2,rounding:"circle",children:(0,b.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{opacity:100}},children:(0,b.jsx)(y.JO,{accessibilityLabel:_?r.bt("", "saved", "checkmark icon to show pin has been saved", undefined, true):r.bt("", "save", "button for saving quickly with one click", undefined, true),icon:_?"check":"add",color:_?g:f,size:"24"})})})})})]})}}const R=(0,a.connect)(((e,{pinId:t})=>({savedInfo:e.pins[t]&&e.pins[t].savedInfo,pinnedToBoard:e.pins[t]&&e.pins[t].pinned_to_board,homepageExperience:e.experiences[40001]})))((function(e){const{showToast:t}=(0,A.F9)(),n=(0,d.ZP)(),i=(0,c.Z)(),r=(0,u.Z)(),o=(0,x.useHistory)(),{isRTL:s,isAuthenticated:l}=(0,P.B)(),p=(0,a.useSelector)((({session:e})=>e.unauthSavePinId)),_=l&&!!p&&p===e.pinId;return(0,b.jsx)(C,{...e,i18n:n,requireAuthForLimitedLogin:r,history:o,logContextEvent:i,showToast:t,shouldShowSaveHandoffExp:_,isRTL:s,historyPush:e=>o.push(e)})}));R.displayName="OneTapSave";const j=R;var D=n(883561),O=n(349700);function N({boardUrl:e,boardName:t,isQuicksave:n,sectionName:i,sectionSlug:r}){const a=(0,d.ZP)(),o=(0,x.useHistory)(),s=new y.Ry(1),l=!!r&&`${e}${r}/`;return(0,b.jsx)(y.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,zIndex:s,dangerouslySetInlineStyle:{__style:{background:"rgb(0 0 0 / .4)"}},children:(0,b.jsx)(y.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"start",padding:4,children:(0,b.jsx)(y.iP,{onTap:t=>{t.event.preventDefault(),o.push(n?"/me/":l||e)},children:(0,b.jsx)(y.xv,{color:"light",children:i?(0,O.nk)(a.bt("   {{sectionName}}", "Saved to {{sectionName}}", "PinCard.SavedToSection.Overlay", undefined, true),{sectionName:(0,b.jsx)(y.xv,{color:"light",weight:"bold",inline:!0,children:(0,D.ZP)(i,22)},`pincard-${i}`)}):(0,O.nk)(a.bt("   {{boardName}}", "Saved to {{boardName}}", "PinCard.SavedToBoard.Overlay", undefined, true),{boardName:(0,b.jsx)(y.xv,{color:"light",weight:"bold",inline:!0,children:n?a.bt("", "Profile", "PinCard.SavedToProfile.Overlay", undefined, true):(0,D.ZP)(t,22)},`pincard-${t}`)})})})})})}var L=n(167525),U=n(964082),F=n(36971),M=n(463045);function z({isSquarePin:e,color:t,description:n,imageUrl:i,imageHeight:r,imageWidth:a,onError:o,onLoad:s}){const l=(0,b.jsx)(y.Ee,{alt:n||"",color:t,naturalHeight:null!=r?r:1,naturalWidth:null!=a?a:1,onError:o,onLoad:s,src:null!=i?i:"",fit:e?"cover":void 0});return e?(0,b.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},children:(0,b.jsx)(y.xu,{top:!0,right:!0,bottom:!0,left:!0,position:"absolute",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:l})}):l}var B=n(350445),Z=n(46584),H=n(926749),G=n(623568),V=n(965900),W=n(50286);function K({inAdsVideoExperiment:e,unauthRelatedPinsAutoplayExpGroup:t,isAutoplay:n,cropHeight:r,currentTime:a,onLoad:o,onError:s,onTimeChange:l,pin:c,playing:u,rootMargin:p,viewType:_,viewParameter:h,onVisibilityChanged:m,trackFullVisible:g,videoDuration:f,imageHeightModifier:v,image:x,isSquarePin:w}){var S,T,I,P;const E=(0,d.ZP)(),[A,k]=(0,i.useState)(!1),[C,R]=(0,i.useState)(!0),{is_downstream_promotion:j,promoter:D}=c,O=(0,G.jL)(j,D),N=O&&!c.is_eligible_for_web_closeup,U=3372===h||42===_,F=O&&c.is_eligible_for_web_closeup&&!U,{setCurrentVideo:M,pauseAutoplay:K}=(0,V.I)(),q=N||!O,Y=(0,Z.Z)({onVisibilityChanged:m,inAdsDesktopVideoExperiment:e,trackFullVisible:g,rootMargin:p});let $=!u;(e||null!=t&&t.startsWith("enabled"))&&($=C,n&&u&&C&&R(!1));const{url:X}=(null===(S=c.images)||void 0===S?void 0:S["236x"])||{},{id:J}=c,Q=(0,W.HG)()&&c.videos?null===(T=c.videos.video_list)||void 0===T?void 0:T.V_HLSV4:null===(I=c.videos)||void 0===I||null===(P=I.video_list)||void 0===P?void 0:P.V_720P,ee=(0,W.HG)()&&c.videos?"video/m3u8":"video/mp4",te=(0,i.useCallback)((({event:e})=>{e.preventDefault(),e.stopPropagation(),M({pinId:J,isPromoted:Boolean(O),currentTime:0}),k(!1)}),[O,J,M]),ne=(0,i.useCallback)((()=>{O&&k(F),K({pinId:J,isPromoted:Boolean(O),currentTime:0})}),[F,O,J,K]);if(!c.videos||!Q)return null;const{height:ie,thumbnail:re,width:ae,url:oe}=Q||{},se=c.videos.id,le=[{type:ee,src:oe}];let de,ce=(null!=ae?ae:1)/(null!=ie?ie:1);return e&&w&&(ce=1,de="transparent",v&&(ce-=v-1)),A&&O?(0,b.jsx)(y.xu,{"data-test-id":"pin-video-mobile-end-card",ref:Y,children:(0,b.jsx)(B.Z,{backgroundImage:null!=X?X:"",naturalHeight:null!=ie?ie:1,naturalWidth:null!=ae?ae:1,pin:c,onRestartVideo:te})}):$?(0,b.jsxs)(y.xu,{"data-test-id":"pin-video-mobile-image",ref:Y,children:[f&&(0,b.jsx)(L.Z,{text:f}),(0,b.jsx)(z,{imageHeight:null!==(ue=null==x?void 0:x.height)&&void 0!==ue?ue:1,imageWidth:null!==(pe=null==x?void 0:x.width)&&void 0!==pe?pe:1,onError:s,onLoad:o,imageUrl:null!==(_e=null==x?void 0:x.url)&&void 0!==_e?_e:"",isSquarePin:w})]}):(0,b.jsx)(y.xu,{"data-test-id":"pin-video-mobile-video",ref:Y,children:(0,b.jsx)(H.ZP,{isAutoPlay:!!n,cropHeight:r,rootMargin:p,inAdsDesktopVideoExperiment:e,contextLogData:{viewParameter:h,component:0,objectId:c.id,video_id:se,view:_},accessibilityMaximizeLabel:E.bt("", "Maximize", "pinLayouts.PinVideo.accessibilityMaxVideoBtn", undefined, true),accessibilityMinimizeLabel:E.bt("", "Minimize", "pinLayouts.PinVideo.accessibilityMinVideoBtn", undefined, true),accessibilityMuteLabel:E.bt(" ", "Mute", "pinLayouts.PinVideo.accessibilityMuteVideoBtn", undefined, true),accessibilityPauseLabel:E.bt("", "Pause", "pinLayouts.PinVideo.accessibilityPauseVideoBtn", undefined, true),accessibilityPlayLabel:E.bt("", "Play", "pinLayouts.PinVideo.accessibilityPlayVideoBtn", undefined, true),accessibilityProgressBarLabel:E.bt("  ", "Progress bar", "pinLayouts.PinVideo.accessibilityProgressBarLabel", undefined, true),accessibilityUnmuteLabel:E.bt(" ", "Unmute", "pinLayouts.PinVideo.accessibilityUnmuteVideoBtn", undefined, true),aspectRatio:ce,backgroundColor:de,captions:"",hlsConfig:{capLevelToPlayerSize:!0,startPosition:a||-1},loop:q,onTimeChange:l,playing:u,onPlay:()=>{},onPlayError:()=>{},poster:X||re,src:null!=le?le:[],videoStartTime:a,volume:0,onEnded:ne})});var ue,pe,_e}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Y extends i.Component{constructor(...e){super(...e),q(this,"calculateCurrentVideoTime",(()=>{const{currentTimeFromPinRep:e,pin:t,videosAutoplaying:n}=this.props,{id:i}=t,r=(0,F.Z)(i,n);return this.currentVideoCurrentTime||r||e})),q(this,"handleVisibilityChanged",(e=>{const{currentTimeFromPinRep:t,pin:n,setCurrentVideo:i,pauseAutoplay:r,videosAutoplaying:a}=this.props,{id:o,is_downstream_promotion:s,promoter:l}=n,d=(0,G.jL)(s,l),c=(0,M.Z)(o,a),u=(0,U.Z)(o,a);e?d?i({pinId:o,isPromoted:d,currentTime:this.calculateCurrentVideoTime()}):u&&i({pinId:o,isPromoted:Boolean(d),currentTime:this.calculateCurrentVideoTime()}):!e&&c&&r({pinId:o,isPromoted:Boolean(d),currentTime:t||this.currentVideoCurrentTime})})),q(this,"handleVideoTimeChange",(e=>{const{pin:t,onTimeChange:n,videosAutoplaying:i}=this.props,{id:r}=t;(0,M.Z)(r,i)&&(this.currentVideoCurrentTime=e.time),n&&n(e)}))}componentDidUpdate(e){const{appInFocus:t}=e,{appInFocus:n,currentTimeFromPinRep:i,pauseAutoplay:r,pin:a,setCurrentVideo:o,videosAutoplaying:s}=this.props,{id:l,is_downstream_promotion:d,promoter:c}=a,u=(0,G.jL)(d,c),p=(0,M.Z)(l,s);n!==t&&!n&&p?(this.pausedDueToBrowserOutOfFocus=!0,r({pinId:l,isPromoted:Boolean(u),currentTime:i||this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&n&&(this.pausedDueToBrowserOutOfFocus=!1,o({pinId:l,isPromoted:Boolean(u),currentTime:this.calculateCurrentVideoTime()}))}componentWillUnmount(){const{currentTimeFromPinRep:e,pauseAutoplay:t,pin:n,videosAutoplaying:i}=this.props,{id:r,is_downstream_promotion:a,promoter:o}=n,s=(0,G.jL)(a,o);(0,M.Z)(r,i)&&t({pinId:r,isPromoted:Boolean(s),currentTime:e||this.currentVideoCurrentTime})}render(){const{cropHeight:e,isAutoplay:t,pin:n,videosAutoplaying:i,videoDuration:r,viewParameter:a,viewType:o,onError:s,onLoad:l,inAdsVideoExperiment:d,unauthRelatedPinsAutoplayExpGroup:c,isSquarePin:u,rootMargin:p,imageHeightModifier:_,image:h,isHovering:m}=this.props,{id:g}=n,f=(0,F.Z)(g,i),v="enabled_hover"===c,y=(0,M.Z)(g,i),x=m&&v||y&&t;return(0,b.jsx)(K,{cropHeight:e,rootMargin:p,currentTime:f,inAdsVideoExperiment:d,unauthRelatedPinsAutoplayExpGroup:c,isAutoplay:t,isSquarePin:u,image:h,viewParameter:a,viewType:o,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pin:n,playing:x,trackFullVisible:!1,onError:s,onLoad:l,imageHeightModifier:_,videoDuration:r})}}function $(e){const{appUI:{appInFocus:t,isAutoplay:n,videosAutoplaying:i},pauseAutoplay:r,setCurrentVideo:a}=(0,V.I)();return(0,b.jsx)(Y,{...e,appInFocus:t,isAutoplay:n,pauseAutoplay:r,setCurrentVideo:a,videosAutoplaying:i})}var X=n(690035),J=n(310227),Q=n(867820),ee=n(773285),te=n(130460),ne=n(350118),ie=n(780679),re=n(627995);const ae=({domainLinkData:e})=>{const t=(0,d.ZP)(),n=(0,ie.g)();return(0,b.jsxs)(y.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(51, 51, 51, 0.8)"}},children:[(0,b.jsx)(y.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"center",paddingX:2,children:(0,b.jsx)(y.X6,{size:"400",align:"center",color:"light",children:t.bt("", "Open", "Text on hover of a pin leading to opening this pin in the same tab. This is for users who don't have an account on Pinterest.", undefined, true)})}),!!e&&(0,b.jsx)(y.xu,{position:"absolute",bottom:!0,left:!0,width:"100%",minWidth:"100%",children:(0,b.jsx)(re.Z,{clickLoggingOptions:e.clickLoggingOptions,domain:e.domain,link:e.link,onClick:e.onClick||(null==n?void 0:n.pinLinkClickHandler)||(()=>{})})})]})};var oe=n(53987);const se=({width:e,height:t,minY:n,maxY:i})=>{const r=t=>e<=0||!t?"0%":Math.round(t/e*100)+"%";return{top:n<=0?"0%":r(-1*n*t),bottom:i>=1?"0%":r(-1*(1-i)*t)}},le=({children:e,margin:t,disableRounding:n})=>(0,b.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:t?{marginTop:t.top,marginBottom:t.bottom}:{}},position:"relative","data-test-id":"pin-visual-wrapper",children:(0,b.jsx)(y.zd,{wash:!0,rounding:n?0:J.mv,children:e})}),de=({clientTrackingParams:e,color:t,description:n,domainLinkData:a,hideBottomCardText:o,image:s,imageAltText:l,imageCrop:c,isPromoted:u,isMessenger:p,isOneTapExploreLocalTab:h,isSquarePin:m,lazyLoadImage:g,onError:f,oneTapSave:v,onLoad:w,pinId:S,priorityFetchImage:T,disableDefaultContextMenu:I,pinnedToBoardId:E,pinVideo:A,videoUrl:k,productPrice:C,disableRounding:R,storyData:D,title:O,type:U,videoDuration:F,viewType:M,viewParameter:z,unauthRelatedPinsAutoplayExpGroup:B})=>{var Z,H,G,V,K,q,Y,J,ie,re,de;const ce=(0,d.ZP)(),ue=(0,X.Z)(),{checkExperiment:pe}=(0,ee.F)(),[_e,he]=(0,i.useState)(!1),{isAuthenticated:me}=(0,P.B)(),ge=(0,W.ZP)(),fe=(0,ne.S6)()(S),ve=(0,te.gC)()(E||(fe?String(null===(Z=fe.board)||void 0===Z?void 0:Z.id):"")),ye=E&&(null==fe?void 0:fe.savedThisSession),xe=a&&a.link?"with-link":"without-link",be=!me&&"desktop"!==ge,we=(0,i.useRef)(Date.now()),Se=(0,i.useRef)(null),Te=pe("mweb_video_ads_autoplay").anyEnabled,Ie="video"===U&&(B&&"enabled_hover"===B),Pe=(0,_.Z)();(0,i.useEffect)((()=>{Ie||!_e||me||Pe({action:"view",item:"unauth-video-autoplay-on-hover"})}),[Ie,_e,Pe,me]);const Ee=(0,b.jsx)(y.Ee,{alt:l||O||n||"",color:t,naturalHeight:null!==(H=s.height)&&void 0!==H?H:1,naturalWidth:null!==(G=s.width)&&void 0!==G?G:1,onError:f,onLoad:w,src:null!==(V=s.url)&&void 0!==V?V:"",fit:m?"cover":void 0,loading:g?"lazy":"auto",fetchPriority:T?"high":"auto"}),Ae=m?(0,b.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},children:(0,b.jsx)(y.xu,{top:!0,right:!0,bottom:!0,left:!0,position:"absolute",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:Ee})}):Ee,ke=(0,x.useLocation)(),Ce=()=>(0,oe.C$)(ke)?"homefeed":(0,oe.L6)(ke)?"related_pins":(0,oe.En)(ke)?"search":"unknown";return(0,b.jsx)("div",{className:"PinCard__imageWrapper",style:{position:"relative"},children:(0,b.jsxs)(y.xu,{onContextMenu:e=>{if("desktop"!==ge){const t=Ce();(0,Q.My)((me?"auth":"unauth")+".mweb_pin_feed.pin_image.long_press",{page:t}),"related_pins"!==t||me||(e.preventDefault(),e.stopPropagation())}},onTouchStart:e=>{if("desktop"!==ge){const t=Ce();if((0,Q.My)("unauth.mweb.related_pin.image.touch.start"),"related_pins"===t&&!me&&(null==I||I(),we.current=Date.now(),e.changedTouches&&e.changedTouches.length>0)){const t=e.changedTouches.item(0);t&&(Se.current={x:t.pageX,y:t.pageY})}}},onTouchEnd:e=>{if("desktop"!==ge){const t=Ce();if((0,Q.My)("unauth.mweb.related_pin.image.touch.end"),Date.now()-we.current>500&&!me&&"related_pins"===t){const t=Se.current;if(e.changedTouches&&e.changedTouches.length>0&&t){const n=e.changedTouches.item(0);if(n&&Math.pow(n.pageX-t.x,2)+Math.pow(n.pageY-t.y,2)>100)return;null==I||I(),ue({pinId:S,location:"related-pins-long-press"}),e.stopPropagation()}}}},"data-test-id":`pincard-${U}-${xe}`,dangerouslySetInlineStyle:{__style:{willChange:"transform",textDecoration:"none"}},overflow:"hidden",onMouseOver:be?void 0:()=>he(!0),onMouseLeave:be?void 0:()=>he(!1),position:"relative",rounding:R?0:4,children:[(0,b.jsxs)(j,{clientTrackingParams:e||"",oneTapSave:v,isOneTapExploreLocalTab:h,pinId:S,pinnedToBoardId:E,viewType:M,children:[(()=>{if("gif"===U&&!o&&!ye)return(0,b.jsx)(L.Z,{text:ce.bt("GIF", "GIF", "pin.pinCard.gifIconIdentifier", undefined, true)});if("video"===U&&F&&!o&&!ye)return(0,b.jsx)(L.Z,{text:F});if("storyPin"===U&&D&&!ye){const{page_count:e=0,total_video_duration:t=0}=(null==fe?void 0:fe.story_pin_data)||{};if(t>0)return(0,b.jsx)(L.Z,{text:(0,r.Z)(t)});if("number"==typeof e&&e>0)return(0,b.jsx)(L.Z,{icon:"idea-pin",text:e.toString()})}return"product"===U&&C?(0,b.jsx)(L.Z,{text:C}):null})(),(0,b.jsx)(le,{disableRounding:R,margin:c?se({width:null!==(K=s.width)&&void 0!==K?K:1,height:null!==(q=s.height)&&void 0!==q?q:1,minY:c.min_y,maxY:c.max_y}):void 0,children:"video"===U&&p&&A?(0,b.jsx)(y.nk,{autoplay:!0,accessibilityMaximizeLabel:"",accessibilityMinimizeLabel:"",accessibilityMuteLabel:"",accessibilityPauseLabel:"",accessibilityPlayLabel:"",accessibilityProgressBarLabel:ce.bt("  ", "Progress bar", "PinCardVisual.accessibilityProgressBarLabel", undefined, true),accessibilityUnmuteLabel:"",aspectRatio:A.width/A.height,captions:"",loop:!0,onPlay:()=>{},onPlayError:()=>{},playsInline:!0,poster:null!==(Y=s.url)&&void 0!==Y?Y:"",src:A.url,volume:0}):A&&u&&Te&&fe||null!=B&&B.startsWith("enabled")&&k&&fe?(0,b.jsx)($,{image:s,inAdsVideoExperiment:Te,unauthRelatedPinsAutoplayExpGroup:B,isHovering:_e,isSquarePin:m,onError:f,onLoad:w,pin:fe,videoDuration:F,viewParameter:z,viewType:M}):Ae})]}),!Ie&&_e&&!me&&(0,b.jsx)(ae,{domainLinkData:a}),me&&ye&&(0,b.jsx)(N,{boardName:null!==(J=null==ve?void 0:ve.name)&&void 0!==J?J:"",boardUrl:null!==(ie=null==ve?void 0:ve.url)&&void 0!==ie?ie:"",sectionName:null==v||null===(re=v.section)||void 0===re?void 0:re.title,sectionSlug:null==v||null===(de=v.section)||void 0===de?void 0:de.slug,isQuicksave:"quick_saves"===(null==ve?void 0:ve.layout)})]})})}},894023:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Me,pinRepPaddingInBoint:()=>Ee});var i=n(667294),r=n(702664),a=n(934494),o=n(319915),s=n(680046),l=n(886076),d=n(248975),c=n(830157),u=n(958007),p=n(926275),_=n(63552),h=n(81226),m=n(116303),g=n(561195),f=n(883119),v=n(785893);function y({maxRating:e,rating:t,text:n}){return(0,v.jsxs)(f.xu,{alignItems:"center",display:"flex",marginBottom:0,children:[(0,v.jsx)(g.Z,{max_rating:e||"",rating:t||"",width:10}),n&&(0,v.jsx)(i.Fragment,{children:(0,v.jsx)(f.xu,{marginStart:1,overflow:"hidden",children:(0,v.jsx)(f.xv,{size:"100",lineClamp:1,children:n})})})]})}var x=n(898781),b=n(62409),w=n(643010),S=n(350118);const T=({pinId:e})=>{var t;const n=(0,x.ZP)(),r=(0,S.S6)()(e),a=(0,w.Yc)();if(!r)return null;const{link_domain:o,rich_metadata:s,rich_summary:l}=r||{},d=(0,b.kb)(o,s,l);if(!d||!d.price)return null;const c=d.standard_price||d.price,u=d.min_price||"",p=d.max_price||"",_=d.in_stock||!1,h=null===(t=r.rich_summary)||void 0===t?void 0:t.site_name,{textColor:m,inStockColor:g}=(({isDarkMode:e,inStock:t})=>e?{textColor:"light",inStockColor:"light"}:{textColor:"dark",inStockColor:t?"dark":"subtle"})({isDarkMode:a,inStock:_});return(0,v.jsxs)(i.Fragment,{children:[h&&(0,v.jsx)(f.xv,{color:m,size:"100",children:h}),(0,v.jsxs)(f.xu,{display:"flex",alignItems:"center","data-test-id":"priceLego_price",children:[u&&p?(0,v.jsxs)(f.xv,{size:"100",color:g,weight:"bold",children:[u," - ",p]}):(0,v.jsx)(f.xv,{size:"100",color:g,weight:"bold",children:c}),!_&&(0,v.jsxs)(i.Fragment,{children:[(0,v.jsx)(f.xu,{paddingX:1,children:(0,v.jsx)(f.xv,{size:"100",color:g,weight:"bold",children:""})}),(0,v.jsx)(f.xv,{size:"100",color:g,weight:"bold",children:n.bt("  ", "Out of stock", "pinCard.priceLego.outOfStock", undefined, true)})]})]})]})};var I=n(947599),P=n(914142),E=n(941646),A=n(50286),k=n(865673),C=n(52022),R=n(350948),j=n(923297),D=n(867820),O=n(773285),N=n(130460),L=n(276775),U=n(780280),F=n(53987);const M=(0,i.lazy)((()=>n.e(94950).then(n.bind(n,494950)))),z=({title:e})=>{const t=(0,A.ZP)(),n=(0,C.Z)();return(0,v.jsx)(E.Z,{id:"related-pins-title",children:(0,v.jsx)(f.iP,{onTap:()=>{n({action:"click",item:"related-pins-title"})},children:(0,v.jsx)(f.xv,{size:"desktop"===t?"300":"100",weight:"bold",children:e})})})},B=({allowPriceIndicator:e,contextMenu:t,credits:n,hidePinMetadata:r,hasAffiliatedProducts:a,isPromotedPin:s,isSponsoredPin:l,isSquarePin:d,marginTop:c,marginStart:u,marginEnd:p,onCreditsClick:h,pinDescription:g,pinId:b,pinnedToBoardId:w,pinReactionCounts:B,recipeCookTime:Z,recipeMaxRating:H,recipeRating:G,recipeReviewCount:V,shouldShowReactions:W,style:K="default",title:q,type:Y,duploConversationPin:$})=>{var X,J,Q,ee,te,ne,ie,re,ae;const oe=(0,x.ZP)(),{checkExperiment:se}=(0,O.F)(),le=(0,L.useLocation)(),de=(0,C.Z)(),{isAuthenticated:ce}=(0,U.B)(),ue=(0,A.ZP)(),pe=q||g||"oneTap"===Y,_e=(0,S.S6)()(b),he=(0,N.gC)()(w||(_e?String(null===(X=_e.board)||void 0===X?void 0:X.id):"")),me=null==_e?void 0:_e.pinner,ge=s&&(null==_e||null===(J=_e.promoter)||void 0===J?void 0:J.id)===(null==_e||null===(Q=_e.native_creator)||void 0===Q?void 0:Q.id),fe=null!=_e&&_e.sponsorship?(0,v.jsx)(f.xv,{inline:!0,size:"100",weight:"bold",children:null==n?void 0:n.subtitle}):void 0,ve="overlay"===K,ye=W&&B&&Object.keys(B).length>0&&(0,v.jsx)(f.xu,{height:18,display:ve?"flex":void 0,justifyContent:"center",children:(0,v.jsx)(o.Z,{name:"SafeSuspense_PinCardDetails_GridAggregation",children:(0,v.jsx)(I.Z,{children:(0,v.jsx)(M,{pinReactionCounts:B})})})}),xe=r?0:c||1,be=(0,v.jsx)(m.Z,{accessibilityLabel:(null==n?void 0:n.title)||"string"==typeof(null==n?void 0:n.subtitle)&&n.subtitle||oe.bt(" ", "Creator's avatar", "pinCardDetails.tapArea.avatar", undefined, true),name:(null==n?void 0:n.title)||"",outline:ve,size:ve?"lg":"sm",src:ve&&(null==n?void 0:n.largeAvatar)||(null==n?void 0:n.mediumAvatar)||(null==n?void 0:n.avatar)||void 0}),we=(0,v.jsxs)(i.Fragment,{children:[(null==n?void 0:n.title)&&(0,v.jsx)(f.xv,{lineClamp:1,size:"100",weight:l&&!ge||a?"normal":"bold",children:n.title===(null==me?void 0:me.full_name)&&(null!=me&&me.is_verified_merchant||null!=me&&null!==(ee=me.verified_identity)&&void 0!==ee&&ee.verified)?(0,v.jsx)(k.Z,{badgeSize:"sm",badgeSpacing:2,fullName:n.title,verifiedType:me.is_verified_merchant?"verifiedMerchant":"verifiedIdentity"}):n.title}),null!=n&&n.subtitle?(!l&&!r||ge)&&(0,v.jsx)(f.xv,{lineClamp:l||a?void 0:1,size:"desktop"===ue?"200":"100",weight:"desktop"===ue?"bold":"normal",children:n.subtitle}):!ce&&he&&"protected"!==he.privacy?(0,v.jsx)(E.Z,{id:"related-pin-text-below-name",children:(0,v.jsx)(f.rU,{underline:"hover",href:null!==(te=he.url)&&void 0!==te?te:"",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),e.stopPropagation(),(0,D.NC)("click_board_pin_attribution_profile"),de({action:"click",item:"related-pin-text-below-name"})},children:(0,v.jsx)(f.xv,{size:"200",children:he.name})})}):null]});return(0,v.jsx)(i.Fragment,{children:(0,v.jsxs)(f.xu,{display:"flex",height:d?e?104:72:void 0,marginEnd:p||1,marginStart:u||1,position:"relative",children:[(0,v.jsxs)(f.xu,{flex:"grow",children:[(0,v.jsx)(f.xu,{display:"flex",marginTop:xe,children:(0,v.jsx)(f.xu,{flex:"grow",children:(0,v.jsxs)(i.Fragment,{children:[(0,v.jsxs)(i.Fragment,{children:[(l||a)&&!ge&&(0,v.jsx)(f.xu,{marginBottom:1,children:(0,v.jsx)(f.xu,{flex:"grow",overflow:"hidden",children:(0,v.jsx)(P.Z,{hasAffiliatedProducts:a,isPromoted:s,sponsorName:fe,sponsorshipStatus:null==_e||null===(ne=_e.sponsorship)||void 0===ne?void 0:ne.status})})}),q&&(0,v.jsx)(f.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},children:ce&&!r&&(0,v.jsx)(z,{title:q})}),"desktop"===ue&&!ce&&g&&!(0,F.$Y)(le)&&!(0,F.E0)(le)&&(0,v.jsx)(f.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},"data-test-id":"desc",children:(0,v.jsx)(f.iP,{onTap:()=>{de({action:"click",item:"related-pins-description"})},children:(0,v.jsx)(f.xv,{size:"100",inline:!0,children:g})})})]}),e&&(0,v.jsx)(T,{credits:n,pinId:b}),"recipe"===Y&&!!V&&(0,v.jsx)(i.Fragment,{children:(0,v.jsxs)(f.xu,{alignItems:"center",display:"flex",marginTop:1,children:[!!V&&(0,v.jsx)(y,{maxRating:H||"",rating:G||"",text:""}),!!Z&&(0,v.jsxs)(i.Fragment,{children:[(0,v.jsx)(f.xu,{paddingX:1,children:(0,v.jsx)(f.xv,{size:"100",children:""})}),(0,v.jsx)(f.xv,{size:"100",children:(0,R.IS)({...(0,j.u)(Z),i18n:oe})})]})]})})]})})}),!ve&&ye,n&&(0,v.jsx)(_.Z,{onTouch:e=>h&&h(e),pressState:"none",children:(0,v.jsx)(f.xu,{children:(!r||l||ge)&&(0,v.jsxs)(f.xu,{display:"flex",marginTop:ve?-9:c||(pe&&!r?1:0),marginBottom:r?2:0,position:"relative",direction:ve?"column":"row",children:[(0,v.jsx)(f.xu,{flex:"none",display:ve?"flex":void 0,justifyContent:"center","data-test-id":"related-pins-avatar-image",children:se(ce?"mweb_auth_feed_a11y_fix":"mweb_unauth_feed_a11y_fix").anyEnabled?be:(0,v.jsx)(f.iP,{onTap:()=>{de({action:"click",item:"related-pins-avatar-image"})},children:be})}),(0,v.jsx)(f.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",alignItems:ve?"center":void 0,marginStart:1,"data-test-id":"related-pins-name",children:se(ce?"mweb_auth_feed_a11y_fix":"mweb_unauth_feed_a11y_fix").anyEnabled?we:(0,v.jsx)(f.iP,{onTap:()=>{de({action:"click",item:"related-pins-name"})},children:we})})]})})}),!n&&"desktop"===ue&&!!me&&((0,F.L6)(le)||(0,F.cD)(le)||(0,F.$Y)(le))&&(0,v.jsxs)(f.xu,{display:"flex",marginTop:pe?2:0,children:[(0,v.jsx)(f.xu,{flex:"none","data-test-id":"related-pins-avatar-image",children:(0,v.jsx)(f.iP,{onTap:()=>{de({action:"click",item:"related-pins-avatar-image"})},children:(0,v.jsx)(m.Z,{name:me.username||"",size:"sm",src:null!==(ie=me.image_small_url)&&void 0!==ie?ie:void 0})})}),(0,v.jsxs)(f.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,"data-test-id":"related-pins-name",children:[(0,v.jsx)(f.rU,{underline:"hover",href:`/${me.username}/`,onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),e.stopPropagation(),(0,D.NC)("click_board_pin_attribution_board"),de({action:"click",item:"related-pins-name"})},children:(0,v.jsx)(f.xv,{size:"200",weight:"bold",children:me.full_name||me.username})}),he&&"protected"!==he.privacy?(0,v.jsx)(E.Z,{id:"related-pin-text-below-name",children:(0,v.jsx)(f.rU,{underline:"hover",href:null!==(re=he.url)&&void 0!==re?re:"",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),e.stopPropagation(),(0,D.NC)("click_board_pin_attribution_profile"),de({action:"click",item:"related-pin-text-below-name"})},children:(0,v.jsx)(f.xv,{size:"200",children:null!==(ae=he.name)&&void 0!==ae?ae:""})})}):null]})]}),ve&&ye]}),(0,v.jsx)(f.xu,{position:ve?"absolute":void 0,right:!0,children:!$&&t})]})})};var Z,H=n(857079),G=n(349700),V=n(296011),W=n(167912);const K=void 0!==Z?Z:Z=n(7745),q=(e,t)=>{const{checkExperiment:n}=(0,O.F)();return n("graphql_migration_sharelink_sgrowth_web").anyEnabled?((e,t)=>{const n=(0,W.useRelayEnvironment)();return(0,v.jsx)(V.t,{invite_code:e,relayEnvironment:n,inviteQuery:K,children:e=>{const n=null!=e&&e.data?e.data.sender:null,i=n&&n.first_name?n.first_name.substring(0,30):"";if(!i)return null;const r=n&&!n.is_default_image?n.image_medium_url:"",a=(0,G.nk)(t.bt(" {{ name }}     ", "{{ name }} shared this idea with you", "homefeed.pinSenderAvatar.heading", undefined, true),{name:i});return(0,v.jsxs)(f.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,v.jsx)(f.zd,{height:32,width:32,children:(0,v.jsx)(m.Z,{name:i,src:r})}),(0,v.jsx)(f.xu,{width:"80%",paddingY:2,children:(0,v.jsx)(f.xv,{align:"center",size:"200",weight:"bold",children:a})})]})}})})(e,t):((e,t)=>(0,v.jsx)(V.Z,{invite_code:e,children:e=>{const n=e?e.sender:null,i=n&&n.first_name?n.first_name.substring(0,30):"";if(!i)return null;const r=n&&!n.is_default_image?n.image_medium_url:"",a=(0,G.nk)(t.bt(" {{ name }}     ", "{{ name }} shared this idea with you", "homefeed.pinSenderAvatar.heading", undefined, true),{name:i});return(0,v.jsxs)(f.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,v.jsx)(f.zd,{height:32,width:32,children:(0,v.jsx)(m.Z,{name:i,src:r})}),(0,v.jsx)(f.xu,{width:"80%",paddingY:2,children:(0,v.jsx)(f.xv,{align:"center",size:"200",weight:"bold",children:a})})]})}}))(e,t)},Y=({inviteCode:e})=>{const t=(0,x.ZP)();return(0,v.jsx)(f.xu,{minHeight:82,children:(0,v.jsx)(o.Z,{name:"SafeSuspense_PinCardSharedHeader_LoadingSpinner",children:(0,v.jsx)(I.Z,{fallback:(0,v.jsx)(H.Z,{accessibilityLabel:t.bt("  ", "Loading Invitation component", "Loading InviteFetch component", undefined, true)}),children:q(e,t)})})})};var $=n(948945),X=n(55275);const J={initial:{opacity:0,transition:"opacity 0.25s ease-in"},fadeIn:{opacity:.8,transition:"opacity 1s ease"}},Q=(e,t,n)=>(0,v.jsx)(f.xv,{color:"inverse",inline:!0,size:"200",weight:"bold",children:(0,v.jsx)(f.rU,{display:"inlineBlock",href:t,tapStyle:"none",underline:"hover",children:n})},e);function ee({color:e,getFeedbackText:t,onUnfollow:n,showing:r,unfollowed:a}){const o=(0,x.ZP)(),[s,l]=(0,i.useState)(r?"fadeIn":"initial"),d=(0,i.useRef)(null);(0,i.useEffect)((()=>("initial"===s&&r&&(d.current=window.requestAnimationFrame((()=>l("fadeIn")))),()=>{d.current&&window.cancelAnimationFrame(d.current)})),[s,l,r]);const{subTitle:c,title:u,unfollow:p}=t(Q);let _=u,h=c;p&&a&&(_=p.title,h=p.subTitle);const m=()=>p?(0,X.t)(p.action,p.actionOptions,n):void 0;return r&&(0,v.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e,...J[s]}},margin:1,rounding:4,position:"absolute",top:!0,bottom:!0,left:!0,right:!0,children:(0,v.jsxs)(f.xu,{width:"100%",height:"100%",color:"dark",rounding:4,overflow:"auto",children:[(0,v.jsxs)(f.xu,{padding:3,rounding:2,display:"flex",direction:"column",height:"100%",justifyContent:"between",children:[(0,v.jsxs)(f.xu,{children:[(0,v.jsx)(f.X6,{size:"400",color:"light",children:_}),h&&(0,v.jsxs)(f.xu,{marginTop:1,children:[(0,v.jsx)(f.xv,{color:"light",size:"200",inline:!0,children:h}),(0,v.jsx)(f.xv,{color:"light",inline:!0,size:"200",weight:"bold",children:(0,v.jsx)(f.rU,{href:"/edit",display:"inlineBlock",rounding:2,tapStyle:"none",underline:"hover",children:o.bt(" ", "Tune your home feed", "Text on the button to navigate to homefeed control", undefined, true)})})]})]}),!a&&p&&(0,v.jsx)(f.xu,{paddingY:1,children:(0,v.jsx)(f.zx,{fullWidth:!0,color:"white",text:o.bt("", "Unfollow", "Text on the button to unfollow a specific board / user", undefined, true),onClick:m})})]}),!a&&p&&(0,v.jsx)(f.xu,{paddingY:1,children:(0,v.jsx)(f.zx,{fullWidth:!0,color:"white",text:o.bt("", "Unfollow", "Text on the button to unfollow a specific board / user", undefined, true),onClick:m})})]})})}var te=n(21384),ne=n(992750);function ie({description:e,gridTitle:t,pinId:n,placeSummaryName:i,richMetadataTitle:r,richSummaryDisplayName:a,storyPinDataId:o,storyPinDataMetadataPinTitle:s,title:l}){return(0,v.jsxs)(f.xu,{paddingX:2,marginBottom:-1,display:"flex",children:[(0,v.jsx)(f.xu,{flex:"grow",maxHeight:32,minHeight:12,overflow:"hidden",width:142,children:(0,v.jsx)(f.xv,{lineClamp:2,size:"100",weight:"bold",children:(0,ne.fs)({pinTitle:l,gridTitle:t,richSummaryDisplayName:a,richMetadataTitle:r,storyPinDataId:o,storyPinDataMetadataPinTitle:s,placeSummaryName:i})||e})}),(0,v.jsx)(f.xu,{children:(0,v.jsx)(te.Z,{pinId:n,size:"sm",graphqlRef:null})})]})}var re=n(807592),ae=n(57791);const oe=({attribute:e,deviceType:t,location:n})=>{const i=(0,C.S)(n);(0,D.My)("unuath.product_attribution.click",{item:e,page:i,device:t})};function se({description:e,domain:t,gridTitle:n,pinId:i,pinProduct:r,placeSummaryName:a,richMetadataTitle:o,richSummaryDisplayName:s,storyPinDataId:l,storyPinDataMetadataPinTitle:d,title:c}){const u=(0,A.ZP)(),p=(0,L.useLocation)();if(!i)return null;const _=r&&(r.price||r.standard_price||(0,re.Z)(r)),h=(0,ne.fs)({pinTitle:c,gridTitle:n,richSummaryDisplayName:s,richMetadataTitle:o,storyPinDataId:l,storyPinDataMetadataPinTitle:d,placeSummaryName:a})||e,m=`/pin/${i}/`;return(0,v.jsx)(f.xu,{paddingX:2,marginBottom:-1,marginTop:1,display:"flex",direction:"column",children:(0,v.jsxs)(f.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[(0,v.jsx)(f.xu,{flex:"grow",minHeight:12,overflow:"hidden",width:142,children:(0,v.jsxs)(ae.MZ,{to:m,accessibilityLabel:h,deeplinkUri:m,children:[_&&(0,v.jsx)(f.iP,{onTap:()=>oe({deviceType:u,attribute:"price",location:p}),children:(0,v.jsx)(f.xv,{size:"100",weight:"bold",children:_})}),(0,v.jsx)(f.xu,{marginTop:1,children:(0,v.jsx)(f.iP,{onTap:()=>oe({deviceType:u,attribute:"title",location:p}),children:(0,v.jsx)(f.xv,{size:"100",weight:"bold",lineClamp:_?3:2,children:h})})}),t&&_&&(0,v.jsx)(f.xu,{marginTop:1,children:(0,v.jsx)(f.iP,{onTap:()=>oe({deviceType:u,attribute:"merchant",location:p}),children:(0,v.jsx)(f.xv,{size:"100",lineClamp:1,children:t})})})]})}),(0,v.jsx)(f.xu,{children:(0,v.jsx)(te.Z,{pinId:i,size:"sm",graphqlRef:null})})]})})}var le=n(248299),de=n(327476),ce=n(394332),ue=n(529195);const pe=[],_e=e=>(t,n)=>{const{pinId:i}=e,r=n().pins[i];r&&!r.impressed&&(pe.push(e),(e=>{e({type:"PIN_IMPRESSIONS",payload:pe.slice()}),pe.length=0})(t))};var he=n(477802),me=n(255607),ge=n(874317),fe=n(861411),ve=n(639952),ye=n(772486),xe=n(447948),be=n(378518),we=n(813401),Se=n(112690),Te=n(305324),Ie=n(780679);function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ee=({isDesktop:e})=>e?0:1,Ae=e=>Boolean(e.is_eligible_for_web_closeup),ke=e=>Boolean(e.promoter&&!e.is_downstream_promotion),Ce={width:1,height:1,url:""},Re=e=>{const{attribution:t,embed:n,is_eligible_for_web_closeup:i,rich_summary:r,videos:a,story_pin_data_id:o}=e,s=n||t&&t.embed;return i?"oneTap":a||s&&"video"===s.type?"video":s&&"gif"===s.type?"gif":r&&"product"===r.type_name?"product":r&&"recipe"===r.type_name?"recipe":o?"storyPin":"image"},je=e=>{if(("video"===Re(e)||ke)&&e.videos&&e.videos.video_list){const{duration:t=0}=e.videos.video_list[Object.keys(e.videos.video_list)[0]]||{};return(0,h.Z)(t)}return""},De=e=>{var t;if("product"!==Re(e))return null;const[n]=(null===(t=e.rich_summary)||void 0===t?void 0:t.products)||[];if(!n)return null;const i=n.offer_summary;return i&&(i.price||i.max_price)},Oe=(0,i.lazy)((()=>n.e(26332).then(n.bind(n,926332))));class Ne extends i.Component{constructor(...e){super(...e),Pe(this,"state",{startImpressionTimer:!1,isShowingCustomContextMenu:!1}),Pe(this,"getPinImage",(()=>{const{data:{pin:e},duploIsSquarePin:t}=this.props;if(!e||!e.images)return Ce;var n;if(t)return{height:136,url:null===(n=e.images["236x"])||void 0===n?void 0:n.url,width:136};const i=["236x","170x","136x136","736x","474x","orig"];for(const r of i)if(e.images[r]&&e.images[r].url)return e.images[r];return Ce})),Pe(this,"getImpressionData",(()=>{var e,t;const{data:{pin:n}}=this.props,i=null===(e=n.videos)||void 0===e||null===(t=e.video_list)||void 0===t?void 0:t.V_720P,r=i?{isNativeVideoAndWatchable:!!(i&&i.url&&i.height&&i.width)||void 0,videoIdStr:i&&n.videos?n.videos.id:void 0}:{},a=this.getPinImage();return{richTypes:n.shopping_flags||[],imageURL:a.url||"",...r,...this.props.impressionData}})),Pe(this,"getAuxData",(()=>{const{auxData:e={},pwaType:t,data:{pin:n}}=this.props;return{commerce_data:(0,l.Z)({isEligibleForPdp:n.is_eligible_for_pdp,isOosProduct:n.is_oos_product,isStaleProduct:n.is_stale_product,pinShoppingFlags:n.shopping_flags}),pwa_type:t,...e}})),Pe(this,"getFeedbackType",(()=>{const{feedback:e,viewParameter:t,data:{board:n,pin:i}}=this.props;return this.feedbackHelpers.getFeedbackType({board:n,feedback:e,viewParameter:t,pin:i,pinner:i.pinner})})),Pe(this,"getRecommendationDescription",(e=>{const{data:{board:t,pin:n}}=this.props;return this.feedbackHelpers.getRecommendationDescription({ad_match_reason:n.ad_match_reason,board:t,feedbackType:this.getFeedbackType(),makeNavigateLink:e,pinner:n.pinner,promoter:n.promoter,recommendationReason:n.recommendation_reason,sourceInterest:n.source_interest})})),Pe(this,"getPinHiddenFeedbackText",(e=>{const{data:{board:t,pin:n}}=this.props,i=n.promoter,r=this.feedbackHelpers.getUnfollowAction({board:t,feedbackType:this.getFeedbackType(),makeNavigateLink:e,pinner:n.pinner,sourceInterest:n.source_interest});return ke(n)&&null!=i&&i.full_name?{title:"",subTitle:(0,G.nk)(this.props.i18n.bt(" {{ promoter }}     ,      .", "{{ promoter }} has paid to have this pin show up where you'd be more likely to notice it.", "pinRep.promotedPinfeedbackText.subtitle", undefined, true),{promoter:i.full_name})}:r?{title:this.props.i18n.bt(" ", "Pin hidden", "message displayed after hiding a pin", undefined, true),subTitle:this.getRecommendationDescription(e),unfollow:r}:{title:this.props.i18n.bt(" ", "Pin hidden", "message displayed after hiding a pin", undefined, true),subTitle:this.props.i18n.bt("!         .", "Got it! We'll try to show you more relevant Pins in the future.", "message displayed after hiding a pin", undefined, true)}})),Pe(this,"feedbackHelpers",(0,s.ZP)({i18n:this.props.i18n,interpolateNamedTemplate:G.nk})),Pe(this,"logOneTap",(()=>{const{logContextEvent:e,trackingParams:t,viewType:n,viewParameter:i,auxData:r,pinId:a,data:{pin:o}}=this.props,s=(0,c.Z)(t,o.tracking_params),d={view_type:this.props.viewType,view_parameter:this.props.viewParameter,element:o.story_pin_data_id?12372:35,component:this.props.componentType,object_id_str:a,aux_data:{commerce_data:(0,l.Z)({isEligibleForPdp:o.is_eligible_for_pdp,isOosProduct:o.is_oos_product,isStaleProduct:o.is_stale_product,pinShoppingFlags:o.shopping_flags}),grid_index:this.props.slotIndex,image_signature:o.image_signature,...this.props.auxData},clientTrackingParams:s};e({event_type:8948,view_type:n,view_parameter:i,object_id_str:a,clientTrackingParams:s,aux_data:{image_signature:o.image_signature,closeup_navigation_type:"click",click_type:"clickthrough",cosmic_ray_count:"2",...r}}),(0,ye.jC)(d),e({component:this.props.componentType,event_type:13,view_type:3,clientTrackingParams:s,aux_data:{closeup_navigation_type:"web_closeup",image_signature:o.image_signature},object_id_str:a})})),Pe(this,"markPinAsSeen",(()=>this.props.data.markPinAsSeen(this.props.pinId))),Pe(this,"handleLoad",(()=>{this.setState({startImpressionTimer:!0})})),Pe(this,"handleError",(()=>{this.setState({startImpressionTimer:!1})})),Pe(this,"handleClick",(e=>{const{auxData:t,componentType:n,deviceType:i,logContextEvent:r,pinId:a,data:{pin:o},slotIndex:s,trackingParams:d,viewParameter:u,viewType:p,duploFeedItemProps:_,isAuth:h,trackInteraction:m,unauthDesktopSignupModalPageContext:g}=this.props,{onPinClick:f}=null!=_?_:{},v=e=>(0,D.My)(`unauth_pin_rep.${e}.${String(u)}`);if(v("click"),r({view_type:p,view_parameter:u,element:o.story_pin_data_id?12372:35,event_type:101,component:n,object_id_str:a,clientTrackingParams:(0,c.Z)(d,o.tracking_params),aux_data:{commerce_data:(0,l.Z)({isEligibleForPdp:o.is_eligible_for_pdp,isOosProduct:o.is_oos_product,isStaleProduct:o.is_stale_product,pinShoppingFlags:o.shopping_flags}),grid_index:s,image_signature:o.image_signature,...t}}),Ae(o)||r({event_type:8948,view_type:p,view_parameter:u,object_id_str:a,clientTrackingParams:(0,c.Z)(d,o.tracking_params),aux_data:{image_signature:o.image_signature,commerce_data:(0,l.Z)({isEligibleForPdp:o.is_eligible_for_pdp,isOosProduct:o.is_oos_product,isStaleProduct:o.is_stale_product,pinShoppingFlags:o.shopping_flags}),closeup_navigation_type:"click",grid_index:s,cosmic_ray_count:"3",...t}}),!h)switch(m({action:"click",item:"pin"}),p){case 3:(0,D.NC)("click_pin_related_image");break;case 5:(0,D.NC)("click_board_pin_image");break;case 210:(0,D.NC)("click_topic_pin_image")}if(Ae(o)&&this.logOneTap(),f&&f(),"desktop"===i){if(e.metaKey){v("click.cmd_button_pressed"),e.preventDefault();window.open(`/pin/${a}/`,"_blank").focus()}else if(!h&&g){const{pinImageClickHandler:t}=g;t({event:e,pin:o,linkTarget:"duploClientNav"})}}})),Pe(this,"handleCreditsClick",(e=>{var t;const{history:n,logContextEvent:i,data:{pin:r}}=this.props,{id:a,sponsorship:o,story_pin_data_id:s}=r,{creator:l,sponsor:d}=o||{},{id:c}=l||{},{id:u}=d||{},p=!!s;e.stopPropagation(),e.preventDefault();const _=null===(t=this.getCredits())||void 0===t?void 0:t.link;_&&n.push(_),i({view_type:3,element:27,event_type:102,object_id_str:a,component:p?230:void 0,aux_data:{pin_id:a,...c&&u?{creator_id:c,sponsor_id:u}:{}}})})),Pe(this,"handleUnfollowPin",(()=>this.props.data.markPinUnfollowed(this.props.pinId))),Pe(this,"handlePinSend",(e=>{e&&e.stopPropagation&&e.stopPropagation();const{data:{board:t},pinId:n,setSharingOnBoardPage:i}=this.props;t&&i&&t.isSocialSeasonalBoard&&i(!0,"pin",n)})),Pe(this,"isOverrideImageOnly",(()=>{const{data:{pin:{rich_summary:e}},viewerIsNewUser:t,viewParameter:n}=this.props;return e&&43===n&&!t||3375===n})),Pe(this,"convertToGif",(e=>{const t=Math.max(e.embed&&e.embed.width||0,236),n=Math.max(e.embed&&e.embed.height||0,236);return{url:e.embed?e.embed.src:"",width:t,height:n}}))}componentDidMount(){const{isAuth:e,slotIndex:t,viewParameter:n,location:i,data:{pin:r}}=this.props;if(!e&&0===t&&3070===n){const e=i.pathname,{image_signature:t,id:n,images:a,description:o}=r;(0,ue.H$)(e,t,n,a,o)}}getIsClaimedContent(){var e,t;const{viewParameter:n,data:{pin:i}}=this.props;return 3375===n&&!(null===(e=i.link_domain)||void 0===e||null===(t=e.official_user)||void 0===t||!t.is_primary_website_verified)}getCredits(){const{adBlockTextTransform:e,viewParameter:t,pinId:n,data:{board:i,pin:r}}=this.props,a=r.story_pin_data,o=r.pinner,s=r.promoter,l=null==a?void 0:a.has_product_pins,d=0===t,c=3173===t,u=3375===t,p=this.getIsClaimedContent(),_=r.native_creator,h=!!r.native_creator,m=ke(r),{sponsorship:g}=r,{creator:f,sponsor:v}=g||{},y=m&&!!g&&(null==s?void 0:s.id)!==(null==_?void 0:_.id),x=!!g&&f;if(!(m||x||d||c||h||p))return;switch(y?"PROMOTED_SPONSORED":m?"PROMOTED":x?"SPONSORED":h?"AFFILIATED_PRODUCTS":l?"NATIVE_CONTENT":p?"CLAIMED_CONTENT":i&&"protected"===i.privacy?"SAVED_BY":"DEFAULT"){case"PROMOTED_SPONSORED":return{title:null==_?void 0:_.full_name,subtitle:null==s?void 0:s.full_name,avatar:this.getPinnerImage(null==_?void 0:_.image_small_url),mediumAvatar:this.getPinnerImage(null==_?void 0:_.image_medium_url),largeAvatar:this.getPinnerImage(null==_?void 0:_.image_large_url),link:null!=_&&_.username?`/${_.username}/`:""};case"PROMOTED":return{title:e(this.props.i18n.bt(":", "Promoted by", "Grid pin annotation", undefined, true)),subtitle:null==s?void 0:s.full_name,avatar:this.getPinnerImage(null==s?void 0:s.image_small_url),mediumAvatar:this.getPinnerImage(null==s?void 0:s.image_medium_url),largeAvatar:this.getPinnerImage(null==s?void 0:s.image_large_url),link:null!=s&&s.username?`/${s.username}/`:""};case"SPONSORED":if(!g)throw new Error("sponsorship doesn't exist when expected");return{title:null==_?void 0:_.full_name,subtitle:null==v?void 0:v.full_name,avatar:this.getPinnerImage(null==_?void 0:_.image_small_url),mediumAvatar:this.getPinnerImage(null==_?void 0:_.image_medium_url),largeAvatar:this.getPinnerImage(null==_?void 0:_.image_large_url),link:null!=_&&_.username?`/${_.username}/`:""};case"AFFILIATED_PRODUCTS":return{title:null==_?void 0:_.full_name,subtitle:"",avatar:this.getPinnerImage(null==_?void 0:_.image_small_url),mediumAvatar:this.getPinnerImage(null==_?void 0:_.image_medium_url),largeAvatar:this.getPinnerImage(null==_?void 0:_.image_large_url),link:null!=_&&_.username?`/${_.username}/`:""};case"NATIVE_CONTENT":let t=(null==i?void 0:i.url)||`/pin/${n}/`;return u&&(t=null!=_&&_.username?`/${_.username}/`:""),{title:"",subtitle:null==_?void 0:_.full_name,avatar:this.getPinnerImage(null==_?void 0:_.image_small_url),mediumAvatar:this.getPinnerImage(null==_?void 0:_.image_medium_url),largeAvatar:this.getPinnerImage(null==_?void 0:_.image_large_url),link:t};case"CLAIMED_CONTENT":const{link_domain:a}=r,{official_user:l}=a||{};return l?{subtitle:l.full_name,avatar:this.getPinnerImage(l.image_small_url),mediumAvatar:this.getPinnerImage(l.image_medium_url),largeAvatar:this.getPinnerImage(l.image_large_url),link:l.username?`/${l.username}/`:""}:void 0;case"SAVED_BY":return{title:this.props.i18n.bt(":", "Saved by", "Grid pin annotation", undefined, true),subtitle:"",avatar:this.getPinnerImage(null==o?void 0:o.image_small_url),mediumAvatar:this.getPinnerImage(null==o?void 0:o.image_medium_url),largeAvatar:this.getPinnerImage(null==o?void 0:o.image_large_url),link:(null==i?void 0:i.url)||`/pin/${n}/`};default:return{title:(null==o?void 0:o.full_name)||"",subtitle:"",avatar:this.getPinnerImage(null==o?void 0:o.image_small_url),mediumAvatar:this.getPinnerImage(null==o?void 0:o.image_medium_url),largeAvatar:this.getPinnerImage(null==o?void 0:o.image_large_url),link:(null==i?void 0:i.url)||`/pin/${n}/`}}}getSharedHeaderInviteCode(){var e;const{viewParameter:t,viewedSharedPins:n,pinId:i}=this.props;return 92===t?null===(e=n&&n[i])||void 0===e?void 0:e.inviteCode:void 0}getPinnerImage(e){return e&&e.includes("/user/default")?void 0:e}getPinText(){const{grid_title:e,rich_summary:t,description:n}=this.props.data.pin;return"string"==typeof e?{title:e,description:""}:{title:null==t?void 0:t.display_name,description:n}}renderPinCard(){var e,t,n,i,r,a,s,l,p,h,m,g,y,x,w,S,T,P,A,k,C,R,j,D,O,N,L,U,F,M,z,Z,H,G;const{checkExperiment:V,country:W,disableAppUpsell:K,duploDisablePinCardPadding:q,disableRounding:X,disableReaction:J,deviceType:Q,experience:te,feedback:re,imageOnlyOption:oe,i18n:de,isAuth:ue,isBot:pe,duploIsSquarePin:_e,isImageOnlyExp:fe,location:ve,duploFeedItemProps:ye,duploLazyLoadImage:xe,duploOneTapSave:be,duploPinCardDetailsMargin:we,duploPriorityFetchImage:Se,pinId:Te,data:{pin:Ie,board:Pe},slotIndex:Ce,viewParameter:Ne,viewType:Le,duploShouldAllowProductPriceIndicator:Ue,topLevelTrafficSource:Fe,topLevelTrafficSourceDepth:Me,trafficSource:ze,duploUnauthRelatedPinsAutoplayExpGroup:Be,trackingParams:Ze,trackInteraction:He,vaseDisplayMode:Ge,createUnauthContextMenuHandler:Ve,duploConversationPin:We}=this.props,{onPinLinkClick:Ke,showSeoMetadata:qe}=null!=ye?ye:{},{aggregated_pin_data:Ye,category:$e,link_domain:Xe,image_signature:Je,promoter:Qe,rich_metadata:et,rich_summary:tt,title:nt,sponsorship:it,story_pin_data:rt}=Ie,{description:at,title:ot}=this.getPinText(),st="desktop"===Q,lt=Re(Ie),dt=0===Ne,ct=3475===Ne,ut=43===Ne,pt=ke(Ie),_t=!!it,ht=null==rt?void 0:rt.has_product_pins,mt=null==rt?void 0:rt.is_deleted,gt=(0,c.Z)((ve&&ve.state||{}).trackingParams||Ze,Ie.tracking_params),ft="product"===Re(Ie)&&!ue&&!pe&&(!V("unauth_gate_product_pins_by_country_and_trustworthiness").anyEnabled||Ie.is_eligible_for_pdp),vt=fe&&!this.isOverrideImageOnly(),yt=Pe&&Pe.isSocialSeasonalBoard,xt=this.getPinImage(),bt=yt&&"gif"===lt?this.convertToGif(Ie):xt,wt=null===(e=Ie.videos)||void 0===e||null===(t=e.video_list)||void 0===t?void 0:t.V_720P,St=(null==wt?void 0:wt.url)||(null===(n=Ie.videos)||void 0===n||null===(i=n.video_list)||void 0===i||null===(r=i.V_HLSV4)||void 0===r?void 0:r.url),Tt=(0,ne.hP)(null!==(a=Ie.description)&&void 0!==a?a:"",Ie.description_html||"",null===(s=Ie.pin_join)||void 0===s?void 0:s.visual_annotation,Ie.alt_text||""),It=ue?at:(0,u.Z)({storyPinDataId:Ie.story_pin_data_id,pinDescription:Ie.description,richMetadataDescription:null!==(l=null===(p=Ie.rich_metadata)||void 0===p?void 0:p.description)&&void 0!==l?l:"",richSummaryDisplayName:null!==(h=null===(m=Ie.rich_summary)||void 0===m?void 0:m.display_name)&&void 0!==h?h:"",placeSummaryName:null!==(g=Ie.place_summary)&&void 0!==g?g:"",closeupDescription:null!==(y=Ie.closeup_description)&&void 0!==y?y:"",closeupUnifiedDescription:null!==(x=Ie.closeup_unified_description)&&void 0!==x?x:""}),Pt=te&&te.display_data.hideReactions||!1,Et=te&&te.display_data.hideDesc||!1,At=!J&&(0,me.J6)({boardIsCollaborative:null==Pe?void 0:Pe.is_collaborative,isDownstreamPromotion:Ie.is_downstream_promotion,isPromoted:Ie.is_promoted,storyPinDataId:Ie.story_pin_data_id,videosId:null===(w=Ie.videos)||void 0===w?void 0:w.id})&&!ct&&!Pt,kt=!ue;let Ct;Ct=Ae(Ie)?Ie.tracked_link||Ie.link:kt?(0,ne.bN)({pinId:Te,seoUrl:Ie.seo_url}):(0,ne.BY)(Te);const Rt=!at||vt&&!dt?void 0:at.trim(),jt=this.getSharedHeaderInviteCode(),Dt={accessibilityLabel:Tt||ot||at||"",country:W,deeplinkUri:Ct,external:Ae(Ie),externalQueryParams:{pin:Te,client_tracking_params:Ze},isAppUpsellDisabled:K,onTouch:this.handleClick,pinCategory:Ie.category,pressState:"none",rounding:4,title:this.props.i18n.bt("  ", "See this Pin", "App Upsell Text after clicking on Pin in feed", undefined, true),to:{pathname:Ct,state:{trackingParams:Ze,trafficSource:ze,topLevelTrafficSource:Fe,topLevelTrafficSourceDepth:Me}},upsellType:"direct",viewParameter:Ne,viewType:Le,clientTrackingParams:gt},Ot=Ee({isDesktop:st}),Nt=Ie.native_creator||Ie.pinner,Lt="search"===ze&&"storyPin"===lt&&V("mweb_search_ideapin_module").anyEnabled,Ut=(0,b.kb)(Xe,et,tt);return(0,v.jsxs)(f.xu,{"data-test-id":"pin","data-test-pin-id":Te,marginBottom:st?0:2,children:[(0,v.jsxs)(f.xu,{"data-test-id":Tt||ot||at?"pin-with-alt-text":"pin-missing-alt-text",padding:q?0:Ot,marginBottom:0,onContextMenu:Nt?Ve({pinId:Te,deviceOptions:{isDesktop:!0}}):void 0,dangerouslySetInlineStyle:{__style:this.state.isShowingCustomContextMenu?ge.Yw:{}},children:[(0,v.jsxs)(ae.MZ,{...Dt,children:[!!jt&&(0,v.jsx)(Y,{inviteCode:jt}),mt?(0,v.jsx)(le.Z,{isPinRep:!0}):(0,v.jsx)($.Z,{clientTrackingParams:gt,color:null!==(S=Ie.dominant_color)&&void 0!==S?S:"",description:Rt,domainLinkData:Ie.domain&&Ie.link?{clickLoggingOptions:{auxData:{objectId:Te,grid_index:Ce,sanitized_url:Ie.link}},domain:Ie.domain,link:Ie.link,onClick:Ke}:void 0,disableRounding:X,hideBottomCardText:yt,image:bt,imageAltText:Tt,imageCrop:Ie.image_crop,isMessenger:yt,isPromoted:pt,isSquarePin:_e,lazyLoadImage:xe,onError:this.handleError,oneTapSave:be,onLoad:this.handleLoad,priorityFetchImage:Se,disableDefaultContextMenu:()=>this.setState({isShowingCustomContextMenu:!0}),createUnauthContextMenuHandler:Ve,pinId:Te,pinnedToBoardId:(null===(T=Ie.pinned_to_board)||void 0===T?void 0:T.id)||"",pinVideo:(yt||pt)&&wt||void 0,videoUrl:St,productPrice:Ue&&!ft?De(Ie):null,slotIndex:Ce,storyData:rt,title:!vt||dt?ot:void 0,type:lt,videoDuration:je(Ie),unauthRelatedPinsAutoplayExpGroup:Be,viewType:Le,viewParameter:Ne})]}),!("image-only"===oe)&&(ue||"desktop"===Q)&&(0,v.jsxs)(f.xu,{children:[!ct&&!ut&&"desktopParity"===Ge&&(0,v.jsx)(ce.Z,{pinId:Te,mode:"inlineWithScrollArrows",graphqlRef:null}),!ft&&(0,v.jsx)(ae.MZ,{...Dt,children:(0,v.jsx)(B,{duploConversationPin:We,allowPriceIndicator:!Ue&&!ft&&["shop_feed"].includes(ze),marginTop:we,hidePinMetadata:Et,contextMenu:ue&&!mt?(0,v.jsx)(f.xu,{marginStart:1,marginTop:we,children:(0,v.jsx)(f.xu,{height:26,width:24,children:(0,v.jsx)(o.Z,{name:"SafeSuspense_Pin_ContextualMenu",children:(0,v.jsx)(I.Z,{children:(0,v.jsx)(Oe,{adMatchReason:Ie.ad_match_reason,bestPinImgSrc:(0,d.Z)({images:Ie.images,embedSrc:null===(P=Ie.embed)||void 0===P?void 0:P.src,embedType:null===(A=Ie.embed)||void 0===A?void 0:A.type}),feedback:re,feedbackType:this.getFeedbackType(),getRecommendationDescription:this.getRecommendationDescription,graphqlRef:null,imageSignature:Je,pinCategory:$e,pinDescription:It,pinId:Te,pinTitle:nt,sourceType:pt?"ad":dt?"following":void 0,viewParameter:Ne,viewType:Le,trackingParams:Ze})})})})}):null,credits:this.getCredits(),hasAffiliatedProducts:ht,isPromotedPin:pt,isSponsoredPin:_t,isSquarePin:_e,marginStart:we,marginEnd:we,onCreditsClick:this.handleCreditsClick,pinDescription:It,pinId:Te,pinnedToBoardId:(null===(k=Ie.pinned_to_board)||void 0===k?void 0:k.id)||"",pinReactionCounts:Ie.reaction_counts,pinTagsChips:(Ye||{}).pin_tags_chips,promoterName:null==Qe?void 0:Qe.full_name,recipeCookTime:vt?void 0:Ie.rich_summary&&Ie.rich_summary.display_cook_time,recipeMaxRating:vt||null==tt||null===(C=tt.aggregate_rating)||void 0===C?void 0:C.best_rating,recipeRating:vt||null==tt||null===(R=tt.aggregate_rating)||void 0===R?void 0:R.rating_value,recipeReviewCount:vt||null==tt||null===(j=tt.aggregate_rating)||void 0===j?void 0:j.review_count,shouldShowReactions:At,style:Lt?"overlay":"default",title:Lt?void 0:ot,type:lt})})]}),!ue&&ft&&(0,v.jsx)(se,{description:Ie.description,domain:null===(D=Ie.rich_summary)||void 0===D?void 0:D.site_name,gridTitle:Ie.grid_title,pinId:Te,pinProduct:Ut,placeSummaryName:Ie.place_summary,richMetadataTitle:null===(O=Ie.rich_metadata)||void 0===O?void 0:O.title,richSummaryDisplayName:null===(N=Ie.rich_summary)||void 0===N?void 0:N.display_name,storyPinDataId:Ie.story_pin_data_id,storyPinDataMetadataPinTitle:null===(L=Ie.story_pin_data)||void 0===L||null===(U=L.metadata)||void 0===U?void 0:U.pin_title,title:Ie.title})]}),(null==Pe?void 0:Pe.isSocialSeasonalBoard)&&ue&&(0,v.jsx)(f.xu,{color:"secondary",marginBottom:6,marginEnd:"auto",marginStart:"auto",marginTop:-2,position:"relative",rounding:2,width:"90%",children:(0,v.jsx)(_.Z,{onTouch:this.handlePinSend,pressState:"none",rounding:2,children:(0,v.jsx)(f.xu,{padding:3,children:(0,v.jsx)(f.xv,{align:"center",weight:"bold",children:de.bt("", "Send", " - ", undefined, true)})})})}),"reported"===Ie.feedback_status?(0,v.jsx)(ee,{color:null!==(F=Ie.dominant_color)&&void 0!==F?F:"",getFeedbackText:()=>({title:this.props.i18n.bt(" ", "Reported", "message displayed after reporting a pin", undefined, true),subTitle:this.props.i18n.bt("!         Pinterest.", "Thanks! Your feedback helps us keep the Pinterest community safe.", "message displayed after reporting a pin", undefined, true)}),pinId:Te,showing:!!Ie.feedback_status}):(0,v.jsx)(ee,{color:null!==(M=Ie.dominant_color)&&void 0!==M?M:"",getFeedbackText:this.getPinHiddenFeedbackText,onUnfollow:this.handleUnfollowPin,pinId:Te,showing:!!Ie.feedback_status,unfollowed:"unfollowed"===Ie.feedback_status,viewParameter:Ne,viewType:Le}),qe&&"inlineHidden"===Ge&&!ft&&(0,v.jsx)(E.Z,{id:"related-pins-title",children:(0,v.jsx)(f.iP,{onTap:()=>{He({action:"click",item:"related-pins-title"})},fullWidth:!1,children:(0,v.jsx)(ie,{description:Ie.description,gridTitle:Ie.grid_title,pinId:Te,placeSummaryName:Ie.place_summary,richMetadataTitle:null===(z=Ie.rich_metadata)||void 0===z?void 0:z.title,richSummaryDisplayName:null===(Z=Ie.rich_summary)||void 0===Z?void 0:Z.display_name,storyPinDataId:Ie.story_pin_data_id,storyPinDataMetadataPinTitle:null===(H=Ie.story_pin_data)||void 0===H||null===(G=H.metadata)||void 0===G?void 0:G.pin_title,title:Ie.title})})}),Ie.debug&&(0,v.jsx)(he.W,{data:Ie.debug})]})}render(){const{componentType:e,pinId:t,trackingParams:n,viewParameter:i,viewType:r,slotIndex:a,objectIdStr:o,viewData:s}=this.props,{startImpressionTimer:l}=this.state;return(0,v.jsx)(fe.dL,{auxData:this.getAuxData(),component:e,impressionData:this.getImpressionData(),isPaused:!l,loggingId:t,objectIdStr:o,onTracked:this.markPinAsSeen,slotIndex:a,trackingParams:n,viewData:s,viewParameter:i,viewType:r,children:({impressionTrackerRef:e})=>(0,v.jsx)(f.xu,{ref:e,children:this.renderPinCard()})})}}function Le(e){const t=(0,x.ZP)(),n=(0,Ie.g)(),{checkExperiment:i}=(0,O.F)(),a=(0,L.useHistory)(),o=(0,L.useLocation)(),s=(0,A.ZP)(),l=(0,Te.M)(),d=(0,we.yz)(),c=(0,be._)({id:1000107}),u=(0,Se.Z)(),_=(0,C.Z)(),{country:h,isAuthenticated:m,isBot:g}=(0,U.B)(),f=(0,de.Z)(),y=(0,r.useDispatch)(),{hasPoorConnection:b,viewedSharedPins:w}=(0,r.useSelector)((({session:e})=>e)),S=(0,r.useSelector)((({experiences:e})=>{const t=e[1000107];return!!t&&500678===t.experience_id})),T=(0,r.useSelector)((({session:e,users:t})=>(0,p.Z)(t[e.userId].created_at)));return(0,v.jsx)(Ne,{...e,adBlockTextTransform:f,checkExperiment:i,country:h,createUnauthContextMenuHandler:l,deviceType:s,experience:c,hasPoorConnection:b,history:a,i18n:t,isAuth:m,isBot:g,isImageOnlyExp:S,location:o,logContextEvent:u,pwaType:d,setSharingOnBoardPage:(e,t,n)=>y((0,ve.Mj)(e,t,n)),trackInteraction:_,unauthDesktopSignupModalPageContext:n,vaseDisplayMode:"desktop"===s?"desktopParity":"inlineHidden",viewedSharedPins:w,viewerIsNewUser:T})}const Ue=({pinId:e,viewParameter:t,viewType:n})=>{const i=(0,S.S6)()(e),a=(0,r.useDispatch)();return i?{board:i.board,markPinAsSeen:e=>a(_e({pinId:e,viewParameter:t,viewType:n})),markPinUnfollowed:e=>a((0,xe.fH)(e,"unfollowed")),pin:i}:null},Fe=(0,a.Z)({useGraphQLAdapter:Ue,useLegacyAdapter:Ue});function Me(e){const{pinId:t,viewParameter:n,viewType:i}=e;return(0,v.jsx)(Fe,{input:{enabled:!1,data:{pinId:t,viewParameter:n,viewType:i}},children:({data:t})=>!!t&&(0,v.jsx)(Le,{...e,data:t})})}},8742:(e,t,n)=>{n.d(t,{CC:()=>s,ZP:()=>d,hW:()=>l});var i=n(19121),r=n(50286),a=n(240684),o=n(785893);const s=(0,a.ZP)({resolved:{},chunkName:()=>"AuthDesktopPinRep",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(67631),n.e(2984)]).then(n.bind(n,656226)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 656226}}),l=(0,a.ZP)({resolved:{},chunkName:()=>"DefaultPinRep",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(67631),n.e(76030),n.e(23019),n.e(44722),n.e(39921)]).then(n.bind(n,894023)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 894023}});function d(e){const t=(0,r.HG)(),n=(0,i.Z)();if(n&&n.isAuth&&t){const{disableReaction:t,disableRounding:n,disableAppUpsell:i,duploDisablePinCardPadding:r,duploFeedItemProps:a,duploIsSquarePin:l,duploLazyLoadImage:d,duploOneTapSave:c,duploPinCardDetailsMargin:u,duploPriorityFetchImage:p,duploShouldAllowProductPriceIndicator:_,duploUnauthRelatedPinsAutoplayExpGroup:h,duploConversationPin:m,topLevelTrafficSource:g,topLevelTrafficSourceDepth:f,trafficSource:v,...y}=e;return(0,o.jsx)(s,{...y})}const{attributionOption:a,blockClickEvents:d,borderStyle:c,disableHover:u,imageHeightModifier:p,imageOnlyOption:_,onError:h,onLoad:m,pin:g,pinImageCrop:f,pinImageFit:v,resolution:y,rounding:x,saveButtonOptions:b,authDesktopSelectionState:w,authDesktopSurface:S,...T}=e;return(0,o.jsx)(l,{...T})}},167525:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(898781),r=n(643010),a=n(883119),o=n(785893);function s({text:e,icon:t,largeIdentifier:n,largeMargin:s}){const l=(0,i.ZP)();return(0,o.jsxs)(a.xu,{zIndex:new a.Ry(1),alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:(0,r.Yc)()?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.8)"}},display:"flex",margin:s?4:2,overflow:"hidden",position:"absolute",rounding:"pill",padding:2,paddingX:n?4:void 0,height:n?36:24,top:!0,children:[t&&(0,o.jsx)(a.xu,{marginEnd:n?2:1,children:(0,o.jsx)(a.JO,{accessibilityLabel:l.bt(",    ", "identifier that shows the pin type", "pin.pincard.iconAccessibilityLabel", undefined, true),color:"default",icon:t,inline:!0,size:n?18:12})}),(0,o.jsx)(a.xv,{inline:!0,size:n?"200":"100",weight:"bold",children:e})]})}},255607:(e,t,n)=>{function i(e){const t=Object.keys(e);if(t.length>0){return t.sort(((t,n)=>e[n]-e[t])).slice(0,3)}return null}function r(e){const t=Object.values(e);if(t.length>0){return t.reduce(((e,t)=>e+t),0)}return 0}function a({boardIsCollaborative:e,isDownstreamPromotion:t,isPromoted:n,storyPinDataId:i,videosId:r}){return!(n||t||!r&&!i||null!=e&&e)}n.d(t,{At:()=>i,J6:()=>a,Ud:()=>r})},349741:(e,t,n)=>{n.d(t,{Z:()=>b});var i=n(667294),r=n(327212),a=n(830157),o=n(499128),s=n(898781),l=n(349700),d=n(883119),c=n(785893);function u({hideToast:e,newPin:t,originalPinId:n}){var i,r;const a=(0,s.ZP)();return(0,c.jsx)(o.ZP,{primaryAction:{accessibilityLabel:a.bt("   ", "Change saved Pin button", "RepinRequest.a11yChangeButton", undefined, true),href:`/pin/${t.id}/repin/?isEditingPin=true&pinBoardId=${null!==(i=null===(r=t.board)||void 0===r?void 0:r.id)&&void 0!==i?i:""}&&isFromToast=true&&originalPinId=${null!=n?n:""}`,label:a.bt("", "Change", "RepinRequest.ChangeButton", undefined, true),size:"lg",onClick:e},duration:5e3,onHide:e,text:(0,c.jsx)(d.xv,{children:(0,l.nk)(a.bt("   {{ profile }}", "Saved to {{ profile }}", "RepinRequest.ProfileSaveToastText", undefined, true),{profile:(0,c.jsx)(d.xv,{inline:!0,weight:"bold",children:a.bt("", "Profile", "RepinRequest.ProfileSaveToastText.Profile", undefined, true)})})}),iconThumbnail:(0,c.jsx)(d.xu,{color:"secondary",display:"flex",justifyContent:"center",alignItems:"center",height:48,width:48,children:(0,c.jsx)(d.JO,{accessibilityLabel:a.bt("", "Profile", "RepinRequest.ProfileIcon", undefined, true),icon:"history",size:22})})})}var p=n(6637),_=n(483025),h=n(414327),m=n(332611),g=n(675752),f=n(56632),v=n(12918),y=n(782677);const x=({board:e,section:t})=>{const n=(0,s.ZP)();return t?(0,l.nk)(n.bt("   {{sectionName}}  {{boardName}}", "Saved to {{sectionName}} in {{boardName}}", "Toast for successfully saving to a section within a board", undefined, true),{sectionName:t&&t.title,boardName:e.name}).join(""):(0,c.jsxs)(i.Fragment,{children:[(0,c.jsx)(d.xv,{color:"default",children:n.bt(":", "Saved to", "Saved to {{ boardName }}", undefined, true)}),(0,c.jsx)(d.xv,{color:"default",weight:"bold",children:e.name})]})};class b{constructor({boardId:e,dispatch:t,history:n,isOneTapSave:i=!1,isQuickSave:r=!1,onSuccess:o,onUndo:s,originalPinId:l,pin:d,resourceName:c,section:u,showNewUserSavetoProfileAnimation:p=!1,showRepinToasts:h,trackingParams:m,userId:g,viewType:f=3,historyPush:v=(()=>{})}){var x,b,w,S,T;T=e=>(0,y.Fv)(e.resource_response.data,_.Z[this.resourceName]),(S="_getNormalizedResponse")in(w=this)?Object.defineProperty(w,S,{value:T,enumerable:!0,configurable:!0,writable:!0}):w[S]=T,this.boardId=e,this.trackingParams=m,this.clientTrackingParams=(0,a.Z)(m.clientTrackingParams||"",d.tracking_params),this.dispatch=t,this.history=n,this.onSuccess=o,this.onUndo=s,this.originalPinId=l,this.pin=d,this.pinnedToBoardId=m.pinnedToBoardId||(null!==(x=null===(b=d.pinned_to_board)||void 0===b?void 0:b.id)&&void 0!==x?x:""),this.resourceName=c,this.showNewUserSavetoProfileAnimation=p,this.showRepinToasts=h,this.section=u,this.isOneTapSave=i,this.isQuickSave=r,this.userId=g,this.viewType=f,this.historyPush=v}get resourceOptions(){const{link:e,title:t,promoted_is_removable:n,id:i}=this.pin,r=n?{is_removable:!0}:{};return{pin_id:i,board_id:this.boardId,section:this.section&&this.section.id,clientTrackingParams:this.clientTrackingParams,link:null!=e?e:"",title:null!=t?t:"",user_id:this.userId,is_removable:r}}get trackingData(){return{event_type:5,element:this.isOneTapSave?10599:void 0,view_type:this.viewType,component:this.isOneTapSave?0:7,view_parameter:this.isOneTapSave?3173:(0,g.A)(this.pin),object_id_str:this.pin.id,clientTrackingParams:this.clientTrackingParams,aux_data:{board_id:this.pinnedToBoardId,destination_board_id:this.boardId}}}_createRepin(){return p.Z.create(this.resourceName,{...this.resourceOptions,disable_event_log_info:!0}).callCreate()}processRepin(e){return this._createRepin().then((t=>{this.onSuccess&&this.onSuccess();const n=t.resource_response.data,{board:i}=n,{isQuickSave:a,originalPinId:o,showNewUserSavetoProfileAnimation:l}=this,p=({hideToast:e})=>{var t;if(a&&!l)return(0,c.jsx)(u,{hideToast:e,newPin:n,originalPinId:o});const{thumbnail:p}=(0,f.L)(i.id);return(0,c.jsx)(r.Z,{button:l?(0,c.jsx)(s.oz,{children:e=>(0,c.jsx)(d.zx,{fullWidth:!0,onClick:({event:t})=>{t.preventDefault(),t.stopPropagation();const r=this.onUndo;var a;r&&!l?r(this.pin.id,n.id,i.id,null===(a=this.section)||void 0===a?void 0:a.id,e):l&&this.historyPush(`/pin/${n.id}/repin/?isEditingPin=true&pinBoardId=${i.id}&&isFromToast=true&&originalPinId=${null!=o?o:""}`)},text:l?e.bt("", "Organize", "RepinRequest.OrganizeButton", undefined, true):e.bt("", "Undo", "RepinRequest.UndoButton", undefined, true)})}):void 0,href:this.section?`${i.url}${null!==(t=this.section.slug)&&void 0!==t?t:""}`:i.url,isRepinToExistingBoard:!0,onHide:e,text:(0,c.jsx)(x,{board:i,section:this.section}),thumbnail:p})},_=this._getNormalizedResponse(t);if(this.dispatch((0,h.XM)(this.resourceName,this.resourceOptions,t,_)),this.originalPinId&&this.originalPinId!==this.resourceOptions.pin_id){const e={...this.resourceOptions,pin_id:this.originalPinId};this.dispatch((0,h.XM)(this.resourceName,e,t,_))}this.dispatch((0,v.M)(n.id,i.id,this.section?this.section.id:void 0,this.userId));const g=this.showRepinToasts;return g&&g(p),this.dispatch((0,m.fO)({event_type:5})),e(this.trackingData),n}))}}},21384:(e,t,n)=>{n.d(t,{Z:()=>C});var i=n(667294),r=n(702664),a=n(373420),o=n(430322),s=n(121151),l=n(898781),d=n(643010),c=n(883119),u=n(50286),p=n(785893);function _({showFullScreenInfo:e,isOpen:t,interstitialUpsellDismissed:n,children:i}){const r=(0,l.ZP)(),a=(0,u.HG)(),_=(0,u.Wb)();return _||a?(0,p.jsx)(s.ZP,{accessibilityModalLabel:"",mobileHideCloseIcon:!0,mobileIsFullscreen:!0,isOpen:e&&!_,closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,p.jsx)(c.xu,{color:(0,d.Yc)()?"dark":"default",dangerouslySetInlineStyle:{__style:{border:(0,d.Yc)()?void 0:"1px solid #efefef",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"}},height:"100%",left:!0,maxHeight:"100%",overflow:"auto",position:"fixed",top:!0,width:a?"100vw":"100%",zIndex:new c.Ry(1),children:(0,p.jsx)(c.xu,{bottom:!0,left:!0,right:!0,top:!0,position:"fixed",padding:5,overflow:"scroll",marginTop:n?0:12,children:i})})}):(0,p.jsx)(o.default,{accessibilityModalLabel:r.bt("", "Close", "Close modal window", undefined, true),isOpen:t,onDismiss:()=>{},mobileAccessibilityCloseIconLabel:r.bt("", "Close", "Close modal window", undefined, true),children:i})}var h,m=n(784590),g=n(690035),f=n(52022),v=n(385801),y=n(623568),x=n(867820),b=n(350118),w=n(780280),S=n(992750),T=n(167912);const I=void 0!==h?h:h=n(276667);function P({iconColor:e,size:t,isMainPin:n,isAuth:o,pinCreditPrefix:s,onClickTitleOrDomain:d,richMetadataDescription:h,richMetadataTitle:m,richSummaryDisplayName:b,placeSummaryName:T,closeupUnifiedDescription:I,gridTitle:P,storyPinDataId:E,storyPinDataMetadataPinTitle:A,pinDescription:k,pinDomain:C,pinTitle:R,boardId:j,boardUrl:D,boardName:O,boardPrivacy:N,pinnerFullName:L,pinnerImageSmallUrl:U,pinnerImageLargeUrl:F,pinId:M,graphqlRef:z}){const B=(0,l.ZP)(),Z=(0,f.Z)(),{isBot:H}=(0,w.B)(),{unauthInterstitialDismissed:G}=(0,r.useSelector)((({session:e})=>e)),[V,W]=(0,i.useState)(!1),K=(0,u.HG)(),q=(0,u.Wb)(),Y=(0,g.Z)(),$=(0,y._S)(C)?C:"",X=!q&&!o,{description:J}=(0,S.eK)({richMetadataDescription:h,richSummaryDisplayName:b,placeSummaryName:T,closeupUnifiedDescription:I}),Q=(0,S.fs)({pinTitle:R,gridTitle:P,richSummaryDisplayName:b,richMetadataTitle:m,storyPinDataId:E,storyPinDataMetadataPinTitle:A,placeSummaryName:T})||k,ee=!K,te=(0,p.jsxs)(c.xu,{padding:5,dangerouslySetInlineStyle:X?{__style:{paddingTop:0,paddingBottom:30}}:void 0,children:[(0,p.jsx)(c.xu,{left:!0,position:"absolute",top:!0,color:"default",padding:4,"data-test-id":"close-seo-vase-see-more-button",children:(0,p.jsx)(c.hU,{accessibilityLabel:B.bt("", "Cancel", "close modal icon", undefined, true),icon:"cancel",size:"sm",onClick:()=>{(0,x.My)("mweb.unauth.see_more.dismissed"),Z({action:"click",item:"close-seo-vase-see-more-button"}),W(!1),n&&(0,x.My)("mweb.unauth.see_more.main_pin.dismissed")},iconColor:"gray"})}),(0,p.jsx)(c.xu,{marginBottom:X?0:8,children:(0,p.jsx)(c.xv,{align:X?"start":"center",weight:X?void 0:"bold",children:(0,p.jsx)("span",{className:"deprecatedTextSizeXL",children:X?null:B.bt("...", "More information", "more information label", undefined, true)})})}),(0,p.jsx)(v.Z,{description:J,title:Q,pinCreditPrefix:s,onClickTitleOrDomain:d,pinDomain:$,boardId:j,boardUrl:D,boardName:O,boardPrivacy:N,pinnerFullName:L,pinnerImageSmallUrl:U,pinnerImageLargeUrl:F,pinId:M,graphqlRef:z})]});return(0,p.jsxs)(c.xu,{right:!0,"data-test-id":"SeoVaseSeeMoreButton",dangerouslySetInlineStyle:{__style:{float:"right"}},children:[(0,p.jsx)(c.hU,{accessibilityLabel:B.bt("", "See more", "more information icon", undefined, true),icon:"ellipsis",iconColor:null!=e?e:"gray",size:t||"md",onClick:({event:e})=>{e.stopPropagation(),(0,x.My)("mweb.unauth.see_more.shown"),Z({action:"click",item:"seo-vase-see-more-button"}),q||o?(W(!0),n&&(0,x.My)("mweb.unauth.see_more.main_pin.shown")):Y({pinId:M||"",location:n?"main-pin-more-information":"non-main-pin-more-information",seoPlacementConfig:{description:J,titleText:Q,pinCreditPrefix:s,onClickTitleOrDomain:d,cleanPinDomain:$,boardId:j,boardUrl:D,boardName:O,boardPrivacy:N,pinnerFullName:L,pinnerImageSmallUrl:U,pinnerImageLargeUrl:F,pinId:M,graphqlRef:z}})}}),H&&ee?(0,p.jsx)(c.xu,{display:V?"flex":"none",children:te}):(0,p.jsx)(_,{showFullScreenInfo:V,isOpen:V&&!q,interstitialUpsellDismissed:!!G,children:te}),q&&V&&(0,p.jsx)(a.default,{accessibilityModalLabel:"test",onDismiss:()=>{},children:te})]})}function E(e){var t,n,i,r,a,o,s,l,d,c,u,_,h,m,g,f;const v=(0,T.useFragment)(I,e.graphqlRef);return(0,p.jsx)(P,{iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,richMetadataDescription:null!==(t=null==v||null===(n=v.richMetadata)||void 0===n?void 0:n.description)&&void 0!==t?t:"",richMetadataTitle:null!==(i=null==v||null===(r=v.richMetadata)||void 0===r?void 0:r.title)&&void 0!==i?i:"",richSummaryDisplayName:null!==(a=null==v||null===(o=v.richSummary)||void 0===o?void 0:o.displayName)&&void 0!==a?a:"",closeupUnifiedDescription:null!==(s=null==v?void 0:v.closeupUnifiedDescription)&&void 0!==s?s:"",gridTitle:null==v?void 0:v.gridTitle,storyPinDataId:null==v?void 0:v.storyPinDataId,storyPinDataMetadataPinTitle:null==v||null===(l=v.storyPinData)||void 0===l||null===(d=l.metadata)||void 0===d?void 0:d.pinTitle,pinDescription:null==v?void 0:v.description,pinDomain:(null==v?void 0:v.domain)||void 0,pinTitle:null==v?void 0:v.title,boardId:null==v||null===(c=v.board)||void 0===c?void 0:c.entityId,boardUrl:(null==v||null===(u=v.board)||void 0===u?void 0:u.url)||void 0,boardName:(null==v||null===(_=v.board)||void 0===_?void 0:_.name)||void 0,boardPrivacy:(null==v||null===(h=v.board)||void 0===h?void 0:h.privacy)||void 0,pinnerFullName:(null==v||null===(m=v.pinner)||void 0===m?void 0:m.fullName)||void 0,pinnerImageSmallUrl:null==v||null===(g=v.pinner)||void 0===g?void 0:g.imageSmallUrl,pinnerImageLargeUrl:null==v||null===(f=v.pinner)||void 0===f?void 0:f.imageLargeUrl,pinId:null==v?void 0:v.entityId,graphqlRef:v})}function A(e){var t,n,i,r,a,o,s,l,d,c,u;const _=(0,b.S6)()(null!==(t=e.pinId)&&void 0!==t?t:""),h=null==_?void 0:_.board,m=null==_?void 0:_.pinner;return(0,p.jsx)(P,{iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,richMetadataDescription:null!==(n=null==_||null===(i=_.rich_metadata)||void 0===i?void 0:i.description)&&void 0!==n?n:"",richMetadataTitle:null!==(r=null==_||null===(a=_.rich_metadata)||void 0===a?void 0:a.title)&&void 0!==r?r:"",richSummaryDisplayName:null!==(o=null==_||null===(s=_.rich_summary)||void 0===s?void 0:s.display_name)&&void 0!==o?o:"",placeSummaryName:null!==(l=null==_?void 0:_.place_summary)&&void 0!==l?l:"",closeupUnifiedDescription:null!==(d=null==_?void 0:_.closeup_unified_description)&&void 0!==d?d:"",gridTitle:null==_?void 0:_.grid_title,storyPinDataId:null==_?void 0:_.story_pin_data_id,storyPinDataMetadataPinTitle:null==_||null===(c=_.story_pin_data)||void 0===c||null===(u=c.metadata)||void 0===u?void 0:u.pin_title,pinDescription:null==_?void 0:_.description,pinDomain:null==_?void 0:_.domain,pinTitle:null==_?void 0:_.title,boardId:null==h?void 0:h.id,boardUrl:null==h?void 0:h.url,boardName:null==h?void 0:h.name,boardPrivacy:null==h?void 0:h.privacy,pinnerFullName:null==m?void 0:m.full_name,pinnerImageSmallUrl:null==m?void 0:m.image_small_url,pinnerImageLargeUrl:null==m?void 0:m.image_large_url,pinId:null==_?void 0:_.id})}function k(e){var t,n,i,r,a,o,s,l,d,c,u;const _=(0,b.S6)()(null!==(t=e.pinId)&&void 0!==t?t:""),h=null==_?void 0:_.board,g=null==_?void 0:_.pinner;return(0,m.Z)({name:"PinResource",options:{id:e.pinId,field_set_key:"unauth_ssr_lazy_load"}}),(0,p.jsx)(P,{iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,richMetadataDescription:null!==(n=null==_||null===(i=_.rich_metadata)||void 0===i?void 0:i.description)&&void 0!==n?n:"",richMetadataTitle:null!==(r=null==_||null===(a=_.rich_metadata)||void 0===a?void 0:a.title)&&void 0!==r?r:"",richSummaryDisplayName:null!==(o=null==_||null===(s=_.rich_summary)||void 0===s?void 0:s.display_name)&&void 0!==o?o:"",placeSummaryName:null!==(l=null==_?void 0:_.place_summary)&&void 0!==l?l:"",closeupUnifiedDescription:null!==(d=null==_?void 0:_.closeup_unified_description)&&void 0!==d?d:"",gridTitle:null==_?void 0:_.grid_title,storyPinDataId:null==_?void 0:_.story_pin_data_id,storyPinDataMetadataPinTitle:null==_||null===(c=_.story_pin_data)||void 0===c||null===(u=c.metadata)||void 0===u?void 0:u.pin_title,pinDescription:null==_?void 0:_.description,pinDomain:null==_?void 0:_.domain,pinTitle:null==_?void 0:_.title,boardId:null==h?void 0:h.id,boardUrl:null==h?void 0:h.url,boardName:null==h?void 0:h.name,boardPrivacy:null==h?void 0:h.privacy,pinnerFullName:null==g?void 0:g.full_name,pinnerImageSmallUrl:null==g?void 0:g.image_small_url,pinnerImageLargeUrl:null==g?void 0:g.image_large_url,pinId:null==_?void 0:_.id})}function C(e){return e.graphqlRef?(0,p.jsx)(E,{...e}):e.lazyLoadAnnotations?(0,p.jsx)(k,{...e}):(0,p.jsx)(A,{...e})}},914142:(e,t,n)=>{n.d(t,{Z:()=>d,j:()=>l});var i=n(898781),r=n(883119),a=n(773285),o=n(349700),s=n(785893);const l=[0,2,3];function d({hasAffiliatedProducts:e,isPromoted:t,sponsorName:n,sponsorshipStatus:d,textColor:c}){const u=(0,i.ZP)(),p=(0,a.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled;let _;t?_=(0,o.nk)(u.bt(": {{ name }}", "Promoted by {{ name }}", "sponsorship.sponsorshipText.promotedByBrand", undefined, true),{name:n}):d||0===d?n&&!l.includes(d)?_=(0,o.nk)(u.bt("    {{ name }}", "Paid partnership with {{ name }}", "closeup.creator.sponsoredPinTitle", undefined, true),{name:n}):2!==d&&(_=u.bt(" ", "Paid partnership", "closeup.creator.sponsoredPinTitle", undefined, true)):e&&(_=u.bt("  ", "Includes sponsored products", "sponsorship.sponsorshipText.affiliatedProducts", undefined, true));const h=p&&!t?"Ad  ":"";return(0,s.jsxs)(r.xv,{color:c,size:"100",children:[h,_]})}},982828:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),r=n(700380),a=n(883119),o=n(313047),s=n(785893);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.PureComponent{constructor(...e){super(...e),l(this,"onScroll",(0,r.Z)((e=>{if(this.anchorElement){const e=this.anchorElement.offsetTop+this.anchorElement.offsetHeight;window.scrollY>e&&!this.hasExited?(this.hasExited=!0,this.props.onExit()):window.scrollY<=e&&this.hasExited&&(this.hasExited=!1,this.props.onEnter());const{isOnView:i}=this;var t,n;if(i())null===(t=(n=this.props).onView)||void 0===t||t.call(n)}}),this.props.throttleTime||100)),l(this,"wasViewed",(()=>{var e;const t=null===(e=this.anchorElement)||void 0===e?void 0:e.getBoundingClientRect();return!!t&&t.top<=o.DEFAULT_HEIGHT})),l(this,"isOnView",(()=>{var e;const t=null===(e=this.anchorElement)||void 0===e?void 0:e.getBoundingClientRect();return!!t&&(t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||window.height)-150&&t.right<=(window.innerWidth||window.width))})),l(this,"hasExited",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){window.removeEventListener("scroll",this.onScroll)}render(){const{children:e}=this.props;return(0,s.jsx)(a.xu,{ref:e=>{var t,n;(this.anchorElement=e,this.anchorElement&&this.wasViewed())&&(null===(t=(n=this.props).onView)||void 0===t||t.call(n))},children:e})}}const c=d},751188:(e,t,n)=>{n.d(t,{Z:()=>S});var i=n(541741),r=n(763585),a=n(667294),o=n(50286),s=n(780280),l=n(8742);var d=n(139405),c=n(965900),u=n(123159),p=n(924114),_=n(858416),h=n(94089),m=n(130460),g=n(350118),f=n(698330),v=n(148304),y=n(114020),x=n(640064),b=n(813401),w=n(785893);function S({children:e,pwaContext:t}){const n=(0,o.ZP)(),{isAuthenticated:S}=(0,s.B)();return function(){const e=(0,o.ZP)(),{isAuthenticated:t}=(0,s.B)();(0,a.useEffect)((()=>{t&&"desktop"===e?l.CC.preload():l.hW.preload()}),[t,e])}(),(0,w.jsx)(u.F,{children:(0,w.jsx)(g._S,{children:(0,w.jsx)(m.fJ,{children:(0,w.jsx)(f.kY,{children:(0,w.jsx)(v.t7,{children:(0,w.jsx)(_.Wr,{children:(0,w.jsx)(d.pb,{children:(0,w.jsx)(b.of,{initialContext:t,children:(0,w.jsx)(p.fr,{children:(0,w.jsx)(y.p,{children:(0,w.jsx)(x.w,{children:(0,w.jsx)(h.vo,{children:(0,w.jsx)(r.Z,{scrollOn:S&&"desktop"===n?"timeout":"animationFrame",children:(0,w.jsxs)(c.g,{children:[S&&(0,w.jsx)(i.Z,{}),e]})})})})})})})})})})})})})})}},394332:(e,t,n)=>{n.d(t,{Z:()=>b});var i,r=n(667294),a=n(391254),o=n(941646),s=n(862193),l=n(898781),d=n(52022),c=n(992750),u=n(350118),p=n(883119),_=n(167912),h=n(785893);const m=void 0!==i?i:i=n(85934);function g({direction:e,handleClick:t,testId:n}){const i=(0,l.ZP)(),r=(0,d.Z)();return(0,h.jsx)("div",{style:{alignItems:"center",background:`linear-gradient(to ${"left"===e?"right":"left"}, rgba(255,255,255,1) 25%,rgba(255,255,255,0) 100%)`,border:"none",cursor:"pointer",display:"flex",height:30,lineHeight:25,outline:"none",paddingBottom:4,paddingTop:4,position:"absolute",top:0,width:45,..."right"===e?{right:0,justifyContent:"flex-end",textAlign:"right"}:{left:0}},onClick:e=>{r({action:"click",item:"board-pills-arrow"}),t(e)},role:"button","aria-label":"arrow",tabIndex:-1,"aria-hidden":"true","data-test-id":n,children:(0,h.jsx)(o.Z,{id:"board-pills-arrow",children:(0,h.jsx)(p.JO,{accessibilityLabel:i.bt("", "Scroll", "annotations.scrollArrow", undefined, true),icon:"right"===e?"arrow-forward":"arrow-back",size:8,color:"subtle"})})})}function f({name:e,url:t}){const[n,i]=(0,r.useState)(!1),a=(0,d.Z)();return(0,h.jsx)(p.xu,{"data-test-id":"vase-tag",display:"inlineBlock",marginTop:1,marginEnd:1,paddingX:2,paddingY:1,height:26,color:"secondary",rounding:8,dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:(0,h.jsx)(p.xv,{color:n?"subtle":"default",inline:!0,overflow:"breakWord",size:"100",weight:"bold",children:t?(0,h.jsx)(p.rU,{display:"inlineBlock",tapStyle:"compress",href:t,rounding:8,onClick:()=>{a({action:"click",item:"vase-tag"})},underline:"hover",children:e}):e})})}function v({pinJoinVisualAnnotation:e,pinJoinAnnotationsWithLinks:t,mode:n}){const[i,s]=(0,r.useState)(!1),[l,u]=(0,r.useState)(!1),_=(0,d.Z)(),m=(0,r.useRef)(null);(0,r.useEffect)((()=>{const e=m.current,t=()=>{if("inlineWithScrollArrows"===n&&m.current){const e=m.current,t=Math.max(0,e.scrollLeft),n=t+e.clientWidth;s(0!==t),u(n<e.scrollWidth)}else s(!1),u(!1)};return t(),null==e||e.addEventListener("scroll",t),()=>{null==e||e.removeEventListener("scroll",t)}}),[n]);const v=e=>t=>{t.preventDefault(),t.stopPropagation(),"right"===e&&_({action:"click",item:"board-pills-arrow-button-right"});const n=m.current;if(!n)return;const i=("left"===e?-1:1)*n.clientWidth*.5;n.scrollLeft=Math.min(Math.max(n.scrollLeft+i,0),n.scrollWidth)},{annotationsWithLinks:y}=(0,c.eK)({pinJoinVisualAnnotation:e,pinJoinAnnotationsWithLinks:t});return(0,h.jsx)(p.kC,{alignItems:"center",justifyContent:"end",children:(0,h.jsxs)(p.xu,{display:"flex",overflow:"auto",width:"100%",position:"relative","data-test-id":"vase-carousel",children:[(0,h.jsx)(a.Z,{unsafeCSS:"\n::-webkit-scrollbar {\n  display: none;\n}\n"}),i&&(0,h.jsx)(g,{direction:"left",handleClick:v("left"),testId:"left-scroll-arrow"}),(0,h.jsx)(p.xu,{overflow:"auto",padding:0,dangerouslySetInlineStyle:{__style:{scrollBehavior:"smooth",scrollbarWidth:"none",whiteSpace:"nowrap"}},ref:m,children:y.map((({name:e,url:t})=>(0,h.jsx)(f,{name:e,url:t},t||e)))}),l&&(0,h.jsx)(o.Z,{id:"board-pills-arrow-button-right",children:(0,h.jsx)(g,{direction:"right",handleClick:v("right"),testId:"right-scroll-arrow"})})]})})}function y(e){var t;const n=(0,_.useFragment)(m,e.graphqlRef),i=(0,s.Z)(n),r=(null==n||null===(t=n.pinJoin)||void 0===t?void 0:t.visualAnnotation)||[];return r.length<1?null:(0,h.jsx)(v,{mode:e.mode,pinJoinVisualAnnotation:r,pinJoinAnnotationsWithLinks:i||void 0})}function x(e){var t,n,i;const r=(0,u.S6)()(e.pinId||"");return((null==r||null===(t=r.pin_join)||void 0===t?void 0:t.visual_annotation)||[]).length<1?null:(0,h.jsx)(v,{mode:e.mode,pinJoinVisualAnnotation:null==r||null===(n=r.pin_join)||void 0===n?void 0:n.visual_annotation,pinJoinAnnotationsWithLinks:null==r||null===(i=r.pin_join)||void 0===i?void 0:i.annotations_with_links})}function b(e){return e.graphqlRef?(0,h.jsx)(y,{...e}):(0,h.jsx)(x,{...e})}},385801:(e,t,n)=>{n.d(t,{Z:()=>x});var i=n(667294),r=n(927104),a=n(941646),o=n(52022),s=n(867820),l=n(50286),d=n(883119),c=n(785893);function u({boardUrl:e,boardName:t,boardPrivacy:n,pinnerFullName:i,pinnerImageSmallUrl:r,pinnerImageLargeUrl:u}){const p=(0,l.HG)(),_=(0,o.Z)();if(!e||!t)return null;const h=e.split("/")[1],m=i||h,g=r||u;return(0,c.jsxs)(d.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[g?(0,c.jsx)(d.iP,{role:"link",href:`/${h}/`,fullWidth:!1,tapStyle:"compress",onTap:()=>{(0,s.My)(`pcons.${p?"desktop":"mobile"}.see-more-button-creator`),_({action:"click",item:"see-more-button-creator"})},children:(0,c.jsx)(d.xu,{rounding:"circle",width:32,height:32,overflow:"hidden",marginEnd:2,"data-test-id":"see-more-button-creator",children:(0,c.jsx)(d.Ee,{naturalHeight:32,naturalWidth:32,alt:m,fit:"cover",color:"rgb(231, 186, 176)",src:g})})},"profile-link"):null,(0,c.jsxs)(d.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,c.jsx)(a.Z,{id:"see-more-button-creator-full-name",children:(0,c.jsx)(d.iP,{onTap:()=>{(0,s.My)(`pcons.${p?"desktop":"mobile"}.see-more-button-creator-full-name`),_({action:"click",item:"see-more-button-creator-full-name"})},children:(0,c.jsx)(d.xv,{color:"default",inline:!0,size:"100",weight:"bold",children:(0,c.jsx)(d.rU,{href:`/${h}/`,display:"inlineBlock",tapStyle:"compress",underline:"hover",children:m},"profile-link")},"profileLink")})}),"protected"===n?null:(0,c.jsx)(d.xv,{color:"default",inline:!0,size:"100",children:(0,c.jsx)(d.rU,{href:null!=e?e:"",display:"inlineBlock",tapStyle:"compress",underline:"hover",children:null!=t?t:""},"board-link")},"boardLink")]})]})}var p,_=n(898781),h=n(394332),m=n(349700),g=n(780280),f=n(298024),v=n(167912);const y=void 0!==p?p:p=n(877821);function x({onClickTitleOrDomain:e,title:t,description:n,pinId:a,graphqlRef:p,pinCreditPrefix:x,pinDomain:b,boardId:w,boardUrl:S,boardName:T,boardPrivacy:I,pinnerFullName:P,pinnerImageSmallUrl:E,pinnerImageLargeUrl:A}){const k=(0,_.ZP)(),C=(0,l.ml)(),R=(0,l.Wb)(),{isAuthenticated:j,isBot:D}=(0,g.B)(),O=(0,o.Z)(),N=(0,v.useFragment)(y,p),L=!j&&!D&&C,U=e||null,[F,M]=(0,i.useState)(!1),z=(0,f.si)(),B=(0,f.Re)(),Z=(t||"").length>B,H=n.length>z,[G,V]=(0,i.useState)(!H&&!Z);return(0,c.jsxs)(d.xu,{children:[(0,c.jsxs)(d.xu,{children:[(0,c.jsxs)(d.xu,{as:"figcaption",paddingX:R?11:0,children:[(0,c.jsx)(d.X6,{color:"default",size:"300",accessibilityLevel:3,children:F||D?t:(0,r.Z)(t||"",B)}),!!t&&(0,c.jsx)(d.xu,{height:n?8:0}),n&&(H||Z)?(0,c.jsxs)(d.iP,{onTap:()=>{F||j||((0,s.NC)("click_open_description_in_sheet"),O({action:"click",item:"more-description-in-sheet"})),V(!G),M(!F)},fullWidth:!1,children:[(0,c.jsx)(d.xv,{color:"default",size:"200",inline:!0,children:F||D?n:(0,r.Z)(n,z)}),(0,c.jsx)(d.xu,{display:"inlineBlock",paddingX:1,children:(0,c.jsx)(d.xv,{weight:"bold",size:"200",inline:!0,children:F||D?k.bt("", "Less", "Toggle less description button", undefined, true):k.bt("", "More", "Toggle more description button", undefined, true)})})]}):(0,c.jsx)(d.xv,{color:"default",size:"200",inline:!0,children:n})]}),L&&(G||D)&&!!b&&(0,c.jsx)(d.xu,{marginTop:2,children:(0,c.jsx)(d.kC,{alignItems:"center",direction:"row",width:"100%",children:(0,m.nk)(k.bt("{{ pinCreditPrefix }} {{ pinCredit }}", "{{ pinCreditPrefix }} {{ pinCredit }}", "tells the user where the pin is from in the form of Saved from website", undefined, true),{pinCreditPrefix:(0,c.jsx)(d.xu,{display:"inlineBlock",children:(0,c.jsx)(d.xv,{inline:!0,size:"200",children:x})},"pinCreditsPrefix"),pinCredit:(0,c.jsx)(d.xu,{display:"inlineBlock",marginStart:1,maxWidth:"60vw","data-test-id":"pin-domain-link",children:(0,c.jsx)(d.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),O({action:"click",item:"pin-domain-link"}),(0,s.My)("mweb_pin_page.pin_link.clickthrouh"),j||(0,s.NC)("click_pin_closeup_link_clickthrough"),U&&U()},tapStyle:"compress",children:(0,c.jsx)(d.xv,{size:"200",lineClamp:1,children:(0,c.jsx)("span",{style:{textDecoration:"underline"},children:b})},"pinLinkDomain")})},"pinCredits")})})})]}),!!w&&(G||D)&&(0,c.jsx)(d.xu,{marginTop:4,children:(0,c.jsx)(u,{boardUrl:S,boardName:T,boardPrivacy:I,pinnerFullName:P,pinnerImageSmallUrl:E,pinnerImageLargeUrl:A})}),(0,c.jsx)(d.xu,{marginTop:4,children:(0,c.jsx)(h.Z,{pinId:a,mode:"expanded",graphqlRef:N})})]})}},999023:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),r=n(112690),a=n(867820);const o=({viewType:e,viewParameter:t,viewData:n,auxData:i,objectIdStr:r,component:o,clientTrackingParams:s,element:l},d)=>{const c=(u={event_type:13,view_type:e,view_parameter:t,view_data:n,aux_data:i,object_id_str:r,component:o,clientTrackingParams:s,element:l},Object.keys(u).reduce(((e,t)=>(void 0===u[t]&&delete e[t],e)),{...u}));var u;-1===Object.keys(c).indexOf("view_type")&&(0,a.My)("mweb.logging.null_view_type"),d(c)};function s(e){const{auxData:t,clientTrackingParams:n,children:a,component:s,element:l,objectIdStr:d,viewData:c,viewParameter:u,viewType:p}=e,_=(0,r.Z)(),h=JSON.stringify(t),m=JSON.stringify(c);return(0,i.useEffect)((()=>{o(e,_)}),[_,h,n,s,l,d,m,u,p]),i.Children.only(a)}},598615:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(667294),r=n(329900),a=n(172071),o=n(938917),s=n(53987),l=n(407043),d=n(385740),c=n(52022),u=n(867820),p=n(276775),_=n(785893);function h({children:e,componentType:t,within:n}){const h=(0,p.useLocation)(),{flushContextEvents:m,logContextEvent:g}=(0,l.v)(),{viewType:f,viewParameter:v}=(0,d.SU)(),y=(0,c.Z)();(0,i.useEffect)((()=>{y({action:"view",item:"download-button",within:n})}),[h,n,y]);const x=(0,i.useRef)(!1);(0,i.useEffect)((()=>{f&&202!==f?(g({component:t||13106,element:10308,event_type:9976,view_type:f,view_parameter:v,aux_data:{app_upsell_type:n,app_upsell_is_dupe:x.current}}),x.current=!0):a.Z.increment("webapp.track_app_upsell_viewed_invalid_parameters",1,{component:t,view_type:f,view_parameter:v,app_upsell_type:n,app_upsell_is_dupe:x.current})}),[t,g,v,f,n]);const b=(0,o.Z)();return(0,i.useEffect)((()=>{b||(0,u.My)(`mweb.app_upsell.forbidden_upsell.${n}`)}),[b,n]),(0,_.jsx)(r.Z,{children:i=>e({handleOpenApp:e=>{var r;(y({action:"click",item:"download-button",within:n}),(0,u.NC)("press_open_app",!0),g({component:t||13106,element:10308,event_type:102,view_type:f||202,view_parameter:v,aux_data:{app_upsell_type:n}}),g({component:t||13106,element:10308,event_type:9977,view_type:f||202,view_parameter:v,aux_data:{app_upsell_type:n}}),m(!0),i)&&(g({component:t||13106,element:10308,event_type:1701,view_type:f||202,view_parameter:v,aux_data:{app_upsell_type:n}}),i(null!==(r=null==e?void 0:e.deepLinkUri)&&void 0!==r?r:(e=>"/"===e.pathname?"/":(0,s.am)(e)?`board/${e.pathname.substr(1)}`:e.pathname.substr(1))(h)))}})})}},296679:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(598615),r=n(821997),a=n(430322),o=n(898781),s=n(287072),l=n(948376),d=n(773285),c=n(50286),u=n(780280),p=n(664166),_=n(883119),h=n(785893);const m=({deepLinkUri:e,isOpen:t,onDismiss:n,onOpenInApp:p,to:m,within:g})=>{var f;const v=(0,o.ZP)(),y=(0,c.Wb)(),{userAgent:{platform:x,raw:b}}=(0,u.B)(),w=(0,l.Rp)({platform:x,userAgent:b}),S=(0,s.Z)({href:null!=m?m:""}),T=y?60:40,{checkExperiment:I}=(0,d.F)(),{group:P}=I("mweb_auth_deep_link_app_upsell"),E={control:{valueProp:v.bt("   ", "The best experience is on the app", "mweb.unauth.app_upsell.app_value_prop", undefined, true),description:v.bt("    ", "Free, unlimited access to ideas", "mweb.app_upsell.description", undefined, true)},enabled_check_install_1:{valueProp:v.bt("   ", "Pick this up in the app", "mweb.unauth.app_upsell.app_value_prop1", undefined, true),description:v.bt("   Pinterest,     ", "Continue in the Pinterest app for the best experience", "mweb.app_upsell.description1", undefined, true)},enabled_check_install_2:{valueProp:v.bt("   ", "Pick this up in the app", "mweb.unauth.app_upsell.app_value_prop1", undefined, true),description:v.bt(",     Pinterest", "Looks like youve already downloaded the Pinterest app", "mweb.app_upsell.description2", undefined, true)},enabled_check_install_3:{valueProp:v.bt("   ", "Pick this up in the app", "mweb.unauth.app_upsell.app_value_prop1", undefined, true),description:v.bt(",      Pinterest.        .", "Looks like youve already downloaded Pinterest. Use the app for the best experience.", "mweb.app_upsell.description3", undefined, true)},enabled_check_install_4:{valueProp:v.bt("  Pinterest  ", "Pinterest is better on the app", "mweb.unauth.app_upsell.app_value_prop2", undefined, true),description:v.bt("  ,     ", "Continue in the app for the full experience", "mweb.app_upsell.description4", undefined, true)},enabled_check_install_5:{valueProp:v.bt("  Pinterest  ", "Pinterest is better on the app", "mweb.unauth.app_upsell.app_value_prop2", undefined, true),description:v.bt("  ,     ", "Continue in the app for more ways to discover ideas", "mweb.app_upsell.description5", undefined, true)}},{valueProp:A,description:k}=null!==(f=E[P||"control"])&&void 0!==f?f:{},C=P.startsWith("enabled_check_install")?v.bt(" ", "Open app", "mweb.app_upsell.app_upsell_button_text1", undefined, true):v.bt(" ", "Get the app", "mweb.app_upsell.app_upsell_button_text", undefined, true);return(0,h.jsx)(a.default,{accessibilityModalLabel:"",isOpen:t,mobileHideCloseIcon:!0,type:"app_upsell_v1",overrideZDepth:101,closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,h.jsx)(i.Z,{componentType:14157,within:g,children:({handleOpenApp:t})=>(0,h.jsxs)(_.xu,{padding:3,"data-test-id":"appUpsell-iframe",children:[(0,h.jsx)(_.xu,{display:"inlineBlock",position:"absolute",children:(0,h.jsx)(_.xu,{"data-test-id":"appUpsell-continue",children:(0,h.jsx)(_.hU,{accessibilityLabel:v.bt("  ", "close icon background", "accesibility label for close icon on a overlay", undefined, true),icon:"cancel",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{n({event:e}),S&&!e.defaultPrevented&&(t(),S({event:e}))},size:"lg",iconColor:"gray"})})}),(0,h.jsxs)(_.xu,{paddingX:2,paddingY:6,children:[(0,h.jsx)(_.xu,{paddingY:2,justifyContent:"center",display:"flex",children:w?(0,h.jsx)(r.Z,{size:T}):(0,h.jsx)(_.JO,{color:"brandPrimary",icon:"pinterest",accessibilityLabel:"Pinterest App",size:T})}),(0,h.jsxs)(_.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,h.jsx)(_.xu,{paddingY:2,children:(0,h.jsx)(_.X6,{align:"center",size:"400",children:w?v.bt(" Pinterest Lite", "Try Pinterest Lite", "mweb.app_upsell.lite_app_upsell_title", undefined, true):A})}),(0,h.jsx)(_.xv,{align:"center",size:"300",children:w?v.bt("  ,    ", "A space-saving way to discover new ideas", "mweb.app_upsell.lite_app_value_prop", undefined, true):k}),(0,h.jsx)(_.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{display:"grid"}},justifyContent:"center",marginTop:8,children:(0,h.jsx)(_.zx,{fullWidth:!0,size:"lg",color:"red",onClick:()=>{t({deepLinkUri:e}),p()},text:C})})]})]})]})})})};function g({clientTrackingParams:e,deepLinkUri:t,isOpen:n,onDismiss:i,onOpenInApp:r,shouldTrackDismiss:a,to:o,viewParameter:s,viewType:l,within:d}){return(0,h.jsx)(p.Z,{clientTrackingParams:e,viewType:l,viewParameter:s,children:(0,h.jsx)(m,{deepLinkUri:t,isOpen:n,onDismiss:e=>{a&&(0,p.y)(),i(e)},onOpenInApp:()=>{(0,p.y)(),r()},to:o,within:d})})}},664166:(e,t,n)=>{n.d(t,{Z:()=>u,y:()=>c});var i=n(667294),r=n(807609),a=n(999023),o=n(30287),s=n(339363),l=n(844974),d=n(785893);const c=()=>{(0,l.Nh)("appUpsell",Date.now()),(0,l.qn)("firstUpsellTime")||(0,l.Nh)("firstUpsellTime",Date.now()),(0,s.Nh)("showedAppUpsellCurrentSession",!0)};function u({children:e,clientTrackingParams:t,viewParameter:n,viewType:s}){return(0,r.Z)()||(0,o.FP)(window)?null:(0,d.jsx)(a.Z,{viewType:s,viewParameter:n,component:13106,clientTrackingParams:t,children:(0,d.jsx)(i.Fragment,{children:e})})}},938917:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(702664);const r=()=>(0,i.useSelector)((({session:{canUseNativeApp:e}})=>e))},80811:(e,t,n)=>{n.d(t,{Z:()=>b});var i=n(667294),r=n(948618),a=n(815613),o=n(298361),s=n(112690),l=n(892819),d=n(19121),c=n(349700),u=n(867820),p=n(50286),_=n(758127),h=n(722556),m=n(898781),g=n(883119),f=n(526760),v=n(785893);function y(e,t){const{full_name:n,username:i}=e,r=(0,v.jsx)(g.rU,{href:`/${i}`,display:"inlineBlock",underline:"hover",children:n});return(0,c.nk)(t.bt("{{ linkToUser }}     ", "{{ linkToUser }} invited you to join this board", "boardRep.invite.invitationText", undefined, true),{linkToUser:r})}const x=({children:e})=>{const t=(0,d.Z)(),n=(0,p.HG)(),i=t&&t.isAuth;return n&&i?(0,v.jsx)(g.X6,{accessibilityLevel:2,size:"400",lineClamp:1,children:e}):(0,v.jsx)(g.xv,{lineClamp:1,weight:"bold",children:e})};function b({archivedDate:e,boardUrl:t,canEdit:n,collaborators:d,collaboratorsCount:b=0,containerBackgroundColor:w,coverPhoto:S,followedByMe:T,fullSizeDrawer:I,sensitivityScreen:P,handleInviteResponse:E,hideMeta:A,id:k,invite:C,imagesLego:R=[],isBoardInviteAccepted:j,isActive:D,isAuthenticated:O,isCollaborative:N,isCollaborator:L,isOwner:U,isSecret:F,lastModifiedDate:M,layout:z,locale:B,name:Z,numCols:H,onEditClick:G,onFollow:V,onUnfollow:W,owner:K,pinCount:q=0,sectionCount:Y,showFollowButton:$,viewParameter:X,viewType:J,viewerId:Q}){const ee=(0,m.ZP)(),te=(0,o.Z)(),ne=(0,l.Z)(),ie=(0,s.Z)(),re=(0,p.HG)(),ae=re&&O,oe="square"===z?f.M0:f.z9,se=R.map((e=>({url:e.url,name:Z}))),le=!!K&&!n&&$,de=!U&&!L&&!(null==P||!P.show_warning),ce={board_id:k,reason:null==P?void 0:P.reason};(0,i.useEffect)((()=>{de&&ie({event_type:13,component:13861,view_type:215,aux_data:ce})}),[]);const ue=K?K.id:void 0,pe=[...d.filter((({id:e})=>e===ue)),...d.filter((({id:e})=>e===Q&&e!==ue)),...d.filter((({id:e})=>![ue,Q].includes(e)))].map((e=>{var t,n;return{name:null!==(t=ae?e.full_name:e.username)&&void 0!==t?t:"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":null!==(n=e.image_medium_url)&&void 0!==n?n:""}}));let _e=b>=pe.length?b-pe.length:0;_e=_e>99?100:_e;const he=[...pe,...Array(_e).fill({name:"",src:""})],me=ae?24:16,ge=me/3*(2*(pe.length>2?3:pe.length)+1);return(0,v.jsxs)(g.xu,{"data-test-id":`boardCard-${Z}`,position:"relative",height:le?"max(calc(25vh + 10px), 220px)":"100%",width:ae?oe:"100%",children:[(0,v.jsx)(h.Z,{canEdit:n,containerBackgroundColor:w,coverPhoto:S,images:se,isSecret:F,fullSize:I,showSensitivityScreen:de,isActive:D,onEditClick:G,layout:z}),!A&&(0,v.jsx)(i.Fragment,{children:C?(0,v.jsxs)(i.Fragment,{children:[(0,v.jsxs)(g.xu,{padding:2,alignItems:"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,v.jsxs)(g.xu,{width:"100%",children:[(0,v.jsx)(g.rU,{href:null!=t?t:"",children:(0,v.jsx)(g.xu,{marginTop:0,marginBottom:1,children:(0,v.jsx)(x,{children:Z})})}),j?(0,v.jsx)(g.xv,{size:"200",lineClamp:1,children:ee.bt(" .", "Youve joined", "boardRep.invite.invitationAcceptedText", undefined, true)}):(0,v.jsx)(g.xv,{size:"200",children:y(C.invited_by_user,ee)})]}),(0,v.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1}},marginStart:2,width:ge,minWidth:ge,height:me,children:(0,v.jsx)(g.HE,{accessibilityLabel:_.U+(ee.bt("  ", "Board has collaborators", "BoardCard.AvatarGroup.Collaborators", undefined, true)),collaborators:he})})]}),j?(0,v.jsx)(g.xu,{direction:"row",display:"flex",paddingX:2,children:(0,v.jsx)(g.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,v.jsx)(g.zx,{role:"link",href:null!=t?t:"",fullWidth:!0,size:"lg",text:ee.bt(" ", "See board", "boardRep.invite.seeBoardButton", undefined, true)})})}):(0,v.jsxs)(g.kC,{direction:"row",flex:"grow",justifyContent:"start",wrap:!0,children:[(0,v.jsx)(g.xu,{marginBottom:3,paddingX:1,flex:"grow",children:(0,v.jsx)(g.zx,{fullWidth:!0,onClick:()=>{null==E||E(!1)},size:"lg",text:ee.bt("", "Decline", "boardRep.invite.declineButton", undefined, true)})}),(0,v.jsx)(g.xu,{marginBottom:3,paddingX:1,flex:"grow",children:(0,v.jsx)(g.zx,{fullWidth:!0,color:"red",onClick:()=>{null==E||E(!0)},size:"lg",text:ee.bt("", "Accept", "boardRep.invite.acceptButton", undefined, true)})})]})]}):(0,v.jsxs)(g.xu,{height:ae?void 0:f.s0,marginTop:ae?0:1,paddingX:2,paddingY:ae?2:0,children:[(0,v.jsxs)(g.xu,{alignItems:"center","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,v.jsx)(x,{children:Z}),N&&(0,v.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1}},marginStart:2,width:ge,minWidth:ge,height:me,children:(0,v.jsx)(g.HE,{accessibilityLabel:_.U+(ee.bt("  ", "Board has collaborators", "BoardCard.AvatarGroup.Collaborators", undefined, true)),collaborators:he})})]}),(0,v.jsxs)(g.xu,{alignItems:re?"center":"start",direction:re?"row":"column",display:"flex",marginTop:1,children:[(0,v.jsxs)(g.xv,{size:"100",lineClamp:1,children:[(0,v.jsx)(_.Z,{}),(0,c.nk)(ee.nbt(["{{ count }} ", "{{ count }} ", "{{ count }} "], q, "profile.ProfilePage.board.BoardCard.PinsCount", true),{count:ne(B,q,{})}),!!Y&&(0,v.jsxs)(i.Fragment,{children:[(0,v.jsx)(r.Z,{ariaHidden:!0}),(0,v.jsx)(_.Z,{}),(0,c.nk)(ee.nbt(["{{ count }}", "{{ count }}", "{{ count }}"], Y, "profile.ProfilePage.board.BoardCard.SectionsCount", true),{count:Y})]})]}),!e&&(0,v.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{display:ae?"inline-flex":"inline",paddingLeft:re?7:0}},children:(0,v.jsxs)(g.xv,{color:"subtle",inline:!0,size:"100",lineClamp:1,children:[(0,v.jsx)(_.Z,{}),te(M,!0)]})})]}),!!e&&(0,v.jsxs)(g.xu,{marginTop:1,children:[(0,v.jsx)(_.Z,{}),(0,v.jsx)(g.xv,{color:"subtle",size:"100",lineClamp:1,children:ee.bt("", "Archived", "profile.ProfilePage.board.BoardCard.ArchivedBoardText", undefined, true)})]}),le&&(0,v.jsx)(g.xu,{marginTop:2===H?3:void 0,column:2===H?12:void 0,flex:"none",children:(0,v.jsx)(a.Z,{disabled:null==K?void 0:K.blocked_by_me,followEventType:26,id:k,isFollowed:T,onFollow:e=>{O||(0,u.NC)("press_follow_board"),V&&V(e)},onUnfollow:e=>{O||(0,u.NC)("press_unfollow_board"),W&&W(e)},shouldUseLegoColors:!0,size:"md",unfollowEventType:27,viewParameter:X,viewType:J})})]})})]})}},223019:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(702664),r=n(80811),a=n(340494),o=n(52022),s=n(19121),l=n(867820),d=n(130460),c=n(780280),u=n(883119),p=n(712055),_=n(853492),h=n(785893);const m=["thumbnail","imageOnly"];function g({boardId:e,containerBackgroundColor:t,forwardedRef:n,fullSize:g,showFollowButton:f=!0,showPinCount:v=!0,type:y,viewParameter:x,viewType:b}){var w,S,T;const I=(0,s.Z)(),P=I&&I.isAuth,E=(0,i.useDispatch)(),{locale:A}=(0,c.B)(),k=(0,o.Z)(),C=(0,d.gC)()(e),R=(0,a.Z)(),j=I.isAuth?I.id:"";if(!C)return null;const D=C.owner,O=[D,...C.collaborating_users||[]].filter(Boolean).map((({id:e,image_medium_url:t,username:n})=>({id:e,image_medium_url:t,username:n}))),N=(null==D?void 0:D.id)===j,L=O.filter((({id:e})=>e===j)).length>0;if("secret"===C.privacy&&!L)return null;const U="grid"===y||"thumbnail"===y?2:4,F=R(C,U),M={isCustom:C.has_custom_cover,url:F,position:(0,_.Bw)(C.cover_pin)},z=(0,_.Jx)(C,F).map((({url:e})=>({name:(0,_.po)(e),url:e}))),B=(0,h.jsx)(r.Z,{archivedDate:null!==(w=C.archived_by_me_at)&&void 0!==w?w:void 0,canEdit:!!C.access&&C.access.includes("write"),collaborators:O,collaboratorsCount:C.collaborator_count,containerBackgroundColor:t,coverPhoto:F?M:null,followedByMe:C.followed_by_me,fullSizeDrawer:g,hideMeta:m.includes(y),id:C.id,imagesLego:z,isAuthenticated:P,isCollaborative:C.is_collaborative,isCollaborator:L,isOwner:N,isSecret:"secret"===C.privacy,lastModifiedDate:"full"===y?C.board_order_modified_at:"",locale:A,name:null!==(S=C.name)&&void 0!==S?S:"",numCols:U,onFollow:e=>E((0,p.Z)(e)),onUnfollow:e=>E((0,p.f)(e)),owner:D,pinCount:v&&C.pin_count?C.pin_count:void 0,sectionCount:null!==(T=C.section_count)&&void 0!==T?T:0,sensitivityScreen:C.sensitivity_screen,showFollowButton:f,viewParameter:x,viewType:b,viewerId:j});return!m.includes(y)&&C.url?(0,h.jsx)(u.iP,{role:"link",href:C.url,rounding:2,tapStyle:"compress",onTap:()=>{P||((0,l.NC)("click_go_to_board"),k({action:"click",item:"board-card"}))},children:(0,h.jsx)(u.xu,{ref:n,paddingY:3,children:B})}):B}},686844:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(883119),r=n(785893);function a({customCover:e,height:t,imgUrl:n,imgPos:a,width:o}){const s=t/o;let l="center center";if(e&&a){let e=1;e=a.height/a.width>s?o/a.width:t/a.height;l=`-${a.x*e}px -${a.y*e}px`}const d={backgroundImage:`url(${n})`,backgroundPosition:l,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF",position:"relative"};return(0,r.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{height:t,width:o}},children:(0,r.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:d},children:(0,r.jsx)("div",{className:"imageWash",style:{position:"absolute"}})})})}},722556:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(686844),r=n(522843),a=n(898781),o=n(50286),s=n(780280),l=n(883119),d=n(526760),c=n(785893);const u="100%";function p(e){var t,n;const p=(0,a.ZP)(),{containerBackgroundColor:_="white",coverPhoto:h,fullSize:m,images:g,isSecret:f,showSensitivityScreen:v,isActive:y,canEdit:x,onEditClick:b,layout:w}=e,S=(0,o.HG)(),{isRTL:T,isAuthenticated:I}=(0,s.B)(),P=S&&I,E=g[0],A=!h&&(null===(t=g[0])||void 0===t?void 0:t.name)||p.bt(" ", "Cover image", "DrawerImageGroup", undefined, true),k=Array(2).fill(),C=new l.Ry(1),R="square"===w?d.M0:d.z9,j="square"===w?d.FP:d.FC,D=null!=E&&E.url?(0,c.jsx)(l.Ee,{alt:A,color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:E.url}):(0,c.jsx)(l.xu,{color:"secondary",height:"100%",width:"100%"}),O=v?{filter:"blur(20px)"}:{};return(0,c.jsx)(l.zd,{height:m?"100%":void 0,rounding:4,width:"100%",wash:y,children:(0,c.jsxs)(l.xu,{"aria-hidden":!0,display:"flex",height:P?j:"100%",direction:"row",children:[(0,c.jsx)(l.sg,{span:8,children:(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:O},position:"relative",height:m?"100%":void 0,children:(0,c.jsx)(l.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:u}},overflow:"hidden",width:"100%",children:(0,c.jsxs)(l.xu,{"data-test-id":"drawer-image-group-first-image-container",dangerouslySetInlineStyle:{__style:{borderColor:_,borderStyle:"solid",borderWidth:"1px 0 1px 1px"}},overflow:"hidden",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,children:[f&&(0,c.jsx)(l.xu,{left:!T,right:T,margin:2,position:"absolute",top:!0,zIndex:C,children:(0,c.jsx)(r.Z,{backgroundColor:"default",iconColor:"default",size:P?32:24})}),P&&null!=h&&h.url?(0,c.jsx)(i.Z,{customCover:h.isCustom,imgPos:h.position||{width:0,height:0,x:0,y:0},imgUrl:null!==(n=h.url)&&void 0!==n?n:"",width:Math.floor(R/3*2),height:j}):D]})})})}),(0,c.jsx)(l.sg,{span:4,children:(0,c.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:O},height:"100%",children:[x&&y&&(0,c.jsx)(l.xu,{left:T,right:!T,margin:2,position:"absolute",bottom:!0,zIndex:C,children:(0,c.jsx)(l.hU,{accessibilityLabel:p.bt("", "Edit", "DrawerImageGroup.edit", undefined, true),bgColor:"white",icon:"edit",iconColor:"darkGray",onClick:({event:e})=>null==b?void 0:b(e),size:"sm"})}),k.map(((e,t)=>{const n=g[P?t:t+1];return(0,c.jsx)(l.xu,{position:"relative",height:m?"50%":void 0,children:(0,c.jsx)(l.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:u}},overflow:"hidden",width:"100%",children:(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{borderColor:_,borderStyle:"solid",borderWidth:0===t?1:"0 1px 1px 1px"}},overflow:"hidden",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,children:null!=n&&n.url?(0,c.jsx)(l.Ee,{alt:n&&n.name||"placeholder",color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:n.url}):(0,c.jsx)(l.xu,{color:"secondary",height:"100%",width:"100%"})})})},t)}))]})}),v&&(0,c.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:(0,c.jsx)(l.X6,{align:"center",color:"light",size:"400",children:p.bt("     ", "This board may contain sensitive content", "drawerImageGroup.sensitivityScreen.heading", undefined, true)})})]})})}},526760:(e,t,n)=>{n.d(t,{FC:()=>s,FP:()=>a,M0:()=>r,Xq:()=>l,s0:()=>i,z9:()=>o});const i=40,r=236,a=157,o=320,s=213,l=7},823434:(e,t,n)=>{n.d(t,{$:()=>r,X:()=>a});var i=n(492563);const r=e=>decodeURIComponent(e),a=e=>encodeURIComponent((0,i.t)(e))},522843:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(898781),r=n(883119),a=n(785893);function o({backgroundColor:e="darkGray",iconColor:t="inverse",iconSize:n,size:o=20}){const s=(0,i.ZP)();return(0,a.jsx)(r.xu,{display:"flex",direction:"column",alignItems:"center",color:e,width:o,height:o,rounding:"circle",justifyContent:"center",children:(0,a.jsx)(r.JO,{accessibilityLabel:s.bt("  ", "Secret board icon", "Icon indicating that a board is secret", undefined, true),color:t,icon:"lock",size:null!=n?n:o/2})})}},340494:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(19121),r=n(50286);function a(){const e=(0,r.HG)(),t=(0,i.Z)(),n=t&&t.isAuth;if(e&&n){return e=>{var t,n;const i=e.cover_images&&e.cover_images["222x"]?e.cover_images["222x"].url:void 0,r=null!==(t=null===(n=e.cover_pin)||void 0===n?void 0:n.image_url)&&void 0!==t?t:i,a=e.images&&e.images["170x"]&&e.images["170x"].length?e.images["170x"][0].url:"";return r||a}}return(e,t)=>{var n,i;const r=e.has_custom_cover?e.image_cover_hd_url||e.image_cover_url:"";if(!r)return"";const a=e.cover_images&&e.cover_images["400x300"]?e.cover_images["400x300"].url:void 0,o=e.cover_images&&e.cover_images["222x"]?e.cover_images["222x"].url:void 0,s=e.cover_images&&e.cover_images["216x146"]?e.cover_images["216x146"].url:void 0,l=null!==(n=null!==(i=null!=a?a:o)&&void 0!==i?i:s)&&void 0!==n?n:"",d=e.image_cover_url||"";return r||(t&&t>2&&l?l:"")||d}}},853492:(e,t,n)=>{n.d(t,{Bw:()=>s,Jx:()=>o,po:()=>i});const i=(e="")=>(null!=e?e:"").substring((null!=e?e:"").lastIndexOf("/")+1),r=e=>({dominant_color:"#FFFFFF",height:1,url:e,width:1}),a=e=>{if(!e)return()=>!0;const t=i(e);return e=>{var n;return"string"==typeof e?i(e)!==t:i(null!==(n=e.url)&&void 0!==n?n:"")!==t}},o=(e,t)=>e.images&&e.images["170x"]?e.images["170x"].filter(a(t)):e.pin_thumbnail_urls?e.pin_thumbnail_urls.filter(a(t)).map(r):[],s=e=>{var t;return null!==(t=e&&e.crop&&e.size&&{x:e.crop[0],y:e.crop[1],width:e.size[0],height:e.size[1]})&&void 0!==t?t:{x:0,y:0,width:0,height:0}}},556263:(e,t,n)=>{n.d(t,{w:()=>h});var i=n(967628),r=n(550858),a=n(962832),o=n(906510),s=n(14890);const l=window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():e=>e;var d=n(543059),c=n(927955),u=n(116485),p=n(826067),_=n(844974);async function h(e,t){(0,d.ZP)("AppInitMainStart");const n=e.initialReduxState||await(async()=>(await window.fetch("/_/_/state",{method:"GET",mode:"same-origin",keepalive:!0})).json())(),h="homescreen_icon"===(0,p.mB)(window.location.search).utm_source;n.session.isPWA=h;const m=(0,p.mB)(window.location.search),g=Boolean(m.utm_pai);n.session.isPaidTraffic=g,n.session.hasPoorConnection="undefined"!=typeof window&&window.navigator&&window.navigator.connection&&["slow-2g","2g","3g"].includes(window.navigator.connection.effectiveType);const f=m.ad_img;f&&(0,_.Nh)(u.u9,f),t&&(0,r.Qi)();const v=function(e,t){const n={...(0,a.go)()?(0,r.$_)():Object.freeze({}),...t};return(0,s.createStore)((0,s.combineReducers)((0,o.Z)({viewingUser:e.user})),n,(0,s.compose)((0,i.Z)(),l))}(e.context,n);return c.Z.set(v),(0,d.ZP)("ReduxStoreInitialized"),v}},995389:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(10216),r=n(883119),a=n(785893);function o({title:{format:e,args:{query:t}}}){return(0,a.jsxs)(r.xu,{alignItems:"center",direction:"column",display:"flex",marginTop:12,children:[(0,a.jsx)(r.xu,{marginBottom:2,paddingX:4,children:(0,a.jsx)(r.xv,{align:"center",color:"default",overflow:"normal",weight:"bold",children:e})}),(0,a.jsx)(i.Z,{query:t,showHeaderText:!1})]})}},744856:(e,t,n)=>{n.d(t,{v:()=>i});const i="imgViewer"},114020:(e,t,n)=>{n.d(t,{C:()=>s,p:()=>l});var i=n(667294),r=n(425288),a=n(785893);const{Provider:o,useHook:s}=(0,r.Z)("Session");function l({children:e}){const[t,n]=(0,i.useState)(void 0),r=(0,i.useCallback)((()=>n(void 0)),[]),s=(0,i.useMemo)((()=>({unauthCommentPinId:t,setUnauthCommentPinId:n,removeUnauthCommentPinId:r})),[t,r]);return(0,a.jsx)(o,{value:s,children:e})}},608625:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(702664),r=n(19121);const a=()=>{var e;const t=(0,r.Z)(),n=(0,i.useSelector)((({loggedOutUserInfo:e})=>null==e?void 0:e.userInfo));return t.isAuth&&t.isLimitedLogin?{type:"LIMITED_LOGIN",info:{connectedToFacebook:Boolean(((t.socialNetwork||{}).facebook||{}).connected),connectedToGoogle:Boolean(((t.socialNetwork||{}).gplus||{}).connected),email:t.email,firstName:t.firstName,hasPassword:!!t.hasPassword,imageUrl:t.imageMediumUrl,gplusUrl:((t.socialNetwork||{}).gplus||{}).url}}:{type:t.isAuth?"AUTH":"UNAUTH",info:n&&n.email&&n.first_name?{connectedToFacebook:!!n.connected_to_facebook,connectedToGoogle:!!n.connected_to_google,email:n.email,firstName:n.first_name,hasPassword:!!n.has_password,imageUrl:null!==(e=n.medium_image_url)&&void 0!==e?e:null}:null}}},445345:(e,t,n)=>{n.d(t,{Z:()=>xe});var i=n(934348),r=n.n(i),a=n(422908),o=n.n(a),s=n(832637),l=n.n(s),d=n(986021),c=n.n(d),u=n(252881),p=n.n(u),_=n(216462),h=n.n(_),m=n(435574),g=n.n(m),f=n(890398),v=n.n(f),y=n(597437),x=n.n(y),b=n(358787),w=n.n(b),S=n(403529),T=n.n(S),I=n(687096),P=n.n(I),E=n(720069),A=n.n(E),k=n(154047),C=n.n(k),R=n(899338),j=n.n(R),D=n(532492),O=n.n(D),N=n(361316),L=n.n(N),U=n(671307),F=n.n(U),M=n(450914),z=n.n(M),B=n(888784),Z=n.n(B),H=n(979730),G=n.n(H),V=n(267569),W=n.n(V),K=n(554154),q=n.n(K),Y=n(234540),$=n.n(Y),X=n(209153),J=n.n(X),Q=n(271648),ee=n.n(Q),te=n(108806),ne=n.n(te),ie=n(505944),re=n.n(ie),ae=n(373750),oe=n.n(ae),se=n(354593),le=n.n(se),de=n(523673),ce=n.n(de),ue=n(70098),pe=n.n(ue),_e=n(692169),he=n.n(_e),me=n(898781),ge=n(948376),fe=n(883119),ve=n(785893);const ye={"AR-SA":r(),"ZH-CN":pe(),"ZH-TW":he(),CS:o(),DA:l(),DE:c(),EL:p(),EN:h(),ES:g(),FI:v(),FR:x(),HI:w(),HU:T(),ID:P(),IT:A(),JA:C(),KO:j(),ML:O(),MS:L(),NB:Z(),NL:F(),NN:z(),NO:Z(),PL:G(),PT:W(),RO:q(),RU:$(),SK:J(),SV:ee(),TH:ne(),TL:re(),TR:oe(),UK:le(),VI:ce()};function xe({locale:e}){const t=(0,me.ZP)(),n=(0,ge.G3)(e),i=ye[n]||ye.EN,r=t.bt("  Pinterest  Android", "Install the Pinterest app on Android", " - ", undefined, true);return(0,ve.jsx)(fe.Ee,{naturalHeight:80,naturalWidth:270,src:i,alt:r})}},819764:(e,t,n)=>{n.d(t,{Z:()=>xe});var i=n(993235),r=n.n(i),a=n(908601),o=n.n(a),s=n(198667),l=n.n(s),d=n(324637),c=n.n(d),u=n(669639),p=n.n(u),_=n(882786),h=n.n(_),m=n(598188),g=n.n(m),f=n(143832),v=n.n(f),y=n(484974),x=n.n(y),b=n(629958),w=n.n(b),S=n(7747),T=n.n(S),I=n(939492),P=n.n(I),E=n(800202),A=n.n(E),k=n(799486),C=n.n(k),R=n(511036),j=n.n(R),D=n(83365),O=n.n(D),N=n(309285),L=n.n(N),U=n(186665),F=n.n(U),M=n(452833),z=n.n(M),B=n(759050),Z=n.n(B),H=n(9046),G=n.n(H),V=n(27322),W=n.n(V),K=n(501796),q=n.n(K),Y=n(791841),$=n.n(Y),X=n(50486),J=n.n(X),Q=n(417658),ee=n.n(Q),te=n(461619),ne=n.n(te),ie=n(350421),re=n.n(ie),ae=n(97776),oe=n.n(ae),se=n(394445),le=n.n(se),de=n(948992),ce=n.n(de),ue=n(137404),pe=n.n(ue),_e=n(697072),he=n.n(_e),me=n(898781),ge=n(948376),fe=n(883119),ve=n(785893);const ye={"AR-SA":r(),"ZH-CN":pe(),"ZH-TW":he(),CS:o(),DA:l(),DE:c(),EL:p(),EN:h(),ES:g(),FI:v(),FR:x(),HI:w(),HU:T(),ID:P(),IT:A(),JA:C(),KO:j(),ML:O(),MS:L(),NB:Z(),NL:F(),NN:z(),NO:Z(),PL:G(),PT:W(),RO:q(),RU:$(),SK:J(),SV:ee(),TH:ne(),TL:re(),TR:oe(),UK:le(),VI:ce()};function xe({locale:e}){const t=(0,me.ZP)(),n=(0,ge.G3)(e),i=ye[n]||ye.EN,r=t.bt("  Pinterest  iOS", "Install the Pinterest app on iOS", " - ", undefined, true);return(0,ve.jsx)(fe.Ee,{naturalHeight:80,naturalWidth:270,src:i,alt:r})}},821997:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(785893);function r({size:e,noCircle:t}){return(0,i.jsxs)("svg",{height:e,style:{display:"block"},viewBox:t?"3 3 70 70":"-3 -3 82 82",width:e,children:[t?null:(0,i.jsx)("circle",{cx:"38",cy:"38",fill:"white",r:"40"}),(0,i.jsx)("path",{d:"M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",fill:"#fb7072",fillRule:"evenodd"})]})}},10216:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(883119),r=n(785893);function a({skinToneOvalHeight:e,skinToneOvalWidth:t,swatchColors:n}){return(0,r.jsx)(i.xu,{alignItems:"center","data-test-id":"skinToneFilterSwatch",display:"flex",overflow:"hidden",rounding:"pill",width:t,wrap:!0,children:n.map(((n,a)=>(0,r.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:n}},height:e/2,width:t/2},`${n}-${a}`)))})}var o=n(898781),s=n(112690);const l={filter_name:"Skin tone range",filter_term:"skin_face_color_l",multi_select:!1,options:[{display:"Range 1",swatch_hex_colors:["#F0E3DC","#F8D7D8","#F2D7BE","#F7C3AF"],term:"skin_color_bucket_id:1"},{display:"Range 2",swatch_hex_colors:["#DEBAB0","#E0999A","#DDA67C","#D98A64"],term:"skin_color_bucket_id:2"},{display:"Range 3",swatch_hex_colors:["#9A6B52","#A25847","#B37143","#BF6951"],term:"skin_color_bucket_id:3"},{display:"Range 4",swatch_hex_colors:["#683929","#34261F","#64281B","#4F2221"],term:"skin_color_bucket_id:4"}],vertical:"skin_tone"};function d({onClickApplyFilter:e,query:t,selectedSkinToneTerm:n,showHeaderText:d=!0,skinToneFilters:c=l}){const u=(0,o.ZP)(),p=(0,s.Z)(),_=c.options,h=`/search/pins/?rs=rs&q=${t}`,m=n?u.bt("      ", "Some ideas in this skin tone range", "SkinToneFilters.copy.termSelected", undefined, true):u.bt("   ", "Pick a skin tone range", "SkinToneFilters.copy.noTermSelected", undefined, true),{filtersContainerHeight:g,filtersContainerWidth:f,skinToneOvalHeight:v,skinToneOvalWidth:y}=function(){const e="undefined"!=typeof window?Math.min((window.innerWidth-40)/4-4,96):0;return{filtersContainerHeight:52,filtersContainerWidth:e,skinToneOvalHeight:44,skinToneOvalWidth:e-8}}();return(0,r.jsxs)(i.kC,{alignItems:"center",direction:"column",height:d?88:52,children:[d&&(0,r.jsx)(i.xu,{marginBottom:2,children:(0,r.jsx)(i.xv,{color:"default",overflow:"normal",weight:"bold",children:m})}),(0,r.jsx)(i.kC,{alignItems:"stretch",flex:"none",justifyContent:"around",children:_.map((({swatch_hex_colors:o,term:s},l)=>(0,r.jsx)(i.iP,{role:"link",onTap:()=>{!function(e,t){const{index:n,query:i,onClickApplyFilter:r}=e;t({aux_data:{entered_query:i,filter_type:"skin_tone",filter_value:n},element:1341,event_type:102,view_parameter:43,view_type:2}),null==r||r()}({index:l,query:t,onClickApplyFilter:e},p)},tapStyle:"none",href:`${h}${n!==s?`&filters=${encodeURIComponent(s)}`:""}`,children:(0,r.jsx)(i.xu,{alignItems:"center","data-test-id":"skin-tone-option",color:n===s?"selected":"default",display:"flex",height:g,justifyContent:"around",rounding:"pill",width:f,children:(0,r.jsx)(i.xu,{alignItems:"center",color:"default",display:"flex",height:g-4,justifyContent:"around",rounding:"pill",width:f-4,children:(0,r.jsx)(a,{skinToneOvalHeight:v,skinToneOvalWidth:y,swatchColors:o})})})},s)))})]})}},948376:(e,t,n)=>{n.d(t,{G3:()=>c,Rp:()=>d,kp:()=>l});var i=n(339363),r=n(202139),a=n(844974);const o=14*r.F4;function s(e,t,n){return e-t>n}const l=e=>{const t=function(){const e=Date.now(),t=Number((0,a.qn)("appUpsell"));return{currentTime:e,firstUpsellTime:Number((0,a.qn)("firstUpsellTime")),lastUpsellTime:t,showedAppUpsellCurrentSession:Boolean((0,i.qn)("showedAppUpsellCurrentSession"))}}();return e?function(e,t,n){const{currentTime:i,firstUpsellTime:r,lastUpsellTime:l,showedAppUpsellCurrentSession:d}=e;return n=n||o,!r||function(e,t,n){return e<t+n}(i,r,t)?!d:!!s(i,l,n)&&((0,a.L_)("firstUpsellTime"),!0)}(t,r.F4):function(e,t){const{currentTime:n,lastUpsellTime:i}=e;return t=t||o,!i||s(n,i,t)}(t)},d=({platform:e,userAgent:t})=>{try{return"android"===e&&parseFloat((e=>{const t=(e=e.toLowerCase()).match(/android\s([0-9\.]*)/i);return t?t[1]:void 0})(t))<7}catch(n){return!1}},c=e=>(e.startsWith("zh")||e.startsWith("ar")?e:e.slice(0,2)).toUpperCase()},116485:(e,t,n)=>{n.d(t,{AA:()=>a,E9:()=>m,EU:()=>v,IO:()=>f,Jd:()=>_,KH:()=>c,QR:()=>d,Uw:()=>r,ZR:()=>y,dy:()=>l,eA:()=>p,fo:()=>h,k7:()=>o,rT:()=>g,tz:()=>u,u9:()=>x,zR:()=>s,zu:()=>i});const i="OPEN_UNAUTH",r="openUnauthType",a="_isAfterLogin",o="_lastVisitedPages",s="_lastVisitedPagesBeforeLogin",l="_lastVisitedBoardPages",d="_lastVisitedPagesBeforeNavPage",c="_lastVisitedSessionPages",u="_unauthVisitedPages",p=20,_="_unauthInviteCode",h="_unauthReferrerString",m="unauthTopicsFollowed",g=["US","CA","NZ","AU"],f=new Set(["GB","IE"]),v=new Set(["AT","BE","CH","DE","DK","ES","FR","IT","NL","NO","PT","SE"]),y=new Set(["BR","MX","AR","CL","CO","PE"]),x="ad_img"},421322:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(7893),r=n(867820);async function a(e){const t=await(0,i.Kw)(),n=t?{user_ids:Object.keys(t)}:{};(0,r.tj)(`mweb_multiple_accounts_${e}`,n)}},993723:(e,t,n)=>{n.d(t,{eN:()=>l,_:()=>c,kB:()=>d});var i=n(172071),r=n(276775);const a=["/resource/:name/:method/","/resource/commerce/:name/:method/","/:username/pins/follow/","/email/remove/","/about/trademark/form/:claim_type/","/about/copyright/dmca-pin/web-result/:id/","/about/copyright/dmca-pin/pin/:id/","/about/copyright/dmca-pin/","/about/koplg/","/about/:lawName/","/about/radtc/","/suspension-appeal/netzdg/","/website/confirm/","/oauth/","/app-factory-oauth/","/settings/extension/uninstall/","/offsite/","/amp/(.*)"];var o=n(966113),s=n(826067);const l=e=>e&&(0,s.Qg)(e)&&o.lf!==e?(0,s.Qc)(e).relative:"/",d=e=>{const t=(0,s.Jx)(e);return(e=>{const t=new URL(e,window.location.origin);return a.some((e=>!!(0,r.matchPath)(t.pathname,{path:e,exact:!0})))})(t)||(0,s.OM)(t)===s.vx.TRUSTED_DIFFERENT_ORIGIN},c=({forceFullPageNavigation:e,history:t,next:n,noLocationReplace:r})=>{const a=(0,s.Jx)(n);d(n)||!t||e?(e&&i.Z.increment("webapp.duplo.navigateOnLogin.forceFullPageNavigation",1),window.location.assign(a)):r?t.push(l(a)):t.replace(l(a))}},805410:(e,t,n)=>{n.d(t,{I:()=>i,y:()=>r});const i="uploaded",r="pinbuilder"},492563:(e,t,n)=>{function i(e){if(!e)return e;let t=e.replace(/%26/gi,"&");return t=t.replace(/%3F/gi,"?"),t=t.replace(/%23/gi,"#"),t=t.replace(/%2B/gi,"+"),t=t.replace(/%3B/gi,";"),t=t.replace(/%2C/gi,","),t=t.replace(/%2F/gi,"/"),t=t.replace(/%3A/gi,":"),t=t.replace(/%40/gi,"@"),t=t.replace(/%3D/gi,"="),t=t.replace(/%24/gi,"$"),t}function r(e){return Object.keys(e).reduce(((t,n)=>{var r;return{...t,[n]:i(null!==(r=e[n])&&void 0!==r?r:"")}}),{})}n.d(t,{Z:()=>r,t:()=>i})},844887:(e,t,n)=>{n.d(t,{DZ:()=>u,Dv:()=>p,Es:()=>d,HW:()=>l,mv:()=>c});var i=n(844974),r=n(773285),a=n(116485);const o=e=>e>=Date.now()-72e5,s=(e,t)=>{const n=[];if(e)for(const i of e)t&&!i.is_shared||o(i.ts)&&n.push(i);return n},l=()=>{const e=(0,i.qn)(a.zR),t=e?JSON.parse(e):[],n=s(t,!1),r=s(t,!0),l=n.map((e=>e.first_pin_image_signature)),d=r.map((e=>e.first_pin_image_signature)),c=(e=>{const t={};if(e)for(const n of e)n.is_shared&&o(n.ts)&&n.pin_id&&(t[n.pin_id]={inviteCode:n.pin_invite_code});return t})(t),u=(0,i.qn)(a.dy),p=u?JSON.parse(u):[];return{extraPlpImages:l,plpImageRenderData:n,extraBlpImages:s(p,!0).map((e=>e.first_pin_image_signature)),extraSharedImages:d,sharedPinData:c}},d=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n+=1){if(e[n].id!==t[n].id)return!1}return!0},c=(e,t)=>(e.nuxTopics?e.nuxTopics.map((({id:e})=>t[e])):[]).filter((e=>e.is_followed)),u=(e,t)=>e.nuxTopics?e.nuxTopics.map((({id:e})=>t[e])):null,p=()=>{const{checkExperiment:e}=(0,r.F)(),{anyEnabled:t,group:n}=e("mweb_mini_renux");return{inMiniRenuxEnabledGroup:t,interestsLimit:t?Number(n.slice(-1)):NaN}}},529195:(e,t,n)=>{n.d(t,{CC:()=>b,Cb:()=>v,Ff:()=>C,H$:()=>S,Mt:()=>x,OJ:()=>f,Yi:()=>P,Ys:()=>g,Yy:()=>A,Z4:()=>m,ZN:()=>p,dc:()=>I,dp:()=>w,i$:()=>h,kw:()=>y,p9:()=>T,t_:()=>_});var i=n(231486),r=n(6637),a=n(826067),o=n(332215),s=n(226198),l=n(867820),d=n(339363),c=n(844974),u=n(116485);const p=["utm_pai","utm_source","invite_code"],_=()=>(0,c.qn)(u.tz,""),h=()=>{const e=_();let t;try{t=JSON.parse(e)}catch(n){t=[]}return t},m=(e,t)=>{const n=h(),i=n.length,r=i?n[0].path:"";if(i<u.eA&&(!i||e!==r)){const i={path:e,pageType:t,ts:Date.now()};(0,c.Nh)(u.tz,JSON.stringify([i].concat(n)))}},g=e=>{(0,c.Nh)(u.Jd,e)},f=()=>(0,c.qn)(u.fo,""),v=e=>{(0,c.Nh)(u.fo,e)},y=()=>{_()&&(0,c.L_)(u.tz),(0,c.qn)(u.Jd,"")&&(0,c.L_)(u.Jd),f()&&(0,c.L_)(u.fo)},x=(e,t,n,i,r,a,o=u.k7)=>{const s=(0,c.qn)(o)?JSON.parse((0,c.qn)(o)):[];if(!s[0]||s[0].path!==e){const l=[{path:e,ts:Date.now(),pin_id:n||0,first_pin_image_signature:t||"",first_pin_id:n||"",image_info:i||"",pin_description:r||"",is_shared:!!a,pin_invite_code:a}];(0,c.Nh)(o,JSON.stringify(l.concat(s)))}},b=({path:e,image:t,dominant_color:n,pin_description:i,pin_id:r})=>{const a=(()=>{const e=(0,d.qn)(u.KH);if(!e)return[];let t;try{t=JSON.parse(e)}catch(n){t=[]}return t})();if(!a[0]||a[0].path!==e){const o=[{path:e,image:t,pin_description:i||"",dominant_color:n||"",pin_id:r||""}];(0,d.Nh)(u.KH,JSON.stringify(o.concat(a)))}};function w(e,t,n,i,r,a){x(e,t,n,i,r,a,u.zR)}const S=(e,t,n,i,r)=>{x(e,t,n,null==i?void 0:i["236x"],null!=r?r:"","",u.dy)};function T(e,t,n,i,r){x(e,t,n,i,r,"",u.QR)}function I(){return h().filter((e=>"closeup"===e.pageType)).length}function P(){const e=r.Z.create("UnauthUserDataResource");return new Promise(((t,n)=>{e.callGet().then((e=>{const r=e.resource_response.data,a=!!i.U2(s.x3);return r?((0,o.Wn)(r.medium_image_url)&&(r.medium_image_url=""),(0,l.My)("mweb.unauth.personalized_login.fetch_user_info.info.user_info_found.logged_out_cookie_"+(a?"true":"false")),t(r)):((0,l.My)("mweb.unauth.personalized_login.fetch_user_info.info.no_user_info.logged_out_cookie_"+(a?"true":"false")),n({}))})).catch((e=>{if(e&&e.message){const t=e.message.replace(/\s/g,"_").toLowerCase();(0,l.My)(`mweb.unauth.personalized_login.fetch_user_info.error.${t}`)}else(0,l.My)("mweb.unauth.personalized_login.fetch_user_info.error.unknown");return n(e)}))}))}function E({i18n:e,location:t}){const n=t.pathname.startsWith("/signup"),i=t.pathname.startsWith("/login");if(!n&&!i)return{showPLPBanner:!1,pinForBanner:null};let r;try{r=JSON.parse((0,d.qn)(u.KH))}catch(a){r=[]}if(r&&r.length>0){const t=r[0];if(t)return t.bannerCopy=e.bt("    ", "More ideas like this await", "page banner with pin image that was signed up from", undefined, true),{showPLPBanner:Boolean(t.image),pinForBanner:t}}return{showPLPBanner:!1,pinForBanner:null}}const A=e=>e.search&&e.search.startsWith("?next=")?e.search.split("?next=")[1]:null;function k({i18n:e,location:t}){var n;const i=(null===(n=t.state)||void 0===n?void 0:n.next)||A(t);if(i){const t=i.indexOf("?"),n=(0,a.mB)(i.substring(t));if(n.url&&n.media)return{showPLPBanner:!0,pinForBanner:{image:{url:(0,a.Jx)(n.media),height:1,width:1},pinDescription:n.description,bannerCopy:e.bt("       .", "Save this idea and discover more inspiration like it.", "page banner with pin image that was signed up from", undefined, true)}}}return{showPLPBanner:!1,pinForBanner:null}}function C({i18n:e,location:t}){return k({i18n:e,location:t}).showPLPBanner?k({i18n:e,location:t}):E({i18n:e,location:t}).showPLPBanner?E({i18n:e,location:t}):{showPLPBanner:!1,pinForBanner:null}}},305324:(e,t,n)=>{n.d(t,{M:()=>f,g:()=>v});var i,r=n(667294),a=n(590674),o=(n(883119),n(867820)),s=n(447409),l=n(50286),d=n(430235),c=n(874317),u=n(167912),p=n(785893);const _=void 0!==i?i:i=n(110767);const h=({queryReference:e,...t})=>{var n;const i=(0,u.usePreloadedQuery)(_,e),r=null==i||null===(n=i.v3GetPinQuery)||void 0===n?void 0:n.data;return r?(0,p.jsx)(d.Z,{...t,graphqlRef:r}):null},m=({queryReference:e,...t})=>{var n;const i=(0,u.usePreloadedQuery)(_,e),r=null==i||null===(n=i.v3GetPinQuery)||void 0===n?void 0:n.data;return r?(0,p.jsx)(c.ZP,{...t,graphqlRef:r}):null},g=(0,r.createContext)((()=>()=>{})),f=()=>(0,r.useContext)(g),v=({children:e,feedRef:t,viewType:n,viewParameter:i,useGraphql:f})=>{const[v,y]=(0,r.useState)(null),[x,b]=(0,r.useState)(null),[w,S]=(0,r.useState)(!1),[T,I]=(0,r.useState)(null),[P,E]=(0,r.useState)(!1),A=(0,l.HG)(),[k,C]=(0,u.useQueryLoader)(_);if(f&&!k&&T){C(function({pinId:e}){return{query:_,variables:{pinId:e}}}({pinId:T}).variables)}const R=()=>{document&&document.body&&document.body.style&&(document.body.style.overflow="unset")};(0,r.useEffect)((()=>R),[]);const j=(0,r.useCallback)((e=>n=>{const{pinId:i,deviceOptions:r}=e;if(n.stopPropagation(),n.preventDefault(),I(i),r.isDesktop)E(r.isMainPinImage),(0,o.My)("dweb.unauth.context_menu.open_menu"),y({xPosition:n.clientX,yPosition:n.clientY}),document&&document.body&&document.body.style&&(document.body.style.overflow="hidden");else{(0,o.My)("mweb.unauth.related_pin.context_menu.open");const e=n.changedTouches.item(0);if(t&&t.current){const n=t.current.getBoundingClientRect(),i=Math.min(e.pageX-n.left,n.width-c.nt),a=e.pageY-s.n;b({xPosition:i,yPosition:a,context:r.context})}}}),[t]),D=!!v;(0,r.useEffect)((()=>{const e=()=>{y(null),R(),(0,o.My)("dweb.unauth.context_menu.click_away")};return D&&document.addEventListener("click",e),()=>{D&&document.removeEventListener("click",e)}}),[D]);const O=v&&T?f?k&&(0,p.jsx)(h,{desktopContextMenuState:v,pinId:T,isMainPinImage:!!P,queryReference:k}):(0,p.jsx)(d.Z,{desktopContextMenuState:v,pinId:T,isMainPinImage:!!P,graphqlRef:null}):null,N=x&&T?f?k&&(0,p.jsx)(m,{mwebContextMenuState:x,pinId:T,openShareModal:S,setMwebContextMenuState:b,queryReference:k}):(0,p.jsx)(c.ZP,{graphqlRef:null,mwebContextMenuState:x,pinId:T,openShareModal:S,setMwebContextMenuState:b}):null;return(0,p.jsx)(g.Provider,{value:j,children:(0,p.jsxs)(r.Fragment,{children:[e,A&&O,!A&&N,!A&&w&&T&&(0,p.jsx)(a.default,{objectType:1,isOpen:w,onDismiss:()=>S(!1),objectId:T,hideContactsSuggestions:!0,element:12016,viewType:n,viewParameter:i,component:18})]})})}},332215:(e,t,n)=>{function i(e){return Boolean(null==e?void 0:e.is_matured_new_user)}n.d(t,{IR:()=>o,V0:()=>i,Wn:()=>a,xT:()=>r});const r=e=>!!e&&2===e.login_state,a=e=>!(!e||!e.match(/\/static\/images\/user\/default_\d+\.png$/));function o(e){return!e||void 0===e.third_party_marketing_tracking_enabled||null===e.third_party_marketing_tracking_enabled||e.third_party_marketing_tracking_enabled}},698629:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(667294),r=n(391254),a=n(619623),o=n(50286),s=n(444445),l=n(883119),d=n(785893);const c="PinGridSkeletonLoader__tall",u="PinGridSkeletonLoader__short",p=({size:e})=>(0,d.jsx)(l.xu,{padding:1,children:(0,d.jsx)("div",{className:"tall"===e?c:u})}),_=({children:e})=>(0,d.jsx)(l.kC,{direction:"column",gap:{row:0,column:2},children:e}),h=({partialViewportWidth:e})=>{const t="desktop"===(0,o.ZP)(),n=t?s.yF:s.tG;return(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(r.Z,{unsafeCSS:[{name:c,height:250},{name:u,height:150}].map((({name:e,height:t})=>(0,a.Z)({name:e,width:n,height:t}))).join("")}),(0,d.jsx)(l.xu,{marginStart:s.qG,marginEnd:s.qG,children:t?(0,d.jsxs)(l.kC,{direction:"row",gap:{row:s.jC,column:0},children:[(0,d.jsx)(_,{children:(0,d.jsx)(p,{size:"tall"})}),(0,d.jsx)(_,{children:(0,d.jsx)(p,{size:"short"})}),(0,d.jsx)(_,{children:(0,d.jsx)(p,{size:"tall"})}),!e&&(0,d.jsx)(_,{children:(0,d.jsx)(p,{size:"short"})})]}):(0,d.jsxs)(l.kC,{direction:"row",overflow:"hidden",justifyContent:"center",children:[(0,d.jsxs)(_,{children:[(0,d.jsx)(p,{size:"tall"}),(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"})]}),(0,d.jsxs)(_,{children:[(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"}),(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"})]})]})})]})}},619623:(e,t,n)=>{n.d(t,{Z:()=>i});const i=({name:e,width:t,height:n})=>{const i=`${n}${"number"==typeof n?"px":""}`,r="number"==typeof t?t:236;return`\n.${e} {\n  -webkit-animation-duration: 1s;\n  -webkit-animation-fill-mode: forwards;\n  -webkit-animation-iteration-count: infinite;\n  -webkit-animation-name: ${e}_placeHolderShimmer;\n  -webkit-animation-timing-function: linear;\n  border-radius: 16px;\n  background: #f6f7f9;\n  background-image: linear-gradient(to right, #f6f7f9 0%, #e9ebee 20%, #f6f7f9 40%, #f6f7f9 100%);\n  background-repeat: no-repeat;\n  background-size: ${r} ${i};\n  width: ${`${t}${"number"==typeof t?"px":""}`};\n  height: ${i};\n}\n\n@keyframes ${e}_placeHolderShimmer{\n  0% {\n      background-position: -${r}px 0;\n  }\n  100% {\n      background-position: ${r}px 0;\n  }\n}\n`}},881802:(e,t,n)=>{n.d(t,{Bb:()=>f,Bx:()=>d,DF:()=>o,F4:()=>l,OG:()=>a,Qj:()=>c,_6:()=>g,gv:()=>s,hg:()=>u,is:()=>h,jP:()=>m,lt:()=>r,oM:()=>p,wI:()=>_});var i=n(826067);const r=e=>e.bt(",  ", "Log in to continue", "limitedLogin.modalHeader.default", undefined, true),a=e=>e.pathname,o=e=>{var t;return null!==(t=null==e?void 0:e.bt("You'll need to log in to do that", "You'll need to log in to do that", "limitedLogin.modalHeader.completeAction", undefined, false))&&void 0!==t?t:"You'll need to log in to do that"},s=({firstName:e,i18n:t})=>e?(t.bt("{{ name }}    ", "{{ name }} invited you to join their board", "limitedLogin.modalHeader.groupBoardCollab", undefined, true)).replace("{{ name }}",e):t.bt("     ", "Your friends invited you to join their board", "limitedLogin.modalHeader.groupBoardCollab", undefined, true),l=e=>{const t=(0,i.mB)(e.search).board_url;if(t){const e=(0,i.Jx)(t),n=(0,i.XP)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${n}`:`${e}?${n}`}return e.pathname},d=e=>e.bt(",   ", "Log in to save this Pin", "limitedLogin.modalHeader.repin", undefined, true),c=e=>{const t=e.pathname;if(t.startsWith("/pin/")){const e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return t},u=e=>e.bt(",   ", "Log in to send this Pin", "limitedLogin.modalHeader.send", undefined, true),p=e=>e.bt(",   ", "Log in to edit this Pin", "limitedLogin.modalHeader.editPin", undefined, true),_=e=>{const t=e.pathname;if(t.startsWith("/pin/")){const e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return t},h=e=>e.bt(",     ", "Log in to create a Pin or board", "limitedLogin.modalHeader.create", undefined, true),m=e=>e.bt(",    ", "Log in to hide this Pin", "limitedLogin.modalHeader.hidePin", undefined, true),g=e=>e.bt(",   ", "Log in to share the profile", "limitedLogin.modalHeader.shareProfile", undefined, true),f=e=>e.bt(",   ", "Log in to create a board", "limitedLogin.modalHeader.createBoard", undefined, true)},801645:(e,t,n)=>{n.d(t,{NN:()=>l,UE:()=>o,cZ:()=>s,sh:()=>d});let i,r=null,a=null;const o=e=>{r=e},s=e=>{a=e},l=e=>{i=e},d=({resourceUrl:e,currentPageUrl:t,subHeaderText:n})=>{r&&r(),a&&a(n),i&&i({event_type:9850,view_type:9,view_parameter:63,aux_data:{resource_url:e,current_page_url:t}})}},482662:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(608625),r=n(667294);const a=()=>{const[e,t]=(0,r.useState)("");return{route:e,setRoute:t}};var o=n(898781),s=n(112690),l=n(50286),d=n(945698),c=n(801645);const u=()=>{const e=(0,o.ZP)(),t=(0,l.HG)(),n=(0,s.Z)(),i=t?(0,d.hr)(e):(0,d.Wh)(e),[a,u]=(0,r.useState)(i);return(0,c.cZ)((e=>u(null!=e?e:i))),(0,c.NN)(n),{text:a,setText:u}},p=()=>{const[e,t]=(0,r.useState)(!1),n=(0,s.Z)();return(0,c.UE)((()=>t(!0))),(0,c.NN)(n),{visible:e,setVisible:t}};function _(){return{loginForMore:p(),limitedLoginModalSubheader:u(),limitedLoginModalNextLocation:a(),viewer:(0,i.Z)()}}},56390:(e,t,n)=>{n.d(t,{C:()=>l,P:()=>s});var i=n(172071),r=n(53987),a=n(339363);const o="msmrsfda",s=()=>!!(0,a.qn)(o),l=e=>{(0,r.LM)(e)&&!s()&&((0,a.Nh)(o,"1"),i.Z.incrementNow("mobile_signup_modal.rules.suppress_for_discover_article",1))}},633083:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(643010),r=n(883119),a=n(785893);function o({color:e,image:t,isSelected:n,title:o}){var s,l,d;return(0,a.jsxs)(r.xu,{alignItems:"center","aria-selected":n,dangerouslySetInlineStyle:{__style:{backgroundColor:(0,i.Yc)()?n?"#fff":"#767676":n?"#111":"#efefef"}},display:"flex",padding:1,rounding:"pill",children:[(0,a.jsx)(r.zd,{height:48,rounding:"circle",width:48,children:(0,a.jsx)(r.Ee,{alt:"",color:e,fit:"cover",naturalHeight:null!==(s=t.height)&&void 0!==s?s:1,naturalWidth:null!==(l=t.width)&&void 0!==l?l:1,src:null!==(d=t.url)&&void 0!==d?d:""})}),(0,a.jsx)(r.xu,{marginStart:2,marginEnd:3,children:(0,a.jsx)(r.xv,{color:n?"inverse":(0,i.Yc)()?"light":"dark",weight:"bold",children:o})})]})}},461355:(e,t,n)=>{n.d(t,{Z:()=>m,z:()=>c});var i=n(667294),r=n(702664),a=n(391254),o=n(350118),s=n(698330),l=n(883119),d=n(785893);const c=2500,u={__style:{right:"-105px"}},p={__style:{animationName:"SavePin_AnimateIn, SavePin_CircleAnimateOut",animationDuration:"0.3s, 0.25s",animationDelay:"0.5s, 1.3s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",backgroundColor:"rgba(255, 255, 255, 0.6)"}},_={__style:{animationName:"SavePin_AnimateIn, SavePin_AnimateOut",animationDuration:"0.3s, 0.35s",animationDelay:"0.5s, 1.55s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",border:"4px solid white"}},h={__style:{animationName:"SavePin_NavButtonAnimation",animationDuration:"0.8s",animationDelay:"1.65s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out"}},m=(0,i.memo)((({children:e})=>{var t;const n=null===(t=(0,s.Tt)())||void 0===t?void 0:t.last_repin_id,i=(0,o.S6)(),c=n?i(n):null,m=(0,r.useSelector)((({session:e})=>e.isShowingRepinAnimation));if(!c||!m)return e;const{images:g}=c,{height:f,width:v,url:y}=(null==g?void 0:g["136x136"])||(null==g?void 0:g["236x"])||{};return(0,d.jsxs)(l.kC,{alignItems:"stretch",flex:"grow",justifyContent:"center",children:[(0,d.jsx)(a.Z,{unsafeCSS:"\n@keyframes SavePin_AnimateIn {\n  from {\n    transform: scale(0.0);\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n    transform: scale(1.0);\n  }\n}\n@keyframes SavePin_CircleAnimateOut {\n  from {\n    transform: scale(1.0);\n    opacity: 1;\n  }\n  to {\n    transform: scale(0.8);\n    opacity: 0;\n  }\n}\n@keyframes SavePin_AnimateOut {\n  from {\n    transform: translateY(0);\n    opacity: 1;\n  }\n  to {\n    transform: translateY(100px);\n    width: 0px;\n    height: 0px;\n    opacity: 0;\n  }\n}\n@keyframes SavePin_NavButtonAnimation {\n  0% {\n    transform: scale(1.0);\n  }\n  50% {\n    transform: scale(1.3);\n  }\n  100% {\n    transform: scale(1.0);\n  }\n}\n"}),(0,d.jsxs)(l.xu,{position:"relative",children:[(0,d.jsxs)(l.xu,{width:250,height:250,position:"absolute",right:!0,bottom:!0,dangerouslySetInlineStyle:u,children:[(0,d.jsx)(l.xu,{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",opacity:0,rounding:"circle",dangerouslySetInlineStyle:p}),(0,d.jsx)(l.xu,{width:100,height:100,position:"absolute",margin:"auto",left:!0,right:!0,top:!0,bottom:!0,opacity:0,rounding:3,dangerouslySetInlineStyle:_,children:(0,d.jsx)(l.zd,{rounding:2,height:"100%",width:"100%",wash:!0,children:(0,d.jsx)(l.Ee,{alt:"pin-image",fit:"cover",naturalWidth:null!=v?v:1,naturalHeight:null!=f?f:1,src:null!=y?y:""})})})]}),(0,d.jsx)(l.xu,{dangerouslySetInlineStyle:h,children:e})]})]})}))},327212:(e,t,n)=>{n.d(t,{Z:()=>C});var i=n(667294),r=n(376030),a=n(391254),o=n(883119),s=n(785893);function l({addedStyles:e,button:t,headerText:n,icon:r,iconOverride:l,minHeight:d,subHeaderText:c}){return(0,s.jsx)(o.xu,{display:"flex",justifyContent:"center",width:"100vw",paddingX:2,children:(0,s.jsxs)(o.xu,{alignContent:"center",alignItems:"center",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{boxShadow:"0 3px 6px rgba(0,0,0,0.18)",transform:"translateY(-20px)",...e}},display:"flex",minHeight:d||75,padding:6,position:"relative",rounding:4,width:"100%",children:[(()=>{const e=l||(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(a.Z,{unsafeCSS:"\n@keyframes baseEduToastIconScale {\n  0% {\n    transform: scale(0)\n  }\n  30% {\n    transform: scale(1.2);\n  }\n  50% {\n    transform: scale(1);\n  }\n}\n"}),(0,s.jsx)(o.xu,{alignItems:"center",color:"education","data-test-id":"pin-save-toast",direction:"column",dangerouslySetInlineStyle:{__style:{animation:"baseEduToastIconScale 3s"}},display:"flex",height:60,justifyContent:"center",minHeight:60,minWidth:60,rounding:"circle",width:60,children:(0,s.jsx)(o.JO,{accessibilityLabel:r.accessibilityLabel,color:r.color,dangerouslySetSvgPath:r.dangerouslySetSvgPath,icon:r.icon,inline:r.inline,size:r.size})})]});return(0,s.jsx)(o.xu,{marginEnd:4,children:e})})(),(0,s.jsxs)(o.xu,{marginEnd:"auto",children:[(0,s.jsx)(o.xv,{color:"default",weight:"bold",children:n}),!!c&&(0,s.jsx)(o.xu,{paddingY:1,children:(0,s.jsx)(o.xv,{size:"300",color:"default",children:c})})]}),(0,s.jsx)(o.xu,{display:"flex",flex:"shrink",marginStart:2,children:t})]})})}var d=n(223815),c=n(829407),u=n(898781),p=n(759929);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h=(e,t)=>(e-t)/2,m=68,g=h(m,68),f=h(m,66),v=h(m,60),y="cubicBezier(0.25, 0.1, 0.25, 1)",x="encourageToastIconContainer",b="encourageToastIconRadiateBg",w="encourageToastIconRadiateRing",S={targets:`#${x}`,duration:300,scale:1.4,easing:y},T={targets:`#${x}`,duration:300,scale:1,easing:y,endDelay:1e3},I={targets:`#${x}`,duration:300,scale:.42,easing:y},P={targets:`#${b}`,duration:400,opacity:0,scale:1.6,easing:y},E={targets:`#${w}`,duration:650,opacity:0,scale:2,easing:y};function A({hiding:e,visible:t}){return t?e?{opacity:0,transform:"scale(1.0)",transition:"opacity transform .2s"}:{opacity:1,transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)"}:Object.freeze({})}class k extends i.PureComponent{constructor(...e){super(...e),_(this,"delayTimer",null),_(this,"requestAnimationFrameId",null),_(this,"playAnimation",(()=>{this.requestAnimationFrameId=window.requestAnimationFrame((()=>{(0,r.Z)(P),(0,r.Z)(E),(0,r.Z)(S).finished.then((()=>{(0,r.Z)(T).finished.then((()=>{r.Z.set(`#${x}`,{transformOrigin:"top right"}),(0,r.Z)(I)}))}))}))})),_(this,"getHeaderText",(()=>{const{text:e}=this.props;return Array.isArray(e)?e[0]:e})),_(this,"getIconProps",(()=>({accessibilityLabel:this.props.i18n.bt(" ", "Check icon", "Label for check icon on toast shown after board create", undefined, true),color:"inverse",icon:"check",size:30}))),_(this,"getSubHeaderText",(()=>{const{text:e}=this.props;return e instanceof Array&&e.length>1&&e[1]?e[1]:""})),_(this,"renderAnimatedIcon",(()=>(0,s.jsxs)(o.xu,{height:m,position:"relative",width:m,children:[(0,s.jsx)(o.xu,{"data-test-id":"pin-save-toast",width:60,height:60,overflow:"hidden",position:"absolute",rounding:4,dangerouslySetInlineStyle:{__style:{left:`${v}px`,top:`${v}px`}},children:this.props.thumbnail}),(0,s.jsxs)(o.xu,{id:x,height:m,width:m,dangerouslySetInlineStyle:{__style:{transform:"scale(0)"}},position:"absolute",children:[(0,s.jsx)(o.xu,{color:"infoBase",id:b,width:68,height:68,position:"absolute",rounding:"circle",dangerouslySetInlineStyle:{__style:{left:`${g}px`,top:`${g}px`,transform:"scale(0)"}}}),(0,s.jsx)(o.xu,{id:w,width:66,height:66,position:"absolute",rounding:"circle",opacity:1,dangerouslySetInlineStyle:{__style:{borderWidth:"2px",borderStyle:"solid",borderColor:"#0074e8",left:`${f}px`,top:`${f}px`,transform:"scale(0)"}}}),(0,s.jsx)(o.xu,{alignItems:"center",color:"infoBase",direction:"column",display:"flex",height:m,justifyContent:"center",minHeight:m,minWidth:m,position:"absolute",rounding:"circle",width:m,children:(0,s.jsx)(o.JO,{accessibilityLabel:this.props.i18n.bt(" ", "Check icon", "Label for check icon on toast shown after board create", undefined, true),color:"inverse",icon:"check",size:30})})]})]})))}componentDidMount(){this.delayTimer=setTimeout(this.playAnimation,700)}componentWillUnmount(){this.delayTimer&&clearTimeout(this.delayTimer),this.requestAnimationFrameId&&window.cancelAnimationFrame(this.requestAnimationFrameId)}render(){const{isRepinToExistingBoard:e,button:t}=this.props,n=e;return(0,s.jsx)(l,{button:t,headerText:this.getHeaderText(),icon:this.getIconProps(),iconOverride:n?void 0:this.renderAnimatedIcon(),subHeaderText:this.getSubHeaderText()})}}function C(e){const{duration:t,onHide:n}=e,r=(0,u.ZP)(),[a,l]=(0,i.useState)(!1),[_,h]=(0,i.useState)(!1),m=(0,i.useRef)(),g=()=>{l(!0),m.current=setTimeout(n,200)},f=()=>{m.current&&clearTimeout(m.current)};(0,c.Z)((()=>(setTimeout((()=>h(!0)),100),m.current=setTimeout(g,t||p.w),f)));let v=(0,s.jsx)(k,{...e,i18n:r});return e.href&&(v=(0,s.jsx)(o.rU,{href:e.href,onClick:g,rounding:"pill",tapStyle:"none",children:v})),(0,s.jsx)(d.Z,{children:(0,s.jsx)(o.mh,{children:(0,s.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...A({hiding:a,visible:_})}},justifyContent:"center",position:"fixed",width:"100%",display:"flex",zIndex:p.k,children:v})})})}},56632:(e,t,n)=>{n.d(t,{L:()=>c,q:()=>u});var i=n(223019),r=n(258430),a=n(898781),o=n(883119),s=n(785893);const l=()=>{const e=(0,a.ZP)();return e.bt(" !", "Sweet save!", "Header text on toast that appears after user creates their first board", undefined, true)},d=()=>{const e=(0,a.ZP)();return e.bt("     .", "All your boards live on your profile", "Subheader text on toast that appears after user creates their first board", undefined, true)},c=e=>({duration:5e3,thumbnail:(0,s.jsx)(o.xu,{"data-test-id":"pin-save-toast",width:48,height:48,children:(0,s.jsx)(r.Z,{boardId:e})})}),u=({boardId:e,isFBC:t,viewType:n})=>({duration:5e3,thumbnail:(0,s.jsx)(o.xu,{"data-test-id":"pin-save-toast",children:(0,s.jsx)(i.Z,{boardId:e,viewType:n,type:"thumbnail"})}),text:t?[(0,s.jsx)(l,{},"0"),(0,s.jsx)(d,{},"1")]:void 0})},662089:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(702664),r=n(461355),a=n(343341),o=n(639952);function s(){const e=(0,i.useDispatch)(),{showToast:t,showOneToast:n}=(0,a.F9)();return{showToast:t,showOneToast:n,showRepinConfirmation:(n,i)=>{i||e((0,o.WF)()),setTimeout((()=>{i||e((0,o.a5)()),t(n)}),r.z)}}}},148304:(e,t,n)=>{n.d(t,{RG:()=>m,o6:()=>h,t7:()=>_});var i=n(667294),r=n(483730),a=n(311541),o=n(826067),s=n(276775),l=n(425288),d=n(785893);const c=()=>n.e(30656).then(n.bind(n,530656)),{Provider:u,useHook:p}=(0,l.Z)("SkinToneFilter");function _({children:e}){const[t,n]=(0,a.Z)(c,r.Z),l=(0,s.useLocation)();(0,i.useEffect)((()=>{let e;if(((0,o.mB)(l.search)||{}).q){const t=l.pathname.split("/");e=t.length>2?t[2]:"pins"}e||n({type:"RESET_SKIN_TONE_QUERY_USES"})}),[n,l]);const p=(0,i.useMemo)((()=>({dispatch:n,skinToneFilters:t})),[n,t]);return(0,d.jsx)(u,{value:p,children:e})}function h(){const{dispatch:e}=p();return(0,i.useMemo)((()=>({updateShowSkinToneFilters:t=>{e({type:"UPDATE_SHOW_SKIN_TONE_FILTERS",payload:{showSkinToneFilters:t}})},updateSkinToneFilterQueryUses:t=>{e({type:"UPDATE_SKIN_TONE_FILTER_QUERY_USES",payload:{newQuery:t}})},viewedOwnProfile:()=>e({type:"RESET_SKIN_TONE_QUERY_USES"})})),[e])}function m(){const{skinToneFilters:e}=p();return e}},483730:(e,t,n)=>{n.d(t,{Z:()=>i});const i={skinToneQueryUses:{numQueryUses:0,lastQuery:""},showSkinToneFilters:!1}},709622:(e,t,n)=>{n.d(t,{Az:()=>g,DI:()=>x,Gl:()=>w,Hl:()=>k,Kb:()=>j,NA:()=>i,NG:()=>d,OC:()=>E,Pq:()=>I,QM:()=>h,UF:()=>v,Uo:()=>P,WF:()=>s,Xm:()=>c,Zf:()=>a,_D:()=>R,_N:()=>_,ac:()=>o,e_:()=>p,gf:()=>f,hf:()=>S,i_:()=>l,jY:()=>y,ni:()=>b,qg:()=>u,rX:()=>r,vX:()=>T,wO:()=>C,yG:()=>m,yq:()=>A});const i="10",r=1,a=365,o=64,s=8,l=9,d=11,c=15,u=16,p=17,_=18,h=19,m=20,g=1e6,f=g,v="US";function y(e){let t="USD",n="$";switch(e){case"AT":t="EUR",n="";break;case"AU":t="AUD",n="$";break;case"BE":t="EUR",n="";break;case"CA":t="CAD",n="$";break;case"CH":t="CHF",n="CHF";break;case"DE":t="EUR",n="";break;case"DK":t="DKK",n="kr";break;case"ES":case"FI":case"FR":t="EUR",n="";break;case"GB":t="GBP",n="";break;case"IE":case"IT":case"NL":t="EUR",n="";break;case"NO":t="NOK",n="kr";break;case"NZ":t="NZD",n="$";break;case"PT":t="EUR",n="";break;case"SE":t="SEK",n="kr"}return[t,n]}const x={AU:{budget:1,duration:"10"},CA:{budget:1,duration:"10"},FR:{budget:1,duration:"10"},GB:{budget:1,duration:"10"},IE:{budget:1,duration:"10"},NZ:{budget:1,duration:"10"},US:{budget:3,duration:"10"},AT:{budget:1,duration:"10"},DE:{budget:1,duration:"10"},IT:{budget:1,duration:"10"},ES:{budget:1,duration:"10"},NL:{budget:1,duration:"10"},PT:{budget:1,duration:"10"},BE:{budget:1,duration:"10"},CH:{budget:1,duration:"10"},SE:{budget:10,duration:"30"},NO:{budget:10,duration:"30"},DK:{budget:10,duration:"30"},FI:{budget:1,duration:"10"}},b={AU:{budget:9,duration:"10"},CA:{budget:8,duration:"10"},FR:{budget:8,duration:"10"},GB:{budget:5,duration:"10"},IE:{budget:8,duration:"10"},NZ:{budget:9,duration:"10"},US:{budget:8,duration:"10"},AT:{budget:8,duration:"10"},DE:{budget:8,duration:"10"},IT:{budget:8,duration:"10"},ES:{budget:8,duration:"10"},NL:{budget:8,duration:"10"},PT:{budget:8,duration:"10"},BE:{budget:8,duration:"10"},CH:{budget:8,duration:"10"},SE:{budget:10,duration:"30"},NO:{budget:10,duration:"30"},DK:{budget:10,duration:"30"},FI:{budget:8,duration:"10"}},w={PIN_SELECTION_MODAL:"PIN_SELECTION_MODAL",BUSINESS_FORM:"QUICK_PROMOTE_BUSINESS_FORM",BILLING_FORM:"QUICK_PROMOTE_BILLING_FORM",SUCCESS_MODAL:"SUCCESS_MODAL",ERROR_MODAL:"ERROR_MODAL",TAG_MODAL:"TAG_MODAL",GDPR_MODAL:"GDPR_MODAL"},S="QUICK_PROMOTE_PAGE",T=[w.GDPR_MODAL,w.PIN_SELECTION_MODAL,S,w.BUSINESS_FORM,w.BILLING_FORM,w.SUCCESS_MODAL,w.ERROR_MODAL],I={NARROW:"NARROW",MEDIUM:"MEDIUM",WIDE:"WIDE"},P=e=>e>=1&&e<=2,E="qp-fac-education-id",A="qp-fac-modal-education-id",k={CONSIDERATION:"CONSIDERATION",WEB_CONVERSION:"WEB_CONVERSION",CATALOG_SALES:"CATALOG_SALES"},C={PINS:0,PRODUCT_GROUPS:1,BOARDS:2,SELECTED:3,SEARCH_RESULTS:4},R={MOST_RECENT:"RECENT",PROMOTED_PINS:"PROMOTED"},j=300},655428:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(883119),r=n(785893);function a({description:e,imageUrl:t,imageHeight:n,imageWidth:a}){return(0,r.jsx)(i.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,overflow:"hidden",children:(0,r.jsx)(i.Ee,{alt:null!=e?e:"",src:null!=t?t:"",fit:"cover",naturalHeight:null!=n?n:1,naturalWidth:null!=a?a:1,color:"#767676"})})}},275926:(e,t,n)=>{n.d(t,{Pt:()=>O,f0:()=>D,lq:()=>L,p3:()=>N});var i=n(667294),r=n(702664),a=n(231486),o=n(441143),s=n.n(o),l=n(421322),d=n(383690),c=n(112690),u=n(69642),p=n(330102),_=n(628551),h=n(290148),m=n(966113),g=n(993723),f=n(957191),v=n(534427),y=n(643010),x=n(539278),b=n(773285),w=n(50286),S=n(780280),T=n(6637),I=n(116485),P=n(884732),E=n(867820),A=n(226198),k=n(529195),C=n(962832),R=n(844974);const j=e=>({type:"AUTHENTICATE_USER",payload:{user:e}}),D=()=>{const e=(0,c.Z)(),t=(0,b.F)(),n=(0,r.useDispatch)(),{country:o,countryFromHostName:m,countryFromIp:y,regionFromIp:w,userAgent:{isTablet:P,isMobile:D}}=(0,S.B)(),O=(0,d.Z)(),N=(0,u.Z)();return(0,i.useCallback)((async(i,r,d="/",c={isAutologin:!1,isSwitchAccount:!1,noLocationReplace:!1,recaptchaV3Token:"default",noImmediateRedirect:!1,useAlternativeResourceCall:!1,trigger:"other",accountUnlinked:!1},u)=>{O();const b=!P&&!D,{isAutologin:S,isSwitchAccount:L,noLocationReplace:U,recaptchaV3Token:F,noImmediateRedirect:M,useAlternativeResourceCall:z,trigger:B,accountUnlinked:Z}=c;let H={get_user:!0,...i,app_type_from_client:6,recaptchaV3Token:F};const G=(0,k.t_)();G&&(H={...H,visited_pages_before_login:G});const V=(0,k.OJ)();V&&(H={...H,referrer:V});let W=T.Z.create("UserSessionResource",H).callCreate();if(z&&i.username_or_email&&i.password){const e=new FormData;e.append("username",i.username_or_email),e.append("password",i.password);const t={method:"POST",body:e,credentials:"include",headers:{Accept:"application/json, text/javascript, */*","X-CSRFToken":(0,_.getCsrfToken)()||"","X-Requested-With":"XMLHttpRequest"}};W=fetch("/resource/UserSessionResource/create/",t).then((e=>{if(200!==e.status)throw new Error(e.statusText);return e.json()})).catch((e=>Promise.reject(e)))}try{S&&(0,E.dy)({event:"login_api_call_start",provider:i.google_open_id_token?"google":"facebook"}),e({...u,event_type:7534}),N({action:S?"autologin":"login",event:"attempt",type:(0,h.lp)(i),trigger:B});const c=await W;S&&(0,E.dy)({event:"login_api_call_success",provider:i.google_open_id_token?"google":"facebook"}),s()(c.resource_response,"Login response is invalid"),n(j(c.resource_response.data.user));const _=c.client_context;_&&(_.placed_experiences&&n((0,f.OD)(_.placed_experiences)),t.active=_.active_experiments,t.triggerable=_.triggerable_experiments),(0,l.Z)("authentication.login_success"),e({...u,event_type:7536}),N({action:S?"autologin":"login",event:"success",type:(0,h.lp)(i),trigger:B}),a.zN(A.e7.name),a.zN(A.x3.name),(0,R.Nh)(I.AA,1),"/"!==d&&(0,v.E)(!0),L?(0,C.Dm)().then((()=>{var e,t;const n=`/${(null===(e=c.resource_response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.user.username)||""}`+(Z?`?message=${x.aU}`:"");window.location.href=n})):S&&!b||M||(0,g._)({forceFullPageNavigation:b,history:r,next:d,noLocationReplace:U}),(0,p.ko)({country:o,countryFromHostName:m,countryFromIp:y,regionFromIp:w,deviceType:"Mobile",eventCategory:"Logins"})}catch(K){if(S&&(0,E.dy)({event:"login_api_call_failure",provider:i.google_open_id_token?"google":"facebook"}),1201!==K.api_error_code||S||b)throw e({...u,event_type:7535}),N({action:S?"autologin":"login",event:"fail",type:(0,h.lp)(i),trigger:B}),L&&(0,l.Z)("authentication.login_error"),K;if(r){const e={creds:i,next:d,phoneNumber:K.data.phone_number_end};r.push({pathname:"/login/mfa/",state:e})}}}),[n,o,m,y,O,t,D,P,e,w,N])},O=async(e={logoutOnAbort:!1},t)=>{const{redirectUrl:n,localStorageItems:i,logoutOnAbort:r,reason:o="user_initiated",source:s}=e,d=t?"web_desktop":"web_mobile";(0,E.tj)("logout.attempt",{tags:{app:d,reason:o,source:s}});try{await T.Z.create("UserSessionResource",{disable_auth_failure_redirect:!0}).callDelete()}catch(c){if(!r||"abort"!==(null==c?void 0:c.type))throw(0,E.tj)("logout.error",{tags:{app:d,reason:o,source:s}}),c;(0,l.Z)("logout.logout_ignored")}(0,l.Z)("logout.logout_success"),(0,E.tj)("logout",{tags:{app:d,reason:o,source:s}}),a.t8(A.e7,"True",(0,a.kZ)(A.e7)),(0,v.E)(!1),(0,R.L_)(y.Uf),(0,R.L_)(I.E9),(0,R.L_)(C.RH),(0,R.L_)("_epik_localstore"),i&&((0,P.r8)(i.multipleAccountMap),(0,P.M3)(i.multipleAccountGroupId)),await(0,C.Dm)(),window.location.href=n||m.ZE},N=()=>{const e=(0,w.HG)();return t=>O(t,e)},L=()=>{const e=(0,b.F)(),t=(0,r.useDispatch)(),n=(0,d.Z)();return({client_context:i,resource_response:r})=>{const a=null==r?void 0:r.data;a&&(n(),t(j(a.user))),i&&(t((0,f.OD)(i.placed_experiences)),e.active=i.active_experiments,e.triggerable=i.triggerable_experiments)}}},712055:(e,t,n)=>{n.d(t,{Z:()=>o,f:()=>s});var i=n(6637),r=n(254176);function a(e){return i.Z.create("BoardFollowResource",{board_id:e})}function o(e){return t=>{a(e).callCreate().catch((()=>{t((0,r.md)(e,!1))})),t((0,r.md)(e,!0))}}function s(e){return t=>{a(e).callDelete().catch((()=>{t((0,r.md)(e,!0))})),t((0,r.md)(e,!1))}}},29857:(e,t,n)=>{n.d(t,{r:()=>i});const i=(e,t)=>({type:"SET_ACTIVE_HOMEFEED_TAB",payload:{boardId:e,index:t}})},177891:(e,t,n)=>{n.d(t,{a:()=>i,k:()=>r});const i=e=>({type:"ONE_TAP_SAVE",payload:e}),r=e=>({type:"ONE_TAP_UNSAVE",payload:e})},490543:(e,t,n)=>{n.d(t,{F:()=>i,p:()=>r});const i=e=>({type:"PIN_BUILDER_LOADED_IMAGES",payload:e}),r=e=>({type:"UPDATE_PIN_BUILDER_INPUT",payload:e})},12918:(e,t,n)=>{n.d(t,{M:()=>l,i:()=>d});var i=n(483025),r=n(414327),a=n(782677),o=n(90326),s=n(6637);const l=(e,t,n,i)=>({type:"PIN_ADD",payload:{pinId:e,boardId:t,boardSectionId:n,pinnerId:i}}),d=e=>t=>{const{method:n,guid:d,image_base64:c,image_url:u}=e;return((e,t)=>new Promise((n=>{e?(0,o.eR)(e).then((e=>{n(e)})):n(t)})))(c,u).then((o=>{const c={...e,method:"button"!==n||d?n:"button_external",image_url:o,image_base64:void 0},u="PinResource";return s.Z.create(u,c).callCreate().then((e=>{const n=(0,a.Fv)(e.resource_response.data,i.Z.PinResource);t((0,r.XM)(u,c,e,n));const o=e.resource_response.data,{board:{id:s},pinner:{id:d},section:p}=o,_=p&&p.id;return t(l(o.id,s,_,d)),e}))}))}},139574:(e,t,n)=>{n.d(t,{L:()=>s,q:()=>l});var i=n(422946),r=n(956800),a=n(254176),o=n(6637);function s(e){return t=>{const{inSelectAll:n,selectedPinIds:s,orbacSubjectId:l,source:{boardId:d,sectionId:c}}=e,u=n?"BulkEditSelectAllResource":"BulkEditResource",p={board_id:d,section_id:c,pin_ids:s,orbac_subject_id:l};return t((0,a.xQ)(d)),t((0,r.EX)({feedId:c||d,feedType:c?i.DV.BOARD_SECTION_PINS:i.DV.BOARDFEED,inverseSelection:n,itemIds:s,itemType:"pin"})),o.Z.create(u,p).callDelete()}}const l=({pinId:e,boardId:t,boardSectionId:n,clientTrackingParams:i})=>(r,a)=>{const s=o.Z.create("PinResource",{id:e,client_tracking_params:i}).callDelete(),{session:{userId:l}}=a();return r(((e,t,n,i)=>({type:"PIN_DELETE",payload:{pinId:e,boardId:t,boardSectionId:n,userId:i}}))(e,t,n,l)),s}},850431:(e,t,n)=>{n.d(t,{w:()=>a});var i=n(349741),r=n(956800);const a=({pinId:e,boardId:t,i18n:n,logContextEvent:a,onSuccess:o,onUndo:s,originalPinId:l,showNewUserSavetoProfileAnimation:d,showRepinConfirmation:c,showToast:u,section:p,trackingParams:_,isOneTapSave:h,viewType:m,historyPush:g})=>(f,v)=>{var y,x,b,w,S;const{pins:T,session:I,feeds:P}=v(),E=T[e];t&&((null===(y=null!==(x=null==E?void 0:E.shopping_flags)&&void 0!==x?x:[])||void 0===y?void 0:y.length)>0||null!=E&&E.rich_summary&&(null===(b=null!==(w=null==E||null===(S=E.rich_summary)||void 0===S?void 0:S.products)&&void 0!==w?w:[])||void 0===b?void 0:b.length)>0)&&(P[`board-shop-saved-preview:${t}`]&&f((0,r.Qv)(`board-shop-saved-preview:${t}`,[E],{isPrepend:!0})),P[`board-shop-saved:${t}`]&&f((0,r.Qv)(`board-shop-saved:${t}`,[E],{isPrepend:!0})));return new i.Z({boardId:t,dispatch:f,i18n:n,isLegoSaveStyle:!0,isOneTapSave:h,onSuccess:o,onUndo:s,originalPinId:l,pin:E,resourceName:"RepinResource",section:p,showNewUserSavetoProfileAnimation:d,showRepinToasts:e=>c?c(e):u?u(e):void 0,trackingParams:_,userId:I.userId,viewType:m,historyPush:g}).processRepin(a)}},639952:(e,t,n)=>{n.d(t,{Cp:()=>u,FK:()=>c,H5:()=>P,MI:()=>y,Mj:()=>T,O0:()=>v,QZ:()=>d,W:()=>w,WF:()=>m,Wz:()=>E,YV:()=>h,a5:()=>g,dz:()=>b,e0:()=>f,e2:()=>l,iW:()=>S,n1:()=>s,rm:()=>_,wb:()=>I,xu:()=>x});var i=n(172071),r=n(550858),a=n(53987),o=n(962832);const s=()=>({type:"DISMISS_UNAUTH_SAVE"}),l=()=>({type:"COMPLETE_UNAUTH_SAVE_ACTION"}),d=e=>({type:"SET_UNAUTH_SAVE_PIN_ID",payload:{unauthSavePinId:e}}),c=()=>({type:"HIDE_NAV_FOOTER"}),u=()=>({type:"SHOW_NAV_FOOTER"}),p=e=>({type:"SET_SESSION_DATA",payload:e}),_=e=>({type:"SET_LOGIN_SIGNUP_FROM",payload:{from:e}}),h=()=>e=>{e(p({preparingNewVersion:!0})),(0,o.Ng)().catch((()=>(i.Z.increment("mweb_service_worker.prepareNewVersion.error",1),(0,o.Dm)()))).finally((()=>{i.Z.increment("mweb.new_version.refresh",1),e(p({newVersionAvailable:!0,preparingNewVersion:!1}))})),(0,r.Qi)()},m=()=>({type:"SHOW_REPIN_ANIMATION"}),g=()=>({type:"HIDE_REPIN_ANIMATION"}),f=e=>({type:"SET_NUM_SIGNUP_STEPS",payload:{steps:e}}),v=()=>({type:"SET_OWN_PROFILE_PINS_REFRESH"}),y=e=>({type:"SHOW_BIZ_NUX_HOMEFEED_LOADER",payload:e}),x=e=>({type:"SET_VIEWED_IMAGE",payload:{viewedImageSignature:e}}),b=e=>({type:"SET_VIEWED_SHARED_PINS",payload:{pins:e}}),w=()=>({type:"DISMISS_UNAUTH_APP_UPSELL"}),S=e=>e?{type:"LOGGED_OUT_USER_INFO_FOUND",payload:e}:{type:"LOGGED_OUT_USER_INFO_NOT_FOUND"},T=(e,t,n)=>i=>i(((e,t,n)=>({type:"SET_SHARE_ON_BOARD_PAGE",payload:{isShareMenuOpen:e,objectType:t,objectId:n}}))(e,t,n)),I=()=>({type:"STOP_SCROLL_TO_CLOSEUP_PIN"}),P=e=>({type:"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",payload:e}),E=(e,t)=>{let n;return n=e?(0,a.bo)(e)?"today":(0,a.dr)(e)?"ideas":t&&(0,a.dZ)(e,t)?"own_section":t&&(0,a.J)(e,t)?"own_board":(0,a.OJ)(e)?"section":(0,a.am)(e)?"board":(0,a.L6)(e)?"closeup":(0,a.C$)(e)?"home":(0,a.cD)(e)?"profile":(0,a.En)(e)?"search":(0,a.$V)(e)?"topic":"":"",{type:"SET_LANDING_PAGE_TYPE",payload:n}}},70090:(e,t,n)=>{n.d(t,{ZN:()=>o,bJ:()=>l,fv:()=>s,hr:()=>a,lD:()=>d});var i=n(6637);function r(e,t){return i.Z.create("InterestFollowResource",{interest_id:e,interest_list:"favorited",referrer:t})}const a=(e,t)=>({type:"TOPIC_FOLLOW",payload:{id:e,value:t}}),o=(e,t)=>n=>{r(e,t).callCreate().catch((()=>n(a(e,!1)))),n(a(e,!0))},s=(e,t)=>n=>{r(e,t).callDelete().catch((()=>n(a(e,!0)))),n(a(e,!1))},l=e=>t=>{const n=e.reduce(((e,t)=>({...e,[t.id]:!t.is_followed})),{});return i.Z.create("UpdateFollowedInterestsResource",{updated_interest_follows:n}).callUpdate().then((()=>{e.forEach((({id:e,is_followed:n})=>{t(a(e,!n))}))}))},d=(e,t="")=>n=>i.Z.create("UpdateFollowedInterestsResource",{referrer:t,updated_interest_follows:e}).callUpdate().then((()=>{Object.keys(e).forEach((t=>{const i=e[t];n(a(t,i))}))}))},832559:(e,t,n)=>{n.d(t,{Z:()=>a});const i=e=>null!==e&&("object"==typeof e||"function"==typeof e);function r(...e){const t=(e,n)=>Object.keys(n).reduce(((e,r)=>{const a=e[r],o=n[r];return Object.prototype.hasOwnProperty.call(e,r)&&i(a)&&i(o)?e[r]=t(a,o):e[r]=void 0===a?o:o||a,e}),e);return e.reduce(((e,n)=>n?t(e,n):e),{})}const a=function(e,t){return(n,i)=>{const a=t(n,i);if(i.payload&&!Array.isArray(i.payload)){const{normalizedResponse:t}=i.payload;if(t&&((o=t).entities&&o.entities[e]))return function(e,t){return Object.keys(t).reduce(((e,n)=>({...e,[n]:r(e[n],t[n])})),e)}(a,t.entities[e])}var o;return a}}},967628:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(952712);var r=n(550858),a=n(207737);const o=(0,r.RK)("experiences"),s=(0,r.RK)("session"),l=(0,r.RK)("users");var d=n(753894),c=n(14890);const u=[d.Z,e=>t=>n=>{if("ERROR_LOG_EVENT"===n.type){const{error:e,auxData:r}=n;return(0,i.H)(e,r),t(n)}try{return t(n)}catch(r){return(0,i.H)(r||new Error("unknown error"),{action:n}),e.getState()}},e=>t=>n=>{const i=t(n);switch(n.type){case a.mR:case a._4:case a.iY:o(e.getState().experiences);break;case"AUTHENTICATE_USER":case"REGISTER_USER":const t=e.getState();o(t.experiences),s(t.session),l({[t.session.userId]:t.users[t.session.userId]})}return i}],p=()=>(0,c.applyMiddleware)(...u)},906510:(e,t,n)=>{n.d(t,{Z:()=>Wt});var i=n(853824),r=n(396675);const a=(e=null,t)=>e;var o=n(832559);const s=(0,o.Z)("articles",((e={})=>e)),l=(e={businessInformationForm:{},billingInformationForm:{},autoFillQPBillingChecked:!0},t)=>{if("STERLING_UPDATE_BUSINESS_INFORMATION_FORM"===t.type||"STERLING_UPDATE_BILLING_INFORMATION_FORM"===t.type){return{...e,[t.formName]:{...e[t.formName],...t.values}}}return"QUICK_PROMOTE_COPY_BUSINESS_INFO"===t.type?{...e,autoFillQPBillingChecked:t.isChecked}:e};var d=n(823434),c=n(338739);const u=["BoardsResource","BoardFollowingResource","SearchResource","BoardArchiveResource"],p=(e,t)=>({...e,[t.id]:e[t.id]?{...e[t.id],...t}:{...t}});function _(e={},t){switch(t.type){case c.zP:case c.aW:{const{resource:r}=t.payload,a=t.payload.response.resource_response.data;if("BoardResource"===r||"BoardPageResource"===r||"BoardActionStatusResource"===r){const n=((e,t)=>{var n;const{options:i={}}=t.payload,r=t.payload.response.resource_response.data;return t.type!==c.zP||!i.slug||null!=r&&null!==(n=r.url)&&void 0!==n&&n.includes(i.slug)?{}:{oldSlugUrl:`/${i.username}/${(0,d.X)(i.slug)}/`}})(0,t);return{...e,...n,...a||{},cover_images:{...e.cover_images,...(a||{}).cover_images},images:{...e.images,...(a||{}).images}}}var n,i;return"BoardSectionResource"===r?{...e,...(null==a?void 0:a.board)||{},cover_images:{...e.cover_images,...(null==a||null===(n=a.board)||void 0===n?void 0:n.cover_images)||{}},images:{...e.images,...(null==a||null===(i=a.board)||void 0===i?void 0:i.images)||{}}}:t.type===c.zP&&"ApiResource"===r?((e,t)=>{const{response:n}=t.payload,i=n.resource_response.data;return null!=i&&i.length?{...e,related_interest_ids:i.map((e=>e.id))}:e})(e,t):e}case"BOARD_CREATE_COMPLETE":{const{board:n}=t.payload;return{...e,...n}}case"BOARD_UPDATE_COMPLETE":{const{board:n}=t.payload;return{...e,...n,sensitivity:n.sensitivity}}case"BOARD_PIN_COUNT_CHANGED":{const{pin_count:n,sectionless_pin_count:i}=e||{},{sectionId:r}=t.payload,a="BOARD_PIN_COUNT_CHANGED"===t.type?t.payload.increment:1;return{...e,pin_count:"number"==typeof n?Math.max(0,n+a):n,sectionless_pin_count:r||"number"!=typeof i?i:Math.max(0,i+a)}}case"USER_FOLLOW":{const{id:n,value:i}=t.payload;return e.owner&&n===e.owner.id?{...e,followed_by_me:i}:e}case"BOARD_FOLLOW":{const{boardId:n,value:i}=t.payload;return{...e,id:n,followed_by_me:i}}case"BOARD_OWNERSHIP_TRANSFER_REQUEST":{const{collaboratorId:n}=t.payload;return{...e,pending_ownership_transfer:n}}case"BOARD_OWNERSHIP_TRANSFER_REQUEST_CANCEL":return{...e,pending_ownership_transfer:null};case"BOARD_DISMISS_SENSITIVITY_SCREEN":return{...e,sensitivity_screen:{reason:null,show_warning:!1}};case"BOARD_INVITE_ACCEPTED_BY_VIEWER":{const{collaborator_count:n,collaborating_users:i}=e||{},{boardId:r,collaboratingUser:a}=t.payload;return{...e,id:r,access:["write"],collaborated_by_me:!0,is_collaborative:!0,collaborator_count:"number"==typeof n?n+1:0,...a?{collaborating_users:(i||[]).concat(a)}:Object.freeze({})}}case"BOARD_REQUEST_TO_JOIN":{const{boardId:n,value:i}=t.payload;return{...e,id:n,viewer_collaborator_join_requested:i}}case"BOARD_ARCHIVE":return{...e,archived_by_me_at:(new Date).toString()};case"BOARD_UNARCHIVE":{const{boardId:n}=t.payload;return{...e,id:n,archived_by_me_at:void 0}}case"BOARD_COVER_IMAGE_UPDATED":{const{boardId:n,coverPin:i}=t.payload;return{...e,id:n,cover_pin:i}}case"BOARD_DISABLE_MORE_IDEAS_BADGING":return{...e,has_fresh_more_ideas_tab:!1};case"SECTION_ADDED":{const{section_count:t}=e||{};return{...e,section_count:(t||0)+1}}case"SECTION_DELETED":{const{section_count:t}=e||{};return{...e,section_count:(t||1)-1}}case"BOARD_INVITE_APPROVED_BY_VIEWER":return((e,{payload:{boardId:t,collaboratingUser:n}})=>{const i=e[t];return p(e,{id:t,collaborating_users:(i.collaborating_users||[]).concat(n)})})(e,t);case"BOARD_COLLABORATOR_DELETE":return((e,{payload:{userId:t,boardId:n,viewingUser:i}})=>{var r;const a=e[n],o=a.collaborating_users?a.collaborating_users.indexOf(t):-1;return p(e,{id:n,...a.collaborator_count?{collaborator_count:a.collaborator_count-1}:Object.freeze({}),...a.collaborated_by_me?{collaborated_by_me:i!==t&&a.collaborated_by_me}:Object.freeze({}),...a.access&&{access:i===t?[]:a.access},...o>-1?{collaborating_users:(null!==(r=a.collaborating_users)&&void 0!==r?r:[]).filter(((e,t)=>t!==o))}:Object.freeze({})})})(e,t);case"BOARD_COLLABORATOR_ADD":return((e,{payload:{boardId:t,viewingUser:n,status:i,collaboratingUsers:r}})=>{const a=e[t],o=r.map((e=>null==e?void 0:e.id)).filter(Boolean);var s;return"accepted"===i?p(e,{id:t,...a.collaborator_count||0===a.collaborator_count?{collaborator_count:a.collaborator_count+o.length}:{},...a.collaborated_by_me||!1===a.collaborated_by_me?{collaborated_by_me:a.collaborated_by_me||o.includes(n)}:{},...(a.access||a.access===[])&&{access:o.includes(n)?["write","delete"]:a.access},...(a.collaborating_users||a.collaborating_users===[])&&{collaborating_users:[...null!==(s=a.collaborating_users)&&void 0!==s?s:[],...r]}}):e})(e,t);case"PIN_ADD":{const{pin_count:t}=e||{};return{...e,pin_count:(null!=t?t:0)+1}}case"PIN_DELETE":{const{pin_count:t}=e||{};return{...e,pin_count:(null!=t?t:0)-1}}case"BOARD_SECTION_DELETE":{var r;const{pinCount:n}=t.payload,i=e.section_count||0;return{...e,section_count:Math.max(i-1,0),pin_count:(null!==(r=e.pin_count)&&void 0!==r?r:0)-n}}case"CREATE_COMPLETE":{const{section_count:t}=e||{};return{...e,section_count:(t||0)+1}}case"SET_SOCIAL_SEASONAL_BOARD":{const{isSocialSeasonalBoard:n,socialHeaderBgImage:i,socialHeaderBgColor:r,textIconColor:a}=t.payload;return{...e,isSocialSeasonalBoard:n,socialHeaderBgImage:i,socialHeaderBgColor:r,textIconColor:a}}default:return e}}const h=(e,t,n,i)=>{var r;return t===n?e:{...e,...t&&e[t]?{[t]:{...e[t],pin_count:Math.max(0,(null!==(r=e[t].pin_count)&&void 0!==r?r:0)-i)}}:{},...n&&e[n]?{[n]:{...e[n],pin_count:(e[n].pin_count||0)+i}}:{}}},m=(0,o.Z)("boards",((e={},t)=>{switch(t.type){case c.zP:case c.aW:{var n,i;const{options:s,resource:l}=t.payload,d=t.payload.response.resource_response.data;if(u.includes(l)&&d){const t=d||[],n={...e};return t.forEach((e=>{e.type&&"board"!==e.type||(n[e.id]={...n[e.id],...e})})),n}if("BoardResource"===l||"BoardPageResource"===l||"BoardActionStatusResource"===l){const n=(null==s?void 0:s.board_id)||(d||{}).id;return{...e,[n]:_(e[n],t)}}if("BoardSectionResource"===l){var r;const n=null==d||null===(r=d.board)||void 0===r?void 0:r.id;if(n)return{...e,[n]:_(e[n],t)}}else if("ApiResource"===l&&null!==(n=t.payload.options)&&void 0!==n&&null!==(i=n.url)&&void 0!==i&&i.match(/\/v3\/boards\/([0-9]|[a-z]|[A-Z])+\/interests\//)){var a,o;const{options:n}=t.payload,i=null==n||null===(a=n.url)||void 0===a||null===(o=a.split("/"))||void 0===o?void 0:o[3];if(i)return{...e,[i]:_(e[i],t)}}return e}case"BOARD_CREATE_COMPLETE":{const{board:n}=t.payload;return n&&n.id?{...e,[n.id]:_(e[n.id],t)}:e}case"BOARD_UPDATE_COMPLETE":{const{board:n}=t.payload;return{...e,[n.id]:_(e[n.id],t)}}case"BOARD_ARCHIVE":case"BOARD_COVER_IMAGE_UPDATED":case"BOARD_DISABLE_MORE_IDEAS_BADGING":case"BOARD_DISMISS_SENSITIVITY_SCREEN":case"BOARD_FOLLOW":case"BOARD_SECTION_DELETE":case"BOARD_INVITE_ACCEPTED_BY_VIEWER":case"BOARD_OWNERSHIP_TRANSFER_REQUEST_CANCEL":case"BOARD_OWNERSHIP_TRANSFER_REQUEST":case"BOARD_PIN_COUNT_CHANGED":case"BOARD_REQUEST_TO_JOIN":case"BOARD_UNARCHIVE":case"PIN_ADD":case"PIN_DELETE":case"SECTION_ADDED":case"SECTION_DELETED":case"SET_SOCIAL_SEASONAL_BOARD":{const{boardId:n}=t.payload;return{...e,[n]:_(e[n],t)}}case"USER_FOLLOW":{const{id:n}=t.payload,i=Object.keys(e).filter((t=>e[t].owner&&e[t].owner.id===n)).reduce(((n,i)=>(n[i]=_(e[i],t),n)),{});return{...e,...i}}case"BOARD_DELETE":return((e,t)=>{const{boardId:n}=t.payload;if(!n)return e;const{[n]:i,...r}=e;return r})(e,t);case"USER_BLOCK":return((e,{payload:{id:t,value:n}})=>{if(!n)return e;const i=Object.keys(e).filter((n=>e[n].owner&&e[n].owner.id===t));if(!i.length)return e;const r=i.reduce(((t,n)=>{const i=e[n];return t[n]={...i,followed_by_me:!1},t}),{});return{...e,...r}})(e,t);case"PIN_EDIT":return((e,t)=>{const{boardId:n,source:{boardId:i}}=t.payload;return h(e,i,n,1)})(e,t);case"PINS_MOVE":return((e,t)=>{const{pinIds:n,source:{boardId:i},target:{boardId:r}}=t.payload;return i===r?e:h(e,i,r,n.length)})(e,t);case"PINS_MOVE_ALL":return e;case"CREATE_COMPLETE":{const{resource:n,normalizedResponse:i}=t.payload;if("BoardSectionResource"===n&&i){const{result:n,entities:{boardsections:r}}=i,a=r[n].board;return{...e,[a]:_(e[a],t)}}return e}default:return e}})),g=(e,t)=>({...e,[t.id]:{...t&&e[t.id]||{},...t}}),f=(e,t,n,i)=>{var r;return t===n?e:{...e,...t&&e[t]?{[t]:{...e[t],pin_count:Math.max(0,(null!==(r=e[t].pin_count)&&void 0!==r?r:0)-i)}}:{},...n&&e[n]?{[n]:{...e[n],pin_count:(e[n].pin_count||0)+i}}:{}}},v=e=>"board_section"===(null==e?void 0:e.type)?{...e,type:"boardsection"}:e,y=(0,o.Z)("boardsections",((e={},t)=>{switch(t.type){case c.zP:case c.aW:const{resource:n,normalizedResponse:i}=t.payload;if(!i){const i=t.payload.response.resource_response.data;if("BoardSectionsResource"===n){const t=(i||[]).reduce(((t,n)=>(t[n.id]={...e[n.id],...v(n)},t)),{});return{...e,...t}}if("BoardSectionResource"===n&&i){const t=i;return{...e,[t.id]:{...e[t.id],...v(t)}}}}return e;case"SECTION_ADDED":const{payload:{section:r}}=t;return r.id?{...e,[r.id]:r}:e;case"SECTION_DELETED":const{payload:{sectionId:a}}=t,o={...e};return delete o[a],o;case"SECTION_UPDATED":return((e,t)=>{const{payload:{section:n}}=t;return n.id?{...e,[n.id]:{...e[n.id],...n}}:e})(e,t);case"BOARD_PIN_COUNT_CHANGED":return((e,t)=>{const{payload:{sectionId:n,increment:i}}=t;if(!n)return e;const r=e[n];return r?{...e,[n]:{...r,pin_count:r.pin_count?Math.max(0,r.pin_count+i):i}}:e})(e,t);case"BOARD_SECTION_EDIT":return((e,{payload:t})=>g(e,t))(e,t);case"PIN_ADD":return((e,t)=>{const{boardSectionId:n}=t.payload;var i;return n&&e[n]?g(e,{id:n,pin_count:(null!==(i=e[n].pin_count)&&void 0!==i?i:0)+1}):e})(e,t);case"PIN_DELETE":return((e,t)=>{const{boardSectionId:n}=t.payload;var i;return n&&e[n]?g(e,{id:n,pin_count:(null!==(i=e[n].pin_count)&&void 0!==i?i:0)-1}):e})(e,t);case"PIN_EDIT":return((e,t)=>{const{section:n,source:i}=t.payload,r=n&&n.id||null,a=i&&i.sectionId||null;return f(e,a,r,1)})(e,t);case"PINS_MOVE":return((e,t)=>{const{pinIds:n,source:{sectionId:i},target:{sectionId:r}}=t.payload;return f(e,i,r,n.length)})(e,t);case"PINS_MOVE_ALL":default:return e}})),x={data:null,loading:!1,error:null},b=(e=x,t)=>{switch(t.type){case"GET_ACTING_USER":return{...e,loading:!0,error:null};case"GET_ACTING_USER_SUCCESS":return{...e,data:t.payload,loading:!1};case"GET_ACTING_USER_ERROR":return{...e,loading:!1,error:t.error};default:return e}},w={data:{},loading:!1,error:void 0},S=(e=w,t)=>{var n,i,r;switch(t.type){case"CREATE_AD_ACCOUNTS":case"GET_MULTIPLE_AD_ACCOUNTS":case"GET_PERSON_ASSETS":case"GET_PARTNER_ASSETS":case"GET_AD_ACCOUNT":return{...e,loading:!0};case"CREATE_AD_ACCOUNTS_ERROR":case"GET_MULTIPLE_AD_ACCOUNTS_ERROR":case"GET_PERSON_ASSETS_ERROR":case"GET_PARTNER_ASSETS_ERROR":case"GET_AD_ACCOUNT_ERROR":return{...e,error:t.error,loading:!1};case"CREATE_AD_ACCOUNTS_SUCCESS":return{...e,loading:!1,error:void 0};case"GET_MULTIPLE_AD_ACCOUNTS_SUCCESS":case"GET_PERSON_ASSETS_SUCCESS":case"GET_PARTNER_ASSETS_SUCCESS":case"GET_AD_ACCOUNT_SUCCESS":return{...e,loading:!1,data:{...e.data,...null!==(n=null===(i=t.payload)||void 0===i?void 0:i.data)&&void 0!==n?n:{}},error:void 0};case"CLEAR_ERROR":return{...e,error:void 0};case"UPDATE_AD_ACCOUNTS_TOTAL_COUNT":return{...e,loading:!1,totalCount:null===(r=t.payload)||void 0===r?void 0:r.totalCount};default:return e}},T={requests:{},loading:!1,error:void 0},I=(e=T,t)=>{var n;switch(t.type){case"GET_AOAA_REQUESTS":return{...e,loading:!0};case"GET_AOAA_REQUESTS_ERROR":return{...e,error:t.error,loading:!1};case"GET_AOAA_REQUESTS_SUCCESS":return{...e,loading:!1,requests:{...e.requests,...null!==(n=t.payload.data)&&void 0!==n?n:{}}};case"CLEAR_AOAA_REQUESTS":return{...e,loading:!1,requests:{}};case"CLEAR_ERROR":return{...e,error:void 0};default:return e}},P={assetGroups:{},selectedAssetGroupId:void 0,loading:!1,error:void 0},E=(e=P,t)=>{var n,i,r,a,o,s,l,d;switch(t.type){case"GET_ASSET_GROUPS":return{...e,loading:!0};case"GET_ASSET_GROUPS_ERROR":return{...e,error:t.error,loading:!1};case"GET_ASSET_GROUPS_SUCCESS":return{...e,loading:!1,assetGroups:{...e.assetGroups,...(Array.isArray(null===(n=t.payload)||void 0===n?void 0:n.data)?t.payload.data:[]).reduce(((e,t)=>("id"in t&&(e[t.id]=t),e)),{})}};case"CREATE_ASSET_GROUP":return{...e,loading:!0};case"CREATE_ASSET_GROUP_ERROR":return{...e,error:t.error,loading:!1};case"CREATE_ASSET_GROUP_SUCCESS":const _="object"==typeof(null===(i=t.payload)||void 0===i?void 0:i.data)&&!Array.isArray(t.payload.data)&&"id"in t.payload.data?t.payload.data.id:void 0;var c;return void 0!==_?{...e,loading:!1,selectedAssetGroupId:_,assetGroups:{...e.assetGroups,[_]:null===(c=t.payload)||void 0===c?void 0:c.data}}:e;case"EDIT_ASSET_GROUP":return{...e,loading:!0};case"EDIT_ASSET_GROUP_ERROR":return{...e,error:t.error,loading:!1};case"EDIT_ASSET_GROUP_SUCCESS":const h=null!==(r=t.payload)&&void 0!==r&&r.data&&t.payload.data.id?t.payload.data.id:void 0;var u;return"string"==typeof h?{...e,loading:!1,assetGroups:{...e.assetGroups,[h]:null===(u=t.payload)||void 0===u?void 0:u.data}}:e;case"DELETE_ASSET_GROUP":return{...e,loading:!0};case"DELETE_ASSET_GROUP_ERROR":return{...e,error:t.error,loading:!1};case"DELETE_ASSET_GROUP_SUCCESS":const m={...e.assetGroups},g=null!==(a=t.payload)&&void 0!==a&&a.data&&t.payload.data.id?t.payload.data.id:void 0,f={};if("string"==typeof g&&g in m){Object.keys(m).forEach((e=>{e!==g&&(f[e]=m[e])}));const t=Object.keys(m).length>0?Object.keys(m)[0]:void 0;return{...e,loading:!1,assetGroups:f,selectedAssetGroupId:t}}return e;case"SELECT_ASSET_GROUP":return{...e,selectedAssetGroupId:"string"==typeof(null===(o=t.payload)||void 0===o?void 0:o.data)?t.payload.data:void 0};case"ADD_PROFILE_TO_ASSET_GROUP":return{...e,loading:!0};case"ADD_PROFILE_TO_ASSET_GROUP_ERROR":return{...e,error:t.error,loading:!1};case"ADD_PROFILE_TO_ASSET_GROUP_SUCCESS":const v={...e.assetGroups};if(null===(s=t.payload)||void 0===s||!s.data||!t.payload.data.assetGroupId||!t.payload.data.profileId||"string"!=typeof t.payload.data.assetGroupId||"string"!=typeof t.payload.data.profileId||"string"!=typeof t.payload.data.profileName||"string"!=typeof t.payload.data.profileOwnerName||"string"!=typeof t.payload.data.profileOwnerId||"string"!=typeof t.payload.data.profileAvatar)return e;const y=t.payload.data.assetGroupId,x=t.payload.data.profileId,b=v[y];if(null==b)return e;null==b.profiles&&(b.profiles={});const w={assetGroupId:t.payload.data.assetGroupId,profileId:t.payload.data.profileId,profileName:t.payload.data.profileName,profileOwnerName:t.payload.data.profileOwnerName,profileOwnerId:t.payload.data.profileOwnerId,profileAvatar:t.payload.data.profileAvatar?t.payload.data.profileAvatar:""};return b.profiles[x]=w,{...e,loading:!1,assetGroups:v};case"DELETE_PROFILE_FROM_ASSET_GROUP":return{...e,loading:!0};case"DELETE_PROFILE_FROM_ASSET_GROUP_ERROR":return{...e,error:t.error,loading:!1};case"DELETE_PROFILE_FROM_ASSET_GROUP_SUCCESS":{var p;const n={...e.assetGroups};if(null===(p=t.payload)||void 0===p||!p.data||!t.payload.data.assetGroupId||!t.payload.data.profileId||"string"!=typeof t.payload.data.assetGroupId||"string"!=typeof t.payload.data.profileId)return e;const i=t.payload.data&&t.payload.data.profileId?t.payload.data.profileId:"",r=t.payload.data&&t.payload.data.assetGroupId?t.payload.data.assetGroupId:"",a="string"==typeof r&&r in n?n[r]:void 0;if("string"==typeof i&&a&&i in a.profiles){const t={};return Object.keys(a.profiles).forEach((e=>{e!==i&&(t[e]=a.profiles[e])})),a.profiles=t,{...e,loading:!1,assetGroups:{...e.assetGroups,[r]:a}}}return e}case"ADD_AD_ACCOUNTS_TO_ASSET_GROUP":return{...e,loading:!0};case"ADD_AD_ACCOUNTS_TO_ASSET_GROUP_ERROR":return{...e,error:t.error,loading:!1};case"ADD_AD_ACCOUNTS_TO_ASSET_GROUP_SUCCESS":return null!==(l=t.payload)&&void 0!==l&&null!==(d=l.data)&&void 0!==d&&d.assetGroupId&&"string"==typeof t.payload.data.assetGroupId&&Array.isArray(t.payload.data.adAccounts)&&e.assetGroups[t.payload.data.assetGroupId]&&t.payload.data.adAccounts?{...e,assetGroups:{...e.assetGroups,[t.payload.data.assetGroupId]:{...e.assetGroups[t.payload.data.assetGroupId],adAccounts:[...e.assetGroups[t.payload.data.assetGroupId].adAccounts||[],...t.payload.data.adAccounts]}}}:{...e,error:t.error,loading:!1};case"CLEAR_ERROR":return{...e,error:void 0};default:return e}},A={data:[],loading:!1,error:void 0},k=(e=A,t)=>{switch(t.type){case"GET_DASHBOARD_RECENTLY_ADDED":return{...e,loading:!0};case"GET_DASHBOARD_RECENTLY_ADDED_ERROR":return{...e,error:t.error,loading:!1};case"GET_DASHBOARD_RECENTLY_ADDED_SUCCESS":return{...e,loading:!1,data:[...t.payload],error:void 0};default:return e}},C={list:null,isLoading:!1,error:null},R=(e=C,t)=>{var n,i,r;switch(t.type){case"GET_EMPLOYERS":return{...e,error:null,isLoading:!0};case"GET_EMPLOYERS_SUCCESS":if(null!==(n=t.payload)&&void 0!==n&&n.showTooltip){const n=[];for(const i of t.payload.data)e&&e.list&&!e.list.some((({id:e})=>e===i.id))?n.push({...i,showInTooltip:!0}):n.push(i);return{...e,list:n,isLoading:!1}}return{...e,list:null===(i=t.payload)||void 0===i?void 0:i.data,isLoading:!1};case"GET_EMPLOYERS_ERROR":return{...e,list:[],error:t.error,isLoading:!1};case"HIDE_EMPLOYERS_TOOLTIP":return{...e,list:null===(r=e.list)||void 0===r?void 0:r.map((({showInTooltip:e,...t})=>t))};default:return e}};var j=n(151725),D=n(22359),O=n(707069);const N={data:{},loading:!1,error:null,dateRange:{startDate:(0,D.Z)((0,O.Z)((0,j.Z)(),7)).toISOString(),endDate:(0,D.Z)((0,O.Z)((0,j.Z)(),1)).toISOString()}},L=(e=N,t)=>{var n,i;switch(t.type){case"GET_HISTORY":return{...e,loading:!0,error:null};case"GET_HISTORY_SUCCESS":return{...e,data:{...e.data,...null!==(n=null===(i=t.payload)||void 0===i?void 0:i.data)&&void 0!==n?n:{}},loading:!1};case"GET_HISTORY_ERROR":return{...e,loading:!1,error:t.error};case"SET_HISTORY_DATE_RANGE":return{...e,dateRange:t.dateRange};default:return e}},U={invites:{},requests:{},loading:!1,error:void 0},F=(e=U,t)=>{var n;const{updateDataOnly:i,type:r,...a}=null!==(n=t.payload)&&void 0!==n?n:{};switch(t.type){case"GET_INVITE_DATA":return{...e,loading:!0};case"GET_INVITE_DATA_ERROR":return{...e,loading:!1,error:t.error};case"GET_INVITE_DATA_SUCCESS":return{...e,invites:{...e.invites,[r]:{...a,...e.invites[r]}},loading:!1};case"GET_REQUEST_DATA":return{...e,loading:!0};case"GET_REQUEST_DATA_ERROR":return{...e,loading:!1,error:t.error};case"GET_REQUEST_DATA_SUCCESS":return{...e,requests:{...e.requests,[r]:{...a,...e.requests[r]}},loading:!1};case"CLEAR_PARTNER_INVITE_DATA":return{...e,invites:{...e.invites,partners:{}}};case"CLEAR_PARTNER_REQUEST_DATA":return{...e,requests:{...e.requests,partners:{}}};default:return e}},M={invites:{people:{},partner:{}},requests:{partner:{}},type:"PENDING",loading:!1,error:void 0},z=(e=M,t)=>{var n;const{type:i,data:r,id:a}=null!==(n=t.payload)&&void 0!==n?n:{};switch(t.type){case"GET_PEOPLE_INVITES":case"GET_PARTNERS_INVITES":case"GET_PARTNERS_REQUESTS":case"CREATE_PARTNER_INVITE":case"CREATE_PARTNER_REQUEST":return{...e,loading:!0};case"GET_PEOPLE_INVITES_ERROR":case"GET_PARTNERS_INVITES_ERROR":case"GET_PARTNERS_REQUESTS_ERROR":case"CREATE_PARTNER_INVITE_ERROR":case"CREATE_PARTNER_REQUEST_ERROR":return{...e,error:t.error,loading:!1};case"CREATE_PARTNER_INVITE_SUCCESS":case"CREATE_PARTNER_REQUEST_SUCCESS":return{...e,loading:!1,error:void 0};case"GET_PEOPLE_INVITES_SUCCESS":case"GET_PARTNERS_INVITES_SUCCESS":return{...e,loading:!1,invites:{...e.invites,[i]:{...e.invites[i],...r}}};case"GET_PARTNERS_REQUESTS_SUCCESS":return{...e,loading:!1,requests:{...e.requests,[i]:{...e.requests[i],...r}}};case"CLEAR_ERROR":return{...e,error:void 0};case"CLEAR_INVITE":if(e.invites.partner){const{[a]:t,...n}=e.invites.partner;return{...e,invites:{...e.invites,partner:{...n}}}}return e;case"CLEAR_REQUEST":if(e.requests.partner){const{[a]:t,...n}=e.requests.partner;return{...e,requests:{...e.requests,partner:{...n}}}}return e;default:return e}},B={data:{},loading:!1,error:void 0},Z=(e=B,t)=>{var n,i;switch(t.type){case"GET_MANAGED_CLIENTS":return{...e,loading:!0};case"GET_MANAGED_CLIENTS_SUCCESS":return{...e,loading:!1,data:{...e.data,...null!==(n=null===(i=t.payload)||void 0===i?void 0:i.data)&&void 0!==n?n:Object.freeze({})},error:void 0};case"GET_MANAGED_CLIENTS_ERROR":return{...e,error:t.error,loading:!1};default:return e}},H={users:{collapse:!1},accounts:{collapse:!1},isLoading:!1},G=(e=H,t)=>{switch(t.type){case"TOGGLE_USERS":return{...e,users:{collapse:!e.users.collapse},isLoading:!1};case"TOGGLE_ACCOUNTS":return{...e,accounts:{collapse:!e.accounts.collapse},isLoading:!1};default:return e}},V={data:{},loading:!1,error:void 0},W=(e=V,t)=>{var n,i,r;switch(t.type){case"GET_PARTNER":case"UPDATE_PARTNERS":case"DELETE_PARTNERS":case"GET_PARTNERS":case"GET_AD_ACCOUNTS_PARTNERS":case"GET_PROFILE_DETAIL_PARTNERS":return{...e,loading:!0};case"GET_PARTNER_ERROR":case"UPDATE_PARTNERS_ERROR":case"DELETE_PARTNERS_ERROR":case"GET_PARTNERS_ERROR":case"GET_AD_ACCOUNTS_PARTNERS_ERROR":case"GET_PROFILE_DETAIL_PARTNERS_ERROR":return{...e,error:t.error,loading:!1};case"UPDATE_PARTNERS_SUCCESS":case"DELETE_PARTNERS_SUCCESS":return{...e,loading:!1,error:void 0};case"GET_PARTNER_SUCCESS":case"GET_PARTNERS_SUCCESS":case"GET_AD_ACCOUNTS_PARTNERS_SUCCESS":case"GET_PROFILE_DETAIL_PARTNERS_SUCCESS":return{...e,loading:!1,data:{...e.data,...null!==(n=null===(i=t.payload)||void 0===i?void 0:i.data)&&void 0!==n?n:{}}};case"CLEAR_ERROR":return{...e,error:void 0};case"UPDATE_PARTNERS_TOTAL_COUNT":return{...e,loading:!1,totalCount:null===(r=t.payload)||void 0===r?void 0:r.totalCount};default:return e}},K={people:{},partner:{},type:["PENDING","EXPIRED"],loading:!1,error:void 0},q=(e=K,t)=>{var n,i,r,a;switch(t.type){case"GET_PENDING_PEOPLE":case"GET_PENDING_PARTNERS":return{...e,loading:!0};case"GET_PENDING_PEOPLE_ERROR":case"GET_PENDING_PARTNERS_ERROR":return{...e,error:t.error,loading:!1};case"GET_PENDING_PEOPLE_SUCCESS":return{...e,loading:!1,people:{...e.people,...null!==(n=t.payload.data)&&void 0!==n?n:{}},type:null!==(i=t.payload.inviteStatus)&&void 0!==i?i:["PENDING","EXPIRED"]};case"GET_PENDING_PARTNERS_SUCCESS":return{...e,loading:!1,partner:{...e.partner,...null!==(r=t.payload.data)&&void 0!==r?r:{}},type:null!==(a=t.payload.inviteStatus)&&void 0!==a?a:["PENDING","EXPIRED"]};case"CLEAR_PENDING_DATA":return{...e,loading:!1,people:{},partner:{}};case"CLEAR_ERROR":return{...e,error:void 0};default:return e}},Y={data:{},loading:!1,error:void 0},$=(e=Y,t)=>{var n,i,r;switch(t.type){case"GET_PERSON":case"DELETE_PEOPLE":case"GET_PEOPLE":case"GET_AD_ACCOUNTS_PEOPLE":case"GET_PROFILE_DETAIL_PEOPLE":case"CREATE_PEOPLE_INVITE":return{...e,loading:!0};case"GET_PERSON_ERROR":case"DELETE_PEOPLE_ERROR":case"GET_PEOPLE_ERROR":case"GET_AD_ACCOUNTS_PEOPLE_ERROR":case"GET_PROFILE_DETAIL_PEOPLE_ERROR":case"CREATE_PEOPLE_INVITE_ERROR":return{...e,error:t.error,loading:!1};case"DELETE_PEOPLE_SUCCESS":case"CREATE_PEOPLE_INVITE_SUCCESS":return{...e,loading:!1,error:void 0};case"GET_PERSON_SUCCESS":case"GET_PEOPLE_SUCCESS":case"GET_AD_ACCOUNTS_PEOPLE_SUCCESS":case"GET_PROFILE_DETAIL_PEOPLE_SUCCESS":return{...e,loading:!1,data:{...e.data,...null!==(n=null===(i=t.payload)||void 0===i?void 0:i.data)&&void 0!==n?n:{}},error:void 0};case"CLEAR_ERROR":return{...e,error:void 0};case"UPDATE_PEOPLE_TOTAL_COUNT":return{...e,loading:!1,totalCount:null===(r=t.payload)||void 0===r?void 0:r.totalCount};default:return e}},X={data:{},loading:!1,error:null},J=(e=X,t)=>{var n,i,r;switch(t.type){case"GET_ALL_PROFILES":case"GET_DASHBOARD_PROFILES":case"GET_PROFILE_META":case"GET_PERSON_PROFILES":return{...e,loading:!0,error:null};case"GET_ALL_PROFILES_ERROR":case"GET_DASHBOARD_PROFILES_ERROR":case"GET_PERSON_PROFILES_ERROR":case"GET_PROFILE_META_ERROR":return{...e,loading:!1,error:t.error};case"GET_ALL_PROFILES_SUCCESS":case"GET_PROFILE_META_SUCCESS":case"GET_PERSON_PROFILES_SUCCESS":return{...e,loading:!1,error:null,data:{...e.data,...null===(n=t.payload)||void 0===n?void 0:n.data}};case"GET_DASHBOARD_PROFILES_SUCCESS":return{...e,loading:!1,error:null,data:{...e.data,...null===(i=t.payload)||void 0===i?void 0:i.data},dashboardVisibleData:null===(r=t.payload)||void 0===r?void 0:r.ids};default:return e}},Q={visibleData:[],page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:""},ee=(e=Q,t)=>{switch(t.type){case"GET_PEOPLE_SUCCESS":case"GET_PEOPLE_INVITES_SUCCESS":case"GET_PARTNERS_INVITES_SUCCESS":case"GET_PARTNERS_REQUESTS_SUCCESS":case"GET_PARTNERS_SUCCESS":case"GET_MULTIPLE_AD_ACCOUNTS_SUCCESS":case"GET_PERSON_ASSETS_SUCCESS":case"GET_PARTNER_ASSETS_SUCCESS":case"GET_PERSON_PROFILES_SUCCESS":case"GET_AD_ACCOUNTS_PARTNERS_SUCCESS":case"GET_AD_ACCOUNTS_PEOPLE_SUCCESS":case"GET_PROFILE_DETAIL_PEOPLE_SUCCESS":case"GET_PROFILE_DETAIL_PARTNERS_SUCCESS":case"GET_ALL_PROFILES_SUCCESS":case"GET_PENDING_PEOPLE_SUCCESS":case"GET_PENDING_PARTNERS_SUCCESS":case"GET_AOAA_REQUESTS_SUCCESS":case"GET_HISTORY_SUCCESS":case"GET_MANAGED_CLIENTS_SUCCESS":{var n;const{updateDataOnly:i,data:r,ids:a,...o}=null!==(n=t.payload)&&void 0!==n?n:{};return i?e:{...e,visibleData:a,...o}}case"SET_ROUTER_PARAMS":return Q;default:return e}},te={loading:!1,error:void 0,data:[]},ne=(e=te,t)=>{var n,i;switch(t.type){case"GET_VIEWER_INVITES":return{...e,loading:!0};case"GET_VIEWER_INVITES_ERROR":return{...e,loading:!1,error:t.error};case"GET_VIEWER_INVITES_SUCCESS":return{...e,loading:!1,data:null!==(n=null===(i=t.payload)||void 0===i?void 0:i.data)&&void 0!==n?n:[]};default:return e}};var ie=n(14890);const re=(0,ie.combineReducers)({people:$,invitesOrRequests:z,partners:W,employers:R,adAccounts:S,actingUser:b,table:ee,history:L,inviteOrRequestData:F,dashboardRecentlyAdded:k,pending:q,aoaaRequests:I,assetGroups:E,profiles:J,viewerInvites:ne,navigation:G,managedClients:Z}),ae={currentStep:{index:0,canProceed:!1},businessGoals:[],businessName:"",businessVertical:"",businessVerticalOther:"",collageVerticalFirstSet:"DEFAULT",collageVerticalSecondSet:"DEFAULT",collageImagesOnScreen:"firstSet",numberEmployees:"",hasWebsite:"",website:"",country:"",locale:"",advertisingIntent:null,accountType:"",ecommercePlatforms:[],firstName:"",lastName:"",fullName:"",email:"",countryCode:"",phoneNumber:"",worksWithAgency:null,leadId:"",stepperCount:1,whatsAppConsent:!1,calendlyUpsellEligible:!1,shouldShowCalendlyModal:!1,inAdCreditsCalendlyExp:!1};function oe(e=ae,t){switch(t.type){case"UPDATE_BIZ_NUX_FIELD":return{...e,[t.field]:t.value,currentStep:{...e.currentStep}};case"INCREMENT_BIZ_NUX_STEP":return{...e,currentStep:{...e.currentStep,index:e.currentStep.index+t.increment}};case"DECREMENT_BIZ_NUX_STEP":return{...e,currentStep:{...e.currentStep,index:e.currentStep.index-t.decrement}};case"UPDATE_BIZ_NUX_CAN_PROCEED":return{...e,currentStep:{...e.currentStep,canProceed:t.value}};default:return e}}const se={experience:void 0,newPin:void 0,originalPin:void 0,shouldOpenModal:!1},le=(e=se,t)=>{if("OPEN_CHANGE_MODAL"===t.type){const{experience:n,newPin:i,originalPin:r,showChangeBoardModal:a}=t.payload;if(i)return{...e,experience:n,newPin:i,originalPin:r,shouldOpenModal:a}}else{if("CLOSE_CHANGE_MODAL"===t.type){const{showChangeBoardModal:n}=t.payload;return{...e,shouldOpenModal:n}}if("CLEAR_BOARD_EDU_EXPERIENCE"===t.type){var n;const{experience:i}=t.payload;if((null===(n=e.experience)||void 0===n?void 0:n.id)===i.id)return{...e,experience:void 0}}}return e},de=(0,o.Z)("contactrequests",((e={},t)=>{switch(t.type){case c.zP:const{payload:{normalizedResponse:n,resource:i}}=t;return"ContactRequestsResource"===i&&n?{...n.entities.contactrequests}:e;case"UPDATE_CONTACT_REQUEST_STATUS":const{contactRequestId:r,hasDeclined:a,hasBlocked:o}=t.payload;return{...e,[r]:{...e[r],hasDeclined:a,hasBlocked:o}};case"REMOVE_CONTACT_REQUESTS":const{contactRequestIds:s}=t.payload;return Object.keys(e).reduce(((t,n)=>(s.includes(n)||(t[n]=e[n]),t)),{});default:return e}})),ce={};function ue(e=ce,t){if("SEARCH_QUERY_STARTED"===t.type){const{query:n}=t.payload;if(!e[n]||"valid"===e[n].status){const t=e[n]&&e[n].pinIds||[];return{...e,[n]:{...e[n],status:"valid",pinIds:t}}}}else if("SEARCH_PIN_CLOSEUP_VIEWED"===t.type){const{pinId:n,query:i}=t.payload;if(e[i]&&"valid"===e[i].status){const t=e[i].pinIds||[];return{...e,[i]:{...e[i],pinIds:t.concat(n)}}}}else if("SEARCH_QUERY_INVALIDATED"===t.type)return{...e,[t.payload.query]:{status:"invalid"}};return e}const pe=e=>e||[],_e={BaseSearchResource:e=>e?e.results:[],BoardFeedResource:pe,BoardSectionPinsResource:pe,BoardContentRecommendationResource:pe,TodayArticleFeedResource:e=>Array.isArray(e)?e.reduce(((e,t)=>{if("story"===t.type)if(t.user){const n={...t},{user:i}=n;n.user=i.id,e.push(n)}else e.push(t);return e}),[]):e||[],TodayTabResource:pe},he=(e={},t)=>{if(t.type===c.zP||t.type===c.aW){const{resource:n}=t.payload,i=t.payload.response.resource_response.data;if(n in _e){const t=_e[n](i)||[],r={...e};return t.forEach((e=>{"story"===e.type&&(r[e.id]=e)})),r}}return e};var me=n(618446),ge=n.n(me),fe=n(682492),ve=n.n(fe);const ye=(e,t)=>{const n={...ve()({},e,t)};return ge()(e,n)?e:n},xe={};const be=function(e=xe,t){if(t.type===c.zP||t.type===c.aW){const{resource:n}=t.payload,i=t.payload.response.resource_response.data;if("AggregatedActivityFeedResource"===n||"DidItUserFeedResource"===n){const t=(i||[]).reduce(((t,n)=>(t[n.id]=ye(e[n.id],n),t)),{});return{...e,...t}}if(("DidItActivityResource"===n||"DidItUserPinActivityResource"===n)&&i){const t=i;return{...e,[t.id]:ye(e[t.id],t)}}if("NewsHubDetailsResource"===n&&i&&i.length>0&&i[0].content_items){const t={};return i.forEach((e=>{e.content_items.forEach((e=>{"userdiditdata"===(e.content_object&&e.content_object.type)&&(t[e.content_object.id]=e.content_object)}))})),{...e,...t}}if("UnifiedCommentsResource"===n&&i&&i.length>0){const t=i.filter((e=>"userdiditdata"===e.type)).reduce(((t,n)=>(t[n.id]=ye(e[n.id],n),t)),{});return{...e,...t}}if("UnifiedCommentsPreviewResource"===n&&i&&i.length>0){const t=i[0].user_did_it_data,n=t?{[t.id]:ye(e[t.id],t)}:{};return{...e,...n}}}else{if("USER_DID_IT_DATA_CREATE"===t.type){const{payload:{user_did_it_data:n}}=t;return{...e,[n.id]:n}}if("USER_DID_IT_DATA_UPDATE"===t.type){const{payload:{user_did_it_data:n}}=t;return{...e,[n.id]:n}}if("USER_DID_IT_DATA_DELETE"===t.type){const{payload:{id:n}}=t,i={...e};return delete i[n],i}if("USER_DID_IT_DATA_UPDATE_COMMENT_COUNT"===t.type){var n;const{payload:{id:i,increment:r}}=t,a={comment_count:(null!==(n=e[i].comment_count)&&void 0!==n?n:0)+r};return{...e,[i]:ye(e[i],a)}}if("USER_DID_IT_DATA_LIKE_TOGGLED"===t.type){const{payload:{id:n,liked_by_me:i}}=t;if(e[n].like_count||0===e[n].like_count){const t=e[n].like_count,r=i?t+1:t-1;return{...e,[n]:ye(e[n],{liked_by_me:i,like_count:r})}}}else if("USER_DID_IT_DATA_HELPFUL_TOGGLED"===t.type){const{payload:{id:n,marked_helpful_by_me:i}}=t,r=e[n],a=r.helpful_count||0,o=i?a+1:a-1,s={...r,marked_helpful_by_me:i,helpful_count:o};return{...e,[n]:s}}}return e},we=(e={},t)=>{if(t.type===c.zP||t.type===c.aW){const{payload:{response:n,resource:i}}=t;if("ExploreTopicsResource"===i){const t=(n.resource_response.data||[]).filter((e=>"commerce"!==e.category_key));return{...e,sections:t}}return e}return e};var Se=n(422946);const Te=(e={},t)=>{if("SET_FLASHLIGHT_CROP_SOURCE"===t.type){const{payload:{cropSource:n}}=t;return{...e,cropSource:n}}return e};var Ie=n(959698);const Pe={adsNotifications:{data:[],error:null,isLoading:!1,isLoaded:!1,lastCallParams:null}};function Ee(e=Pe,t){switch(t.type){case Ie.pl:case Ie.as:case Ie.Nq:return{...e,adsNotifications:{...e.adsNotifications,...t.payload}};default:return e}}const Ae=(e={activeTabBoardId:"",activeTabIndex:0},t)=>{if("SET_ACTIVE_HOMEFEED_TAB"===t.type){const{payload:{boardId:n,index:i}}=t;return{...e,activeTabBoardId:n,activeTabIndex:i}}return e};function ke(e=Object.freeze({}),t){switch(t.type){case"SHOW_TOAST_CONTACT_REQUEST_UNDO":return{...e,showToastForContactRequest:t.payload.contactRequestId};case"SHOW_BLOCK_UNBLOCK_MODAL_CONTACT_REQUEST":const n={contactRequestId:t.payload.contactRequestId,modalAction:t.payload.modalAction};return{...e,blockModalContactRequest:n};default:return e}}var Ce=n(871144);function Re(e={},t){if(t.type===c.zP||t.type===c.aW){const{resource:n}=t.payload,i=t.payload.response.resource_response.data;if("BaseSearchResource"===n){const t=(i||{}).results||[],n={...e};return t.forEach((e=>{"module"===e.type&&(n[e.id]=e)})),n}}return e}function je(e=null,t){if("MOST_RECENT_BOARD"===t.type){const{id:n,name:i,url:r}=t.payload;return{...e,id:n,name:i,url:r}}return e}const De=(0,o.Z)("notifications",((e={},t)=>{if(t.type===c.zP||t.type===c.aW){const{normalizedResponse:e}=t.payload;e&&e.entities&&e.entities.notifications&&e.entities.pins&&(({notifications:e,pins:t})=>{Object.keys(e).forEach((n=>{const i=e[n];i.content_items&&i.content_items.forEach((e=>{if(e.content_object){const{id:n,schema:i}=e.content_object;"pin"===i&&(e.trackingParams=t[n]?t[n].tracking_params:void 0)}}))}))})(e.entities)}return e})),Oe={dirtyFields:[],description:"",link:"",title:"",board:null,descriptionError:null,linkError:null,titleError:null},Ne=(e=Oe,t)=>{switch(t.type){case"BATCH_PIN_EDIT_MODE_SET_DESCRIPTION":{const{description:n}=t.payload;return{...e,description:n}}case"BATCH_PIN_EDIT_MODE_SET_LINK":{const{link:n}=t.payload;return{...e,link:n}}case"BATCH_PIN_EDIT_MODE_SET_TITLE":{const{title:n}=t.payload;return{...e,title:n}}case"BATCH_PIN_EDIT_MODE_SET_BOARD":{const{board:n}=t.payload;return{...e,board:{...n}}}case"BATCH_PIN_EDIT_MODE_ADD_DIRTY_FIELD":{const{field:n}=t.payload;return{...e,dirtyFields:[...e.dirtyFields,n]}}case"BATCH_PIN_EDIT_MODE_SET_DESCRIPTION_ERROR":{const{descriptionError:n}=t.payload;return{...e,descriptionError:n}}case"BATCH_PIN_EDIT_MODE_SET_LINK_ERROR":{const{linkError:n}=t.payload;return{...e,linkError:n}}case"BATCH_PIN_EDIT_MODE_SET_TITLE_ERROR":{const{titleError:n}=t.payload;return{...e,titleError:n}}case"BATCH_PIN_EDIT_MODE_RESET_ALL_FIELDS":return{...e,...Oe};default:return e}};var Le=n(299295);const Ue={altText:null,altTextError:null,apiError:null,apiErrorCode:null,boardError:null,interestTags:[],isAdIneligible:!1,isCommentsAllowed:!0,isShoppingRecAllowed:!0,lastEditedTime:null,lastSavedTime:null,mediaError:null,mode:"create",pinId:null,pinItemIds:[],pinItemIndex:-1,pinIsAdsOnly:!1,pinItemShareable:!0,publishingStatus:"notAttempted",publishOption:"publish-immediately",scheduledPin:null,scheduledDate:null,scheduledDateError:null,scheduledTime:null,scheduledTimeError:null,selectedItem:null,status:"created",storyPin:null,storyPinDraftId:null,storyPinMetadata:null,storyPinUploadManager:null,storyPinSelectedPinItemIds:[],type:"single",uploadStartTime:null,urlCreationSource:null,view:"upload",websiteLink:"",websiteLinkError:null,websiteMedia:[],websiteDefaultImageUrl:null,createMethod:null},Fe=(e=Ue,t)=>{switch(t.type){case"PIN_BUILDER_ADD_PIN_DRAFT":case"PIN_DRAFT_UPDATE_DATA":{const{pinDraft:n}=t.payload;return{...e,...n}}case"PIN_BUILDER_REMOVE_UPLOAD_DRAFT_FLAG":return{...e,isUploadDraft:void 0};case"PIN_DRAFT_ADD_PIN_ITEM":{const{pinItemId:n,options:i}=t.payload,r=[...e.pinItemIds,n];return{...e,pinItemIds:[...e.pinItemIds,n],pinItemIndex:i&&i.saveIndex?e.pinItemIndex:e.pinItemIds.length,type:r.length>1&&"story"!==e.type?"carousel":e.type}}case"PIN_DRAFT_ADD_STORY_PIN_ITEM":{const{pinItemId:n,options:i}=t.payload,r=[...e.pinItemIds,n],a=i&&i.saveIndex?e.pinItemIndex:e.pinItemIds.length;return{...e,pinItemIds:r,pinItemIndex:a,storyPinSelectedPinItemIds:[r[a]]}}case"PIN_DRAFT_REMOVE_PIN_ITEM":{const{pinItemId:n}=t.payload,i=e.pinItemIds.findIndex((e=>e===n)),r=e.pinItemIds.filter((e=>e!==n)),a=e.pinItemIndex<=i?Math.min(e.pinItemIndex,r.length-1):e.pinItemIndex-1,o=a>=0?[r[a]]:[];return{...e,pinItemIds:r,pinItemIndex:a,storyPinSelectedPinItemIds:o,type:r.length<=1&&"story"!==e.type?"single":e.type}}case"PIN_DRAFT_SET_PIN_ID":{const{pinId:n}=t.payload;return{...e,pinId:n}}case"PIN_DRAFT_SET_ADS_ONLY_STATUS":{const{pinIsAdsOnly:n}=t.payload;return{...e,pinIsAdsOnly:n}}case"PIN_DRAFT_SET_SCHEDULED_PIN":{const{scheduledPin:n}=t.payload;return{...e,scheduledPin:n}}case"PIN_DRAFT_SET_STORY_PIN":{const{storyPin:n}=t.payload;return{...e,storyPin:n}}case"PIN_DRAFT_SET_STORY_PIN_DRAFT_ID":{const{storyPinDraftId:n}=t.payload;return{...e,storyPinDraftId:n}}case"PIN_DRAFT_UPDATE_STORY_PIN_METADATA":{const{storyPinMetadata:n}=t.payload;return{...e,storyPinMetadata:{...e.storyPinMetadata,...n}}}case"PIN_DRAFT_SET_STORY_PIN_SELECTED_PIN_ITEM_IDS":{const{pinItemIds:n}=t.payload;return{...e,storyPinSelectedPinItemIds:n}}case"PIN_DRAFT_RESET_STORY_PIN_SELECTED_PIN_ITEM_IDS":return{...e,storyPinSelectedPinItemIds:[e.pinItemIds[e.pinItemIndex]]};case"PIN_DRAFT_SET_IS_COMMENTS_ALLOWED":{const{isCommentsAllowed:n}=t.payload;return{...e,isCommentsAllowed:n}}case"PIN_DRAFT_SET_IS_SHOPPING_REC_ALLOWED":{const{isShoppingRecAllowed:n}=t.payload;return{...e,isShoppingRecAllowed:n}}case"PIN_DRAFT_SET_PIN_ITEM_INDEX":{const{pinItemIndex:n}=t.payload;return{...e,pinItemIndex:n}}case"PIN_DRAFT_SET_PIN_ITEM_SHAREABLE":{const{pinItemShareable:n}=t.payload;return{...e,pinItemShareable:n}}case"PIN_DRAFT_SET_URL_CREATION_SOURCE":{const{urlCreationSource:n}=t.payload;return{...e,urlCreationSource:n}}case"PIN_DRAFT_SET_VIEW":{const{view:n}=t.payload;return{...e,view:n}}case"PIN_DRAFT_SET_CREATE_METHOD":{const{createMethod:n}=t.payload;return{...e,createMethod:n}}case"PIN_DRAFT_SET_IS_AD_INELIGIBLE":{const{isAdIneligible:n}=t.payload;return{...e,isAdIneligible:n}}case"PIN_DRAFT_SET_PUBLISHING_STATUS":{const{publishingStatus:n}=t.payload;return{...e,publishingStatus:n}}case"PIN_DRAFT_SET_PUBLISH_OPTION":{const{publishOption:n}=t.payload;return{...e,publishOption:n}}case"PIN_DRAFT_SET_STATUS":{const{status:n}=t.payload;return{...e,status:n}}case"PIN_DRAFT_SET_SCHEDULED_DATE":{const{scheduledDate:n}=t.payload;return{...e,scheduledDate:n}}case"PIN_DRAFT_SET_SCHEDULED_DATE_ERROR":{const{scheduledDateError:n}=t.payload;return{...e,scheduledDateError:n}}case"PIN_DRAFT_SET_SCHEDULED_TIME":{const{scheduledTime:n}=t.payload;return{...e,scheduledTime:n}}case"PIN_DRAFT_SET_SCHEDULED_TIME_ERROR":{const{scheduledTimeError:n}=t.payload;return{...e,scheduledTimeError:n}}case"PIN_DRAFT_SET_MEDIA_ERROR":{const{mediaError:n}=t.payload;return{...e,mediaError:n}}case"PIN_DRAFT_SET_LAST_EDITED_TIME":{const{lastEditedTime:n}=t.payload;return{...e,lastEditedTime:n}}case"PIN_DRAFT_SET_LAST_SAVED_TIME":{const{lastSavedTime:n}=t.payload;return{...e,lastSavedTime:n}}case"PIN_DRAFT_SET_WEBSITE_LINK":{const{websiteLink:n,error:i,websiteDefaultImageUrl:r}=t.payload;return{...e,websiteLink:n,websiteLinkError:i,websiteDefaultImageUrl:r}}case"PIN_DRAFT_SET_SELECTED_ITEM":const{selectedItem:n}=t.payload;return{...e,selectedItem:{...n},boardError:null};case"PIN_DRAFT_SET_UPLOAD_START_TIME":const{uploadStartTime:i}=t.payload;return{...e,uploadStartTime:i};case"PIN_DRAFT_SET_BOARD_ERROR":const{boardError:r}=t.payload;return{...e,boardError:r};case"PIN_DRAFT_ADD_WEBSITE_MEDIA":{const{media:n}=t.payload;return{...e,websiteMedia:[...e.websiteMedia,n]}}case"PIN_DRAFT_REMOVE_WEBSITE_MEDIA":{const{mediaUrl:n}=t.payload;return{...e,websiteMedia:e.websiteMedia.filter((e=>e.src!==n))}}case"PIN_DRAFT_CLEAR_WEBSITE_MEDIA":return{...e,websiteMedia:[]};case"PIN_DRAFT_SET_PIN_ITEM_IDS":return{...e,pinItemIds:t.payload.pinItemIds};case"PIN_DRAFT_SET_API_ERROR":return{...e,apiError:t.payload.apiError,apiErrorCode:t.payload.apiErrorCode};case"PIN_DRAFT_ADD_INTEREST_TAG":{const{tag:n}=t.payload;return{...e,interestTags:[...e.interestTags,n]}}case"PIN_DRAFT_REMOVE_INTEREST_TAG":{const{id:n}=t.payload;return{...e,interestTags:[...e.interestTags.filter((e=>e.id!==n))]}}case"PIN_DRAFT_CLEAR_INTEREST_TAGS":return{...e,interestTags:[]};case"PIN_DRAFT_SET_STORY_PIN_UPLOAD_MANAGER":{const{uploadManager:n}=t.payload;return{...e,storyPinUploadManager:n}}case"PIN_DRAFT_SET_ALT_TEXT":{const{altText:n}=t.payload;return{...e,altText:n}}case"PIN_DRAFT_SET_ALT_TEXT_ERROR":{const{altTextError:n}=t.payload;return{...e,altTextError:n}}case"STORY_PIN_ITEM_ADD_BLOCK":case"STORY_PIN_ITEM_BLOCK_UPDATE_EDITS":case"STORY_PIN_ITEM_BLOCK_UPDATE_MEDIA":case"STORY_PIN_ITEM_REMOVE_BLOCK":case"STORY_PIN_ITEM_REORDER_BLOCKS":case"STORY_PIN_ITEM_SET_BACKGROUND_COLOR":case"STORY_PIN_ITEM_SET_LAYOUT":case"STORY_PIN_ITEM_UPDATE_BLOCK":case"STORY_PIN_ITEM_UPDATE_DATA":return{...e,lastEditedTime:new Date,status:Le.qm.includes(e.status)?e.status:"edited"};default:return e}},Me=(e={},t)=>{switch(t.type){case"PIN_BUILDER_DELETE_PIN_DRAFT":{const{pinDraftId:n}=t.payload,i={...e};return delete i[n],i}case"PIN_BUILDER_ADD_PIN_DRAFT":case"PIN_BUILDER_REMOVE_UPLOAD_DRAFT_FLAG":case"PIN_DRAFT_ADD_PIN_ITEM":case"PIN_DRAFT_ADD_STORY_PIN_ITEM":case"PIN_DRAFT_ADD_WEBSITE_MEDIA":case"PIN_DRAFT_CLEAR_WEBSITE_MEDIA":case"PIN_DRAFT_REMOVE_PIN_ITEM":case"PIN_DRAFT_REMOVE_WEBSITE_MEDIA":case"PIN_DRAFT_RESET_STORY_PIN_SELECTED_PIN_ITEM_IDS":case"PIN_DRAFT_SET_API_ERROR":case"PIN_DRAFT_SET_BOARD_ERROR":case"PIN_DRAFT_SET_INPUT_VIEW":case"PIN_DRAFT_SET_IS_AD_INELIGIBLE":case"PIN_DRAFT_SET_IS_COMMENTS_ALLOWED":case"PIN_DRAFT_SET_IS_SHOPPING_REC_ALLOWED":case"PIN_DRAFT_SET_LAST_EDITED_TIME":case"PIN_DRAFT_SET_LAST_SAVED_TIME":case"PIN_DRAFT_SET_MEDIA_ERROR":case"PIN_DRAFT_SET_MEDIA_VIEW":case"PIN_DRAFT_SET_PIN_ID":case"PIN_DRAFT_SET_PIN_ITEM_IDS":case"PIN_DRAFT_SET_PIN_ITEM_INDEX":case"PIN_DRAFT_SET_PIN_ITEM_SHAREABLE":case"PIN_DRAFT_SET_PUBLISHING_STATUS":case"PIN_DRAFT_SET_PUBLISH_OPTION":case"PIN_DRAFT_SET_SCHEDULED_DATE_ERROR":case"PIN_DRAFT_SET_SCHEDULED_DATE":case"PIN_DRAFT_SET_SCHEDULED_PIN":case"PIN_DRAFT_SET_SCHEDULED_TIME_ERROR":case"PIN_DRAFT_SET_SCHEDULED_TIME":case"PIN_DRAFT_SET_SELECTED_ITEM":case"PIN_DRAFT_SET_STATUS":case"PIN_DRAFT_SET_STORY_PIN":case"PIN_DRAFT_SET_STORY_PIN_DRAFT_ID":case"PIN_DRAFT_SET_STORY_PIN_SELECTED_PIN_ITEM_IDS":case"PIN_DRAFT_SET_UPLOAD_START_TIME":case"PIN_DRAFT_SET_URL_CREATION_SOURCE":case"PIN_DRAFT_SET_VIEW":case"PIN_DRAFT_SET_CREATE_METHOD":case"PIN_DRAFT_SET_WEBSITE_LINK":case"PIN_DRAFT_UPDATE_DATA":case"PIN_DRAFT_UPDATE_STORY_PIN_METADATA":case"PIN_DRAFT_ADD_INTEREST_TAG":case"PIN_DRAFT_REMOVE_INTEREST_TAG":case"PIN_DRAFT_CLEAR_INTEREST_TAGS":case"PIN_DRAFT_SET_STORY_PIN_UPLOAD_MANAGER":case"PIN_DRAFT_SET_ALT_TEXT":case"PIN_DRAFT_SET_ALT_TEXT_ERROR":case"PIN_DRAFT_SET_ADS_ONLY_STATUS":case"STORY_PIN_ITEM_ADD_BLOCK":case"STORY_PIN_ITEM_BLOCK_UPDATE_EDITS":case"STORY_PIN_ITEM_BLOCK_UPDATE_MEDIA":case"STORY_PIN_ITEM_REMOVE_BLOCK":case"STORY_PIN_ITEM_REORDER_BLOCKS":case"STORY_PIN_ITEM_SET_BACKGROUND_COLOR":case"STORY_PIN_ITEM_SET_LAYOUT":case"STORY_PIN_ITEM_UPDATE_BLOCK":case"STORY_PIN_ITEM_UPDATE_DATA":{const{pinDraftId:n}=t.payload;return{...e,[n]:Fe(e[n],t)}}case"PIN_DRAFT_CLEAR_STATE":return{};default:return e}};var ze=n(20064);const Be=(e={},t)=>{switch(t.type){case"PIN_DRAFT_ADD_PIN_ITEM":case"PIN_ITEM_ADD_PIN_TAG":case"PIN_ITEM_REMOVE_PIN_TAG":case"PIN_ITEM_SET_DESCRIPTION":case"PIN_ITEM_SET_DESCRIPTION_ERROR":case"PIN_ITEM_SET_IS_TAGGABLE":case"PIN_ITEM_SET_LINK_ERROR":case"PIN_ITEM_SET_LINK":case"PIN_ITEM_SET_MEDIA":case"PIN_ITEM_SET_SELECTED_PIN_TAG_ID":case"PIN_ITEM_SET_TAG_ERROR":case"PIN_ITEM_SET_TITLE":case"PIN_ITEM_SET_TITLE_ERROR":case"PIN_ITEM_UPDATE_MEDIA":case"PIN_ITEM_UPDATE_DATA":case"PIN_ITEM_SET_EDITED_IMAGE":const{pinItemId:n}=t.payload;return{...e,[n]:(0,ze.Z)(e[n],t)};default:return e}},Ze={id:null,link:"",linkError:null,pinTagKey:null,status:"created",taggedObjectIds:[],x:-1,y:-1},He=(e=Ze,t)=>{switch(t.type){case"PIN_ITEM_ADD_PIN_TAG":{const{pinTag:n}=t.payload;return{...e,...n}}case"PIN_ITEM_REMOVE_PIN_TAG":return{...e,status:"created"!==e.status?"deleted":e.status};case"PIN_TAG_ADD_TAGGED_OBJECT":{const{taggedObjectId:n}=t.payload;return{...e,taggedObjectIds:[...e.taggedObjectIds,n],status:"saved"===e.status?"edited":e.status}}case"PIN_TAG_REMOVE_TAGGED_OBJECT":{const{taggedObjectId:n}=t.payload;return{...e,taggedObjectIds:e.taggedObjectIds.filter((e=>e!==n)),status:"saved"===e.status?"edited":e.status}}case"PIN_TAG_SET_COORDINATES":{const{x:n,y:i}=t.payload;return{...e,x:n,y:i,status:"saved"===e.status?"edited":e.status}}case"PIN_TAG_SET_LINK":{const{link:n,error:i}=t.payload;return{...e,link:n,linkError:i}}case"PIN_TAG_SET_STATUS":{const{status:n}=t.payload;return{...e,status:n}}default:return e}},Ge=(e={},t)=>{switch(t.type){case"PIN_ITEM_ADD_PIN_TAG":case"PIN_ITEM_REMOVE_PIN_TAG":case"PIN_TAG_ADD_TAGGED_OBJECT":case"PIN_TAG_REMOVE_TAGGED_OBJECT":case"PIN_TAG_SET_COORDINATES":case"PIN_TAG_SET_LINK":case"PIN_TAG_SET_STATUS":const{pinTagId:n}=t.payload;return{...e,[n]:He(e[n],t)};default:return e}},Ve={edits:{left:0,scale:1,top:0,transform:{rotate:0,scaleX:1,scaleY:1}},error:null,media:null,text:"",type:"story_pin_paragraph_block"},We=(e=Ve,t)=>{switch(t.type){case"STORY_PIN_ITEM_ADD_BLOCK":case"STORY_PIN_ITEM_UPDATE_BLOCK":const{storyPinItemBlock:n}=t.payload;return{...e,...n};case"STORY_PIN_ITEM_BLOCK_SET_PLAYING":const{playing:i}=t.payload;return{...e,playing:i};case"STORY_PIN_ITEM_BLOCK_UPDATE_EDITS":const{edits:r}=t.payload;return{...e,edits:{...e.edits,...r}};case"STORY_PIN_ITEM_BLOCK_UPDATE_MEDIA":{const{media:n}=t.payload;return{...e,media:e.media?ve()({},e.media,n):null}}default:return e}},Ke=(e={},t)=>{switch(t.type){case"STORY_PIN_ITEM_BLOCK_SET_PLAYING":case"STORY_PIN_ITEM_BLOCK_UPDATE_EDITS":case"STORY_PIN_ITEM_BLOCK_UPDATE_MEDIA":case"STORY_PIN_ITEM_UPDATE_BLOCK":{const{blockId:n}=t.payload;return n in e?{...e,[n]:We(e[n],t)}:e}case"STORY_PIN_ITEM_ADD_BLOCK":{const{blockId:n}=t.payload;return{...e,[n]:We(e[n],t)}}case"STORY_PIN_ITEM_REMOVE_BLOCK":{const{blockId:n}=t.payload;if(!(n in e))return e;const i={...e};return delete i[n],i}default:return e}},qe={backgroundColor:"#ffffff",blockIds:[],canvasJson:null,coverImgSignature:"",description:"",descriptionError:null,dominantColors:[],isEditable:!0,layout:null,linkBlock:{text:"",srcUrl:"",canonicalUrl:"",imageSignature:"",imageUrl:"",isFetching:!1},linkError:null,media:null,selectedBlockId:null,signals:{},title:"",titleError:null},Ye=(e=qe,t)=>{switch(t.type){case"PIN_DRAFT_ADD_STORY_PIN_ITEM":case"STORY_PIN_ITEM_UPDATE_DATA":{const{pinItem:n}=t.payload;return{...e,...n}}case"STORY_PIN_ITEM_SET_DESCRIPTION":{const{description:n}=t.payload;return{...e,description:n}}case"STORY_PIN_ITEM_SET_DESCRIPTION_ERROR":{const{descriptionError:n}=t.payload;return{...e,descriptionError:n}}case"STORY_PIN_ITEM_UPDATE_LINK_BLOCK":{const{linkBlock:n}=t.payload;return{...e,linkBlock:{...e.linkBlock,...n}}}case"STORY_PIN_ITEM_SET_LINK_ERROR":{const{linkError:n}=t.payload;return{...e,linkError:n}}case"STORY_PIN_ITEM_SET_MEDIA":{const{media:n}=t.payload;return{...e,media:n,canvasJson:null}}case"STORY_PIN_ITEM_UPDATE_MEDIA":{const{media:n}=t.payload;return{...e,media:e.media?ve()({},e.media,n):null}}case"STORY_PIN_ITEM_SET_TITLE":{const{title:n}=t.payload;return{...e,title:n}}case"STORY_PIN_ITEM_SET_TITLE_ERROR":{const{titleError:n}=t.payload;return{...e,titleError:n}}case"STORY_PIN_ITEM_SET_BLOCK_IDS":{const{blockIds:n}=t.payload;return{...e,blockIds:n}}case"STORY_PIN_ITEM_SET_EDITED_IMAGE":{const{editedMedia:n,canvasJson:i}=t.payload;return{...e,media:n,canvasJson:i}}case"STORY_PIN_ITEM_SET_SELECTED_BLOCK_ID":{const{blockId:n}=t.payload;return{...e,selectedBlockId:n}}case"STORY_PIN_ITEM_SET_BACKGROUND_COLOR":{const{backgroundColor:n}=t.payload;return{...e,backgroundColor:n}}case"STORY_PIN_ITEM_SET_COVER_IMAGE_SIGNATURE":{const{coverImgSignature:n}=t.payload;return{...e,coverImgSignature:n}}case"STORY_PIN_ITEM_SET_LAYOUT":{const{layout:n}=t.payload;return{...e,layout:n}}case"STORY_PIN_ITEM_SET_DOMINANT_COLORS":{const{dominantColors:n}=t.payload;return{...e,dominantColors:n}}case"STORY_PIN_ITEM_ADD_BLOCK":{const{blockId:n,index:i}=t.payload,{blockIds:r}=e,a=[...r];return a.splice("number"==typeof i?i:r.length,0,n),{...e,blockIds:a}}case"STORY_PIN_ITEM_REMOVE_BLOCK":{const{blockId:n}=t.payload,{blockIds:i}=e;return{...e,blockIds:[...i.filter((e=>e!==n))]}}case"STORY_PIN_ITEM_REORDER_BLOCKS":{const{blockIds:n}=t.payload;return{...e,blockIds:n}}default:return e}},$e=(e={},t)=>{switch(t.type){case"PIN_DRAFT_ADD_STORY_PIN_ITEM":case"STORY_PIN_ITEM_ADD_BLOCK":case"STORY_PIN_ITEM_REMOVE_BLOCK":case"STORY_PIN_ITEM_REORDER_BLOCKS":case"STORY_PIN_ITEM_SET_BACKGROUND_COLOR":case"STORY_PIN_ITEM_SET_BLOCK_IDS":case"STORY_PIN_ITEM_SET_COVER_IMAGE_SIGNATURE":case"STORY_PIN_ITEM_SET_DESCRIPTION":case"STORY_PIN_ITEM_SET_DESCRIPTION_ERROR":case"STORY_PIN_ITEM_SET_DOMINANT_COLORS":case"STORY_PIN_ITEM_SET_EDITED_IMAGE":case"STORY_PIN_ITEM_SET_LAYOUT":case"STORY_PIN_ITEM_SET_LINK_ERROR":case"STORY_PIN_ITEM_SET_MEDIA":case"STORY_PIN_ITEM_SET_SELECTED_BLOCK_ID":case"STORY_PIN_ITEM_SET_TITLE":case"STORY_PIN_ITEM_SET_TITLE_ERROR":case"STORY_PIN_ITEM_UPDATE_DATA":case"STORY_PIN_ITEM_UPDATE_LINK_BLOCK":case"STORY_PIN_ITEM_UPDATE_MEDIA":const{pinItemId:n}=t.payload;return{...e,[n]:Ye(e[n],t)};default:return e}},Xe={id:null,link:"",media:null,status:"created",pin:null,type:null},Je=(e=Xe,t)=>{switch(t.type){case"PIN_TAG_ADD_TAGGED_OBJECT":const{taggedObject:n}=t.payload;return{...e,...n};case"PIN_TAG_REMOVE_TAGGED_OBJECT":return{...e,status:"created"!==e.status?"deleted":e.status};case"TAGGED_OBJECT_SET_STATUS":const{status:i}=t.payload;return{...e,status:i};default:return e}},Qe=(e={},t)=>{switch(t.type){case"PIN_TAG_ADD_TAGGED_OBJECT":case"PIN_TAG_REMOVE_TAGGED_OBJECT":case"TAGGED_OBJECT_SET_STATUS":const{taggedObjectId:n}=t.payload;return{...e,[n]:Je(e[n],t)};default:return e}};var et=n(829084);const tt=Object.freeze({assets:[],createdPinIds:[],fonts:[],layoutMode:0,pinDraftIdUploadStatusMap:{},pinDraftIds:[],selectedPinDraftIds:[],isBatchEditMode:!1,entryPoint:null,closeupImageSignature:null,pinEditorPinDraft:null,failureErrorLogged:!1,showDisabledPinCreationBanner:!1,showFeedbackModal:!1}),nt=(Object.freeze({...tt,batchEditModeFields:Oe,pinDrafts:{},pinItems:{},pinTags:{},storyPinItemBlocks:{},storyPinItems:{},taggedObjects:{}}),(0,ie.combineReducers)({assets:(e=tt.assets,t)=>{switch(t.type){case"PIN_BUILDER_ADD_ASSET":return[t.payload.asset,...e];default:return e}},batchEditModeFields:Ne,closeupImageSignature:(e=tt.closeupImageSignature,t)=>{switch(t.type){case"PIN_BUILDER_SET_CLOSEUP_IMAGE_SIGNATURE":{const{closeupImageSignature:e}=t.payload;return e}default:return e}},createdPinIds:(e=tt.createdPinIds,t)=>{switch(t.type){case"PIN_BUILDER_ADD_CREATED_PIN_ID":{const{pinId:n}=t.payload;return e.concat(n)}case"PIN_BUILDER_REMOVE_CREATED_PIN_ID":{const{pinId:n}=t.payload;return e.filter((e=>e!==n))}case"PIN_BUILDER_CLEAR_CREATED_PIN_IDS":return[];default:return e}},entryPoint:(e=tt.entryPoint,t)=>{switch(t.type){case"PIN_BUILDER_ENTRY_POINT":{const{entryPoint:e}=t.payload;return e}default:return e}},failureErrorLogged:(e=tt.failureErrorLogged,t)=>{switch(t.type){case"PIN_BUILDER_SET_FAILURE_ERROR_LOGGED":{const{failureErrorLogged:e}=t.payload;return e}default:return e}},fonts:(e=tt.fonts,t)=>{if(t.type===c.zP){const{resource:e}=t.payload,n=t.payload.response.resource_response.data;if("StoryPinFontsResource"===e){return((null==n?void 0:n.all)||[]).map(et.Z)}}return e},isBatchEditMode:(e=tt.isBatchEditMode,t)=>{switch(t.type){case"PIN_BUILDER_SET_BATCH_EDIT_MODE":{const{isBatchEditMode:e}=t.payload;return e}default:return e}},layoutMode:(e=tt.layoutMode,t)=>(t.type,e),pinDraftIds:(e=tt.pinDraftIds,t)=>{switch(t.type){case"PIN_BUILDER_ADD_PIN_DRAFT":{const{pinDraftId:n,options:i={}}=t.payload;if(i.insertBefore){const t=e.indexOf(i.insertBefore);if(t>=0){const i=[...e];return i.splice(t,0,n),i}}return[n,...e]}case"PIN_BUILDER_DELETE_PIN_DRAFT":case"PIN_BUILDER_REMOVE_PIN_DRAFT_ID":{const{pinDraftId:n}=t.payload;return[...e.filter((e=>e!==n))]}case"PIN_BUILDER_CLEAR_PIN_DRAFTS":return[];default:return e}},pinDraftIdUploadStatusMap:(e=tt.pinDraftIdUploadStatusMap,t)=>{switch(t.type){case"PIN_BUILDER_ADD_PIN_DRAFT_ITEM_UPLOAD":{const{pinDraftId:n,pinItemId:i,upload:r}=t.payload;return e[n]?{...e,[n]:{...e[n]||{items:{},status:"uploading"},items:{...e[n].items,[i]:r}}}:{...e,[n]:{items:{[i]:r},status:"uploading"}}}case"PIN_BUILDER_SET_PIN_DRAFT_UPLOAD_STATUS":{const{pinDraftId:n,status:i}=t.payload;return{...e,[n]:{...e[n]||{items:{},status:"uploading"},status:i}}}case"PIN_BUILDER_SET_PIN_ITEM_UPLOAD_STATUS":{const{pinDraftId:n,pinItemId:i,status:r}=t.payload;return{...e,[n]:{...e[n],items:{...e[n].items,[i]:{...e[n].items[i],status:r}}}}}case"PIN_BUILDER_SET_PIN_ITEM_UPLOAD_XHR":{const{pinDraftId:n,pinItemId:i,xhr:r}=t.payload;return{...e,[n]:{...e[n],items:{...e[n]&&"items"in e[n]&&{...e[n].items},[i]:{...e[n].items[i],xhr:r}}}}}case"PIN_BUILDER_REMOVE_PIN_ITEM_UPLOAD":{const{pinDraftId:n,pinItemId:i}=t.payload,r={...e[n].items};return delete r[i],{...e,[n]:{...e[n],items:r}}}case"PIN_BUILDER_REMOVE_PIN_DRAFT_UPLOAD":{const{pinDraftId:n}=t.payload,i={...e};return delete i[n],i}default:return e}},pinDrafts:Me,pinEditorPinDraft:(e=tt.pinEditorPinDraft,t)=>{if("PIN_EDITOR_SET_PIN_DRAFT"===t.type){const{payload:e}=t;return e.editedPinDraftId}return e},pinItems:Be,pinTags:Ge,selectedPinDraftIds:(e=tt.selectedPinDraftIds,t)=>{switch(t.type){case"PIN_BUILDER_SELECT_PIN_DRAFT":{const{pinDraftId:n}=t.payload;return[...e,n]}case"PIN_BUILDER_DESELECT_PIN_DRAFT":{const{pinDraftId:n}=t.payload;return e.filter((e=>e!==n))}case"PIN_BUILDER_CLEAR_SELECTED_PIN_DRAFTS":return[];default:return e}},showDisabledPinCreationBanner:(e=tt.showDisabledPinCreationBanner,t)=>{if("PIN_BUILDER_SHOW_DISABLE_PIN_CREATION_BANNER"===t.type){const{showDisabledPinCreationBanner:e}=t.payload;return e}return e},showFeedbackModal:(e=tt.showFeedbackModal,t)=>{if("PIN_BUILDER_SHOW_FEEDBACK_MODAL"===t.type){const{payload:e}=t;return e.showFeedbackModal}return e},storyPinItemBlocks:Ke,storyPinItems:$e,taggedObjects:Qe})),it=(e,t,n)=>({...e,[t]:{...e[t]||{},...n}}),rt=(e={},t)=>{switch(t.type){case c.zP:{const{payload:{resource:n,response:i,options:r}}=t;if("FindPinImagesResource"===n&&"pin_create"===(null==r?void 0:r.source)){const t={...i.resource_response.data};t.items=t.items.slice(0,50);const n=(null==r?void 0:r.url)||"";return it(e,n,t)}return e}case"PIN_BUILDER_LOADED_IMAGES":{const{payload:{loadedImages:n,scrapedWebsite:i}}=t;return it(e,i,{loadedImages:n})}case"UPDATE_PIN_BUILDER_INPUT":return{...e,...t.payload};default:return e}};function at(e=null,t){return"PIN_NAV_CONTEXT_CREATE"===t.type?{...e,...t.payload}:"PIN_NAV_CONTEXT_DELETE"===t.type?null:e}var ot=n(730236),st=n.n(ot),lt=n(224496),dt=n(784641);const ct=e=>e||[],ut=e=>e?e.reduce(((e,t)=>null!=t&&t.objects?e.concat(t.objects):e.concat([t].filter(Boolean))),[]):[],pt=e=>{if(e&&Array.isArray(e)){return e.reduce(((e,t)=>t.content_pin?e.concat(t.content_pin):e),[])}return[]},_t={ApiResource:e=>{if(e&&Array.isArray(e)){const t=[];return e.forEach((e=>{e.call_to_create_source_pin_id&&t.push(e)})),t}return[]},BaseSearchResource:e=>e?ut(e.results):[],BoardContentRecommendationResource:ct,BoardFeedResource:ct,BoardlessPinsResource:ct,BoardSectionPinsResource:ct,BoardShopCategoryFeedResource:ct,BoardShopSavedProductsFeedResource:ct,BrandCatalogFeedResource:ct,BusinessProfileUserPinsResource:ct,CategoryFeedResource:ct,ConversationRelatedPinsResource:ct,DomainFeedResource:ct,ExploreArticleResource:e=>e?e.objects.reduce(((e,t)=>e.concat(t.objects||[])),[]):[],ExploreArticleBlockPinResource:ct,FollowingFeedResource:ct,IdeaPinStelaResultsResource:ct,InterestResource:e=>e?e.results:[],LiveSessionProductsResource:e=>e?Object.values(e).reduce(((e,t)=>e.concat(t)),[]):[],NewsHubDetailsResource:e=>e?e.reduce(((e,t)=>t.content_items?e.concat(t.content_items.map((e=>e.content_object)).filter(Boolean)):e),[]):[],PinCatalogResource:ct,ProfileCoverFeedResource:ct,RelatedModulesResource:ut,RelatedPinFeedResource:ct,RelatedProductFeedResource:ct,RelatedStreamResource:ct,SearchResource:ct,SectionSuggestionsPinsResource:ct,ShoppingFeedModularizedResource:ut,StoreFrontFeedResource:ct,StoreFrontSearchResource:e=>e?e.results:[],TaggedObjectsResource:ut,TodayArticleFeedResource:e=>{if((0,dt.nx)(e)){return e.reduce(((e,t)=>{if(Array.isArray(t.objects)){const n=[];return t.objects.forEach((e=>{var t;"todayarticle"===e.type&&"pin"===(null===(t=e.content_pin)||void 0===t?void 0:t.type)?n.push(e.content_pin):"pin"===e.type&&n.push(e)})),e.concat(n)}return e}),[])}return e||[]},TodayTabInterestFeedResource:pt,TodayTabResource:pt,TopicFeedResource:ct,UserDiscoveredPinsResource:ct,UserHomefeedResource:ut,UserActivityPinsResource:ct,UserRecentActivityResource:ct,UserStoryPinsFeedResource:ct,UserPinsResource:ct,VisualLiveSearchResource:e=>e?e.results:[],VisualLiveSearchProductFeedResource:ct,VisualLinkVisualSearchResource:ct,VisualSearchFlashlightUnifiedResource:e=>e?e.results:[],ShoppingListFeedResource:ut,ShoppingListRecentlyViewedFeedResource:ct,StorefrontCategoriesResource:ct,StorefrontFeaturedResource:ct,StorefrontProductPinsResource:ct,BestPinsFeedAltResource:ct,StoryFeedResource:ut},ht=(e,t)=>{let n,i=e;switch(e){case"ApiResource":null!=t&&t.url.match(/\/v3\/call_to_create_pins\/([0-9]|[a-z]|[A-Z])+\/pins\//)&&(n=t.pin_id);break;case"BaseSearchResource":case"SearchResource":const e=t.query;"blp"===t.auth_lp_type?n=null:e&&(n=encodeURIComponent(e)),i="SearchResource";break;case"BrandCatalogFeedResource":n=t.pin;break;case"CategoryFeedResource":n=t.feed;break;case"DomainFeedResource":n=t.domain;break;case"ExploreArticleBlockPinResource":i="ExploreArticleResource",n=t.story_id;break;case"ExploreArticleResource":n=t.story_id;break;case"LiveSessionProductsResource":n=t.classId;break;case"NewsHubDetailsResource":n=t.news_id;break;case"RelatedModulesResource":case"RelatedPinFeedResource":case"RelatedProductFeedResource":n=t.pin;break;case"BestPinsFeedAltResource":case"TopicFeedResource":n=t.interest;break;case"ShoppingFeedModularizedResource":case"VisualSearchFlashlightUnifiedResource":case"BoardShopCategoryFeedResource":n=t.pin;break;case"TodayArticleFeedResource":n=t.id;break;case"StoryFeedResource":n=`${t.feed_type}-${t.request_params}`}return n?`${i}_${n.toLowerCase()}`:e},mt=(e,t,n=!1)=>{const i=st()({},e,t,n?(e,t)=>null===t?e:void 0:void 0);return ge()(e,i)?e:i},gt=(e,t)=>({...e,[t.id]:{...e[t.id]||{},...t}});function ft(e,t){switch(t.type){case"CHANGE_CAROUSEL_SLOT_INDEX":{const{id:n,index:i}=t.payload;return n===e.id&&e.carousel_data?{...e,carousel_data:{...e.carousel_data,index:i}}:e}case"SET_PIN_COMMENTS_DISABLED":{const{id:n,pinCommentsDisabled:i}=t.payload;return n===e.id?{...e,comments_disabled:i,is_eligible_for_aggregated_comments:!i}:e}case"PIN_SAVE":{const{boardId:n,localPinId:i,id:r,title:a,url:o}=t.payload;return r===e.id?{...e,savedInfo:{boardId:n,title:a,url:o,localPinId:i}}:e}case"PIN_UNSAVE":{const{id:n}=t.payload;if(n===e.id){const{savedInfo:t,...n}=e;return n}return e}case"PIN_SHOW_SUGGESTED_CREATOR_RECS":return t.payload.id===e.id?{...e,show_suggested_creator_recs:t.payload.value}:e;case"PIN_QUICK_SAVE":{const{pinId:n,boardId:i,localPinId:r,title:a,url:o}=t.payload;return n===e.id?{...e,savedInfo:{boardId:i,localPinId:r,title:a,url:o}}:e}case"PIN_SHOW_FEEDBACK":{const{id:n,value:i,text:r}=t.payload;return n===e.id?{...e,showFeedback:i,feedbackText:r}:e}case"PIN_UPDATE_COMMENT_COUNT":{const{id:n,increment:i}=t.payload;if(n===e.id&&e.aggregated_pin_data){const t={...e.aggregated_pin_data,comment_count:(e.aggregated_pin_data.comment_count||0)+i};return{...e,aggregated_pin_data:t}}return e}case"PIN_SHOW_UNDO_AND_FEEDBACK":{const{id:n,value:i,text:r,undoAction:a,undoActionOptions:o,undoText:s}=t.payload;return n===e.id?{...e,showFeedback:i,feedbackText:r,undoAction:a,undoActionOptions:o,undoText:s}:e}case"PIN_DID_IT":{const{id:n,value:i}=t.payload;if(n===e.id){const t=i?1:-1,n=(e.aggregated_pin_data||{}).did_it_data,r={...n,images_count:((null==n?void 0:n.images_count)||0)+t},a={...e.aggregated_pin_data,did_it_data:r};return{...e,aggregated_pin_data:a,done_by_me:i}}return e}case"PIN_FEEDBACK":{const{id:n,value:i}=t.payload;return n===e.id?{...e,feedback_status:i}:e}case"PIN_SHOW_FEEDBACK_OVERLAY":{const{id:n,value:i}=t.payload;return n===e.id?{...e,showFeedbackOverlay:i}:e}case"PIN_SHOW_AD_REASONS_MODAL":return t.payload.id===e.id?{...e,show_ad_reasons:t.payload.value}:e;case"APPROVE_PIN_SPONSORSHIP":{const{isApproved:i,pinId:r}=t.payload;var n;return r===e.id?{...e,sponsorship:{...e.sponsorship,sponsor:i?null===(n=e.sponsorship)||void 0===n?void 0:n.sponsor:void 0,status:i?1:2}}:e}case"DELETE_PIN_SPONSORSHIP":{const{pinId:n,userId:s}=t.payload;if(n===e.id){var i,r,a,o;if(s===(null===(i=e.sponsorship)||void 0===i||null===(r=i.creator)||void 0===r?void 0:r.id))return{...e,sponsorship:void 0};if(s===(null===(a=e.sponsorship)||void 0===a||null===(o=a.sponsor)||void 0===o?void 0:o.id))return{...e,sponsorship:{...e.sponsorship,sponsor:void 0,status:3}}}return e}case"PIN_UPDATE_REACTION_COUNT":{const{id:n,increment:i,reactionType:r}=t.payload;if(n===e.id){const{reaction_counts:t={}}=e,n=t[r]||0,a=i?n+1:Math.max(n-1,0),o=i?r:0;if(0===a){const n={...e,reaction_counts:{...t},reaction_by_me:o};return delete n.reaction_counts[r],{...n}}return{...{...e,reaction_counts:{...t,[r]:a},reaction_by_me:o}}}return e}case"PIN_BETTER_SAVE":{const{pinId:n,boardId:i,localPin:r,localPinId:a,sectionId:o,title:s,type:l,url:d}=t.payload;return n===e.id?{...e,savedInfo:{boardId:i,localPinId:a||r&&r.id,sectionId:o,title:s,type:l,url:d}}:e}case"PIN_BETTER_UNSAVE":{const{pinId:n}=t.payload;if(n===e.id){const t={...e};return delete t.savedInfo,{...t}}return e}case"PIN_BETTER_SELECT_BOARD_OR_SECTION":{const{pinId:n,boardId:i,sectionId:r,title:a,type:o,url:s}=t.payload;return n===e.id?{...e,selectedItem:{boardId:i,sectionId:r,title:a,type:o,url:s}}:e}case"DELETE_PIN_MENTION":{const{pinId:n,userId:i}=t.payload;if(n===e.id){const{story_pin_data:t}=e;if(!t)return e;const{pages:n=[]}=t,r=n.map((e=>{const{blocks:t=[]}=e,n=t.map((e=>e.type===lt.h8.MENTION_STICKER&&e.user_id===i?{...e,is_removed:!0}:e));return{...e,blocks:n}}));return{...{...e,story_pin_data:{...t,pages:r}}}}return e}case"PIN_FAVORITE":{const{id:n,increment:i,value:r}=t.payload,{favorite_user_count:a=0}=e;return n===e.id?{...e,favorited_by_me:r,favorite_user_count:a+i}:e}case"PIN_NOTE_UPDATE":{const{pinId:n,pinNote:i}=t.payload;return n===e.id?{...e,pin_note:null!=i?i:void 0}:e}default:return e}}const vt=(0,o.Z)("pins",((e={},t)=>{switch(t.type){case c.zP:case c.aW:{const{options:n,resource:i,response:{resource_response:{data:r}}}=t.payload;if(i in _t){const t=_t[i](r)||[],a={...e};return t.forEach((t=>{if("pin"===t.type){const r=ht(i,n);let a={};e[t.id]&&(a=e[t.id].tracking_params_map||{}),a[r]=t.tracking_params||"",t.tracking_params_map=a}t.type&&"pin"!==t.type||(a[t.id]=mt(e[t.id],t,!0))})),a}if(("PinResource"===i||"PinPageResource"===i||"StoryPinEditResource"===i)&&r){const{preserve_component_state:t=!1}=null!=n?n:{},a=r||{},o=ht(i,n);let s={};return e[a.id]&&(s=e[a.id].tracking_params_map||{}),s[o]=a.tracking_params,a.tracking_params_map=s,{...e,[a.id]:t?mt(a,e[a.id]):mt(e[a.id],a)}}return"BoardTitleSuggestionsResource"===i?function(e,t){var n;if(t.type===c.zP&&null!==(n=t.payload.options)&&void 0!==n&&n.pin_id){const n=t.payload.options.pin_id,i=t.payload.response.resource_response.data.map((e=>e.title));return gt(e,{id:n,boardTitleSuggestions:i})}return e}(e,t):"BoardPickerBoardsResource"===i?function(e,t){var n;if(t.type===c.zP&&t.payload.normalizedResponse&&null!==(n=t.payload.options)&&void 0!==n&&n.pin_id){const n=t.payload.options.pin_id,{boards_shortlist:i}=t.payload.normalizedResponse.result;return gt(e,{id:n,boards_shortlist:i})}return e}(e,t):"PinInterestsResource"===i?function(e,t){var n;if(t.type===c.zP&&null!==(n=t.payload.options)&&void 0!==n&&n.pinId){const{options:n,response:i}=t.payload,r=i.resource_response.data;if(null!=r&&r.length)return gt(e,{id:n.pinId,related_interest_ids:r.map((e=>e.id))})}return e}(e,t):"StoryPinTaggedProductsResource"===i?function(e,t){if(t.type===c.zP){const{response:n}=t.payload,i=n.resource_response.data;if(null!=i&&i[0])return i.reduce(((e,t)=>gt(e,t)),e)}return e}(e,t):"LiveSessionProductsResource"===i?function(e,t){if(t.type===c.zP){const{options:n,response:i}=t.payload;return i.resource_response.data[null==n?void 0:n.classId].reduce(((e,t)=>gt(e,t)),e)}return e}(e,t):e}case c.AF:const{payload:a}=t;if("RepinResource"===a.resource){const{pin_id:t,board_id:n}=a.options,{id:i}=a.response.resource_response.data,{name:r,privacy:o,url:s}=a.response.resource_response.data.board;return gt(e,{id:t,pinned_to_board:{id:n,name:r,url:s,type:"board"},privacy:o,savedThisSession:i})}if("BoardResource"===a.resource&&a.options.initial_pins){const t=a.options.initial_pins[0],{name:n,id:i,url:r}=a.response.resource_response.data;return gt(e,{id:t,pinned_to_board:{id:i,name:n,url:r,type:"board"}})}return e;case"CHANGE_CAROUSEL_SLOT_INDEX":case"PIN_DID_IT":case"PIN_SAVE":case"PIN_SHOW_SUGGESTED_CREATOR_RECS":case"PIN_UNSAVE":case"PIN_UPDATE_COMMENT_COUNT":case"SET_PIN_COMMENTS_DISABLED":case"PIN_SHOW_FEEDBACK":case"PIN_SHOW_UNDO_AND_FEEDBACK":case"PIN_SHOW_FEEDBACK_OVERLAY":case"PIN_FEEDBACK":case"PIN_SHOW_AD_REASONS_MODAL":case"PIN_FAVORITE":case"PIN_UPDATE_REACTION_COUNT":{const{id:n}=t.payload;return e[n]?{...e,[n]:ft(e[n],t)}:e}case"PIN_BETTER_SAVE":{const{payload:{localPin:n,pinId:i}}=t,r={...e};return n&&"pin"===n.type&&(r[n.id]=n),e[i]&&(r[i]=ft(e[i],t)),r}case"APPROVE_PIN_SPONSORSHIP":case"DELETE_PIN_SPONSORSHIP":case"PIN_BETTER_UNSAVE":case"PIN_BETTER_SELECT_BOARD_OR_SECTION":case"PIN_QUICK_SAVE":case"DELETE_PIN_MENTION":case"PIN_NOTE_UPDATE":{const{pinId:n}=t.payload;return e[n]?{...e,[n]:ft(e[n],t)}:e}case"UPDATE_PINS_WITH_QUICKSAVE_REPIN":{const{payload:{newPin:n}}=t;return n&&"pin"===n.type?{...e,[n.id]:n}:e}case"PIN_REMOVE_USER_STORY_PIN_TAGGED_PRODUCTS":{var n,i,r;const{payload:{blocksIds:a,pinId:o}}=t,s={...e};let l=s[o];return l={...l,story_pin_data:{...l.story_pin_data,pages:null!==(n=null===(i=l.story_pin_data)||void 0===i||null===(r=i.pages)||void 0===r?void 0:r.map((e=>{var t;return e.blocks=null===(t=e.blocks)||void 0===t?void 0:t.map((e=>("story_pin_product_sticker_block"===e.type&&a.includes(e.pin_id)&&(e.is_removed=!0),e))),e})))&&void 0!==n?n:[]}},s[o]=l,s}case"NFT_FETCH_DATA":{const{payload:{data:n}}=t;return{...e,[n.id]:n}}case"UPDATE_PIN_REACTION_COUNT":return((e,t)=>{const{pinId:n,increment:i,reactionType:r}=t.payload,{reaction_counts:a={}}=e[n],o=a[r]||0,s=i?o+1:Math.max(o-1,0);var l;return 0===s?(null===(l=e[n].reaction_counts)||void 0===l||delete l[r],gt(e,{id:n,reaction_counts:{...a}})):gt(e,{id:n,reaction_counts:{...a,[r]:s}})})(e,t);case"PIN_DELETE":{const{pinId:n}=t.payload;return{...Object.keys(e).reduce(((t,i)=>(i!==n&&(t[i]=e[i]),t)),{})}}case"PIN_EDIT":{const{pinId:n,description:i,boardId:r,section:a,title:o}=t.payload;return gt(e,{id:n,closeup_user_note:i,board:r,section:a,title:o,unified_user_note:i})}case"PIN_UNDO_SAVE":{const{pinId:n}=t.payload;return gt(e,{id:n,savedThisSession:void 0})}case"ONE_TAP_SAVE":{const{boardId:n,localPinId:i,pinId:r}=t.payload;if(e[r])return gt(e,{id:r,savedInfo:{boardId:n,localPinId:i}})}return e;case"ONE_TAP_UNSAVE":{const{pinId:n}=t.payload,i=e[n];if(!i)return e;const{savedInfo:r,savedThisSession:a,...o}=i;return{...e,[n]:o}}case"PIN_IMPRESSIONS":return t.payload.forEach((t=>e[t.pinId].viewed=!0)),e;default:return e}})),yt=(e={},t)=>{if(t.type===c.zP){const{resource:n,options:i={},response:r}=t.payload;if("VisualSearchFlashlightUnifiedResource"===n){const t="related-products-unified",n=i.pin_id,{x:a,y:o,w:s,h:l}=i.crop,d=`${t}:${n}:${a}:${o}:${s}:${l}:${i.is_shopping}`,{data:c}=r.resource_response,u={[d]:{priceFilters:c.price_filters,domainFilters:c.domain_filters,categoryFilters:c.category_filters}};if(Object.values(u[d]).filter(Boolean).length)return{...e,...u}}}return e};var xt=n(934723),bt=n(709622);const wt=(e={},t)=>{if("SHOW_QUICK_PROMOTE_PIN_SELECTION"===t.type)return{...e,modal:"PIN_SELECTION_MODAL",firstStepModal:bt.Gl.PIN_SELECTION_MODAL,sterlingCreateCampaignUrl:t.payload.sterlingCreateCampaignUrl};if("SELECT_QUICK_PROMOTE_PIN"===t.type)return{...e,initialDataSet:!1,selected_pin:t.payload.pin,selectedProductGroup:null,selectedProductGroupImage:null};if("SELECT_QUICK_PROMOTE_PRODUCT_GROUP"===t.type)return{...e,initialDataSet:!1,selected_pin:void 0,selectedProductGroup:t.payload.productGroup,selectedProductGroupImage:t.payload.productGroupImage};if("SET_PRODUCT_PINS_AND_GROUPS_DATA"===t.type)return{...e,productPinsAndGroupsData:t.payload.productPinsAndGroupsData};if("SET_ACTIVE_FEED_ID"===t.type)return{...e,activeFeedId:t.payload.activeFeedId};if("SET_FEEDS_AND_PRODUCT_GROUPS_DATA"===t.type)return{...e,feedsAndProductGroupsData:t.payload.feedsAndProductGroupsData};if("QUICK_PROMOTE_CHANGE_ADVERTISER"===t.type&&t.payload){const n=t.payload.advertiserId,i=(e.advertisers||[]).find((e=>e.id===n));if(i)return{...e,advertiserCountry:parseInt(i.country,10),hasValidBillingProfile:i.has_valid_billing_profile||"VALID"===i.billing_profile_status,hasBusinessAddress:!!i.business_address,advertiserId:i.id,initialDataSet:!0}}if("QUICK_PROMOTE_SET_DATA"===t.type&&t.payload){const n=e.shouldOpenQuickPromoteOnSterling?e.sterlingAdvertiser&&e.sterlingAdvertiser.id:t.payload.advertiserId,i=t.payload.advertisers.find((e=>e.id===n))||e.advertiser;return{...e,advertiserCountry:t.payload.advertiserCountry,hasValidBillingProfile:t.payload.hasValidBillingProfile,hasBusinessAddress:t.payload.hasBusinessAddress,advertiserId:n,initialDataSet:!0,advertisers:t.payload.advertisers,advertiser:i,shouldRefreshBillingInfo:!!t.payload.shouldRefreshBillingInfo}}if("QUICK_PROMOTE_PIN_SELECT_PAGE_OPEN_FROM_STERLING"===t.type){let n={};const i=t.payload.sterlingAdvertiser||null;i&&(n={advertiserCountry:i.country,hasValidBillingProfile:i.has_valid_billing_profile,hasBusinessAddress:i.has_business_address,advertiserId:i.id});const r=i&&i.id||e.sterlingAdvertiser&&e.sterlingAdvertiser.id;return{...e,modal:"PIN_SELECTION_MODAL",isFromSterling:t.payload.isFromSterling,sterlingCreateCampaignUrl:(0,xt.Z)({advertiser:{id:null!=r?r:""},isAdsSite:!0,isAnalyticsSite:!1,isTrendsSite:!1,baseUrl:t.payload.baseUrl,adsUrl:null,isQuickPromote:!0}),initialDataSet:!0,firstStepModal:bt.Gl.PIN_SELECTION_MODAL,...n}}if("QUICK_PROMOTE_SHOULD_OPEN_ON_STERLING"===t.type){let n={};const i=t.payload.sterlingAdvertiser||null;return i&&(n={advertiserCountry:i.country,hasValidBillingProfile:i.has_valid_billing_profile,hasBusinessAddress:i.has_business_address,advertiserId:i.id,sterlingAdvertiser:i}),{...e,initialDataSet:!0,sterlingAdvertiser:i,shouldOpenQuickPromoteOnSterling:t.payload.shouldOpenQuickPromoteOnSterling,isFromSterling:t.payload.isFromSterling,...n}}if("QUICK_PROMOTE_UPDATE_FORM_VALUES"===t.type)return{...e,...t.payload};if("QUICK_PROMOTE_UPDATE_FORM_URL"===t.type){const{destinationUrl:n,error:i}=t.payload,r={...e.errors,destinationUrl:i};return{...e,errors:r,destinationUrl:n}}if("QUICK_PROMOTE_UPDATE_FORM_AD_TYPE"===t.type){const{adType:n,selectedOCPMTag:i,error:r}=t.payload,a={...e.errors,adType:r};return{...e,adType:n,selectedOCPMTag:i,errors:a}}if("QUICK_PROMOTE_UPDATE_FORM_BUDGET"===t.type){const{dailyBudget:n,error:i}=t.payload,r={...e.errors,dailyBudget:i};return{...e,dailyBudget:n,errors:r}}if("QUICK_PROMOTE_UPDATE_FORM_DURATION"===t.type){const{duration:n,error:i}=t.payload,r={...e.errors,duration:i};return{...e,duration:n,errors:r}}if("QUICK_PROMOTE_UPDATE_FORM_NAME"===t.type){const{name:n,error:i}=t.payload,r={...e.errors,name:i};return{...e,name:n,errors:r}}if("QUICK_PROMOTE_UPDATE_IS_ONGOING"===t.type){const{isOngoing:n,error:i}=t.payload,r={...e.errors,duration:i};return{...e,isOngoing:n,errors:r}}if("QUICK_PROMOTE_SET_INITIAL_FORM_DATA"===t.type)return{...e,dailyBudget:t.payload.budget,duration:t.payload.duration,isOngoing:!!t.payload.isOngoing,destinationUrl:t.payload.destinationUrl,adType:t.payload.adType,name:t.payload.name,locale:t.payload.locale};const n={...{isOngoing:void 0,dailyBudget:void 0,duration:void 0,destinationUrl:void 0,adType:void 0,name:void 0,ages:[],genders:[],interests:[],errors:{}},showShortDurationModal:void 0,showConversionOpenAdsManagerModal:void 0,sterlingCreateCampaignUrl:void 0,selected_pin:void 0,selectedProductGroup:void 0,selectedProductGroupImage:void 0,advertiserId:void 0,advertiserCountry:void 0,hasBusinessAddress:void 0,hasValidBillingProfile:void 0,isFormOnSubmitting:!1,isAutoTargeting:!0};if("QUICK_PROMOTE_RESET_DATA"===t.type)return{...e,...n,modal:void 0,firstStepModal:void 0,fromPickaPin:void 0,pin:void 0,productGroup:void 0,isOnlySetupBilling:!1};if("QUICK_PROMOTE_RESET_DATA_WHEN_RESELECT_PIN"===t.type)return{...e,isOngoing:!1,ages:[],genders:[],interests:[],errors:{}};if("QUICK_PROMOTE_SELECT_AUTO_TARGETING"===t.type)return{...e,isAutoTargeting:t.payload.isAutoTargeting};if("QUICK_PROMOTE_RESET_FIRST_STEP_MODAL"===t.type)return{...e,firstStepModal:void 0};if("QUICK_PROMOTE_RESET_FORM_WHEN_MOVE_BACK"===t.type)return{...e,...n};if("SHOW_QUICK_PROMOTE_MODAL_FROM_PIN_SELECTION"===t.type)return{...e,fromPickaPin:t.payload.isFromPickaPin,pin:t.payload.pin,selectedProductGroup:null,selectedProductGroupImage:null,productGroup:null,productGroupImage:null};if("SHOW_QUICK_PROMOTE_MODAL_FROM_PRODUCT_GROUP_SELECTION"===t.type)return{...e,fromPickaPin:t.payload.isFromPickaPin,pin:null,selected_pin:null,productGroup:t.payload.productGroup,productGroupImage:t.payload.productGroupImage};if("QUICK_PROMOTE_SET_PIN"===t.type)return{...e,pin:t.payload.pin};if("QUICK_PROMOTE_INIT_PAGE"===t.type)return{...e,firstStepModal:bt.hf};if("QUICK_PROMOTE_TARGETING_OPTIONS_SET"===t.type)return{...e,targetingOptions:t.payload.targeting};if("SHOW_QUICK_PROMOTE_BILLING_MODAL"===t.type)return{...e,firstStepModal:bt.Gl.BILLING_FORM,isOnlySetupBilling:!0};if("RESET_SHOW_QUICK_PROMOTE_BILLING_MODAL_FLAG"===t.type)return{...e,isOnlySetupBilling:!1};if("QUICK_PROMOTE_RESET_FORM_SUBMIT_STATUS"===t.type)return{...e,isFormOnSubmitting:!1};if("QUICK_PROMOTE_BILLING_INFO_REFRESHED"===t.type)return{...e,shouldRefreshBillingInfo:!1};if("SHOW_GDPR_MODAL"===t.type)return{...e,firstStepModal:bt.Gl.GDPR_MODAL};if("QUICK_PROMOTE_UPDATE_OCPM_ELIGIBLE_TAGS"===t.type)return{...e,oCPMEligibleTags:t.payload.oCPMEligibleTags};if("QUICK_PROMOTE_SET_SERVER_ERROR"===t.type)return{...e,serverError:t.payload.serverError};if("SHOW_PICK_A_PIN_SHEET"===t.type)return{...e,showPickPinSheet:t.payload.showPickPinSheet};if("SET_IN_SHOPPING_EXPERIMENT"===t.type)return{...e,inShoppingExperiment:t.payload.inShoppingExperiment};if("CLEAR_PIN_SHEET_SELECTED"===t.type)return{...e,selected_pin:null,selectedProductGroup:null,selectedProductGroupImage:null};if("QUICK_PROMOTE_PAGE_SET_DATA"===t.type){const{hasValidBillingProfile:n,hasBusinessAddress:i,advertiserId:r,advertiserCountry:a,advertisers:o,budget:s,destination_url:l,ad_type:d,duration:c,locale:u,name:p,pin:_,selectedProductGroup:h,selectedProductGroupImage:m,isFromSterling:g,isFromAnalytics:f,firstStepModal:v=bt.hf,isFromWww:y}=t.payload,x=o.find((e=>e.id===r))||e.advertiser;return{...e,hasValidBillingProfile:n,hasBusinessAddress:i,advertiserId:r,advertiserCountry:a,advertisers:o,advertiser:x,duration:c,locale:u,name:p,pin:_,selectedProductGroup:h,selectedProductGroupImage:m,isFromSterling:g,isFromAnalytics:f,isFromWww:y,dailyBudget:s,destinationUrl:l,firstStepModal:v,adType:d,isAutoTargeting:!0}}return e},St=(0,o.Z)("reactions",((e={},t)=>{switch(t.type){case c.zP:return"ReactionsResource"===t.payload.resource&&t.payload.normalizedResponse&&t.payload.normalizedResponse.entities&&t.payload.normalizedResponse.entities.reactions?{...e,...t.payload.normalizedResponse.entities.reactions}:e;case c.AF:const{options:n}=t.payload,{reaction_type:i,reaction_pin_id:r,user_id:a}=n;return((e,t)=>({...e,[t.id]:{...e[t.id],...t}}))(e,{user:a,id:`${r}:${a}`,reaction_type:i,type:"userreaction"});default:return e}})),Tt=[],It=(e=Tt,t)=>{if(t.type===c.zP||t.type===c.aW){const{resource:e}=t.payload,n=t.payload.response.resource_response.data;if("ScheduledPinsResource"===e)return n||[]}else{if("SCHEDULED_PIN_DELETE_COMPLETE"===t.type||"SCHEDULED_PIN_PUBLISH_COMPLETE"===t.type){const{payload:{scheduledPinId:n}}=t;return e.filter((e=>e.id!==n))}if("SCHEDULED_PIN_CREATE_COMPLETE"===t.type){const{payload:{scheduledPin:n}}=t,i=((e,t)=>{let n=0,i=e.length-1;for(;n<=i;){const r=n+Math.floor((i-n)/2);e[r].scheduled_ts>t.scheduled_ts?i=r-1:e[r].scheduled_ts<=t.scheduled_ts&&(n=r+1)}return n})(e,n),r=[...e];return r.splice(i,0,n),r}}return e};var Pt=n(508228);const Et={},At=new Set(["BoardResource","PinResource","RepinResource"]),kt=(e=Et,t)=>{switch(t.type){case"REPLACE_STATE":return{...e,...t.payload.session};case"SET_SESSION_DATA":return{...e,...t.payload};case"SET_LOGIN_SIGNUP_FROM":return t.payload.from!==e.loginSignupFrom?{...e,loginSignupFrom:t.payload.from}:e;case"SET_UNAUTH_SAVE_PIN_ID":return{...e,unauthSavePinId:t.payload.unauthSavePinId};case"DISMISS_UNAUTH_SAVE":return{...e,unauthSavePinId:void 0};case"COMPLETE_UNAUTH_SAVE_ACTION":return{...e,hasSavedUnauthPin:!0};case"AUTHENTICATE_USER":case"REGISTER_USER":return{...e,isAuthenticated:!0,userId:t.payload.user.id};case"SET_VIEWED_IMAGE":const{viewedImageSignature:n}=t.payload,{viewedImages:i}=e,r=(i||[]).slice(0,10),a=[n].concat(r.filter((e=>e!==n)));return{...e,viewedImages:a};case"SET_VIEWED_SHARED_PINS":return{...e,viewedSharedPins:t.payload.pins};case"SHOW_BIZ_NUX_HOMEFEED_LOADER":return{...e,isBizNuxHomefeedLoadShown:t.payload};case"SHOW_REPIN_ANIMATION":return{...e,isShowingRepinAnimation:!0};case"HIDE_REPIN_ANIMATION":return{...e,isShowingRepinAnimation:!1};case"SET_NUM_SIGNUP_STEPS":return{...e,numSignupSteps:t.payload.steps};case"HIDE_NAV_FOOTER":return{...e,shouldHideNavBar:!0};case"SHOW_NAV_FOOTER":return{...e,shouldHideNavBar:!1};case"BOARD_DELETE":case"BOARD_SECTION_DELETE":case"PIN_DELETE":return{...e,isProfilePinsStale:!0};case"CREATE_COMPLETE":const{resource:o}=t.payload;return At.has(o)?{...e,isProfilePinsStale:!0}:e;case"SET_OWN_PROFILE_PINS_REFRESH":return{...e,isProfilePinsStale:!1};case"DISMISS_UNAUTH_APP_UPSELL":return{...e,unauthInterstitialDismissed:!0};case"LOGGED_OUT_USER_INFO_FOUND":return{...e,loggedOutUserInfo:t.payload};case"LOGGED_OUT_USER_INFO_NOT_FOUND":return{...e,loggedOutUserInfo:null};case"SET_SHARE_ON_BOARD_PAGE":return{...e,boardPageSharingOptions:t.payload};case"SCROLL_TO_CLOSEUP_PIN":return{...e,scrollToCloseupPin:!0};case"STOP_SCROLL_TO_CLOSEUP_PIN":return{...e,scrollToCloseupPin:!1};case"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX":return e.isAuthenticated?{...e,firstHomeFeedRequestAfterNux:t.payload}:e;case"SET_LANDING_PAGE_TYPE":return{...e,landingPageType:t.payload};default:return e}},Ct=(e={},t)=>{if(t.type===c.zP||t.type===c.aW){const{payload:{response:n,resource:i}}=t;if("CountriesResource"===i)return{...e,countryOptions:n.resource_response.data.map((e=>({value:e.key,label:e.name})))};if("LocalesResource"===i)return{...e,localeOptions:n.resource_response.data.map((e=>({value:e.key,label:e.name})))};if("NewsSettingsResource"===i)return{...e,newsSettings:n.resource_response.data};if("PushSettingsResource"===i)return{...e,pushSettings:n.resource_response.data}}if("SETTINGS_CHANGE"===t.type){var n,i;const{id:r,value:a}=t.payload,{newsSettings:o,pushSettings:s}=e,l=null!==(n=null==o?void 0:o.map((e=>(e.options=e.options.map((e=>(e.id===r&&(e.value=a),e))),e))))&&void 0!==n?n:[],d=null!==(i=null==s?void 0:s.map((e=>(e.options=e.options.map((e=>(e.id===r&&(e.value=a),e))),e))))&&void 0!==i?i:[];return{...e,newsSettings:l,pushSettings:d}}return e},Rt=e=>e.trim().toLowerCase(),jt=(0,o.Z)("stories",((e={},t)=>{switch(t.type){case c.AF:case c.aW:if("BoardSectionResource"===t.payload.resource&&t.payload.normalizedResponse){var n;const{name:i,board_id:r}=null!==(n=t.payload.options)&&void 0!==n?n:{};return(({state:e,boardId:t,name:n})=>{const i=Rt(n);return Object.keys(e).reduce(((n,r)=>{const a=e[r];return{...n,[r]:"section_title_recommendations"===a.story_type&&a.objects.find((e=>"board"===e.schema&&e.id===t))?{...a,objects:a.objects.filter((e=>!("board_section_name_recommendation"===e.type&&Rt(e.name)===i)))}:a}}),{})})({state:e,boardId:r,name:i})}return e;case c.zP:if("BoardsFeedResource"===t.payload.resource){const n=t.payload.response.resource_response.data.filter((e=>"story"===e.type)).reduce(((e,t)=>({...e,[t.id]:t})),{});return{...e,...n}}return e;default:return e}})),Dt=(e={},t)=>{switch(t.type){case c.zP:case c.aW:{const{response:n,resource:i}=t.payload,r=n.resource_response.data;if("StoryPinDraftsResource"===i){const t=(r||[]).reduce(((e,t)=>(e[t.id]=t,e)),{});return{...e,...t}}return e}case"STORY_PIN_DATA_DELETE":{const{storyPinDataId:n}=t.payload,i={...e};return delete i[n],i}default:return e}},Ot=(0,o.Z)("todayArticles",((e={},t)=>(t.type,e))),Nt={},Lt=(e=Nt,t)=>{if(t.type===c.zP||t.type===c.aW){const{response:{resource_response:{data:n}},resource:i}=t.payload;if(["IdeasHubTodayArticlesResource","RelatedArticlesResource","TodayTabInterestFeedResource","TodayTabResource"].includes(i)&&n){const t=n.reduce(((e,t)=>((0,dt.Y_)(t)&&(e[t.id]=t),e)),{});return{...e,...t}}if("TodayArticleResource"===i&&null!=n&&n.id){const t={[n.id]:n};return{...e,...t}}if("TodayArticleFeedResource"===i&&n&&(0,dt.nx)(n)){const t=n.reduce(((e,t)=>(Array.isArray(t.objects)&&t.objects.forEach((t=>{(0,dt.Y_)(t)&&(e[t.id]=t)})),e)),{});return{...e,...t}}}return e},Ut=(e,t)=>({...e,[t.id]:{...e[t.id],...t}}),Ft=(0,o.Z)("topics",((e={},t)=>{var n;switch(t.type){case"TOPIC_FOLLOW":const{payload:{id:i,value:r}}=t;return Ut(e,{id:i,is_followed:r});case c.zP:const{payload:{options:a,resource:o,response:s}}=t,l=s.resource_response.data,d="ApiResource"===o&&(null==a||null===(n=a.url)||void 0===n?void 0:n.match(/\/v3\/boards\/([0-9]|[a-z]|[A-Z])+\/interests\//));return("PinInterestsResource"===o||d)&&null!=l&&l.length?l.reduce(((e,t)=>Ut(e,t)),e):e;default:return e}})),Mt=(0,o.Z)("triedits",((e={},t)=>(t.type,e))),zt={isUnderageConfirmationModalVisible:!1},Bt=(e=zt,t)=>{switch(t.type){case"SET_IS_UNDERAGE_CONFIRMATION_MODAL_VISIBLE":const{isUnderageConfirmationModalVisible:n}=t.payload;return{...e,isUnderageConfirmationModalVisible:n};default:return e}};var Zt=n(401593);function Ht(e={},t){if(t.type===c.zP){const{payload:{response:n,resource:i,options:r}}=t,a=n.resource_response.data,o=(null==r?void 0:r.userId)||"";if("VerifiedMerchantResource"===i&&a)return((e,t,n)=>({...e,[t]:n}))(e,o,a)}return e}var Gt=n(494990),Vt=n(424486);function Wt({viewingUser:e}){return{adminUser:a,articles:s,billing:l,boards:m,boardsections:y,businessAccess:re,businessNux:oe,underageConfirmation:Bt,changeBoardFromToast:le,contactRequests:de,createBoardUpsell:ue,desktopStories:he,didItData:be,experiences:Gt.D,experiencesMulti:Gt.G,explore:we,feeds:Se.ZP,flashlight:Te,form:i.Z,guidance:Ee,homefeedTabUI:Ae,inbox:ke,invites:Ce.Z,modules:Re,mostRecentBoard:je,notifications:De,pinbuilder:nt,pinbuilderMobile:rt,pinNavContext:at,pins:vt,productFilters:yt,quickPromote:wt,reactions:St,resources:r.Z,scheduledPins:It,search:Pt.Z,session:kt,settings:Ct,stories:jt,storyPinData:Dt,todayarticles:Lt,todayArticles:Ot,topics:Ft,triedits:Mt,ui:Vt.rh,users:(0,Zt.ZP)(e),verifiedMerchants:Ht}}},871144:(e,t,n)=>{n.d(t,{U:()=>r,Z:()=>o});var i=n(832559);const r=e=>{var t;return`${e.board}:${null!==(t=e.invited_user)&&void 0!==t?t:""}`},a=(e,t)=>({...e,[r(t)]:{...e[r(t)],...t}}),o=(0,i.Z)("collaboratorinvite",((e={},t)=>{var n,i,o;switch(t.type){case"BOARD_COLLABORATOR_DELETE":return a(e,{board:t.payload.boardId,invited_user:t.payload.userId,status:"not_invited"});case"BOARD_COLLABORATOR_ADD":const{boardId:s,viewingUser:l,status:d,collaboratingUsers:c}=t.payload;return c.map((e=>null==e?void 0:e.id)).filter(Boolean).reduce(((e,t)=>{const n={access:["delete"],board:s,invited_user:t,invited_by_user:l,status:d,type:"collaboratorinvite"},i=r(n);return e[i]&&"not_invited"!==e[i].status?e:a(e,n)}),{...e});case"BOARD_INVITE_ACCEPTED_BY_VIEWER":return a(e,{board:t.payload.boardId,invited_user:null===(n=t.payload.collaboratingUser)||void 0===n?void 0:n.id,status:"accepted"});case"BOARD_INVITE_APPROVED_BY_VIEWER":const u=t.payload.isRequestToJoin?"accepted":"new";return a(e,{board:t.payload.boardId,invited_user:null!==(i=null===(o=t.payload.collaboratingUser)||void 0===o?void 0:o.id)&&void 0!==i?i:"",status:u});case"BOARD_INVITE_DENIED_BY_VIEWER":const p={board:t.payload.boardId,invited_user:t.payload.userId},_=r(p),{[_]:h,...m}=e;return m;default:return e}}))},20064:(e,t,n)=>{n.d(t,{E:()=>a,Z:()=>o});var i=n(682492),r=n.n(i);const a={description:"",descriptionError:null,editorInstanceId:"",isTaggable:!0,link:"",linkError:null,media:null,pinTagIds:[],selectedPinTagId:null,tagError:null,title:"",titleError:null,canvasJson:null,signals:{},userMentionTags:[]},o=(e=a,t)=>{switch(t.type){case"PIN_DRAFT_ADD_PIN_ITEM":case"PIN_ITEM_UPDATE_DATA":{const n=t.payload.pinItem;return{...e,...n,signals:{...e.signals,...null==n?void 0:n.signals}}}case"PIN_ITEM_ADD_PIN_TAG":{const{pinTagId:n}=t.payload;return{...e,pinTagIds:[...e.pinTagIds,n]}}case"PIN_ITEM_REMOVE_PIN_TAG":{const{pinTagId:n}=t.payload;return{...e,pinTagIds:e.pinTagIds.filter((e=>e!==n))}}case"PIN_ITEM_SET_DESCRIPTION":{const{description:n}=t.payload;return{...e,description:n}}case"PIN_ITEM_SET_DESCRIPTION_ERROR":{const{descriptionError:n,signals:i}=t.payload;return{...e,descriptionError:n,signals:{...e.signals,...i}}}case"PIN_ITEM_SET_IS_TAGGABLE":{const{isTaggable:n}=t.payload;return{...e,isTaggable:n}}case"PIN_ITEM_SET_LINK":{const{link:n}=t.payload;return{...e,link:n}}case"PIN_ITEM_SET_LINK_ERROR":{const{linkError:n,signals:i}=t.payload;return{...e,linkError:n,signals:{...e.signals,...i}}}case"PIN_ITEM_SET_MEDIA":{const{media:n}=t.payload,i=!(!n||e.link)||e.isTaggable;return{...e,media:n,isTaggable:(!n||"localVideo"!==n.type)&&i,pinTagIds:[],selectedPinTagId:null,canvasJson:null}}case"PIN_ITEM_UPDATE_MEDIA":{const{media:n}=t.payload;return{...e,media:e.media?r()({},e.media,n):null}}case"PIN_ITEM_SET_SELECTED_PIN_TAG_ID":{const{selectedPinTagId:n}=t.payload;return{...e,selectedPinTagId:n}}case"PIN_ITEM_SET_TAG_ERROR":{const{tagError:n}=t.payload;return{...e,tagError:n}}case"PIN_ITEM_SET_TITLE":{const{title:n}=t.payload;return{...e,title:n}}case"PIN_ITEM_SET_TITLE_ERROR":{const{titleError:n,signals:i}=t.payload;return{...e,titleError:n,signals:{...e.signals,...i}}}case"PIN_ITEM_SET_EDITED_IMAGE":{const{editedMedia:n,canvasJson:i}=t.payload;return{...e,media:n,canvasJson:i}}default:return e}}},508228:(e,t,n)=>{n.d(t,{Z:()=>p,_:()=>r});var i=n(338739);const r=20,a={currentSearch:{query:"",scope:"pins"},queries:{},productFilters:{},recentSearches:[],recentPersonalSearches:[],recommendedSearches:[],typeaheadCache:{},pins:{},visualSearches:{}},o=(e,t)=>{const n=e.recentPersonalSearches.filter((e=>!t.find((t=>(t.query||"").toLowerCase()===(e.query||"").toLowerCase()))));return{recentPersonalSearches:t.concat(n).slice(0,r)}},s=(e,t)=>({...e,...o(e,t)}),l=(e,t)=>{const n=e.recentSearches.filter((e=>!t.find((t=>(t.query||"").toLowerCase()===(e.query||"").toLowerCase()))));return{recentSearches:t.concat(n).slice(0,r)}},d=(e,t)=>({...e,...l(e,t)}),c=(e,t,n)=>({...e,currentSearch:{query:n||"",scope:t||"pins"}}),u=(e,t,n)=>t?t.startsWith("my_")?s(e,[{query:n,type:"recent_personal_searches",id:n,is_verified_merchant:!1,label:n,url:""}]):d(e,[{query:n,type:"recent_query",id:n,is_verified_merchant:!1,label:n,url:""}]):e,p=(e=a,t)=>{switch(t.type){case i.zP:{const{resource:i,response:a}=t.payload;if("AdvancedTypeaheadResource"===i){var n;const{term:i,recent_queries_tags:r}=null!==(n=t.payload.options)&&void 0!==n?n:{};return((e,t,n,i)=>{if(!t.length){if((n||"").split(",").length>1){const t=[],n=[];return i.forEach((e=>{"recent_personal_searches"===e.type?t.push(e):n.push(e)})),{...e,...o(e,t),...l(e,n)}}return"recent_personal_searches"===n?s(e,i):d(e,i)}return{...e,typeaheadCache:{...e.typeaheadCache,[t]:i}}})(e,i,r,a.resource_response.data.items)}if("SearchTabResource"===i)return((e,t)=>({...e,recommendedSearches:[...e.recommendedSearches,...t]}))(e,a.resource_response.data);if("BaseSearchResource"===i){var r;const{query:n,auto_correction_disabled:i,scope:o,article:s,filters:l,appliedProductFilters:d}=null!==(r=t.payload.options)&&void 0!==r?r:{},p=`${o}:${n}:${l||""}:${d}:${s||""}${i?":auto-correction-disabled":""}`,_=a.resource_response.data.productFilters,h={guides:a.resource_response.data.guides,typo:a.resource_response.data.typo,nags:a.resource_response.data.nag,sensitivity:a.resource_response.data.sensitivity,filters:a.resource_response.data.filters,tabs:a.resource_response.data.tabs,oneBarModules:a.resource_response.data.oneBarModules};return((e,t,n,i)=>{const r=`${i}-${n}`,a=e.productFilters[r];return a?t?{...e,productFilters:{...e.productFilters,[r]:Object.entries(a).reduce(((e,n)=>{const i=n[0],r=n[1],a=t[i];return Array.isArray(r)&&Array.isArray(a)?e[i]=((e,t)=>e.concat(t.filter((t=>!e.some((e=>e.label===t.label))))))(r,a):Array.isArray(r)||Array.isArray(a)||(e[i]={...r,max_value:Math.max(r.max_value,a.max_value),min_value:Math.min(r.min_value,a.min_value),suggested_max_value:Math.max(r.suggested_max_value,a.suggested_max_value)}),e}),{})}}:e:{...e,productFilters:{...e.productFilters,[r]:t}}})(u(c(((e,t,n,i)=>({...e,queries:{...e.queries,[t]:n}}))(e,p,h),o,n),o,n),_,o,n)}if("SearchResource"===i){const{query:n,scope:i}=t.payload.options||{};return u(e,i,n)}if("VisualLiveSearchResource"===i){const{data:n}=a.resource_response;return{...e,visualSearches:{...e.visualSearches,[t.payload.options.pin_id]:n.annotations}}}return e}case"CLEAR_RECENT_SEARCH":{const{query:n}=t.payload;return((e,t)=>({...e,recentSearches:e.recentSearches.filter((e=>e.query!==t))}))(e,n)}case"CLEAR_RECENT_SEARCHES":return(e=>({...e,recentSearches:[]}))(e);case"CLEAR_RECENT_PERSONAL_SEARCH":{const{query:n}=t.payload;return((e,t)=>({...e,recentPersonalSearches:e.recentPersonalSearches.filter((e=>e.query!==t))}))(e,n)}case"CLEAR_RECENT_PERSONAL_SEARCHES":return(e=>({...e,recentPersonalSearches:[]}))(e);case"RELOAD_VISUAL_SEARCH_ANNOTATIONS":return((e,t)=>({...e,visualSearches:{...e.visualSearches,[t]:[]}}))(e,t.payload.pinId);case"UPDATE_CURRENT_SEARCH":{const{query:n,scope:i}=t.payload;return c(e,i,n)}case"UPDATE_RECENT_SEARCHES":{const{query:n,scope:i}=t.payload;return u(e,i,n)}default:return e}}},424486:(e,t,n)=>{n.d(t,{Cp:()=>m,rh:()=>g,XT:()=>h,xw:()=>f});const i={},r=(e=i,t)=>{if("BOARD_NOTE_DATA_CREATED"===t.type){const{id:n}=t.payload,i={...e};return i[n]={...t.payload},i}if("BOARD_NOTE_DATA_CLEARED"===t.type){const{id:n}=t.payload;if(e[n]){const t={...e};return delete t[n],t}return e}return e},a={current:null,locationToErrorMap:{}},o=(e=a,t)=>{if("SET_LOCATION_TO_ERROR_MAP_ENTRY"===t.type){const n={...e.locationToErrorMap};return n[t.payload.pathname]=t.payload.renderError,{...e,locationToErrorMap:n}}if("UNSET_LOCATION_TO_ERROR_MAP_ENTRY"===t.type){const n={...e.locationToErrorMap};return delete n[t.payload.pathname],{...e,locationToErrorMap:n}}return e},s={step:"welcome"},l=(e=s,t)=>{switch(t.type){case"SET_NUX_PROGRESS":return{...e,step:t.payload.step};default:return e}},d={images:[]},c=(e=d,t)=>{switch(t.type){case"SET_NUX_SELECTED_INTEREST_IMAGES":return{...e,images:t.payload.images};default:return e}},u={recentSaves:[],recentUpsell:{}},p=(e=u,t)=>{switch(t.type){case"PIN_BETTER_SAVE":{const{localPin:n,boardId:i}=t.payload;return n&&i?{...e,recentSaves:[{boardId:i},...e.recentSaves]}:e}case"POST_REPIN_MORE_IDEAS_UPSELL_SHOWN":{const{boardId:n}=t.payload;return{...e,recentUpsell:{...e.recentUpsell,[n]:Date.now()}}}default:return e}};var _=n(14890);const h={mainComponent:o},m={boardNotesComposer:r,nuxSelectedInterestImages:c,nuxProgress:l,postRepinMoreIdeasUpsell:p},g=(0,_.combineReducers)({...h,...m}),f=(0,_.combineReducers)(h)},401593:(e,t,n)=>{n.d(t,{ZP:()=>d});var i=n(832559),r=n(338739);const a=["SearchResource","UserFollowingResource","SuggestedCreatorFollowsResource"],o=(e,t)=>({...e,[t.id]:{...e[`${t.id}`],...t}}),s=(e,t)=>t.reduce(((e,t)=>{const{type:n}=t;return n&&"user"!==n?e:o(e,t)}),{...e});function l(e={},t){var n;switch(t.type){case"UPDATE_USER_PIN_COUNT":{const{payload:{increment:n}}=t;return{...e,pin_count:(e.pin_count||0)+n}}case"USER_FOLLOW":const{value:i}=t.payload,r=i?1:-1;return{...e,explicitly_followed_by_me:i,follower_count:(null!==(n=e.follower_count)&&void 0!==n?n:0)+r};case"USER_BLOCK":return{...e,blocked_by_me:t.payload.value,...t.payload.value?{explicitly_followed_by_me:!1}:{}};default:return e}}function d(e){var t;let n=null!==(t=e&&e.id)&&void 0!==t?t:"";return(0,i.Z)("users",((t=function(e){var t;const n=null!==(t=e&&e.id)&&void 0!==t?t:"";return{[n]:{...e||{},id:n}}}(e),i)=>{var d,c;const u=n?t[n]:void 0;switch(i.type){case"REPLACE_STATE":return{...t,...i.payload.users};case"BOARD_SECTION_DELETE":{var p;const{userId:e,pinCount:n}=i.payload,r=null!==(p=t[e].pin_count)&&void 0!==p?p:0;return o(t,{id:e,pin_count:r-n})}case r.AF:{const{options:e,resource:n,response:r}=i.payload,a=e.user_id;if(a){const{board_count:i=0,pin_count:s=0}=t[a]||{},{resource_response:l}=r;if("BoardResource"===n){const{initial_pins:n}=e,{owner:r={}}=l.data;return o(t,{id:a,pin_count:r.pin_count||s+n.length,board_count:i+1,last_repin_id:n[0]})}if("RepinResource"===n||"PinResource"===n&&"uploaded"===e.method){const{pin_id:n}=e,{pinner:i={}}=l.data;return o(t,{id:a,pin_count:(i.pin_count||s)+1,last_repin_id:n})}}return t}case r.zP:case r.aW:const{resource:e,normalizedResponse:h,options:m,response:{resource_response:{data:g}}}=i.payload;if(i.type===r.zP&&"BoardPickerBoardsResource"===e&&h)return o(t,{id:(null==m?void 0:m.user_id)||"",recent_boards:h.result.boards_shortlist});if("UserResource"===e&&g)return o(t,g);if(a.includes(e)&&g)return s(t,g);if("TodayArticleResource"===e&&null!=g&&g.article_creator_user)return o(t,g.article_creator_user);if("TodayArticleFeedResource"===e&&Array.isArray(g)){const e=g.reduce(((e,t)=>{var n;return"story"===t.type&&"user"===(null===(n=t.user)||void 0===n?void 0:n.type)&&e.push(t.user),e}),[]);return s(t,e)}return t;case"USER_BLOCK":const{payload:{id:f}}=i;return{...t,[f]:l(t[f],i)};case"USER_FOLLOW":const{payload:{id:v}}=i;return{...t,[v]:l(t[v],i)};case"USER_BULK_FOLLOW":const{ids:y,value:x}=i.payload,b={...t};return y.forEach((e=>{const n=t[e];b[e]={...n,explicitly_followed_by_me:x}})),b;case"USER_SETTING_CHANGE":return o(t,{id:i.payload.id,[i.payload.field]:i.payload.value});case"USER_PARTNER_SETTING_CHANGE":return((e,t)=>({...e,[t.id]:{...e[t.id],partner:{...e[t.id].partner,...t.partner}}}))(t,{id:i.payload.id,partner:{[i.payload.field]:i.payload.value}});case"UPDATE_USER_PIN_COUNT":{const{payload:{userId:e}}=i;return t[e]?{...t,[e]:l(t[e],i)}:t}case"UPDATE_USER_SCHEDULED_PIN_COUNT":{const{payload:{userId:e,increment:n}}=i,r=t[e],a=r.scheduled_pin_count||0;return{...t,[e]:{...r,scheduled_pin_count:a+n}}}case"PROFILE_COVER_SOURCE":const{payload:{coverSource:w,id:S}}=i,T=t[S]||{};return{...t,[S]:{...T,profile_cover:w}};case"BOARD_CREATE_COMPLETE":return u&&!u.has_quicksave_board?{...t,[u.id]:{...u,board_count:void 0===u.board_count?void 0:u.board_count+1}}:t;case"BOARD_DELETE":if(u){var _;const{boardPinCount:e}=i.payload,n=null!=e?e:0,r=null!==(_=u.pin_count)&&void 0!==_?_:0;return{...t,[u.id]:{...u,board_count:u.board_count?u.board_count-1:u.board_count,pin_count:r-n}}}return t;case"PIN_DELETE":return o(t,{id:i.payload.userId,pin_count:null!==(d=t[i.payload.userId].pin_count)&&void 0!==d?d:-1});case"PIN_ADD":const{pinnerId:I}=i.payload;return o(t,{id:I,pin_count:null!==(c=t[I].pin_count)&&void 0!==c?c:1});case"SET_PERSONALIZATION_COOKIES":if(u){const{payload:e}=i;return{...t,[u.id]:{...u,allow_personalization_cookies:e.value}}}return t;case"SET_ANALYTICS_COOKIES":if(u){const{payload:e}=i;return{...t,[u.id]:{...u,allow_analytic_cookies:e.value}}}return t;case"SET_MARKETING_COOKIES":if(u){const{payload:e}=i;return{...t,[u.id]:{...u,allow_marketing_cookies:e.value}}}return t;case"ALLOW_ALL_COOKIES":return u?{...t,[u.id]:{...u,allow_personalization_cookies:!0,allow_analytic_cookies:!0,allow_marketing_cookies:!0}}:t;case"REJECT_ALL_COOKIES":return u?{...t,[u.id]:{...u,allow_personalization_cookies:!1,allow_analytic_cookies:!1,allow_marketing_cookies:!1}}:t;case"AUTHENTICATE_USER":case"REGISTER_USER":const P=i.payload.user.id;return n=P,{...t,[P]:{...t[P],...i.payload.user}};case"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX":const E=i.payload;return u&&u.firstHomeFeedRequestAfterNux!==E?{...t,[u.id]:{...u,firstHomeFeedRequestAfterNux:E}}:t;case"UPDATE_USER_SET":if(u){const e=i.payload.partner?{...u.partner,...i.payload.partner}:u.partner;return{...t,[u.id]:{...u,...i.payload,partner:e}}}return t;case"UPDATE_USER_SOCIAL_NETWORK":if(u){const e=i.payload.socialNetworkName;return{...t,[u.id]:{...u,[`connected_to_${e}`]:i.payload.connected}}}return t;case"UPDATE_HAS_QUICKSAVE_BOARD":const{createdQuicksaveBoard:A}=i.payload;if(u&&u.has_quicksave_board!==A){const{createdQuicksaveBoard:e}=i.payload;return{...t,[u.id]:{...u,has_quicksave_board:e}}}return t;case"UPDATE_USER_SAVE_BEHAVIOR":const{saveBehavior:k}=i.payload;return u&&u.save_behavior!==k?{...t,[u.id]:{...u,save_behavior:k}}:t;case"USER_DOMAIN_VERIFIED":if(u&&u.verified_user_websites){const{verifiedWebsite:e}=i.payload;return{...t,[u.id]:{...u,verified_user_websites:[...u.verified_user_websites,e],is_any_website_verified:!0}}}return t;case"USER_DOMAIN_UNVERIFIED":if(u&&u.verified_user_websites){const{verifiedWebsite:e}=i.payload,n=u.verified_user_websites&&u.verified_user_websites.indexOf(e),r=u.verified_user_websites&&u.verified_user_websites.slice(0);return r&&r.splice(n,1),{...t,[u.id]:{...u,verified_user_websites:r,isAnyWebsiteVerified:r&&r.length>0}}}return t;default:return t}}))}},550293:(e,t,n)=>{function i(e){const{users:t}=e;if(!t)return;const n=Object.keys(t).find((e=>void 0!==t[e].login_state));return n?t[n]:void 0}n.d(t,{Z:()=>i})},675752:(e,t,n)=>{n.d(t,{A:()=>i});const i=e=>{const t=e.rich_metadata;return t?t.products?144:t.article?141:t.recipe?145:139:140}},977734:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(349741),r=n(6637);function a({history:e,i18n:t,logContextEvent:n,onSuccess:a,onUndo:o,originalPinId:s,pinId:l,trackingParams:d,disableRepinAnimation:c,showNewUserSavetoProfileAnimation:u,showRepinConfirmation:p}){return(_,h)=>{const{pins:m,session:g}=h(),{userId:f}=g,v=m[l],y={name:t.bt(" ", "Quick Saves", "quickSave.boardName", undefined, true),layout:"quick_saves",protected:!1,return_existing:!0,user_id:f};return r.Z.create("BoardResource",y).callCreate().then((r=>{const l=r.resource_response.data;return new i.Z({boardId:l.id,dispatch:_,isQuickSave:!0,history:e,i18n:t,onSuccess:a,onUndo:o,originalPinId:s,pin:v,resourceName:"RepinResource",section:void 0,showNewUserSavetoProfileAnimation:u,showRepinToasts:e=>p?p(e,c):void 0,trackingParams:d,userId:g.userId}).processRepin(n)}))}}},571577:(e,t,n)=>{n.d(t,{H:()=>a,I:()=>r});var i=n(425288);const{Provider:r,useHook:a}=(0,i.Z)("ScreenSize")},962551:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(643010),r=n(883119),a=n(785893);function o({guide:e,guidedQuery:t,isSlot0Style:n=!1}){const{dominant_color:o,display:s}=e,l=(0,a.jsx)(r.iP,{role:"link",tapStyle:"none",rounding:"pill",href:`/search/pins/?rs=guide&q=${encodeURIComponent(t)}`,children:(0,a.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundSize:"cover",backgroundColor:o,whiteSpace:n?void 0:"nowrap"}},"data-test-id":"search-guide",minWidth:n?void 0:84,padding:4,rounding:"pill",children:(0,a.jsx)(r.xv,{align:n?"start":"center",color:n?(0,i.Yc)()?"inverse":"default":"inverse",lineClamp:n?2:void 0,size:"200",weight:n?"normal":"bold",children:s})})});return n?l:(0,a.jsx)(r.xu,{flex:"none",marginStart:-7,paddingX:4,children:l})}const s=-1,l=0;function d({guides:e,isSlot0Style:t=!1,query:n}){const i=({position:e,term:t})=>e===s?t:e===l?`${t} ${n}`:`${n} ${t}`,d=()=>e.map((e=>(0,a.jsx)(o,{guide:e,guidedQuery:i(e),isSlot0Style:t},e.display)));return t?(0,a.jsx)(r.xu,{padding:2,children:(0,a.jsx)(r.kC,{width:"100%",gap:{row:0,column:1},direction:"column",alignItems:"start",children:d()})}):(0,a.jsx)(r.xu,{overflow:"hidden",width:"calc(100vw - 16px)",children:(0,a.jsx)(r.xu,{display:"flex",marginBottom:-2,marginStart:-4,overflow:"auto",paddingX:7,paddingY:2,position:"relative",width:"100vw",children:d()})})}},225313:(e,t,n)=>{n.d(t,{Z:()=>B});var i=n(667294),r=n(702664),a=n(90771),o=n(31149),s=n(659522),l=n(214680),d=n(331744),c=n(172071),u=n(757146),p=n(785893);function _({size:e=56}){return(0,p.jsxs)("svg",{display:"block",fill:"none",height:e,viewBox:"0 0 56 56",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,p.jsx)("rect",{fill:"#e60023",height:"56",rx:"28",width:"56"}),(0,p.jsx)("path",{clipRule:"evenodd",d:"m28 31.9842 6 3.6666v-15.6508h-12v15.6508zm0 3.5158 5.9571 3.6404c1.3327.8145 3.0429-.1447 3.0429-1.7065v-17.4339c0-1.6569-1.3431-3-3-3h-12c-1.6569 0-3 1.3431-3 3v17.4339c0 1.5618 1.7102 2.521 3.0429 1.7065z",fill:"#fff",fillRule:"evenodd"})]})}var h=n(862960),m=n(941646),g=n(499128),f=n(464240),v=n(287072),y=n(89396),x=n(22641),b=n(467570),w=n(867820),S=n(773285),T=n(50286),I=n(167912),P=n(780280),E=n(898781),A=n(112690),k=n(52022),C=n(86802),R=n(642832),j=n(883119),D=n(844974),O=n(644035),N=n(343341);function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const U=56,F=String(86),M=({text:e})=>(0,p.jsx)(j.xv,{align:"center",size:"100",children:e});class z extends i.PureComponent{constructor(...e){super(...e),L(this,"state",{invitePath:"",inviteCode:null,inviteMessage:"",inviteTitle:"",Clipboard:null,fbLoaded:!1}),L(this,"setClipboard",(e=>{const{Clipboard:t,invitePath:n}=this.state;(0,R.sF)(n,t,e,this.showCopyToast)})),L(this,"showCopyToast",(()=>{var e,t,n,i;this.logShareClick(12),this.setNewAppOrder(12),null===(e=(t=this.props).onShare)||void 0===e||e.call(t),this.props.showToast((({hideToast:e})=>(0,p.jsx)(g.ZP,{text:this.props.i18n.bt("      ", "Copied link to your clipboard to share", "url link was copied to user clipboard", undefined, true),onHide:e}))),null===(n=(i=this.props).setShareSent)||void 0===n||n.call(i,!0),this.props.trackInteraction({action:"click",item:"copy-link-share-icon"})})),L(this,"getDefaultAppOrder",(()=>{const{country:e,isDesktop:t}=this.props;return(0,R.pW)({country:e,isDesktop:t,shouldShowNativeShare:Boolean(navigator.share)})})),L(this,"getAppOrder",(()=>{const{isDesktop:e}=this.props;let t=JSON.parse((0,D.qn)(C.B));return!t||e?this.getDefaultAppOrder():(t=[...t.filter((e=>11!==e&&12!==e)),12],Boolean(navigator.share)&&t.push(11),t)})),L(this,"setNewAppOrder",(e=>{const{isDesktop:t}=this.props;t||C.F6.has(e)||(0,D.Nh)(C.B,JSON.stringify([e,...this.getAppOrder().filter((t=>t!==e))]))})),L(this,"handleMessagingAppClick",(e=>{var t,n,i,r;null===(t=(n=this.props).onShare)||void 0===t||t.call(n),null===(i=(r=this.props).setShareSent)||void 0===i||i.call(r,!0),this.logShareClick(e),this.setFreshInviteCode(e),C.rO.has(e)||(0,D.Nh)(C.Cq,e),this.setNewAppOrder(e)})),L(this,"handleMessengerClick",(()=>{this.props.trackInteraction({action:"click",item:"fbmessenger-share-icon"}),this.handleMessagingAppClick(6)})),L(this,"handleTwitterClick",(()=>{this.props.trackInteraction({action:"click",item:"twitter-share-icon"}),this.handleMessagingAppClick(9)})),L(this,"handleWhatsappClick",(()=>{this.props.trackInteraction({action:"click",item:"whatsapp-share-icon"}),this.handleMessagingAppClick(10)})),L(this,"handleLineClick",(()=>{this.handleMessagingAppClick(8)})),L(this,"handleTelegramClick",(()=>{this.handleMessagingAppClick(20)})),L(this,"handleViberClick",(()=>{this.handleMessagingAppClick(22)})),L(this,"handleEmailClick",(()=>{this.handleMessagingAppClick(3),this.props.trackInteraction({action:"click",item:"email-share-button"})})),L(this,"handleFacebookClick",(e=>{var t,n,i,r;const{isDesktop:a}=this.props;e.preventDefault(),null===(t=(n=this.props).onShare)||void 0===t||t.call(n),null===(i=(r=this.props).setShareSent)||void 0===i||i.call(r,!0),(0,w.My)(`pcons.${a?"desktop":"mobile"}.facebook-share-icon`),this.props.trackInteraction({action:"click",item:"facebook-share-icon"});const{inviteCode:o,invitePath:s,fbLoaded:l}=this.state;(0,R.Rh)(l,s,o||"",(()=>this.logShareClick(5))),this.setFreshInviteCode(5),this.setNewAppOrder(5)})),L(this,"handleSmsClick",(()=>{this.handleMessagingAppClick(4)})),L(this,"logShareClick",((e,t=this.state.inviteCode)=>{const{objectId:n,objectType:i,component:r,clientTrackingParams:a,logContextEvent:o,viewType:s,viewParameter:l}=this.props;(0,R.Iz)({inviteChannel:e,inviteCode:t,objectId:n,objectType:i,component:r,clientTrackingParams:a,logContextEvent:o,view_type:s,view_parameter:l})})),L(this,"copyButtonRef",null),L(this,"renderAppsInCustomOrder",(({Email:e,Facebook:t,FBMessenger:n,Line:r,WhatsApp:a,Twitter:o,Viber:s,Telegram:l,CopyLink:d,Sms:c,ShareVia:u})=>{const _=this.getAppOrder(),h=new Map([[6,n],[10,a],[5,t],[9,o],[3,e],[8,r],[20,l],[22,s],[4,c],[12,d],[11,u]]);return(0,p.jsx)(i.Fragment,{children:_.map((e=>h.get(e)))})})),L(this,"onHandleRepinSave",(({event:e,dangerouslyDisableOnNavigation:t})=>{var n,i;t(),null===(n=(i=this.props).onSave)||void 0===n||n.call(i),this.props.onNavigation({event:e})}))}componentDidMount(){this.setFreshInviteCode(12),(0,b.we)(this.props.locale).then((()=>{this.setState({fbLoaded:!0})})),n.e(6527).then(n.t.bind(n,842152,23)).then((({default:e})=>{e.isSupported()&&(this.setState({Clipboard:e}),this.setClipboard(this.copyButtonRef))}))}componentDidUpdate({objectId:e}){const{objectId:t}=this.props;e!==t&&this.setFreshInviteCode(12)}async setFreshInviteCode(e){const{objectId:t,objectType:n}=this.props,{invitePath:i,inviteCode:r,title:a,message:o}=await(0,R.yP)(e,t,n,this.props.relayEnvironment),s={};i&&(s.invitePath=i),r&&(s.inviteCode=r),a&&(s.inviteTitle=a),o&&(s.inviteMessage=o),this.setState(s)}render(){const{isDesktop:e,objectType:t,onSave:n,showSaveOption:i,isAppleDevice:r}=this.props,{invitePath:g,inviteMessage:v,inviteTitle:b}=this.state,{emailShareLink:w,messengerShareLink:S,twitterShareLink:T,whatsappShareLink:I,lineShareLink:P,telegramShareLink:E,viberShareLink:A,smsShareLink:k}=(0,R.tA)({invitePath:g,inviteTitle:b,objectType:t,i18n:this.props.i18n,isDesktop:e}),C=({children:t})=>(0,p.jsx)(j.kC,{alignItems:"center",justifyContent:"start",direction:"column",width:e?`${F}px`:"100%",children:t}),D=({children:e})=>(0,p.jsx)(j.xu,{display:"flex",justifyContent:"center",paddingX:3,marginBottom:1,children:e}),O=(0,p.jsxs)(C,{children:[(0,p.jsx)(D,{children:(0,p.jsx)(m.Z,{id:"fbmessenger-share-icon",children:(0,p.jsx)(j.iP,{rounding:"circle",role:"link",rel:"nofollow",href:S,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleMessengerClick()},children:(0,p.jsx)(u.Z,{size:U})})})}),(0,p.jsx)(M,{text:this.props.i18n.bt("Messenger", "Messenger", "shareMenu.icon.label.messenger", undefined, true)})]}),N=(0,p.jsxs)(C,{children:[(0,p.jsx)(D,{children:(0,p.jsx)(m.Z,{id:"whatsapp-share-icon",children:(0,p.jsx)(j.iP,{rounding:"circle",role:"link",rel:"nofollow",href:I,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleWhatsappClick()},children:(0,p.jsx)(x.Z,{size:U})})})}),(0,p.jsx)(M,{text:this.props.i18n.bt("WhatsApp", "WhatsApp", "shareMenu.icon.label.whatsapp", undefined, true)})]}),L=(0,p.jsx)(j.xu,{"data-test-id":"facebook-share-icon",display:"flex",flex:"shrink",children:(0,p.jsxs)(C,{children:[(0,p.jsx)(D,{children:(0,p.jsx)(j.rU,{href:"#",onClick:({event:e})=>{this.handleFacebookClick(e)},children:(0,p.jsx)(s.Z,{size:U})})}),(0,p.jsx)(M,{text:this.props.i18n.bt("Facebook", "Facebook", "shareMenu.icon.label.facebook", undefined, true)})]})}),z=(0,p.jsxs)(C,{children:[(0,p.jsx)(D,{children:(0,p.jsx)(m.Z,{id:"twitter-share-icon",children:(0,p.jsx)(j.iP,{rounding:"circle",role:"link",rel:"nofollow",href:T,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleTwitterClick()},children:(0,p.jsx)(f.Z,{size:U})})})}),(0,p.jsx)(M,{text:this.props.i18n.bt("Twitter", "Twitter", "shareMenu.icon.label.twitter", undefined, true)})]}),B=(0,p.jsxs)(C,{children:[(0,p.jsx)(D,{children:(0,p.jsx)(j.iP,{rounding:"circle",role:"link",rel:"nofollow",href:P,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleLineClick()},children:(0,p.jsx)(d.Z,{size:U})})}),(0,p.jsx)(M,{text:this.props.i18n.bt(" ", "Line", "shareMenu.icon.label.line", undefined, true)})]}),Z=(0,p.jsxs)(C,{children:[(0,p.jsx)(D,{children:(0,p.jsx)(j.iP,{rounding:"circle",role:"link",rel:"nofollow",href:A,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleViberClick()},children:(0,p.jsx)(y.Z,{size:U})})}),(0,p.jsx)(M,{text:this.props.i18n.bt("Viber", "Viber", "shareMenu.icon.label.viber", undefined, true)})]}),H=(0,p.jsxs)(C,{children:[(0,p.jsx)(D,{children:(0,p.jsx)(j.iP,{rounding:"circle",role:"link",rel:"nofollow",href:E,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleTelegramClick()},children:(0,p.jsx)(h.Z,{size:U})})}),(0,p.jsx)(M,{text:this.props.i18n.bt("Telegram", "Telegram", "shareMenu.icon.label.telegram", undefined, true)})]}),G=(0,p.jsxs)(C,{children:[(0,p.jsx)(D,{children:(0,p.jsx)(m.Z,{id:"email-share-button",children:(0,p.jsx)(j.iP,{rounding:"circle",role:"link",rel:"nofollow",target:"blank",href:w,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleEmailClick()},children:(0,p.jsx)(o.Z,{size:U})})})}),(0,p.jsx)(M,{text:this.props.i18n.bt("  ", "Email", "shareMenu.icon.label.email", undefined, true)})]}),V=(0,p.jsxs)(C,{children:[(0,p.jsx)(D,{children:(0,p.jsx)(j.iP,{rounding:"circle",role:"link",rel:"nofollow",target:"blank",href:"#",onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{var n,i;e.preventDefault(),null===(n=(i=this.props).onShare)||void 0===n||n.call(i),t();const r=v.indexOf("https://");navigator.share&&navigator.share({url:g,text:r>0?v.slice(0,r):v,title:b}).then((()=>{this.handleMessagingAppClick(11),c.Z.increment("allshareoptions_navigator_share.success",1)})).catch((e=>{c.Z.increment("allshareoptions_navigator_share.error",1,{name:e.name,message:e.message})}))},children:(0,p.jsx)(j.xu,{height:U,children:(0,p.jsx)(j.hU,{accessibilityLabel:this.props.i18n.bt("   ", "Native share sheet icon", "shareMenu.icon.accessibilityLabel.native_share_sheet", undefined, true),bgColor:"lightGray",icon:"share",iconColor:"darkGray",size:"xl"})})})}),(0,p.jsx)(M,{text:this.props.i18n.bt("  ", "Share via", "shareMenu.icon.label.share_via", undefined, true)})]}),W=(0,p.jsxs)(C,{children:[(0,p.jsx)(D,{children:(0,p.jsx)(j.iP,{rounding:"circle",role:"link",rel:"nofollow",href:k,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleSmsClick()},children:r?(0,p.jsx)(l.Z,{size:U}):(0,p.jsx)(a.Z,{size:U})})}),(0,p.jsx)(M,{text:this.props.i18n.bt(" ", "Message", "shareMenu.icon.label.message", undefined, true)})]}),K=(0,p.jsxs)(C,{children:[(0,p.jsx)(D,{children:(0,p.jsx)(j.xu,{ref:this.setClipboard,dangerouslySetInlineStyle:{__style:{cursor:e?"pointer":void 0}},"data-test-id":"copy-link-share-icon",height:U,children:(0,p.jsx)(j.hU,{accessibilityLabel:this.props.i18n.bt(" ", "Link icon", "shareMenu.icon.accessibilityLabel.copy", undefined, true),bgColor:"lightGray",icon:"link",iconColor:"darkGray",size:"xl"})})}),(0,p.jsx)(M,{text:this.props.i18n.bt(" ", "Copy link", "shareMenu.icon.label.copy", undefined, true)})]});return(0,p.jsxs)(j.xu,{children:[(0,p.jsx)(j.xu,{height:4}),(0,p.jsx)(j.kC,{alignItems:"stretch",justifyContent:"start",overflow:"hidden",children:(0,p.jsxs)(j.xu,{display:"flex",justifyContent:"start",height:e?180:void 0,width:e?370:"100vw",marginBottom:-2,paddingX:1,paddingY:2,overflow:e?void 0:"scrollX",wrap:e,children:[i&&n&&(()=>(0,p.jsxs)(C,{children:[(0,p.jsx)(D,{children:(0,p.jsx)(j.iP,{rounding:"circle",onTap:this.onHandleRepinSave,children:(0,p.jsx)(_,{size:U})})}),(0,p.jsx)(M,{text:this.props.i18n.bt("", "Save", "shareMenu.icon.label.save", undefined, true)})]}))(),this.renderAppsInCustomOrder({Email:G,Facebook:L,FBMessenger:O,Line:B,WhatsApp:N,Twitter:z,Viber:Z,Telegram:H,CopyLink:K,Sms:W,ShareVia:V})]})}),(0,p.jsx)(j.xu,{height:16})]})}}function B(e){const t=(0,E.ZP)(),n=(0,T.HG)(),{showToast:i}=(0,N.F9)(),{country:a,locale:o}=(0,P.B)(),s=(0,v.Z)({href:{pathname:`/pin/${e.objectId}/repin`,state:{viewType:e.viewType,viewParameter:e.viewParameter}}}),{checkExperiment:l}=(0,S.F)(),d=(0,r.useSelector)((({session:e})=>e.userAgentPlatform)),c=d===O.RL||d===O.s4,u=l("graphql_migration_sharesheet_sgrowth_web").anyEnabled,_=(0,I.useRelayEnvironment)(),h=(0,A.Z)(),m=(0,k.Z)();return(0,p.jsx)(z,{...e,country:a,i18n:t,isDesktop:n,locale:o,showToast:i,onNavigation:s,logContextEvent:h,isAppleDevice:c,relayEnvironment:u?_:void 0,trackInteraction:m})}},642832:(e,t,n)=>{n.d(t,{Iz:()=>g,Rh:()=>p,pW:()=>c,rL:()=>m,sF:()=>_,tA:()=>u,yP:()=>h});var i,r,a=n(6637),o=n(467570),s=n(867060),l=n(167912);const d={FBMessenger:6,WhatsApp:10,Facebook:5,Twitter:9,Email:3,Line:8,Telegram:20,Viber:22,Sms:4,CopyLink:12,ShareVia:11};function c({country:e,isDesktop:t,shouldShowNativeShare:n}){const{FBMessenger:i,WhatsApp:r,Facebook:a,Twitter:o,Email:s,Line:l,Telegram:c,Viber:u,Sms:p,CopyLink:_,ShareVia:h}=d;function m(){switch(e){case"US":return t?[r,a,o,s]:[p,i,r,a,o];case"ID":return t?[r,l,s,a]:[r,c,p,l,s,a];case"JP":case"TH":case"TW":return t?[l,o,s,a]:[l,s,p,o,a];case"GR":return t?[r,a,o,s]:[u,i,r,p,a,o];case"IR":case"IQ":return t?[r,a,o,s]:[r,c,p,i,o];case"UA":case"RU":return t?[r,a,o,s]:[r,u,c,a,i,p,o];default:return t?[r,a,o,s]:[r,i,p,a,o]}}return t?[_,...m()]:[...m(),_,...n?[h]:[]]}function u({invitePath:e,inviteTitle:t,objectType:n,i18n:i,isDesktop:r}){let a=i.bt("  ", "A Pin for you", "shareMenu.message.title", undefined, true);8===n&&(a=i.bt("     Pinterest!", "Check out this article on Pinterest!", "shareMenu.message.title", undefined, true));const s=`mailto:?subject=${encodeURIComponent(a)}&body=${encodeURIComponent(e)}`,l=`fb-messenger://share/?link=${encodeURIComponent(e)}&app_id=${o.GH}`,d=`${t}\n${e}`,c=r?`https://twitter.com/intent/tweet?via=pinterest&url=${encodeURIComponent(d)}`:`twitter://post?message=${encodeURIComponent(d)}`,u=r?`https://web.whatsapp.com/send?text=${encodeURIComponent(d)}`:`whatsapp://send?text=${encodeURIComponent(d)}`,p=r?`https://social-plugins.line.me/lineit/share?url=${encodeURIComponent(e)}&text=${encodeURIComponent(t)}`:`https://line.me/R/msg/text/?${encodeURIComponent(d)}`,_=`viber://forward?text=${encodeURIComponent(d)}`;return{emailShareLink:s,messengerShareLink:l,twitterShareLink:c,whatsappShareLink:u,lineShareLink:p,telegramShareLink:`tg://msg?text=${encodeURIComponent(d)}`,viberShareLink:_,smsShareLink:`sms:?&body=${encodeURIComponent(d)}`}}function p(e,t,n,i){e&&window.FB&&window.FB.ui&&window.FB.ui({method:"share",mobile_iframe:!0,href:t},(e=>{e&&!e.error_message&&i&&i()}))}function _(e,t,n,i){if(!n||!t)return;const r=new t(n,{text:()=>e});r.on("success",(e=>{i&&i(e)})),r.on("error",(e=>{throw new Error("<ShareMenu /> error: copy command failed")}))}async function h(e,t,r,o){if(o)return((e,t,r,a,o)=>{const s=void 0!==i?i:i=n(865107),d={invite_category:t,invite_object:r,invite_channel:a};return(0,l.fetchQuery)(e,s,{inviteType:JSON.stringify(d),objectId:o}).toPromise().then((e=>{var t;return Promise.resolve((e=>{var t,n,i,r;return{inviteCode:null!==(t=null==e?void 0:e.inviteCode)&&void 0!==t?t:"",invitePath:null!==(n=null==e?void 0:e.inviteUrl)&&void 0!==n?n:"",title:null!==(i=null==e?void 0:e.title)&&void 0!==i?i:"",message:null!==(r=null==e?void 0:e.message)&&void 0!==r?r:""}})(null==e||null===(t=e.v3InviteUserExternalQuery)||void 0===t?void 0:t.data))}),(e=>Promise.reject(e)))})(o,3,r,e.toString(),t);{const n=a.Z.create("CreateExternalInviteResource",{invite_type:{invite_category:3,invite_object:r,invite_channel:e},object_id:t}),i=await n.callCreate(),{invite_url:o,invite_code:s,title:l,message:d}=i.resource_response.data;return{inviteCode:s,invitePath:o,title:l,message:d}}}const m=(e,t,i,a,o,s)=>{const d=void 0!==r?r:r=n(361600),c={inviteType:JSON.stringify({invite_category:t,invite_object:i,invite_channel:a}),inviteCode:o,objectId:s};(0,l.commitMutation)(e,{mutation:d,variables:{...c}})};async function g({inviteChannel:e,inviteCode:t,objectId:n,objectType:i,component:r,clientTrackingParams:o,logContextEvent:l,view_parameter:d,view_type:c}){l({aux_data:{invite_object:i},object_id_str:n,component:r,clientTrackingParams:o,element:s.c[e],event_type:102,view_type:c,view_parameter:d}),a.Z.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:3,invite_object:i,invite_channel:e},invite_code:t,object_id:n,client_tracking_params:o}).callCreate()}},590674:(e,t,n)=>{n.r(t),n.d(t,{default:()=>K});var i=n(667294),r=n(225313),a=n(702664),o=n(766935),s=n(72566),l=n(936776),d=n(172071),c=n(6637),u=n(700380),p=n(784590),_=n(19121),h=n(773285),m=n(698330),g=n(878499),f=n(116303),v=n(499128),y=n(898781),x=n(927383),b=n(349700),w=n(313951),S=n(883119),T=n(276775),I=n(343341),P=n(785893);function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class A extends i.PureComponent{constructor(...e){var t;super(...e),t=this,E(this,"state",{viewConversation:!1,isSent:!1,path:""}),E(this,"renderViewConversationButton",(()=>{const{viewConversation:e}=this.state;return e?(0,P.jsxs)(S.kC,{alignItems:"center",direction:"row",flex:"grow",justifyContent:"center",children:[(0,P.jsx)(S.zx,{fullWidth:!0,size:"sm",text:this.props.i18n.bt(" ", "View chat", "View current chat", undefined, true),color:"white",onClick:()=>{this.onViewConversation()}}),(0,P.jsx)(S.JO,{icon:"arrow-forward",color:"default",accessibilityLabel:this.props.i18n.bt(" ", "View chat", "View current chat", undefined, true)})]}):(0,P.jsxs)(S.kC,{alignItems:"center",direction:"row",flex:"grow",justifyContent:"center",children:[(0,P.jsx)(S.xu,{marginEnd:2,children:(0,P.jsx)(S.JO,{icon:"check",color:"default",accessibilityLabel:this.props.i18n.bt("", "sent", "content is sent", undefined, true)})}),(0,P.jsx)(S.xu,{marginEnd:2,children:(0,P.jsx)(S.xv,{size:"300",color:"subtle",weight:"bold",children:this.props.i18n.bt("", "Sent", "mweb.sharemenu.contactItem.isSent", undefined, true)})})]})})),E(this,"onViewConversation",(()=>{const{path:e}=this.state;d.Z.increment("mweb_sharesheet_view_conversation",1),this.props.history.push(e)})),E(this,"onInlineSend",this.props.requireAuthForLimitedLogin({fn:async function(){const e={1:"pin",2:"board",3:"user",8:"today_article"},{createConversation:n,i18n:i,isFullHeight:r,onDismiss:a,setShareSent:o,recipient:s,sendObject:l,showToast:c,email:u,updateCachedContactsAfterSend:p,userId:_,logContextOnSend:h}=t.props,m=e[l.objectType];null==h||h(),t.setState({isSent:!0});try{const e=await n({user_ids:s?[s.id,_]:void 0,[m]:l.objectId,emails:u?[u]:void 0});if(e){const n=e.id;t.setState({path:`/conversation/${n}`,viewConversation:!0}),d.Z.increment("mweb_sharesheet.inline_send",1,{success:!0}),o(!0),null==p||p(),!r&&a&&(c((({hideToast:e})=>(0,P.jsx)(v.ZP,{dataTestId:"sharesheet-inline-send-toast",primaryAction:{accessibilityLabel:i.bt(" ", "View the conversation", "ContactItem.ConfirmationToast.a11yButtonText", undefined, true),label:i.bt("", "View", "ContactItem.ConfirmationToast.buttonText", undefined, true),onClick:t.onViewConversation},duration:4e3,onHide:e,text:(0,b.Wc)(i.bt("  {{recipientName}}.", "Sent to {{recipientName}}!", "ContactItem.ConfirmationToast.text", undefined, true),{recipientName:(null==s?void 0:s.full_name)||""}),iconThumbnail:(0,P.jsx)(f.Z,{size:"fit",src:(null==s?void 0:s.image_large_url)||"",name:(null==s?void 0:s.full_name)||""}),thumbnailShape:"circle"}))),a(n))}}catch(g){c((({hideToast:e})=>(0,P.jsx)(v.ZP,{variant:"error",text:(null==g?void 0:g.message_detail)||(null==g?void 0:g.message)||i.bt("   .", "Failed to create conversation.", "ContactItem.errorToast.text", undefined, true),onHide:e}))),t.setState({isSent:!1}),d.Z.increment("mweb_sharesheet.inline_send",1,{success:!1,error:g})}}}))}render(){var e,t,n,i;const{isFullHeight:r,recipient:a,email:o}=this.props,{isSent:s}=this.state;return!r&&a?(0,P.jsxs)(S.xu,{"data-test-id":"sharesheet-send-button",display:"flex",direction:"column",paddingX:3,paddingY:4,children:[(0,P.jsx)(S.iP,{onTap:()=>this.onInlineSend(),children:(0,P.jsx)(S.xu,{height:56,marginBottom:1,width:56,children:(0,P.jsx)(f.Z,{size:"fit",src:null!==(e=a.image_large_url)&&void 0!==e?e:"",name:null!==(t=a.full_name)&&void 0!==t?t:""})})}),(0,P.jsx)(S.xu,{width:56,children:(0,P.jsx)(S.xv,{lineClamp:1,size:"100",align:"center",children:a.full_name})})]}):(0,P.jsxs)(S.xu,{"data-test-id":"sharesheet-send-button",position:"relative",direction:"row",display:"flex",width:"100%",alignItems:"center",justifyContent:"between",paddingY:2,children:[a?(0,P.jsx)(S.xu,{children:(0,P.jsx)(f.Z,{size:"md",src:null!==(n=a.image_large_url)&&void 0!==n?n:"",name:null!==(i=a.full_name)&&void 0!==i?i:""})}):o&&(0,P.jsx)(S.xu,{children:(0,P.jsx)(f.Z,{size:"md",name:o})}),(0,P.jsx)(S.xu,{paddingX:2,flex:"grow",maxWidth:"71%",children:(0,P.jsx)(S.xv,{lineClamp:1,weight:"bold",children:a?a.full_name:o&&s?o:(0,b.nk)(this.props.i18n.bt(" {{email}}", "invite {{email}}", "mweb.newMessage.searchEmail", undefined, true),{email:o})})}),(0,P.jsx)(S.xu,{"data-test-id":"sharesheet-viewchat-link",right:!0,flex:"none",maxWidth:"100%",children:s?this.renderViewConversationButton():(0,P.jsx)(S.zx,{fullWidth:!0,size:"lg",color:"gray",text:this.props.i18n.bt("", "Send", "Send current content", undefined, true),onClick:()=>{this.onInlineSend()}})})]})}}function k(e){const t=(0,T.useHistory)(),n=(0,y.ZP)(),i=(0,x.Z)(),{showToast:r}=(0,I.F9)(),a=(0,w.aX)();return(0,p.Z)({name:"ConversationsResource",options:{user_ids:[e.userId]}}),(0,P.jsx)(A,{...e,createConversation:a,history:t,i18n:n,requireAuthForLimitedLogin:i,showToast:r})}var C=n(112690),R=n(379725);function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const D={boxShadow:"0 6px 8px -4px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"};class O extends i.PureComponent{componentDidUpdate(e){const{fetching:t}=e,{value:n}=this.state,i=t&&!this.props.fetching,r=this.getContactSuggestions();if(!n&&i){const e=r.length>0?7511:7512;this.props.logContextEvent({event_type:e,view_type:70,view_parameter:256})}}constructor(e){super(e),j(this,"state",{value:"",showScrollShadow:!1,defaultSuggestions:[],loadingDefaultSuggestions:!0}),j(this,"onSearchChange",(({value:e})=>{const{userId:t,searchContacts:n}=this.props,i={options:{user:t,term:e}};this.setState({value:e},n(i))})),j(this,"getContactSuggestions",(()=>{const{typeaheadSuggestions:e,userId:t,users:n}=this.props,{value:i,defaultSuggestions:r}=this.state;if(!i)return r.filter((e=>n[e.id]))||[];const a=`term="${i}",user="${t}"`,o=`term="${i.slice(0,-1)}",user="${t}"`;return e[a]||e[o]||[]})),j(this,"renderContactSuggestions",(()=>{const{expandContactsList:e,fetching:t,i18n:n,isFullHeight:i,logContextEvent:r,onDismiss:a,sendObject:o,setShareSent:s,userId:d,updateCachedContactsAfterSend:c}=this.props,{loadingDefaultSuggestions:u,value:p}=this.state,_=this.getContactSuggestions(),h=t||u,m=e=>{const t=p&&p.trim(),{selected_contact_index:n,selected_contact_reason:a}=e||{};r({event_type:102,view_type:70,view_parameter:i?3827:256,component:t?14314:14315,element:10837,aux_data:t?(0,l.Z)(t)?{is_selected_contact_email:"true"}:{search_query_length:JSON.stringify(t.length),selected_contact_index:n,selected_contact_reason:a}:{selected_contact_index:n,selected_contact_reason:a}})};let g;return g=!i&&h?107:"100%",h?(0,P.jsx)(S.xu,{alignItems:"center",display:"flex",justifyContent:"center",height:g,paddingY:2,children:(0,P.jsx)(S.$j,{show:!0,accessibilityLabel:n.bt(" ", "Searching for contacts", "Placeholder text for spinner on share menu", undefined, true)})}):0===_.length&&!(0,l.Z)(p)&&p&&i?(0,P.jsx)(S.xu,{marginTop:3,children:(0,P.jsx)(S.xv,{align:"center",children:n.bt(" ,        .", "Sorry, we can't find anyone by that name.", "Text to show empty state when a contact can not be found", undefined, true)})}):(0,P.jsx)(S.kC,{direction:i?"column":"row",overflow:i?void 0:"hidden",children:(0,P.jsxs)(S.xu,{display:i?void 0:"flex",height:g,overflow:i?void 0:"scrollX",marginBottom:0,marginTop:0,paddingX:i?4:1,paddingY:0,children:[0===_.length&&(0,l.Z)(p)&&(0,P.jsx)(k,{email:p,isFullHeight:i,sendObject:o,setShareSent:s,userId:d,logContextOnSend:m}),!i&&(0,P.jsxs)(S.xu,{alignItems:"center",display:"flex",direction:"column",paddingX:3,paddingY:4,children:[(0,P.jsx)(S.xu,{height:56,marginBottom:1,width:56,children:(0,P.jsx)(S.hU,{accessibilityLabel:n.bt(" ", "Search for users", "ContactsSuggestsions.SearchIcon.accessibilityLabel", undefined, true),bgColor:"lightGray",icon:"search",iconColor:"darkGray",onClick:()=>{r({event_type:102,view_type:70,view_parameter:256,component:14315,element:13498}),e()},size:"xl"})}),(0,P.jsx)(S.xv,{lineClamp:1,size:"100",children:n.bt("", "Search", "ContactsSuggestions.SearchOption.text", undefined, true)})]}),_.map(((e,t)=>(0,P.jsx)(k,{isFullHeight:i,onDismiss:a,recipient:e,sendObject:o,setShareSent:s,userId:d,updateCachedContactsAfterSend:c,logContextOnSend:()=>{m({selected_contact_index:JSON.stringify(t),selected_contact_reason:JSON.stringify(e.debug_reason.reason)})}},e.id)))]})})})),this.scrollerRef=(0,i.createRef)()}async componentDidMount(){const{inContactsCacheExp:e,cachedShareSuggestions:t,getFreshContactSuggestions:n,updateCachedShareSuggestions:i}=this.props;if(e)if(t)this.setState({loadingDefaultSuggestions:!1,defaultSuggestions:t});else{const e=await n()||[];i(e),this.setState({loadingDefaultSuggestions:!1,defaultSuggestions:e})}else{const e=await n()||[];this.setState({loadingDefaultSuggestions:!1,defaultSuggestions:e})}}render(){const{showScrollShadow:e}=this.state,{isFullHeight:t,expandContactsList:n}=this.props,r=(0,u.Z)((()=>{const e=this.scrollerRef.current;e&&!Number.isNaN(e.scrollTop)&&this.setState({showScrollShadow:e.scrollTop>0})}),100);return(0,P.jsx)(i.Fragment,{children:t?(0,P.jsxs)(S.xu,{color:"default",display:"flex",direction:"column",paddingX:0,height:"90%",children:[(0,P.jsx)(S.xu,{"data-test-id":"contact-suggestion-search-field",paddingY:2,color:"default",paddingX:4,dangerouslySetInlineStyle:{__style:e?D:null},children:(0,P.jsx)(s.Z,{accessibilityLabel:this.props.i18n.bt(" ", "search contact", "Accessibility label for searchbar on share menu", undefined, true),id:"contactsSuggestSearchField",onChange:this.onSearchChange,onFocus:n,placeholder:this.props.i18n.bt("    . ", "Search by name or email", "Placeholder text for searchbar on share menu", undefined, true),value:this.state.value,autoFocus:t})}),(0,P.jsx)(S.xu,{display:"flex",direction:"column",paddingY:1,overflow:"scrollY",onScroll:r,ref:this.scrollerRef,children:this.renderContactSuggestions()})]}):(0,P.jsx)(S.xu,{children:this.renderContactSuggestions()})})}}function N(e){const t=(0,y.ZP)(),n=(0,m.kW)(),i=(0,C.Z)(),{id:r}=(0,_.Z)(),s=(0,a.useDispatch)();(0,p.Z)({name:"ShareSuggestionsTypeaheadResource",options:{term:"",user:r}});const l=(0,a.useSelector)((({resources:e})=>{const{ShareSuggestionsTypeaheadResource:t}=e,n={};for(const i of Object.keys(t||{})){const e=t[i].data;e&&e.items&&(n[i]=e.items)}return n})),u=(0,a.useSelector)((e=>e.resources.ShareSuggestionsTypeaheadResource)),f=Object.keys(u||{}).some((e=>u[e].fetching)),{cachedShareSuggestions:v,clearCachedShareSuggestions:x,updateCachedShareSuggestions:b}=(0,g.$)(),w=async()=>{let e;const t=c.Z.create("ShareSuggestionsResource",{suggestion_type:"share"});try{var n;e=null===(n=(await t.callGet()).resource_response)||void 0===n?void 0:n.data}catch(i){d.Z.increment("mweb_share_menu_load_suggestions.fail.share",1)}return e},{checkExperiment:S}=(0,h.F)(),T=S("mweb_cache_contacts_share").anyEnabled;return(0,P.jsx)(O,{...e,i18n:t,logContextEvent:i,users:n,searchContacts:e=>{(0,o.Z)(s((0,R.U)("ShareSuggestionsTypeaheadResource",e)),200)},fetching:f,userId:r||"",typeaheadSuggestions:l,inContactsCacheExp:T,cachedShareSuggestions:v,getFreshContactSuggestions:w,updateCachedContactsAfterSend:async()=>{if(T){x();const e=await w();e&&b(e)}},updateCachedShareSuggestions:b})}var L=n(79113),U=n(121151),F=n(667679),M=n(52022),z=n(749049),B=n(867820),Z=n(53987),H=n(50286);const G=14121,V=({heading:e,onDismiss:t})=>{const n=(0,y.ZP)();return(0,P.jsxs)(S.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,P.jsx)(S.xu,{display:"flex",alignItems:"center",padding:1,children:(0,P.jsx)(S.hU,{accessibilityLabel:n.bt("", "Close", "close share menu", undefined, true),icon:"cancel",onClick:t,size:"sm",iconColor:"darkGray",padding:4})}),(0,P.jsx)(S.xu,{display:"flex",flex:"grow",alignItems:"center",justifyContent:"center",marginEnd:12,children:(0,P.jsx)(S.xv,{align:"center",weight:"bold",children:(0,P.jsx)("span",{className:"deprecatedTextSizeXL",children:e})})})]})},W=({children:e,isOpen:t,onDismiss:n,childPaddingX:i=3,shouldRenderCloseIcon:r,shouldRenderFullHeight:a,heading:o})=>{const s=(0,y.ZP)(),l={mobileAccessibilityCloseIconLabel:s.bt("   ", "close send modal", " - ", undefined, true),accessibilityModalLabel:"",heading:o,mobileHideCloseIcon:!r,isOpen:t,onDismiss:n,type:"share_menu"};return a?(0,P.jsxs)(L.Z,{isOpen:t,accessibilityModalLabel:o,children:[(0,P.jsx)(V,{heading:o,onDismiss:n}),e]}):(0,P.jsx)(U.ZP,{...l,children:(0,P.jsx)(S.xu,{marginTop:r?0:4,paddingX:i,children:e})})},K=({isOpen:e,onDismiss:t,objectType:n,objectId:a,hideContactsSuggestions:o,clientTrackingParams:s,element:l,viewType:c,viewParameter:u,component:p})=>{const m=(0,y.ZP)(),[g,f]=(0,i.useState)(!1),[v,x]=(0,i.useState)(!1),b=g||!o,w=(0,T.useLocation)(),I=(0,H.HG)(),{isAuth:E}=(0,_.Z)(),{checkExperiment:A}=(0,h.F)(),k=(0,F.Z)(),R=(0,C.Z)(),j=(0,M.Z)(),D=e=>{A("mweb_share_menu_logging").anyEnabled&&R({clientTrackingParams:s,component:G,event_type:v||e?7493:7492,element:13097,view_type:70,view_parameter:u,aux_data:{invite_object:n}});const i=(e=>(0,Z.cD)(e)?"profile_page":(0,Z.am)(e)?"board_page":(0,Z.uM)(e)?"pin_page":"unknown")(w),r=!I&&!E&&A("unauth_mweb_after_invite_signup_modal").anyEnabled;j({action:"click",item:"close-share-menu"}),t(),r&&v&&k({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:`tap_unauth_${i}_share_menu_click_invite`}),x(!1),(0,B.My)(`mweb_${i}_share_menu.click_invite.close`)},O=A("mweb_share_menu_logging").anyEnabled;(0,i.useEffect)((()=>{e&&(R({event_type:7120,component:G,object_id_str:a,clientTrackingParams:O?s:null,element:O?l:null,view_type:O?c:70,view_parameter:O?u:256,aux_data:O?{invite_object:n}:void 0}),R({event_type:10400,component:p,object_id_str:a,clientTrackingParams:s,element:(0,z.O)(n),view_type:c,view_parameter:u,aux_data:{invite_object:n}}))}),[e,A,O]);const L=(0,H.Wb)(),U=m.bt("  Pinterest", "Send on Pinterest", "Heading for share contacts search", undefined, true),V=m.bt(" ", "Share", "ShareMenu.AllShareOptions.HeaderText", undefined, true),K=g?U:(0,P.jsx)(S.xu,{marginTop:0,children:(0,P.jsx)(S.xv,{align:"center",weight:"bold",size:"300",children:b?U:V})});return(0,P.jsx)(W,{isOpen:e,onDismiss:g?()=>{f(!1),d.Z.increment("mweb_sharesheet.contacts.collapse",1)}:()=>D(),shouldRenderFullHeight:g,shouldRenderCloseIcon:!0,childPaddingX:0,heading:K,children:(0,P.jsx)(S.kC,{justifyContent:"center",children:(0,P.jsxs)(S.xu,{marginBottom:8,marginTop:g||!b?0:-4,width:L?440:"100%",height:"100%",children:[b&&(0,P.jsx)(N,{sendObject:{objectId:a,objectType:n},expandContactsList:()=>{f(!0),d.Z.increment("mweb_sharesheet.contacts.expand",1)},isFullHeight:g,onDismiss:D,setShareSent:e=>x(e)}),!g&&(0,P.jsxs)(i.Fragment,{children:[b&&(0,P.jsxs)(S.xu,{marginTop:4,paddingX:4,children:[(0,P.jsx)(S.iz,{}),(0,P.jsx)(S.xu,{marginTop:8,children:(0,P.jsx)(S.xv,{align:"center",size:"300",weight:"bold",children:V})})]}),(0,P.jsx)(r.Z,{objectId:a,objectType:n,viewType:O?c:70,viewParameter:u,onDismiss:D,setShareSent:e=>x(e),clientTrackingParams:s,component:G})]})]})})})}},878499:(e,t,n)=>{n.d(t,{$:()=>s,l:()=>l});var i=n(667294),r=n(425288),a=n(785893);const{Provider:o,useHook:s}=(0,r.Z)("ShareSuggestions");function l({children:e}){const[t,n]=(0,i.useState)(void 0),r=(0,i.useCallback)((()=>{n(void 0)}),[]),s=(0,i.useCallback)((e=>{n(e)}),[]),l=(0,i.useMemo)((()=>({cachedShareSuggestions:t,clearCachedShareSuggestions:r,updateCachedShareSuggestions:s})),[t,r,s]);return(0,a.jsx)(o,{value:l,children:e})}},86802:(e,t,n)=>{n.d(t,{B:()=>a,Cq:()=>r,F6:()=>u,RV:()=>i,VZ:()=>o,W_:()=>l,bm:()=>s,iS:()=>p,rO:()=>c,zn:()=>d});const i="animatedShareIconLastViewed",r="lastUsedSocialShare",a="customizedSocialAppOrder",o=44,s=9e5,l=4e3,d=5e3,c=new Set([12,3,11]),u=new Set([11,12]),p=new Map([["AU",6],["CA",6],["DK",6],["DZ",6],["GE",6],["HU",6],["LT",6],["NO",6],["NP",6],["NZ",6],["PH",6],["PL",6],["SK",6],["TN",6],["US",6],["JP",8],["TW",8],["TH",8],["IQ",20],["KH",20],["MM",20],["UZ",20],["BA",22],["BG",22],["BY",22],["CY",22],["GR",22],["MD",22],["RS",22],["UA",22]])},72566:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294),r=n(883119),a=n(785893);class o extends i.Component{constructor(...e){var t,n,i;super(...e),i=e=>{e&&(this.searchRef=e)},(n="setSearchRef")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){this.props.autoFocus&&this.searchRef.focus()}render(){const{accessibilityLabel:e,id:t,onBlur:n,onChange:i,onFocus:o,placeholder:s,value:l}=this.props;return(0,a.jsx)(r.Um,{accessibilityLabel:e,id:t,onBlur:n,onChange:i,onFocus:o,placeholder:s,ref:this.setSearchRef,size:"lg",value:l})}}},163321:(e,t,n)=>{n.d(t,{Z:()=>m,e:()=>p});var i=n(702664),r=n(240684),a=n(46584),o=n(131108),s=n(599997),l=n(883119),d=n(332611),c=n(785893);const u=(0,r.ZP)({resolved:{},chunkName:()=>"storyPins-duplo-HlsVideoContainer",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(19596).then(n.bind(n,881999)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 881999}}),p=Object.freeze({white:"inverse",black:"default"}),_={defaultOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"}};function h({titleText:e,videoPin:t,videoPlaceholderImage:n}){return(0,c.jsx)(u,{fallback:(0,c.jsx)(l.Ee,{alt:e||"",color:"rgb(111, 91, 77)",fit:"cover",naturalHeight:3,naturalWidth:2,src:n||t.metadata.thumbnail}),aspectRatio:s.q4,controls:!1,poster:n||t.metadata.thumbnail,src:t.url})}function m({buttonAction:e,buttonCustomization:t,buttonText:n,experience:r,hideCompleteButton:u,imageAlt:p,imageUrl:m,openNewTab:g,storyType:f,titleText:v,titleTextColor:y,titleTextCustomization:x,videoPin:b,videoPlaceholderImage:w}){var S;const T=(0,i.useDispatch)(),{experience_id:I,placement_id:P}=r||{},E=(0,a.Z)({onVisibilityChanged:e=>{e&&r&&"viewed"!==r.status&&(r.status="viewed",T((0,d.UT)(P,I,!1,!0)))}}),A=(0,s.zn)(f),k=A?o.f8:o.hm,C=A?o.sH:o.HI,R=!A,{color:j,fontStyle:D,fontWeight:O,horizontalAlignment:N,fontSize:L}=(0,s.Mf)(x||{},"mweb"),{button_background_color:U,button_text_color:F}=t||{};return(0,c.jsx)(l.xu,{position:"relative",padding:1,marginBottom:2,ref:E,children:(0,c.jsxs)(l.rU,{accessibilityLabel:v,href:e,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),r&&T((0,d.CK)(P,I,!1,!0))},target:g?"blank":null,children:[(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(150%)"}},position:"relative",children:(0,c.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},top:!0,right:!0,bottom:!0,left:!0,overflow:"hidden",position:"absolute",rounding:4,children:[(0,c.jsx)(l.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:"feed_card_video"===f&&b?(0,c.jsx)(h,{titleText:v,videoPin:b,videoPlaceholderImage:w}):m&&(0,c.jsx)(l.Ee,{alt:p||v||"",color:"rgb(111, 91, 77)",naturalHeight:4,naturalWidth:3,src:m,fit:"cover"})}),R&&(0,c.jsx)(l.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:_.defaultOverlay},position:"absolute",top:!0,left:!0}),(0,c.jsx)(k,{children:(0,c.jsx)(l.xv,{align:N,color:y,italic:"italics"===D,weight:O,children:(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{color:null!==(S=j||y)&&void 0!==S?S:void 0,fontSize:L}},children:v})})})]})}),!u&&(0,c.jsx)(C,{children:(0,c.jsx)(l.xu,{display:"flex",rounding:"pill",color:A?"default":"secondary",dangerouslySetInlineStyle:{__style:{backgroundColor:U}},justifyContent:"center",alignItems:"center",paddingX:2,height:48,children:(0,c.jsx)(l.xv,{weight:"bold",size:"200",lineClamp:1,children:(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{color:F}},children:n})})})})]})})}},954134:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),r=n(702664),a=n(149230),o=n(894023),s=n(112690),l=n(861411),d=n(350118),c=n(883119),u=n(785893);function p({auxData:e,slotIndex:t,storyId:n,trafficSource:p,viewParameter:_,viewType:h}){const m=(0,s.Z)(),g=(0,d.AF)(),f=(0,r.useSelector)((({stories:e})=>e[n].objects.map((e=>g[e.id])))),v=(0,r.useSelector)((({stories:e})=>e[n])),{action:y,story_type:x,title:b}=v,w=f.map((({type:e,id:t})=>e+":"+t)).join("|"),S={story_type:x,story_id:n,content_ids:w,...e};return(0,u.jsx)(l.Hs,{loggingId:n,objectIdStr:n,viewParameter:_,viewType:h,slotIndex:t,component:200,auxData:S,children:(0,u.jsxs)(i.Fragment,{children:[b&&(0,u.jsx)(c.xu,{display:"flex",marginBottom:2,justifyContent:"center",alignItems:"center",children:(0,u.jsx)(c.xv,{weight:"bold",children:b.format})}),(0,u.jsx)(c.kC,{wrap:!0,children:f.map((e=>(0,u.jsx)(c.kC.Item,{flexBasis:"50%",maxWidth:"50%",children:(0,u.jsx)(o.default,{auxData:S,componentType:0,pinId:e.id,slotIndex:t,trafficSource:p,viewParameter:_,viewType:h})},e.id)))}),y&&y.url&&(0,u.jsx)(c.xu,{display:"flex",width:"100%",justifyContent:"center",marginTop:1,children:(0,u.jsx)(c.zx,{role:"link",accessibilityLabel:y.text,color:"gray",onClick:()=>{m({view_type:h,view_parameter:_,aux_data:S,event_type:102})},text:y.text,href:y.url,rel:(0,a.Z)(y.url)?"nofollow":void 0,target:(0,a.Z)(y.url)?"blank":void 0,size:"md"})})]})})}},635225:(e,t,n)=>{n.d(t,{Z:()=>Ze});var i=n(667294),r=n(702664),a=n(598615),o=n(445345),s=n(819764),l=n(898781),d=n(844974),c=n(773285),u=n(780280),p=n(883119),_=n(785893);function h(){const e=(0,l.ZP)(),{checkExperiment:t}=(0,c.F)(),{locale:n,userAgent:{platform:r}}=(0,u.B)();(0,i.useEffect)((()=>{"enabled_no_double"===t("mweb_hf_story_app_upsell2").group&&(0,d.Nh)("appUpsell",Date.now())}),[]);const h="ios"===r;return(0,_.jsxs)(p.xu,{color:"infoBase",marginBottom:5,marginStart:2,marginEnd:2,marginTop:3,padding:3,rounding:2,children:[(0,_.jsx)(p.xv,{color:"inverse",weight:"bold",children:h?e.bt(" Pinterest  iPhone   ", "Pinterest works best if you switch to our iPhone app", "app upsell", undefined, true):e.bt(" Pinterest  Android   ", "Pinterest works best if you switch to our Android app", "app upsell", undefined, true)}),(0,_.jsx)(p.xu,{marginTop:3,children:(0,_.jsx)(a.Z,{componentType:14159,within:"app-upsell-story",children:({handleOpenApp:e})=>(0,_.jsx)(p.iP,{onTap:()=>e({deepLinkUri:"/"}),children:h?(0,_.jsx)(s.Z,{locale:n}):(0,_.jsx)(o.Z,{locale:n})})})})]})}var m=n(116303),g=n(46584),f=n(792182),v=n(407043),y=n(599997),x=n(332611);function b({isFullWidth:e,actionType:t,buttonAction:n,buttonText:i,experience:a,hideCompleteButton:o,imageAlt:s,imageUrl:l,openNewTab:d,avatarImageDetails:c,examplePinImage:u,titleText:h,titleTextColor:b,titleTextCustomization:w,descriptionText:S,descriptionTextCustomization:T}){var I,P;const{logContextEvent:E}=(0,v.v)(),A=(e=>0===e?3833:1===e?3834:2===e?3835:null)(t),k=(0,r.useDispatch)(),{experience_id:C,placement_id:R}=a||{},j=(0,g.Z)({onVisibilityChanged:e=>{e&&a&&"viewed"!==a.status&&(a.status="viewed",E({event_type:13,view_type:604,view_parameter:A}),k((0,x.UT)(R,C,!1,!0)))}}),D=()=>{a&&(E({event_type:102,view_type:604,view_parameter:A}),k((0,x.CK)(R,C,!1,!0)))},{width:O}=(0,f.Z)()||{width:8},N=O-8,L=(0,y.IA)(O),U=N*L,F=L===y.LX||L===y.Ec,{url:M,full_name:z}=c||{},B=U*y.l0,{url:Z}=u,H=Z?U*y.l0:0,G=Z?y.ml*H:0,{color:V,fontStyle:W,fontWeight:K,horizontalAlignment:q,fontSize:Y}=(0,y.Mf)(w||{},"mweb"),{color:$,fontStyle:X,fontWeight:J,horizontalAlignment:Q,fontSize:ee}=(0,y.Mf)(T||{},"mweb");return(0,_.jsx)(p.xu,{position:"relative",padding:1,marginBottom:2,ref:j,children:(0,_.jsxs)(p.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},color:e?"default":"education",paddingX:e?0:3,paddingY:e?0:6,position:"relative",rounding:4,children:[e&&l&&(0,_.jsx)(p.xu,{height:U,width:N,children:(0,_.jsx)(p.Ee,{alt:s||h||"",color:"rgb(111, 91, 77)",naturalHeight:U,naturalWidth:N,src:l,fit:"cover",children:(0,_.jsx)(p.xu,{paddingY:M?12:3,children:(0,_.jsxs)(p.kC,{direction:"column",gap:2,alignItems:"center",flex:"grow",width:"100%",justifyContent:"center",children:[z&&M&&(0,_.jsx)(p.xu,{height:B,width:B,children:(0,_.jsx)(m.Z,{name:z,src:M,size:"fit"})}),u&&Z&&(0,_.jsx)(p.xu,{paddingY:4,children:(0,_.jsx)(p.zd,{height:H,width:G,rounding:4,children:(0,_.jsx)(p.Ee,{alt:"Your first saved Pin",naturalHeight:H,naturalWidth:G,src:Z,fit:"cover"})})}),(0,_.jsx)(p.xv,{align:q,color:b,italic:"italics"===W,weight:K,children:(0,_.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{color:null!==(I=V||b)&&void 0!==I?I:void 0,fontSize:F?y.SF:Y}},children:h})}),(0,_.jsx)(p.xv,{align:Q,italic:"italics"===X,weight:J,children:(0,_.jsx)(p.xu,{paddingY:F?3:1,paddingX:12,dangerouslySetInlineStyle:{__style:{color:null!=$?$:void 0,fontSize:F?y._e:ee}},children:S})}),!o&&(0,_.jsx)(p.xu,{paddingY:F?2:1,children:(0,_.jsx)(p.zx,{accessibilityLabel:i,color:"white",fullWidth:!0,text:i,size:"lg",role:"link",href:n,target:d?"blank":null,onClick:D})})]})})})}),!e&&(0,_.jsxs)(p.kC,{direction:"column",gap:2,alignItems:"center",flex:"grow",width:"100%",justifyContent:"center",children:[(0,_.jsx)(p.xv,{align:q,color:b,italic:"italics"===W,weight:K,children:(0,_.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{color:null!==(P=V||b)&&void 0!==P?P:void 0,fontSize:Y}},children:h})}),S&&T&&(0,_.jsx)(p.xu,{paddingY:2,children:(0,_.jsx)(p.xv,{align:Q,italic:"italics"===X,weight:J,children:(0,_.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{color:null!=$?$:void 0,fontSize:ee}},children:S})})}),!o&&(0,_.jsx)(p.kC.Item,{alignSelf:"stretch",children:(0,_.jsx)(p.xu,{paddingY:1,marginTop:4,children:(0,_.jsx)(p.zx,{accessibilityLabel:i,color:"white",fullWidth:!0,text:i,size:"lg",role:"link",href:n,target:d?"blank":null,onClick:D})})})]})]})})}var w=n(57791),S=n(698330);const T={defaultOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"}};function I({buttonAction:e,buttonText:t,imageUrl:n,brands:i}){const r=(0,S.kW)(),a=i.slice(0,3).map((e=>{var t,n;return{name:null!==(t=r[e.id].username)&&void 0!==t?t:"",src:null!==(n=r[e.id].image_medium_url)&&void 0!==n?n:""}}));return(0,_.jsx)(p.xu,{position:"relative",padding:1,marginBottom:2,children:(0,_.jsxs)(w.MZ,{to:e,children:[(0,_.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},position:"relative",children:(0,_.jsxs)(p.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},top:!0,right:!0,bottom:!0,left:!0,overflow:"hidden",position:"absolute",rounding:4,children:[(0,_.jsx)(p.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:n&&(0,_.jsx)(p.Ee,{alt:t,color:"rgb(111, 91, 77)",naturalHeight:1,naturalWidth:1,src:n,fit:"cover"})}),(0,_.jsx)(p.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:T.defaultOverlay},position:"absolute",top:!0,left:!0}),(0,_.jsx)(p.xu,{width:"100%",position:"absolute",bottom:!0,paddingY:6,display:"flex",justifyContent:"center",children:(0,_.jsx)(p.xu,{width:24*(2*a.length+1),height:64,children:(0,_.jsx)(p.HE,{accessibilityLabel:"",collaborators:a})})})]})}),(0,_.jsx)(p.xu,{"aria-hidden":"true",width:"100%",display:"flex",rounding:"pill",color:"secondary",justifyContent:"center",alignItems:"center",paddingX:2,height:48,marginTop:2,children:(0,_.jsx)(p.xv,{weight:"bold",children:(0,_.jsx)(p.xu,{children:t})})})]})})}var P=n(368156),E=n(995389),A=n(350118);const k="49.5%";function C({buttonAction:e,buttonText:t,colors:n}){const i=(0,A.S6)(),r=n.slice(0,4).map((e=>{var t,n,r;return{...null===(t=i(e.id))||void 0===t||null===(n=t.images)||void 0===n?void 0:n["736x"],title:null===(r=i(e.id))||void 0===r?void 0:r.description}}));if(n.length<4)return null;const a=e=>{var t,n,i,r;return(0,_.jsx)(p.xu,{width:k,height:"100%",children:(0,_.jsx)(p.Ee,{alt:null!==(t=e.title)&&void 0!==t?t:"",color:"rgb(111, 91, 77)",naturalHeight:null!==(n=e.height)&&void 0!==n?n:1,naturalWidth:null!==(i=e.width)&&void 0!==i?i:1,src:null!==(r=e.url)&&void 0!==r?r:"",fit:"cover"})})};return(0,_.jsx)(p.xu,{position:"relative",padding:1,marginBottom:2,children:(0,_.jsxs)(w.MZ,{to:e,children:[(0,_.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},position:"relative",children:(0,_.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},top:!0,right:!0,bottom:!0,left:!0,overflow:"hidden",position:"absolute",rounding:4,children:(0,_.jsx)(p.xu,{height:"100%",width:"100%",rounding:4,direction:"column",display:"flex",justifyContent:"between",children:[r.slice(0,2),r.slice(2,4)].map((e=>(0,_.jsx)(p.kC,{width:"100%",height:k,justifyContent:"between",children:e.map(a)})))})})}),(0,_.jsx)(p.xu,{width:"100%",display:"flex",rounding:"pill",color:"secondary",justifyContent:"center",alignItems:"center",paddingX:2,height:48,marginTop:2,children:(0,_.jsx)(p.xv,{weight:"bold",children:(0,_.jsx)(p.xu,{children:t})})})]})})}const R=(0,r.connect)((({pins:e},t)=>({pin:e[t.pinId]})),(()=>({})))((({isFirstChild:e,pin:t})=>{var n;if(!t)return null;const i=null===(n=t.images)||void 0===n?void 0:n["170x"];if(!i)return null;const r=t.pinner,{full_name:a,image_medium_url:o}=r||{},{dominant_color:s}=t,{height:l,width:d,url:c}=i;return(0,_.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{paddingRight:8,paddingLeft:e?8:void 0}},children:(0,_.jsxs)(p.xu,{position:"relative",children:[(0,_.jsx)(p.xu,{height:144,overflow:"hidden",rounding:4,width:108,children:(0,_.jsx)(p.Ee,{alt:t.title||"",color:null!=s?s:"",fit:"cover",naturalHeight:null!=l?l:1,naturalWidth:null!=d?d:1,src:null!=c?c:""})}),o&&(0,_.jsx)(p.xu,{alignItems:"center",bottom:!0,display:"flex",height:0,justifyContent:"center",left:!0,position:"absolute",right:!0,children:(0,_.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{border:"1px solid white"}},height:60,rounding:"circle",width:60,children:(0,_.jsx)(m.Z,{name:null!=a?a:"",src:o})})})]})})}));function j({pinIds:e}){const t=e.concat(e).concat(e).concat(e);return(0,_.jsx)(p.xu,{height:174,overflow:"hidden",width:"100%",children:(0,_.jsx)(p.xu,{overflow:"scroll",children:(0,_.jsx)(p.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",height:184,children:t.map(((e,t)=>(0,_.jsx)(R,{pinId:e,isFirstChild:0===t},e)))})})})}var D=n(63552),O=n(112690),N=n(861411);const L="creator_spotlight_";function U({id:e}){const t=(0,O.Z)(),n=(0,r.useSelector)((({stories:t})=>t[e]));if(!n||"social_seasonal_pin"===n.story_type)return null;const{button_text:i,objects:a,story_type:o,subtitle:s,title:l,background_colour:d,display_options:c}=n,{title_text_color:u,subtitle_text_color:h}=c;if(!o.startsWith(L)||!a||a.length<3)return null;const m=`/creator-spotlight/${o.slice(L.length)}`;return(0,_.jsx)(p.xu,{marginBottom:3,children:(0,_.jsx)(N.Hs,{loggingId:e,objectIdStr:e,viewParameter:43,viewType:2,slotIndex:0,component:13484,auxData:{story_type:o},children:(0,_.jsx)(p.iP,{onTap:()=>{t({view_type:2,view_parameter:43,component:13484,object_id_str:e,aux_data:{story_type:o},event_type:102})},tapStyle:"none",role:"link",href:m,rounding:2,children:(0,_.jsx)(p.xu,{rounding:2,overflow:"hidden",display:"flex",dangerouslySetInlineStyle:{__style:{backgroundColor:d}},children:(0,_.jsx)(p.xu,{width:"100%",height:"100%",children:(0,_.jsxs)(p.xu,{alignItems:"center",direction:"column",display:"flex",height:"100%",justifyContent:"between",paddingY:4,children:[(!!s||!!l)&&(0,_.jsxs)(p.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:[l&&l.format&&(0,_.jsx)(p.X6,{size:"400",children:(0,_.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{color:u}},children:l.format})}),s&&s.format&&(0,_.jsx)(p.xv,{align:"center",children:(0,_.jsx)(p.xu,{marginTop:1,dangerouslySetInlineStyle:{__style:{color:h}},children:s.format})})]}),(0,_.jsx)(p.xu,{paddingY:2,marginTop:2,width:"100%",children:(0,_.jsx)(j,{pinIds:a.map((e=>e.id))})}),i&&i.format&&(0,_.jsx)(p.xu,{display:"inlineBlock",children:(0,_.jsx)(D.Z,{pressState:"compress",children:(0,_.jsx)(p.xu,{color:"primary",rounding:"pill",position:"relative",children:(0,_.jsx)(p.xu,{paddingX:5,paddingY:5,children:(0,_.jsx)(p.xv,{color:"inverse",weight:"bold",children:i.format})})})})})]})})})})})})}var F=n(319915),M=n(121093),z=n(19121),B=n(276775);function Z({pin:e,width:t,height:n,showDivider:i}){var r,a,o,s,l,d,c;const u=null===(r=e.images)||void 0===r?void 0:r["236x"];return(0,_.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:i?{borderRight:"2px solid #fff"}:{}},children:(0,_.jsx)(p.GH,{contentAspectRatio:(null!==(a=null==u?void 0:u.width)&&void 0!==a?a:1)/(null!==(o=null==u?void 0:u.height)&&void 0!==o?o:1),height:n,width:t,children:(0,_.jsx)(p.Ee,{alt:null!==(s=e.description)&&void 0!==s?s:"",naturalWidth:null!==(l=null==u?void 0:u.width)&&void 0!==l?l:1,naturalHeight:null!==(d=null==u?void 0:u.height)&&void 0!==d?d:1,src:null!==(c=null==u?void 0:u.url)&&void 0!==c?c:""})})})}function H({storyId:e,slotIndex:t}){const n=(0,B.useHistory)(),a=(0,B.useLocation)(),{isAuth:o}=(0,z.Z)(),{checkExperiment:s}=(0,c.F)(),[l,d]=(0,i.useState)(0),u=(0,i.useRef)(),h=(0,O.Z)();(0,i.useLayoutEffect)((()=>{const e=u.current;e&&d(e.offsetWidth)}),[]);const m=(0,r.useSelector)((({stories:t})=>t[e])),g=(0,r.useSelector)((({pins:e})=>m.objects.map((t=>e[t.id])))).slice(0,2),{story_type:f,action:v}=m,y=`${a.pathname}products/${a.search}`,x=()=>{h({component:200,event_type:102,view_parameter:3050,view_type:72}),n.push(y)};return s(o?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,_.jsx)(N.qS,{auxData:{story_type:f,content_ids:g.map((e=>e.id)),story_id:e},component:200,loggingId:e,objectIdStr:e,slotIndex:t,viewParameter:3050,viewType:72,children:({impressionTrackerRef:e})=>l?(0,_.jsx)(p.xu,{padding:2,ref:e,children:(0,_.jsx)(p.zd,{rounding:2,children:(0,_.jsxs)(p.iP,{onTap:x,children:[(0,_.jsx)(p.xu,{display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:g.map(((e,t)=>(0,_.jsx)(Z,{pin:e,width:(l-16)/2-1,height:l-16,showDivider:!t},e.id)))}),(0,_.jsx)(p.xu,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",children:(0,_.jsx)(p.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,_.jsx)(p.xu,{rounding:"pill",paddingX:4,paddingY:2,display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:(0,_.jsx)(p.xv,{weight:"bold",children:v.text})})})})]})})}):(0,_.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative"})}):(0,_.jsx)(N.Hs,{auxData:{story_type:f,content_ids:g.map((e=>e.id)),story_id:e},component:200,loggingId:e,objectIdStr:e,slotIndex:t,viewParameter:3050,viewType:72,children:l?(0,_.jsx)(p.xu,{padding:2,children:(0,_.jsx)(p.zd,{rounding:2,children:(0,_.jsxs)(p.iP,{onTap:x,children:[(0,_.jsx)(p.xu,{display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:g.map(((e,t)=>(0,_.jsx)(Z,{pin:e,width:(l-16)/2-1,height:l-16,showDivider:!t},e.id)))}),(0,_.jsx)(p.xu,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",children:(0,_.jsx)(p.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,_.jsx)(p.xu,{rounding:"pill",paddingX:4,paddingY:2,display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:(0,_.jsx)(p.xv,{weight:"bold",children:v.text})})})})]})})}):(0,_.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative",ref:u})})}var G=n(131230),V=n(954134),W=n(687866);const K=["shop_tab_upsell","user_style_story_v2"];function q({auxData:e,slotIndex:t,storyId:n,storyType:i,trafficSource:a,viewParameter:o,viewType:s}){const l=(0,r.useSelector)((({stories:e})=>{var t;return null===(t=e[n].objects[0])||void 0===t?void 0:t.schema})),d=(0,r.useSelector)((({stories:e})=>{var t;return null===(t=e[n])||void 0===t?void 0:t.title}));if(K.includes(i))return(0,_.jsx)(G.Z,{auxData:e,slotIndex:t,storyId:n,storyType:i,viewParameter:o,viewType:s});switch(l){case"pin":return(0,_.jsx)(V.Z,{auxData:e,slotIndex:t,storyId:n,trafficSource:a,viewParameter:o,viewType:s});case"article":return(0,_.jsx)(P.Z,{auxData:e,pattern:[W.UG.extra_small],slotIndex:t,storyId:n,viewParameter:o,viewType:s});default:return d&&(0,_.jsx)(p.xu,{display:"flex",marginBottom:2,justifyContent:"center",alignItems:"center",children:(0,_.jsx)(p.xv,{weight:"bold",children:d.format})})}}var Y=n(700398),$=n(491563);function X({slotIndex:e,storyId:t,exactMatch:n=!1}){const{isAuth:a}=(0,z.Z)(),{checkExperiment:o}=(0,c.F)(),s=(0,A.S6)(),{action:l,aux_fields:d,objects:u,story_type:h,title:m}=(0,r.useSelector)((({stories:e})=>e[t])),g=u[0].id,f=u.slice(1,3).map((({id:e})=>s(e)));return!n&&f.length<2?null:o(a?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,_.jsx)(N.qS,{auxData:{content_ids:f.map((e=>null==e?void 0:e.id)),story_id:t,story_type:h,...d},component:200,loggingId:t,objectIdStr:t,slotIndex:e,viewParameter:43,viewType:2,children:({impressionTrackerRef:e})=>(0,_.jsxs)(p.xu,{ref:e,children:[m&&(0,_.jsx)(p.xu,{paddingY:1,marginTop:2,children:(0,_.jsx)(p.xv,{align:"center",children:m.format})}),(0,_.jsx)($.Z,{action:l,auxData:d,isPinnerAuthorityHero:n,userId:g,userPins:n?void 0:f,userSearchRepStyle:n,viewParameter:43,viewType:2})]})}):(0,_.jsx)(N.Hs,{auxData:{content_ids:f.map((e=>null==e?void 0:e.id)),story_id:t,story_type:h,...d},component:200,loggingId:t,objectIdStr:t,slotIndex:e,viewParameter:43,viewType:2,children:(0,_.jsxs)(i.Fragment,{children:[m&&(0,_.jsx)(p.xu,{paddingY:1,marginTop:2,children:(0,_.jsx)(p.xv,{align:"center",children:m.format})}),(0,_.jsx)($.Z,{action:l,auxData:d,isPinnerAuthorityHero:n,userId:g,userPins:n?void 0:f,userSearchRepStyle:n,viewParameter:43,viewType:2})]})})}var J=n(947599),Q=n(962551),ee=n(826067);const te=["#CFFFCA","#D7EDFF","#DAD4FF","#DAFFF6","#FFE2EB","#FFE4C1","#FFFD92"],ne=e=>te[e.charCodeAt(0)%te.length];function ie({guides:e,storyId:t,slotIndex:n,title:r}){var a;const{isAuth:o}=(0,z.Z)(),{checkExperiment:s}=(0,c.F)(),l=null!==(a=(0,ee.mB)((0,B.useLocation)().search).q)&&void 0!==a?a:"";return s(o?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,_.jsx)(N.qS,{auxData:{story_type:"search_guides"},component:200,loggingId:t,objectIdStr:t,slotIndex:n,viewParameter:43,viewType:2,children:({impressionTrackerRef:t})=>(0,_.jsxs)(p.xu,{ref:t,children:[r&&r.format&&(0,_.jsx)(p.xu,{paddingY:1,marginTop:2,children:(0,_.jsx)(p.xv,{align:"center",children:r.format})}),(0,_.jsx)(Q.Z,{guides:e.map((e=>({display:e.display,dominant_color:ne(e.display),position:-1,term:e.term}))),isSlot0Style:!0,query:l})]})}):(0,_.jsx)(N.Hs,{auxData:{story_type:"search_guides"},component:200,loggingId:t,objectIdStr:t,slotIndex:n,viewParameter:43,viewType:2,children:(0,_.jsxs)(i.Fragment,{children:[r&&r.format&&(0,_.jsx)(p.xu,{paddingY:1,marginTop:2,children:(0,_.jsx)(p.xv,{align:"center",children:r.format})}),(0,_.jsx)(Q.Z,{guides:e.map((e=>({display:e.display,dominant_color:ne(e.display),position:-1,term:e.term}))),isSlot0Style:!0,query:l})]})})}class re extends i.PureComponent{render(){const{seasonalBlob:e,size:t}=this.props,{story_title:n,pin_image:i,pin_image_gif:r,user_name:a,board_name:o,header_background_color:s,textIconColor:l}=e,d=s||"orchid",c=this.props.i18n.bt("", "Take a look", "Button text asking users to take a look at Seasonal pages", undefined, true),u=a&&o?`/${a}/${o}`:"/pinterestindonesia/happy-halloween/",h=n||"unknown",m=r||i||"",g=l||"white";return(0,_.jsx)(p.zd,{rounding:2,children:(0,_.jsx)(p.xu,{padding:3,children:(0,_.jsx)(w.MZ,{to:u,isAppUpsellDisabled:!0,onTouch:()=>{},children:(0,_.jsx)(p.xu,{children:(0,_.jsx)(p.xu,{display:"flex",margin:-1,height:t,children:(0,_.jsx)(p.xu,{width:"100%",children:(0,_.jsxs)(p.zd,{rounding:2,height:"100%",children:[(0,_.jsx)(p.xu,{height:t,children:(0,_.jsx)(p.Ee,{alt:h,color:d,fit:"cover",naturalHeight:1,naturalWidth:1,src:m})}),(0,_.jsx)(p.xu,{height:t,position:"absolute",top:!0,left:!0}),(0,_.jsx)(p.xu,{position:"absolute",top:!0,left:!0,right:!0,overflow:"hidden",paddingX:2,paddingY:4,dangerouslySetInlineStyle:{__style:{lineHeight:"19px"}},children:(0,_.jsx)(p.xv,{color:g,weight:"bold",children:h})}),(0,_.jsx)(p.xu,{position:"absolute",bottom:!0,left:!0,right:!0,padding:2,marginStart:"auto",marginEnd:"auto",children:(0,_.jsx)(p.zx,{fullWidth:!0,size:"sm",text:c})})]})})})})})})})}}const ae=(0,r.connect)((({stories:e},t)=>({seasonalBlob:e[t.storyId].custom_properties,storyType:e[t.storyId].story_type,referringSource:e[t.storyId].referring_source})),(()=>({})))((function(e){const t=(0,l.ZP)();return(0,_.jsx)(re,{...e,i18n:t})}));var oe=n(502962);function se({storyId:e,viewParameter:t,viewType:n}){const a=(0,O.Z)(),o=(0,r.useSelector)((({stories:t})=>t[e])),s=(0,r.useSelector)((({session:e})=>e.isTablet)),l=o.objects;return(0,i.useEffect)((()=>{a({event_type:9024,view_type:n,view_parameter:t})}),[]),o?(0,_.jsxs)(i.Fragment,{children:[(0,_.jsx)(p.iz,{}),(0,_.jsxs)(p.xu,{paddingY:1,children:[(0,_.jsx)(p.xu,{paddingY:2,marginTop:3,children:(0,_.jsx)(p.X6,{align:"center",size:"400",children:o.title.format})}),1===l.length?(0,_.jsx)(p.xu,{width:s?400:"auto",paddingY:2,margin:"auto",children:(0,_.jsx)(oe.Z,{id:l[0].id,gridIndex:0,viewParameter:t,viewType:n})}):(0,_.jsx)(p.xu,{overflow:"auto",children:(0,_.jsx)(p.kC,{alignItems:"stretch",justifyContent:"start",width:"fit-content",children:l.map(((e,i)=>(0,_.jsx)(p.xu,{width:s?400:"80vw",marginStart:0===i?0:2,paddingY:2,children:(0,_.jsx)(oe.Z,{id:e.id,gridIndex:i,viewParameter:t,viewType:n})},e.id)))})})]})]}):null}var le=n(938917),de=n(574724);const ce=(0,r.connect)((({pins:e},t)=>({pin:e[t.pinId]})),(()=>({})))((({pin:e})=>{var t;if(!e)return null;const n=e.images&&(e.images.orig||e.images["736x"]||e.images["290x"]||e.images["236x"]);return(0,_.jsx)(p.zd,{wash:!0,height:ve,width:ve,children:(0,_.jsx)(p.xu,{height:ve,position:"relative",width:ve,children:(0,_.jsx)(p.Ee,{alt:e.description||"",src:null!==(t=null==n?void 0:n.url)&&void 0!==t?t:"",fit:"cover",naturalHeight:1,naturalWidth:1,color:e.dominant_color||"#767676"})})})}));var ue=n(886076),pe=n(830157),_e=n(62409),he=n(349700),me=n(643010);function ge({pinId:e,shouldRoundPrice:t,showSalePrice:n}){const i=(0,A.S6)()(e);if(!i)return null;const{link_domain:r,rich_metadata:a,rich_summary:o}=i||{},s=(0,_e.kb)(r,a,o);if(!s||!s.price)return null;const l=s.price||s.max_price,d=s.standard_price,c=/^(\$\d+)(\.?\d\d)*$/g,u=d&&c.exec(d),h=c.exec(l),m=(0,me.Yc)()?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.8)",g=(0,me.Yc)()?"light":"dark";return(0,_.jsxs)(p.xu,{rounding:"pill",paddingX:2,paddingY:0,dangerouslySetInlineStyle:{__style:{backgroundColor:m,paddingTop:"3px",paddingBottom:"3px"}},"data-test-id":"MwebPricePill",display:"inlineBlock",children:[n&&u&&(0,_.jsxs)(p.xv,{align:"center",size:"100",weight:"bold",color:"subtle",inline:!0,children:[(0,_.jsx)("s",{children:(0,he.nk)("{{ priceRounded }}",{priceRounded:u[1]})})," "]}),(0,_.jsx)(p.xv,{align:"center",size:"100",weight:"bold",color:g,inline:!0,children:(n&&d||t)&&h&&h[1]?(0,he.nk)("{{ priceRounded }}",{priceRounded:h[1]}):l})]})}var fe=n(512176);const ve=114;function ye({handleClick:e,isVerifiedMerchant:t,marginTop:n=12,pins:i,showVerifiedBadge:r,showVerifiedIdentityBadge:a,storyAction:o,storyType:s,title:l,viewParameter:d,trackingParams:c}){const{logContextEvent:u}=(0,v.v)(),h=(0,B.useHistory)(),{text:m}=o||{};return(0,_.jsxs)(p.xu,{marginTop:n,"data-test-id":"lego-closeup-related-module-contents",width:"100%",children:[l&&(0,_.jsxs)(p.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:4,children:[(0,_.jsx)(p.xv,{weight:"bold",children:l}),r&&(0,_.jsx)(p.xu,{marginStart:1,children:(0,_.jsx)(fe.Z,{size:"sm",isVerifiedMerchant:t,showVerifiedIdentity:a})})]}),(0,_.jsx)(p.xu,{display:"flex",marginTop:4,justifyContent:"center",children:i.map(((e,t)=>(0,_.jsx)(N.GR,{viewType:3,loggingId:e.id,viewParameter:d,component:ke[s],auxData:{commerce_data:(0,ue.Z)({isEligibleForPdp:e.is_eligible_for_pdp,isOosProduct:e.is_oos_product,isStaleProduct:e.is_stale_product,pinShoppingFlags:e.shopping_flags})},slotIndex:t,children:(0,_.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{willChange:"transform"}},display:"flex",marginEnd:2!==t?2:0,overflow:"hidden",position:"relative",rounding:4,width:ve,children:(0,_.jsxs)(p.iP,{onTap:()=>(e=>{const t=(0,pe.Z)(c,e.tracking_params);u({component:ke[s],element:Ae[s],event_type:101,view_type:3,view_parameter:d,object_id_str:e.id,clientTrackingParams:t,aux_data:{closeup_navigation_type:"click",commerce_data:(0,ue.Z)({isEligibleForPdp:e.is_eligible_for_pdp,isOosProduct:e.is_oos_product,isStaleProduct:e.is_stale_product,pinShoppingFlags:e.shopping_flags}),cosmic_ray_count:"5",image_signature:e.image_signature}}),u({component:13680,event_type:101,view_type:3,view_parameter:d,aux_data:{commerce_data:(0,ue.Z)({isEligibleForPdp:e.is_eligible_for_pdp,isOosProduct:e.is_oos_product,isStaleProduct:e.is_stale_product,pinShoppingFlags:e.shopping_flags})}}),h.push(`/pin/${e.id}/`,{trackingParams:c})})(e),children:[(0,_.jsx)(ce,{pinId:e.id}),(0,_.jsx)(p.xu,{position:"absolute",marginTop:2,marginStart:2,top:!0,children:(0,_.jsx)(ge,{pinId:e.id,shouldRoundPrice:!0})})]})})},e.id)))}),m&&(0,_.jsx)(p.xu,{display:"flex",marginTop:4,marginBottom:4,justifyContent:"center",children:(0,_.jsx)(p.zx,{onClick:e,size:"lg",text:m})})]})}var xe=n(722767);function be({componentType:e,handleClick:t,isVerifiedMerchant:n,marginTop:r,objects:a,showVerifiedBadge:o,showVerifiedIdentityBadge:s,storyAction:l,storyType:d,title:c,viewParameter:u,trackingParams:p}){const[h,m]=(0,i.useState)(!1),g=(0,O.Z)();if(!a||!Array.isArray(a))return null;const f=a.filter((e=>"pin"===e.schema));if(f.length<3)return null;const v=Array.from(new Array(3)).map(((e,t)=>f[t]));return(0,_.jsx)(xe.Z,{options:{threshold:0},onVisibilityChange:t=>{const{intersectionRatio:n}=t[0];n>0&&!h&&(g({event_type:3400,view_type:3,view_parameter:u,component:e}),m(!0))},children:(0,_.jsx)(ye,{handleClick:t,isVerifiedMerchant:n,marginTop:r,pins:v,showVerifiedBadge:o,showVerifiedIdentityBadge:s,storyAction:l,storyType:d,title:c,viewParameter:u,trackingParams:p})})}var we=n(982828);const Se=()=>{};function Te({marginTop:e=12,onRelatedPinsTitleEnter:t,onRelatedPinsTitleExit:n,onRelatedPinsInView:r,title:a}){return a?(0,_.jsx)(i.Fragment,{children:(0,_.jsx)(p.xu,{marginTop:e,marginBottom:2,children:(0,_.jsx)(we.Z,{onEnter:t||Se,onExit:n||Se,onView:r||Se,children:(0,_.jsx)(p.xv,{size:"300",align:"center",weight:"bold",children:a})})})}):null}var Ie,Pe=n(167912);const Ee=["related_domain_collage","related_modules_header","related_products_collage","related_products_feed_header"],Ae={related_domain_collage:11830,related_domain_collage_similar:11829},ke={related_domain_collage:13327,related_domain_collage_similar:13882,related_products_collage:13176,related_products_feed_header:13176},Ce=void 0!==Ie?Ie:Ie=n(833045);function Re(e){const{marginTop:t,onRelatedPinsTitleEnter:n,onRelatedPinsTitleExit:a,onRelatedPinsInView:o,pinId:s,searchQuery:l,slotIndex:d,storyId:u,trafficSource:h,viewType:m,viewParameter:g,isEligibleForPdp:f,isOosProduct:y,isStaleProduct:x,pinShoppingFlags:b,pinLinkDomainOfficialUserIsVerifiedMerchant:w,pinLinkDomainOfficialUserVerifiedIdentityVerified:S,hasPin:T}=e,{logContextEvent:I}=(0,v.v)(),{isAuth:P}=(0,z.Z)(),{checkExperiment:E}=(0,c.F)(),A=(0,B.useHistory)(),k=f,C=(0,i.useMemo)((()=>k?8:0===t||t?t:12),[t,k]),R=(0,r.useSelector)((({stories:e})=>e[u]));if(!R)return null;const{action:j,content_ids:D,objects:O,story_type:L,title:{format:U},tracking_params:F}=R,M=ke[L];if("related_modules_header"===L||"related_products_feed_header"===L)return E(P?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,_.jsx)(N.qS,{auxData:{story_id:u,story_type:L},loggingId:u,objectIdStr:u,slotIndex:d,viewParameter:g,viewType:m,component:M,children:({impressionTrackerRef:e})=>(0,_.jsx)(p.xu,{ref:e,children:(0,_.jsx)(Te,{marginTop:C,onRelatedPinsTitleEnter:n,onRelatedPinsTitleExit:a,onRelatedPinsInView:o,title:U})})}):(0,_.jsx)(N.Hs,{auxData:{story_id:u,story_type:L},loggingId:u,objectIdStr:u,slotIndex:d,viewParameter:g,viewType:m,component:M,children:(0,_.jsx)(Te,{marginTop:C,onRelatedPinsTitleEnter:n,onRelatedPinsTitleExit:a,onRelatedPinsInView:o,title:U})});const{url:Z}=j||{};if(!T||!s||!Z)return null;const H=function(e,t){const n=e?`q=${e}`:null,i=t&&"unknown"!==t?`rs=${t}`:null;let r="";return n&&i?r=`?${n}&${i}`:!n&&i&&(r=`?${i}`),r}(l,h);let G=`${Z}${H}`;"related_products_collage"===L&&(G=H?`/pin/${s}/visual-search/${H}source=shopping&tab=1`:`/pin/${s}/visual-search/?source=shopping&tab=1`);const V=(D||[]).map((e=>`pin:${e}`)).join("|"),W=()=>{const e="related_domain_collage"===L?"related_domain_collage_similar":L;I({aux_data:{content_ids:V,story_id:u,story_type:L},component:ke[e],element:Ae[e],event_type:101,object_id_str:s,view_type:3,view_parameter:g}),I({aux_data:{commerce_data:(0,ue.Z)({isEligibleForPdp:f,isOosProduct:y,isStaleProduct:x,pinShoppingFlags:b})},component:13680,event_type:101,object_id_str:s,view_type:3,view_parameter:g}),A.push(G)};let K,q;return"related_domain_collage"===L&&(K=w,q=S),E(P?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,_.jsx)(N.qS,{auxData:{content_ids:V,story_id:u,story_type:L},component:M,loggingId:u,objectIdStr:u,slotIndex:d,viewParameter:g,viewType:m,children:({impressionTrackerRef:e})=>(0,_.jsx)(p.xu,{ref:e,children:(0,_.jsx)(be,{componentType:M,handleClick:W,isVerifiedMerchant:K,objects:O,showVerifiedBadge:K||q,showVerifiedIdentityBadge:!K&&q,storyAction:j,title:U,viewParameter:g,trackingParams:F,storyType:L,marginTop:C})})}):(0,_.jsx)(N.Hs,{auxData:{content_ids:V,story_id:u,story_type:L},component:M,loggingId:u,objectIdStr:u,slotIndex:d,viewParameter:g,viewType:m,children:(0,_.jsx)(be,{componentType:M,handleClick:W,isVerifiedMerchant:K,objects:O,showVerifiedBadge:K||q,showVerifiedIdentityBadge:!K&&q,storyAction:j,title:U,viewParameter:g,trackingParams:F,storyType:L,marginTop:C})})}function je({pinGraphqlRef:e,...t}){var n,i;const r=(0,Pe.useFragment)(Ce,e),a=null===(n=r.linkDomain)||void 0===n?void 0:n.officialUser;return(0,_.jsx)(Re,{isEligibleForPdp:r.isEligibleForPdp,isOosProduct:r.isOosProduct,isStaleProduct:r.isStaleProduct,pinShoppingFlags:r.shoppingFlags||void 0,pinLinkDomainOfficialUserIsVerifiedMerchant:(null==a?void 0:a.isVerifiedMerchant)||void 0,pinLinkDomainOfficialUserVerifiedIdentityVerified:(null==a||null===(i=a.verifiedIdentity)||void 0===i?void 0:i.verified)||void 0,hasPin:!!r,...t})}function De({pinId:e,...t}){var n,i;const r=(0,A.S6)()(e),a=null==r||null===(n=r.link_domain)||void 0===n?void 0:n.official_user;return(0,_.jsx)(Re,{pinId:e,isEligibleForPdp:null==r?void 0:r.is_eligible_for_pdp,isOosProduct:null==r?void 0:r.is_oos_product,isStaleProduct:null==r?void 0:r.is_stale_product,pinShoppingFlags:null==r?void 0:r.shopping_flags,pinLinkDomainOfficialUserIsVerifiedMerchant:null==a?void 0:a.is_verified_merchant,pinLinkDomainOfficialUserVerifiedIdentityVerified:null==a||null===(i=a.verified_identity)||void 0===i?void 0:i.verified,hasPin:!!r,...t})}function Oe({pinGraphqlRef:e,...t}){return e?(0,_.jsx)(je,{pinGraphqlRef:e,...t}):(0,_.jsx)(De,{...t})}var Ne,Le=n(163321);const Ue=["shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2"],Fe=(0,i.lazy)((()=>n.e(93810).then(n.bind(n,896731)))),Me=void 0!==Ne?Ne:Ne=n(922275);function ze({auxData:e,fullWidth:t,isMwebStructuredFeedExpEnabled:n,marginTop:i,onRelatedPinsTitleEnter:a,onRelatedPinsTitleExit:o,onRelatedPinsInView:s,pinId:l,slotIndex:d,storyData:c,storyId:u,trafficSource:m,viewParameter:g,viewType:f,pinGraphqlRef:v}){var y,x,w,S;const T=(0,r.useSelector)((({stories:e})=>e[u])),A=c||T,k=(0,le.Z)();if(!A||!A.story_type)return null;const{action:R,container_type:j,custom_properties:D,display_options:O,experience:N,story_type:L,title:z,description:B,objects:Z}=A;if(L===de.uQ&&D&&O){var G,V,W,K,$;const{actionType:e,hide_complete_button:t,image_alt:n,image:i,open_new_tab:r,avatar_image_details:a,example_pin_image_details:o,title_text_customization:s,description_text_customization:l}=D,{num_columns_requested:d,title_text_color:c}=O;return(0,_.jsx)(b,{isFullWidth:2===d,actionType:e,buttonAction:null!==(G=null==R?void 0:R.url)&&void 0!==G?G:"",buttonText:null!==(V=null==R?void 0:R.text)&&void 0!==V?V:"",experience:N,hideCompleteButton:t,imageAlt:n,imageUrl:i,openNewTab:r,avatarImageDetails:null!=a?a:{},examplePinImage:null!==(W=null==o?void 0:o.originals)&&void 0!==W?W:{},titleText:null!==(K=null==z?void 0:z.format)&&void 0!==K?K:"",titleTextColor:Le.e[c],titleTextCustomization:s,descriptionText:null!==($=null==B?void 0:B.format)&&void 0!==$?$:"",descriptionTextCustomization:l})}if(t)return n&&(0,Y.Z)(A.container_type)?(0,_.jsx)(p.xu,{marginBottom:5,children:(0,_.jsx)(F.Z,{name:"SafeSuspense_MobileApp_StructuredFeedStoryModule",children:(0,_.jsx)(J.Z,{children:(0,_.jsx)(Fe,{surface:"ShoppingDynamicHeightGrid",view:3,componentFallback:13176,viewParameter:g,initialSlotIndex:d,story:A})})})}):Ue.includes(L)&&0===O.num_columns_requested?(0,_.jsx)(p.xu,{marginBottom:5,children:(0,_.jsx)(q,{auxData:e,slotIndex:d,storyId:u,storyType:L,trafficSource:m,viewParameter:g,viewType:f})}):L.startsWith("creator_spotlight_")?(0,_.jsx)(p.xu,{marginBottom:5,children:(0,_.jsx)(U,{id:u})}):Ee.includes(L)&&l?(0,_.jsx)(Oe,{onRelatedPinsTitleEnter:a,onRelatedPinsTitleExit:o,onRelatedPinsInView:s,pinId:l,storyId:u,slotIndex:d,viewParameter:g,viewType:f,marginTop:i,pinGraphqlRef:v}):L.startsWith("related_articles")?(0,_.jsx)(se,{storyId:u,viewType:f,viewParameter:g}):L.startsWith("SKIN_TONE_FILTER_QUERIES")?(0,_.jsx)(E.Z,{title:z}):L.startsWith("search_pinner_authority_hero")?(0,_.jsx)(X,{storyId:u,slotIndex:0,exactMatch:!0}):null;if(Ue.includes(L)&&0===(null==O?void 0:O.num_columns_requested))return null;switch(j){case 56:return(0,_.jsx)(p.xu,{padding:2,children:(0,_.jsx)(P.Z,{slotIndex:d,storyId:u,viewType:f,viewParameter:g})})}switch(L){case"app_upsell":return k?(0,_.jsx)(M.Z,{experience:N,eligibleIds:[N.experience_id],children:(0,_.jsx)(h,{})}):null;case"feed_card_default":case"feed_card_video":var Q,ee,te;return(0,_.jsx)(Le.Z,{buttonAction:null!==(Q=null==R?void 0:R.url)&&void 0!==Q?Q:"",buttonCustomization:D.button_customization,buttonText:null!==(ee=null==R?void 0:R.text)&&void 0!==ee?ee:"",experience:N,hideCompleteButton:D.hide_complete_button,imageAlt:D.image_alt,imageUrl:D.image,openNewTab:D.open_new_tab,storyType:L,titleText:null!==(te=null==z?void 0:z.format)&&void 0!==te?te:"",titleTextColor:Le.e[O.title_text_color],titleTextCustomization:D.title_text_customization,videoPin:D.video_pin,videoPlaceholderImage:D.video_placeholder_image});case"user_brand_story":case"user_color_story":case"general_shopping_upsell":var ne,re,oe;return(0,_.jsx)(Le.Z,{buttonAction:null!==(ne=null==R?void 0:R.url)&&void 0!==ne?ne:"",buttonText:null!==(re=null==R?void 0:R.text)&&void 0!==re?re:"",imageAlt:null==D?void 0:D.image_alt,imageUrl:null==D?void 0:D.image,storyType:L,titleText:null!==(oe=null==z?void 0:z.format)&&void 0!==oe?oe:"",titleTextColor:Le.e[O.title_text_color]});case"user_brand_story_v1":return(0,_.jsx)(I,{buttonAction:null!==(y=null==R?void 0:R.url)&&void 0!==y?y:"",buttonText:null!==(x=null==R?void 0:R.text)&&void 0!==x?x:"",imageUrl:null==D?void 0:D.image,brands:Z});case"user_color_story_v1":return(0,_.jsx)(C,{buttonAction:null!==(w=null==R?void 0:R.url)&&void 0!==w?w:"",buttonText:null!==(S=null==R?void 0:R.text)&&void 0!==S?S:"",colors:Z});case"BUBBLE_ONE_COL":return(0,_.jsx)(p.xu,{padding:2,children:(0,_.jsx)(P.Z,{slotIndex:d,storyId:u,viewType:f,viewParameter:g})});case"social_seasonal_pin":return(0,_.jsx)(ae,{slotIndex:d,storyId:u,viewType:f,viewParameter:g,size:290});case"pinner_authority":case"pinner_authority_unified":return(0,_.jsx)(X,{storyId:u,slotIndex:d});case"stela_in_flashlight_onecol":return(0,_.jsx)(H,{storyId:u,slotIndex:d});case"search_guides":return(0,_.jsx)(ie,{guides:A.objects,slotIndex:d,storyId:u,title:z});default:return null}}function Be({pinGraphqlRef:e,...t}){const n=(0,Pe.useFragment)(Me,e);return(0,_.jsx)(ze,{pinGraphqlRef:n,...t})}function Ze({pinGraphqlRef:e,...t}){return e?(0,_.jsx)(Be,{pinGraphqlRef:e,...t}):(0,_.jsx)(ze,{pinGraphqlRef:null,...t})}},687866:(e,t,n)=>{n.d(t,{UG:()=>u,ZP:()=>_,aG:()=>p});var i=n(667294),r=n(116303),a=n(898781),o=n(52022),s=n(57791),l=n(940882),d=n(883119),c=n(785893);const u={large:"large",medium:"medium",small:"small",extra_small:"extra_small",article:"article",interest:"interest"},p={bubbleOverlay:{__style:{backgroundColor:"rgba(0, 0, 0, 0.3)"}}};function _({backgroundColor:e,bubbleId:t,bubbleUrl:n,coverImageUrl:_,curator:h,font:m,format:g,height:f,identifierIconType:v,onTap:y,pwtSurfaceContext:x,referringSource:b,subtitle:w,title:S,buttonFormat:T,contentAlign:I="center",textAlign:P="center",width:E="100%"}){const A=(0,a.ZP)(),k=(0,o.Z)(),[C,R]=(0,i.useState)("string"==typeof f?void 0:f),j=e=>{if(e){const t=e.offsetWidth,n="string"==typeof f?Number.parseFloat(f):100;R(t*n/100)}};if(!C)return(0,c.jsx)(d.xu,{ref:j,dangerouslySetInlineStyle:{__style:{paddingBottom:"string"==typeof f?Number.parseFloat(f)+"%":"100%",width:E}}});const D=g===u.article,O=g===u.interest,N=m||C>250&&"lg"||C>140&&g&&[u.medium,u.small,u.article].includes(g)&&"md"||C<120&&g&&g===u.small&&"xs"||"sm";return(0,c.jsx)(d.xu,{position:"relative","data-test-id":"search-suggestion","data-test-type":b,children:(0,c.jsx)(s.MZ,{to:n,isAppUpsellDisabled:!0,onTouch:()=>{y&&(k({action:"click",item:"search-suggestion"}),y(t))},rounding:4,children:(0,c.jsxs)(d.zd,{rounding:4,children:[(0,c.jsx)(d.xu,{width:E,height:C,children:_&&(0,c.jsx)(d.Ee,{alt:"",color:e,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:()=>{x&&x.markConstraintComplete("RenderSearchLandingPageBubbles")},role:"presentation",src:_})}),(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:p.bubbleOverlay,height:C,width:E,position:"absolute",top:!0,left:!0}),h&&!D&&(0,c.jsx)(d.xu,{position:"absolute",top:!0,left:!0,padding:2,children:(0,c.jsx)(r.Z,{outline:!0,size:"xs",src:h.image_small_url,name:h.full_name})}),!!v&&v!==l.J&&(0,c.jsx)(d.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24,children:(0,c.jsx)(d.JO,{icon:(0,l.Z)(v),accessibilityLabel:A.bt(" ", "Shopping icon", "bubble.shoppingIcon.label", undefined, true),color:"default",size:12})}),(0,c.jsx)(d.xu,{display:"flex",position:"absolute",top:!0,width:E,height:C,padding:D||O?6:C>100?3:1,alignItems:D||O?"end":"center",justifyContent:I,children:(0,c.jsxs)(d.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[w&&(0,c.jsx)(d.xv,{align:P,color:"light",size:"lg"===N?"300":"100",overflow:"normal",children:w}),["lg","md"].includes(N)?(0,c.jsx)(d.X6,{align:P,size:"md"===N&&O?"500":"lg"===N?"600":"400",color:"light",overflow:"normal",children:S}):(0,c.jsx)(d.xv,{align:P,color:"light",size:"sm"===N?"300":"100",overflow:"normal",weight:"bold",children:S}),h&&D&&(0,c.jsxs)(d.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4,children:[(0,c.jsx)(d.xu,{marginEnd:2,children:(0,c.jsx)(r.Z,{outline:!0,size:"xs",src:h.image_small_url,name:h.full_name})}),(0,c.jsx)(d.xv,{size:"100",color:"light",weight:"bold",children:h.full_name})]}),T&&(0,c.jsx)(d.xu,{marginTop:4,children:(0,c.jsx)(d.zx,{role:"link",text:T.text,href:T.href,size:T.size,accessibilityLabel:T.accessibilityLabel})})]})})]})})})}},368156:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(667294),r=n(702664),a=n(30439),o=n(149230),s=n(112690),l=n(861411),d=n(698330),c=n(940882),u=n(883119),p=n(785893);function _(e){const{auxData:t,pattern:n,slotIndex:_,storyId:h,viewType:m,viewParameter:g}=e,f=(0,d.mN)(),v=(0,s.Z)(),y=(0,r.useSelector)((({stories:e,articles:t})=>e[h].objects.map((e=>{const n=t[e.id];return n.curator&&"string"==typeof n.curator?{...n,curator:f(n.curator)}:n})))),x=(0,r.useSelector)((({stories:e})=>e[h])),{story_type:b,referring_source:w,title:S,display_options:T,action:I}=x,{identifier_icon_name:P}=T||{},E=y.map((({type:e,id:t})=>e+":"+t)).join("|"),A={story_type:b,story_id:h,content_ids:E,...t};return(0,p.jsx)(l.Hs,{loggingId:h,objectIdStr:h,viewParameter:g,viewType:m,slotIndex:_,component:200,auxData:A,children:(0,p.jsxs)(i.Fragment,{children:[S&&(0,p.jsxs)(u.xu,{display:"flex",marginBottom:2,justifyContent:"center",alignItems:"center",children:["number"==typeof P&&P!==c.J&&(0,p.jsx)(u.xu,{marginEnd:2,dangerouslySetInlineStyle:{__style:{paddingTop:1}},children:(0,p.jsx)(u.JO,{accessibilityLabel:"",color:"default",icon:(0,c.Z)(P),size:14})}),(0,p.jsx)(u.xv,{weight:"bold",children:S.format})]}),(0,p.jsx)(a.Z,{bubbles:y,pattern:n,referringSource:w,storyId:h,storyType:b,viewParameter:g,viewType:m}),I&&I.url&&(0,p.jsx)(u.xu,{display:"flex",width:"100%",justifyContent:"center",marginTop:1,children:(0,p.jsx)(u.zx,{role:"link",accessibilityLabel:I.text,color:"gray",onClick:()=>{v({view_type:m,view_parameter:g,aux_data:A,event_type:102})},text:I.text,href:I.url,rel:(0,o.Z)(I.url)?"nofollow":void 0,target:(0,o.Z)(I.url)?"blank":void 0,size:"md"})})]})})}},30439:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(936819),r=n(883119),a=n(687866),o=n(785893);function s(e){const{bubbles:t,onTouch:n,pattern:s=[a.UG.medium],pwtSurfaceContext:l,referringSource:d,storyId:c,storyType:u,viewParameter:p,viewType:_}=e,h=t.map((({type:e,id:t})=>e+":"+t)).join("|");return(0,o.jsx)(r.kC,{alignItems:"stretch",justifyContent:"between",width:"100%",wrap:!0,children:t.map(((e,t)=>{const m=s[t%s.length];return(0,o.jsx)(r.xu,{paddingY:1,width:[a.UG.small,a.UG.extra_small].includes(m)?"calc(50% - 4px)":"100%",children:(0,o.jsx)(i.Z,{auxData:{content_ids:h,story_type:u,grid_index:t},bubble:e,format:m,height:([a.UG.medium,a.UG.extra_small].includes(m)?"50%":m===a.UG.article&&"73%")||"100%",onTouch:n,pwtSurfaceContext:l,referringSource:d,slotIndex:t,storyId:c,viewParameter:p,viewType:_})},`bubble-${t}`)}))})}},212651:(e,t,n)=>{n.d(t,{Z:()=>T});var i=n(667294),r=n(936819),a=n(164985),o=n(687866),s=n(785893);function l({bubble:e,font:t,height:n,width:i="100%",onTouch:r}){const{id:a,url:l,title:d,dominant_color_css:c,image_urls:u,buttonText:p}=e;if(!d||!a||!u)return null;const _={text:p,accessibilityLabel:p,href:l,size:"md"};return(0,s.jsx)(o.ZP,{backgroundColor:null!=c?c:void 0,bubbleId:a,bubbleUrl:l,coverImageUrl:u[0],font:t,format:"interest",height:n,title:d,width:i,contentAlign:"start",textAlign:"start",buttonFormat:_,onTap:()=>r&&r({query:d})})}var d=n(894023),c=n(407043),u=n(366428),p=n(883119);function _({bubble:e,component:t,height:n,slotIndex:r,storyId:a,storyType:o,viewParameter:l,viewType:d}){var _;const{logContextEvent:h}=(0,c.v)(),[m,g]=(0,i.useState)("string"==typeof n?void 0:n),f=e=>{if(e){const t=e.offsetWidth,i="string"==typeof n?Number.parseFloat(n):100;g(t*i/100)}},{action:v,aux_fields:y,cover_images:x,dominant_colors:b,title:w,id:S}=e,T=(0,u.Z)({componentType:null!=t?t:void 0,contextLogData:{story_type:o},impressionType:"Article",loggingId:S,slotIndex:r,viewParameter:l,viewType:d});if(!m)return(0,s.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"string"==typeof n?Number.parseFloat(n)+"%":"100%"}},ref:f,width:"100%"});if(!x||x.length<=0||!w)return null;const{button_background_color:I,button_text_color:P}=y,E=x.slice(0,2).map((e=>{var t;return null===(t=e["474x"]||e["236x"])||void 0===t?void 0:t.url}));return(0,s.jsx)(p.iP,{role:"link",href:null!==(_=null==v?void 0:v.url)&&void 0!==_?_:"",onTap:()=>{h({aux_data:{story_id:a,story_type:"user_style_story_v2"},component:200,event_type:102,view_parameter:l,view_type:d})},rounding:4,children:(0,s.jsxs)(p.xu,{alignItems:"center",display:"flex",height:m,justifyContent:"center",overflow:"hidden",position:"relative",ref:T,rounding:4,width:"100%",children:[(0,s.jsx)(p.kC,{width:"100%",children:E.map(((e,t)=>(0,s.jsx)(p.zd,{height:m,wash:!0,width:2===E.length?"50%":"100%",children:(0,s.jsx)(p.Ee,{alt:"",color:(null!=b?b:[])[t],fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:null!=e?e:""})},t)))}),(0,s.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:I}},paddingX:4,paddingY:3,position:"absolute",rounding:"pill",children:(0,s.jsx)(p.xv,{align:"center",weight:"bold",children:(0,s.jsx)("p",{style:{color:P,margin:"0"},children:w.format})})})]})})}var h=n(112690),m=n(52022),g=n(57791),f=n(784641),v=n(643010),y=n(861411);const x=["#FFF8FA","#F8F7FF","#F7FBFF","#F7FDFC","#F6FDF5","#FFFEDB","#FFF6EB"];function b({backgroundColor:e,coverImageUrl:t,height:n,pwtTrackImageLoad:r,subtitle:a,title:l,width:d}){return(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(p.xu,{width:d,height:n,children:(0,s.jsx)(p.Ee,{alt:"",color:e,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:r,role:"presentation",src:t})}),(0,s.jsx)(p.xu,{dangerouslySetInlineStyle:o.aG.bubbleOverlay,height:n,left:!0,position:"absolute",top:!0,width:d}),(0,s.jsx)(p.xu,{alignItems:"center",display:"flex",height:n,justifyContent:"center",marginTop:4,padding:8,position:"absolute",top:!0,width:d,children:(0,s.jsxs)(p.kC,{alignItems:"stretch",direction:"column",gap:{row:0,column:1},justifyContent:"start",children:[a&&(0,s.jsx)(p.xv,{align:"center",color:"light",lineClamp:1,size:"300",overflow:"normal",children:a}),(0,s.jsx)(p.X6,{accessibilityLevel:1,align:"center",color:"light",lineClamp:3,size:"400",overflow:"normal",children:l})]})})]})}function w({backgroundColor:e,coverImageUrl:t,height:n,imgBackgroundColor:r,isDarkBackground:a,pwtTrackImageLoad:l,subtitle:d,title:c,width:u}){return(0,s.jsxs)(i.Fragment,{children:[(0,s.jsxs)(p.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e||x[c.charCodeAt(0)%x.length]}},height:n,position:"relative",width:u,children:[(0,v.Yc)()&&(0,s.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.3)"}},height:"100%",left:!0,position:"absolute",top:!0,width:"100%"}),(0,s.jsx)(p.xu,{alignItems:"center",display:"flex",height:.6*n,justifyContent:"center",marginTop:8,padding:8,position:"absolute",top:!0,width:u,children:(0,s.jsxs)(p.kC,{alignItems:"stretch",direction:"column",gap:{row:0,column:1},justifyContent:"start",children:[d&&(0,s.jsx)(p.xv,{align:"center",color:a?"light":"dark",overflow:"normal",size:"300",children:d}),(0,s.jsx)(p.X6,{accessibilityLevel:1,align:"center",color:a?"light":"dark",overflow:"normal",size:"400",children:c})]})})]}),(0,s.jsx)(p.xu,{alignItems:"end",bottom:!0,display:"flex",height:.5*n,marginBottom:-5,justifyContent:"center",position:"absolute",width:u,children:t.slice(0,3).map(((e,t)=>(0,s.jsx)(p.xu,{dangerouslySetInlineStyle:o.aG.bubbleOverlay,height:1===t?"100%":"80%",overflow:"hidden",rounding:4,width:1===t?"36%":"28.8%",zIndex:1===t?new p.Ry(1):void 0,marginStart:0!==t?-5:void 0,children:(0,s.jsx)(p.Ee,{alt:"",color:r,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:l,role:"presentation",src:e})},`TripleImageBubble-${t}`)))})]})}function S({auxData:e,bubble:t,immersiveHeader:n,onTouch:r,pwtSurfaceContext:a,referringSource:l,slotIndex:d,storyId:c,storyType:u,viewParameter:_,viewType:v}){const{article_creator_user:x,display_color:S,dominant_color_css:T,feed_source:I,has_dark_display_color:P=!1,id:E,image_urls:A,is_product_pin_feed:k,subtitle:C,title:R}=t,j=x&&x.full_name&&x.image_small_url?{full_name:x.full_name,image_small_url:x.image_small_url}:void 0,D=(0,h.Z)(),O=(0,m.Z)(),[N,L]=(0,i.useState)();if(!R||!E||!A)return null;const U=(0,f.T7)(null!=I?I:1,null!=k&&k,R,E),F=()=>{O({action:"click",item:"search-suggestion"}),D({view_type:v,view_parameter:_,object_id_str:E,component:13525,event_type:102,aux_data:{grid_index:d,story_id:c,story_type:u,today_article_id:E}}),r&&r({query:R})},M="100%",z=e=>{if(e){const t=e.offsetWidth,n=Number.parseFloat("85%");L(t*n/100)}};if(!N)return(0,s.jsx)(p.xu,{ref:z,dangerouslySetInlineStyle:{__style:{paddingBottom:Number.parseFloat("85%")+"%",width:M}}});const B=()=>{a&&a.markConstraintComplete("RenderSearchLandingPageBubbles")};return(0,s.jsx)(y.Y4,{auxData:{grid_index:d.toString(),story_id:c,story_type:u,today_article_id:E,...e},component:13525,impressionData:{storyIdStr:c},loggingId:c,objectIdStr:c,slotIndex:d,viewParameter:_,viewType:v,children:({impressionTrackerRef:e})=>n?(0,s.jsx)(p.xu,{"data-test-id":"search-suggestion","data-test-type":l,position:"relative",ref:e,children:(0,s.jsx)(g.MZ,{to:U,isAppUpsellDisabled:!0,onTouch:F,children:A.length>=3?(0,s.jsx)(w,{backgroundColor:S,coverImageUrl:A,height:N,imgBackgroundColor:null!=T?T:void 0,isDarkBackground:P,pwtTrackImageLoad:B,subtitle:null!=C?C:"",title:R,width:M}):(0,s.jsx)(b,{backgroundColor:null!=T?T:void 0,coverImageUrl:A[0],height:N,pwtTrackImageLoad:B,subtitle:null!=C?C:"",title:R,width:M})})}):(0,s.jsx)(o.ZP,{backgroundColor:T||"",bubbleId:E,bubbleUrl:U,curator:j,coverImageUrl:A[0],format:o.UG.article,height:"75%",onTap:F,pwtSurfaceContext:a,title:R,width:M})})}function T(e){const{action:t,bubbles:n,component:o,format:c,onTouch:u,pwtSurfaceContext:m,query:g,referringSource:f,storyId:v,storyType:y,viewParameter:x,viewType:b}=e,w=n.filter((e=>null!=e)),T=w.map((({type:e,id:t})=>`${null!=e?e:""}:${null!=t?t:""}`)).join("|"),I="slp_immersive_header"===y,P="user_style_story_v2"===y,E="shop_tab_upsell"===y,A="interest"===w[0].type,k=(0,i.useRef)(),C=(0,i.useRef)(),[R,j]=(0,i.useState)(0),{windowWidth:D}=(0,a.Z)(),O=I?D:D-32,N=w.length,L=E?"50%":"100%",[U,F]=(0,i.useState)(I||A),[M,z]=(0,i.useState)(!1),B=(0,h.Z)();return(0,i.useEffect)((()=>{const e=k.current,t=C.current;if(!e)return;const n=t=>{e.scrollTo({top:0,left:t,behavior:"smooth"})};let i;const r=()=>{clearTimeout(i),F(!1),z(!0),setTimeout((()=>{var e;let i=-(null!==(e=null==t?void 0:t.getBoundingClientRect().left)&&void 0!==e?e:0);i=I?i:i+16;const r=Math.floor((i+O/2)/O);n(r!==N-1||I?r*O:r*O-4),j(r)}),500)},a=()=>{const e=R===N-1?0:R+1;return n(e*O),j(e),i=setTimeout(a,4e3),()=>clearTimeout(i)};return U?(e.addEventListener("touchend",r),i=setTimeout(a,4e3)):M&&e.addEventListener("touchend",r),()=>{clearTimeout(i),U&&e.removeEventListener("touchend",r)}})),(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(p.xu,{marginEnd:-4,marginStart:-4,overflow:"hidden",width:"100vw",children:(0,s.jsx)(p.xu,{display:"flex",marginBottom:-2,overflow:"scrollX",paddingX:I?void 0:A?3:4,paddingY:I?void 0:3,ref:k,children:w.map(((e,n)=>{var i;const{type:a,schema:h}=e;let E=null;switch(a||h){case"explorearticle":E=P?(0,s.jsx)(_,{bubble:e,component:o,height:"75%",storyId:v,slotIndex:n,storyType:y,viewParameter:x,viewType:b}):(0,s.jsx)(r.Z,{auxData:{content_ids:T,story_type:y},bubble:e,format:c,height:"75%",onTouch:u,pwtSurfaceContext:m,referringSource:f,slotIndex:n,storyId:v,viewParameter:x,viewType:b});break;case"todayarticle":E=(0,s.jsx)(S,{auxData:{content_ids:T,story_type:y},bubble:e,immersiveHeader:I,onTouch:u,pwtSurfaceContext:m,referringSource:f,slotIndex:n,storyId:v,storyType:y,viewParameter:x,viewType:b});break;case"interest":E=(0,s.jsx)(l,{bubble:e,font:"md",height:"65%",onTouch:u});break;case"pin":E=n===w.length-1&&t?(0,s.jsx)(p.iP,{href:t.url,onTap:()=>{B({view_type:b,view_parameter:x,component:o,element:179,event_type:102,aux_data:{content_ids:T,entered_query:g,grid_index:n,story_type:y}})},role:"link",rounding:4,children:(0,s.jsxs)(p.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},position:"relative",children:[(0,s.jsx)(p.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:(0,s.jsx)(d.default,{auxData:{content_ids:T,entered_query:g,grid_index:n,story_type:y},componentType:o||14026,imageOnlyOption:"image-only",duploIsSquarePin:!0,pinId:e.id,slotIndex:n,viewParameter:x,viewType:b})}),(0,s.jsx)(p.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.4)"}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,rounding:4,top:!0,children:(0,s.jsx)(p.zx,{accessibilityLabel:t.text,size:"sm",text:t.text})})]})}):(0,s.jsx)(d.default,{auxData:{content_ids:T,entered_query:g,grid_index:n,story_type:y},componentType:o||14026,duploIsSquarePin:!0,pinId:e.id,slotIndex:n,trafficSource:"shop_feed",viewParameter:x,viewType:b})}return(0,s.jsx)(p.xu,{flex:"none",paddingX:I?void 0:1,ref:0===n?C:void 0,width:L,children:E},`bubble-${null!==(i=e.id)&&void 0!==i?i:""}`)}))})}),(I||A)&&(0,s.jsx)(p.xu,{marginBottom:I?5:-2,marginTop:I?-6:1,position:"relative",zIndex:new p.Ry(100),children:(0,s.jsx)(p.kC,{alignItems:"center",direction:"row",gap:{row:2,column:0},justifyContent:"center",children:[...Array(N).keys()].map((e=>{const t=R===e?"tertiary":"lightWash";return(0,s.jsx)(p.xu,{color:t,height:6,rounding:"circle",width:6},`indicator-dot-${e}`)}))})})]})}},131230:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(702664),r=n(212651),a=n(366428),o=n(883119),s=n(785893);function l({auxData:e,slotIndex:t,storyId:n,storyType:l,viewParameter:d,viewType:c}){var u;const p=(0,i.useSelector)((({stories:e})=>e[n])),{action:_,display_options:h,objects:m,title:g}=p,f=null==h||null===(u=h.content_display)||void 0===u?void 0:u.component_type,v=(null==e?void 0:e.entered_query)||"",y={entered_query:v,grid_index:t,story_id:n,story_type:l},x=(0,a.Z)({componentType:f,contextLogData:y,impressionType:"Story",loggingId:n,slotIndex:t,viewParameter:d,viewType:c}),b=(0,i.useSelector)((({articles:e})=>m.map((t=>{switch(t.schema){case"article":return e[t.id];case"pin":return t;default:return null}}))));return(0,s.jsxs)(o.xu,{ref:x,children:[g&&(0,s.jsx)(o.xu,{display:"flex",marginBottom:2,justifyContent:"center",alignItems:"center",children:(0,s.jsx)(o.xv,{weight:"bold",children:g.format})}),(0,s.jsx)(r.Z,{action:_,bubbles:b,component:f,query:v,storyId:n,storyType:l,viewParameter:d,viewType:c})]})}},936819:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(112690),r=n(861411),a=n(826067),o=n(687866),s=n(613316),l=n(785893);function d({auxData:e,bubble:t,font:n,format:d,height:c,onTouch:u,pwtSurfaceContext:p,referringSource:_,slotIndex:h,storyId:m,viewParameter:g,viewType:f,width:v="100%"}){var y;const{action:x,cover_images:b,curator:w,dominant_colors:S,id:T,identifier_icon_type:I,story_category:P,title:E}=t,A=(0,i.Z)();if(!b||!E)return null;const k=w&&w.full_name&&w.image_small_url?{full_name:w.full_name,image_small_url:w.image_small_url}:void 0,C=null===(y=b[0]&&(b[0]["474x"]||b[0]["236x"]))||void 0===y?void 0:y.url,R=E.format,j=(null==x?void 0:x.url)||(({storyCategory:e,query:t,referringSource:n,bubbleId:i,storyId:r,title:o})=>{const l=null!=e&&(0,s.y)(e),d=(0,a.XP)({q:t,rs:n||void 0,b_id:i,source_id:r}),c=l&&o?(0,s.x)({title:o,id:i,articleType:"discover"}):`/discover/article/${i}/`;return l?c:"/search/pins/"+(d?"?"+d:"")})({storyCategory:P,query:R,referringSource:_,bubbleId:T,storyId:m,title:R}),D=d===o.UG.article?13865:200,O=d===o.UG.article?102:6940,N=S&&S.length?S[0]:void 0;return(0,l.jsx)(r.fv,{auxData:{story_id:m,...e},impressionData:{storyCategory:P,storyIdStr:m},impressionType:"articleImpressions",loggingId:m,slotIndex:h,viewParameter:g,viewType:f,children:(0,l.jsx)(o.ZP,{backgroundColor:N,bubbleId:T,bubbleUrl:j,coverImageUrl:C,curator:k,font:n,format:d,height:c,identifierIconType:I,onTap:t=>{A({component:D,event_type:O,object_id_str:t,view_parameter:g,view_type:f,aux_data:{article_id:t,grid_index:h,...e}}),u&&u({query:R})},pwtSurfaceContext:p,referringSource:_,title:R,width:v})})}},248299:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(166300),r=n(898781),a=n(883119),o=n(785893);function s({isPinRep:e}){const t=(0,r.ZP)(),n=e?"default":"inverse",s=(0,o.jsx)(a.xu,{padding:e?1:0,"data-test-id":"unavailable-pin",children:(0,o.jsx)(a.xu,{color:e?"secondary":"dark",top:!0,height:e?314:"100vh",position:e?"static":"absolute",rounding:e?4:0,width:"100%",children:(0,o.jsxs)(a.kC,{height:"100%",direction:"column",justifyContent:"center",alignItems:"center",children:[(0,o.jsx)(a.xu,{paddingY:4,children:(0,o.jsx)(a.JO,{accessibilityLabel:t.bt(" ", "Pin not available", "story-pin.Closeup.UnavailableStoryPin.icon.accessibilityLabel", undefined, true),color:n,icon:"alert",size:20})}),(0,o.jsx)(a.xv,{align:"center",color:n,weight:"bold",children:t.bt("", "Unavailable", "story-pin.Closeup.UnavailableStoryPin.Unavailable", undefined, true)}),(0,o.jsx)(a.xu,{paddingY:1,children:(0,o.jsx)(a.xv,{align:"center",color:n,children:t.bt(" ", "Removed by the creator", "story-pin.Closeup.UnavailableStoryPin.Removed", undefined, true)})})]})})});return e?s:(0,o.jsx)(a.xu,{height:"100vh",children:(0,o.jsx)(i.Z,{children:s})})}},269695:(e,t,n)=>{n.d(t,{m:()=>o,z:()=>s});var i=n(667294),r=n(785893);const a=(0,i.createContext)();function o({children:e}){const[t,n]=(0,i.useState)(null),o=(0,i.useMemo)((()=>({streamLocationState:t,setStreamLocationState:n})),[t]);return(0,r.jsx)(a.Provider,{value:o,children:e})}function s(){const e=(0,i.useContext)(a);if(void 0===e)throw new Error("useStreamLocationContext must be used within a StreamLocationContextProvider");return e}},258430:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),r=n(130460),a=n(785893);function o({boardId:e}){var t;const n=(0,r.gC)()(e),o=null!=n&&n.images&&n.images["170x"]?n.images["170x"][0]:void 0;return e&&o?(0,a.jsx)(i.Ee,{alt:"Pin image",color:"#efefef",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!==(t=o.url)&&void 0!==t?t:""}):null}},759929:(e,t,n)=>{n.d(t,{k:()=>o,w:()=>a});var i=n(379764),r=n(883119);const a=2e3,o=new r.H3([i.Z])},909792:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(531029),r=n(198125),a=n(50286),o=n(883119),s=n(785893);const l=({imageUrls:e,subtitle:t,subtitleSize:n,subtitleWeight:l,title:d,titleSize:c})=>{var u;const p=(0,a.HG)(),{isHovering:_,handleMouseEnter:h,handleMouseLeave:m}=(0,r.Z)();return!e||e.length<=0?null:(0,s.jsxs)(o.xu,{borderStyle:"shadow",color:"default",overflow:"hidden",position:"relative",rounding:8,dangerouslySetInlineStyle:{__style:{paddingTop:"75%"}},onMouseEnter:p?h:void 0,onMouseLeave:p?m:void 0,children:[_&&(0,s.jsx)(i.Z,{}),(0,s.jsx)(o.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:(0,s.jsx)(o.Ee,{alt:d,color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!==(u=e[0])&&void 0!==u?u:"",children:(0,s.jsx)(o.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:{background:"linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.4) 100%)"}},display:"flex",alignItems:"end",paddingY:6,paddingX:5,children:(0,s.jsxs)(o.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",width:"100%",children:[t&&(0,s.jsx)(o.xu,{marginBottom:1,children:(0,s.jsx)(o.xv,{color:"light",size:n,align:"center",weight:l,children:t})}),(0,s.jsx)(o.X6,{color:"light",size:c,align:"center",children:d})]})})})})]})}},736609:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(830157),r=n(531029),a=n(326860),o=n(198125),s=n(861411),l=n(50286),d=n(276775),c=n(883119),u=n(785893);const p=function({articleId:e,creatorId:t,creatorFullName:n,creatorImgSrc:p,creatorIsVerified:_,gridIndex:h,imageHeight:m,imageWidth:g,imageUrl:f,pinId:v,showCreator:y,trackingParams:x,title:b,viewParameter:w,viewType:S}){const T=(0,d.useLocation)(),{isHovering:I,handleMouseEnter:P,handleMouseLeave:E}=(0,o.Z)(),A=(0,l.HG)();return(0,u.jsxs)(c.xu,{borderStyle:"shadow",position:"relative",color:"default",onMouseEnter:A?P:void 0,onMouseLeave:A?E:void 0,overflow:"hidden",rounding:8,children:[I&&(0,u.jsx)(r.Z,{}),(0,u.jsx)(s.dL,{auxData:{grid_index:h,today_article_id:e},loggingId:v,objectIdStr:v,slotIndex:h,impressionData:{imageURL:f},component:13525,trackingParams:(0,i.Z)((T.state||{}).trackingParams,x),viewParameter:w,viewType:S,children:({impressionTrackerRef:e})=>(0,u.jsx)(c.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingTop:"number"==typeof m&&"number"==typeof g?m/g*100+"%":"100%"}},ref:e,children:(0,u.jsx)(c.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:(0,u.jsx)(c.Ee,{alt:b,color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!=f?f:""})})})}),(0,u.jsxs)(c.xu,{paddingX:6,paddingY:4,display:"flex",justifyContent:"center",direction:"column",children:[(0,u.jsx)(c.X6,{align:"center",size:"400",children:b}),y&&(t||n)&&(0,u.jsx)(c.xu,{display:"flex",marginTop:3,justifyContent:"center",children:(0,u.jsx)(a.Z,{userId:t,creatorFullName:n,creatorImgSrc:p,creatorIsVerified:_})})]})]})}},91937:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(116303),r=n(830157),a=n(167525),o=n(861411),s=n(276775),l=n(883119),d=n(785893);const c=({articleId:e,gridIndex:t,hasPinnerAttribution:n,imageHeight:c,imageWidth:u,imageUrl:p,pageCount:_,pinId:h,pinnerImageSrc:m,pinnerName:g,pinTrackingParams:f,title:v,viewParameter:y,viewType:x})=>{const b=(0,s.useLocation)();return(0,d.jsxs)(l.xu,{borderStyle:"shadow",color:"default",overflow:"hidden",paddingY:6,rounding:8,children:[(0,d.jsx)(l.xu,{paddingX:6,display:"flex",justifyContent:"center",children:(0,d.jsx)(l.X6,{align:"center",size:"400",children:v})}),(0,d.jsx)(o.dL,{auxData:{grid_index:t,today_article_id:e},loggingId:h,objectIdStr:h,slotIndex:t,impressionData:{imageURL:p},component:13525,trackingParams:(0,r.Z)((b.state||{}).trackingParams,f),viewParameter:y,viewType:x,children:({impressionTrackerRef:e})=>(0,d.jsxs)(l.xu,{marginTop:4,paddingX:12,ref:e,children:[(0,d.jsx)(l.zd,{rounding:8,children:(0,d.jsx)(l.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingTop:"number"==typeof c&&"number"==typeof u?c/u*100+"%":"100%"}},children:(0,d.jsx)(l.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:(0,d.jsx)(l.Ee,{alt:"",color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!=p?p:"",children:(0,d.jsx)(l.xu,{position:"relative",marginStart:1,marginTop:1,children:(0,d.jsx)(a.Z,{icon:"idea-pin",text:_.toString()})})})})})}),n&&(0,d.jsxs)(l.xu,{alignItems:"center",display:"flex",marginTop:2,maxWidth:"100%",children:[(0,d.jsx)(l.xu,{flex:"none",height:44,width:44,marginEnd:2,children:(0,d.jsx)(i.Z,{name:"",outline:!0,size:"fit",src:m})}),(0,d.jsx)(l.xv,{lineClamp:1,children:g})]})]})})]})}},371172:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(830157),r=n(531029),a=n(326860),o=n(198125),s=n(619519),l=n(861411),d=n(50286),c=n(276775),u=n(883119),p=n(785893);const _=function({articleId:e,creatorId:t,creatorFullName:n,creatorImgSrc:_,creatorIsVerified:h,gridIndex:m,height:g,pinDescription:f,pinImageHeight:v,pinImageUrl:y,pinImageWidth:x,showCreator:b,thumbnail:w,title:S,trackingParams:T,url:I,videoPinId:P,viewParameter:E,viewType:A,width:k}){const C=(0,c.useLocation)(),R=(0,d.HG)(),{isHovering:j,handleMouseEnter:D,handleMouseLeave:O}=(0,o.Z)();return(0,p.jsxs)(u.xu,{borderStyle:"shadow",color:"default",direction:"column",display:"flex",flex:"none",overflow:"hidden",rounding:8,dangerouslySetInlineStyle:{__style:{transform:"translate3d(0, 0, 0)"}},onMouseEnter:R?D:void 0,onMouseLeave:R?O:void 0,children:[j&&(0,p.jsx)(r.Z,{}),(0,p.jsx)(l.dL,{auxData:{grid_index:m,today_article_id:e},loggingId:P,objectIdStr:P,slotIndex:m,impressionData:{imageURL:y},component:13525,trackingParams:(0,i.Z)((C.state||{}).trackingParams,T),viewParameter:E,viewType:A,children:({impressionTrackerRef:e})=>(0,p.jsx)(u.xu,{ref:e,children:(0,p.jsx)(s.Z,{height:g,thumbnail:w,url:I,width:k,pinDescription:f,pinImageUrl:y,pinImageHeight:v,pinImageWidth:x})})}),(0,p.jsxs)(u.xu,{paddingX:6,paddingY:4,display:"flex",justifyContent:"center",direction:"column",children:[(0,p.jsx)(u.X6,{align:"center",size:"400",children:S}),b&&(t||n)&&(0,p.jsx)(u.xu,{display:"flex",marginTop:3,justifyContent:"center",children:(0,p.jsx)(a.Z,{userId:t,creatorFullName:n,creatorImgSrc:_,creatorIsVerified:h})})]})]})}},591289:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(531029),r=n(198125),a=n(50286),o=n(276602),s=n(883119),l=n(785893);function d({imageUrls:e,rounding:t,subtitle:n,subtitleSize:d,title:c,titleSize:u}){const p=(0,a.HG)(),_=(0,o.EV)();let h=0;const m=()=>{h-=1,0===h&&(null==_||_.markConstraintComplete("idea_module_loaded"))},{isHovering:g,handleMouseEnter:f,handleMouseLeave:v}=(0,r.Z)();if(!e||e.length<=0)return null;const y=e.slice(0,3);return _&&(h=y.length),(0,l.jsxs)(s.xu,{borderStyle:"shadow",color:"default",overflow:"hidden",position:"relative",rounding:null!=t?t:8,dangerouslySetInlineStyle:{__style:{paddingTop:"75%"}},onMouseEnter:p?f:void 0,onMouseLeave:p?v:void 0,children:[g&&(0,l.jsx)(i.Z,{}),(0,l.jsxs)(s.xu,{display:"flex",direction:"column",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[(0,l.jsx)(s.kC,{alignItems:"stretch",justifyContent:"start",height:"100%",width:"100%",children:y.map(((e,t)=>(0,l.jsx)(s.xu,{width:100/y.length+"%",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:(0,l.jsx)(s.Ee,{alt:"",color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:null!=e?e:"",onLoad:m})},t)))}),(0,l.jsxs)(s.xu,{flex:"none",paddingX:5,paddingY:6,width:"100%",children:[n&&(0,l.jsx)(s.xu,{marginBottom:1,children:(0,l.jsx)(s.xv,{size:d,align:"center",weight:p?"bold":"normal",children:n})}),(0,l.jsx)(s.X6,{size:u,align:"center",children:c})]})]})]})}},228153:(e,t,n)=>{n.d(t,{i:()=>T,y:()=>b});var i,r=n(725214),a=n(909792),o=n(736609),s=n(91937),l=n(371172),d=n(591289),c=n(112690),u=n(52022),p=n(861411),_=n(276775),h=n(50286),m=n(780280),g=n(784641),f=n(883119),v=n(167912),y=n(785893);const x=new Set([3,2,6]),b=({ArticleModule:e,clientTrackingParams:t,id:n,displayType:i,gridIndex:a,isTodayArticlePage:o=!1,onArticleTapUrl:s,pinId:l,viewParameter:d,viewType:m})=>{const g=(0,_.useHistory)(),v=(0,c.Z)(),b=(0,u.Z)(),S=(0,h.HG)();return(0,y.jsx)(p.Y4,{auxData:{grid_index:a.toString(),today_article_id:n},loggingId:n,objectIdStr:n,slotIndex:a,viewParameter:d||3372,viewType:m||1,children:({impressionTrackerRef:c})=>(0,y.jsx)(f.xu,{ref:c,"data-test-id":"suggested-articles-link",children:(0,y.jsx)(w,{href:s,isTodayArticlePage:o,onTap:()=>{v({event_type:S?101:102,view_type:m||1,view_parameter:d||3372,component:13525,aux_data:{today_article_id:n,grid_index:a.toString()}}),b({action:"click",item:"suggested-articles-link"}),"number"==typeof i&&x.has(i)&&t&&l&&v({event_type:S?101:102,view_type:m||1,view_parameter:d||3372,object_id_str:l,clientTrackingParams:t,aux_data:{today_article_id:l,grid_index:a.toString(),cosmic_ray_count:"4",closeup_navigation_type:(0,r.Z)(g)}}),g.push(s)},children:e})})})},w=({children:e,href:t,isTodayArticlePage:n,onTap:i})=>{const{isAuthenticated:r}=(0,m.B)(),a=(0,h.HG)();return r?(0,y.jsx)(f.iP,{onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),i({event:e})},tapStyle:"compress",children:a?(0,y.jsx)(f.xu,{width:n?void 0:408,minHeight:n?void 0:306,children:e}):e}):(0,y.jsx)(f.iP,{href:t,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),i({event:e})},role:"link",children:a?(0,y.jsx)(f.xu,{width:n?void 0:408,minHeight:n?void 0:306,children:e}):e})},S=void 0!==i?i:i=n(584818),T=({containerKey:e,gridIndex:t,subtitleSize:n,titleSize:i,viewParameter:r,viewType:c})=>{var u,p,_,h,m,f,x,w,T,I,P,E,A,k,C,R;const{contentPinOfficialUser:j,contentPin:D,displayType:O,feedSource:N,headerPinId:L,id:U,imageUrls:F,isProductPinFeed:M,showCreator:z,subtitle:B,title:Z,videoPin:H}=(0,v.useFragment)(S,e);let G=null,V=(0,g.T7)(null!=N?N:0,null!=M&&M,null!=Z?Z:"",null!=U?U:"");const{description:W,images170x:K,images236x:q,images736x:Y,pinner:$,storyPinData:X,trackingParams:J}=null!=D?D:{},Q=null!==(u=null!==(p=null!==(_=null==Y?void 0:Y.url)&&void 0!==_?_:null==q?void 0:q.url)&&void 0!==p?p:null==K?void 0:K.url)&&void 0!==u?u:"",ee=null!==(h=null!==(m=null==Y?void 0:Y.width)&&void 0!==m?m:null==q?void 0:q.width)&&void 0!==h?h:null==K?void 0:K.width,te=null!==(f=null!==(x=null==Y?void 0:Y.height)&&void 0!==x?x:null==q?void 0:q.height)&&void 0!==f?f:null==K?void 0:K.height,{originPinner:ne}=null!=D?D:{},ie=j||ne||$;switch(O){case 0:G=(0,y.jsx)(a.Z,{imageUrls:F,subtitle:null!=B?B:"",subtitleSize:n||"300",title:null!=Z?Z:"",titleSize:i||"500"});break;case 1:G=(0,y.jsx)(d.Z,{imageUrls:F,subtitle:null!=B?B:"",subtitleSize:n||"300",title:null!=Z?Z:"",titleSize:i||"500"});break;case 2:const{entityId:e,videos:u}=null!=H?H:{},p=null!==(w=null==u||null===(T=u.videoList)||void 0===T?void 0:T.v720P)&&void 0!==w?w:{};var re;if(e)G=(0,y.jsx)(l.Z,{articleId:null!=U?U:"",creatorFullName:null==ie?void 0:ie.fullName,creatorImgSrc:(null==ie?void 0:ie.imageMediumUrl)||(null==ie?void 0:ie.imageSmallUrl),creatorIsVerified:Boolean(null==ie||null===(re=ie.verifiedIdentity)||void 0===re?void 0:re.verified),gridIndex:t,height:p.height,pinDescription:W,pinImageUrl:Q,pinImageHeight:te,pinImageWidth:ee,showCreator:Boolean(z),thumbnail:p.thumbnail,title:null!=Z?Z:"",trackingParams:J,url:p.url,videoPinId:e,viewParameter:r,viewType:c,width:p.width}),V=`/pin/${e}`;break;case 3:if(!Q)return null;G=(0,y.jsx)(o.Z,{articleId:null!=U?U:"",creatorFullName:null==ie?void 0:ie.fullName,creatorImgSrc:(null==ie?void 0:ie.imageMediumUrl)||(null==ie?void 0:ie.imageSmallUrl),creatorIsVerified:Boolean(null==ie||null===(I=ie.verifiedIdentity)||void 0===I?void 0:I.verified),imageUrl:Q,imageHeight:null!=te?te:0,imageWidth:null!=ee?ee:0,gridIndex:t,pinId:null!==(P=null==D?void 0:D.entityId)&&void 0!==P?P:"",showCreator:Boolean(z),title:null!=Z?Z:"",trackingParams:J,viewParameter:r,viewType:c}),V=L?`/pin/${L}`:V;break;case 6:if(!Q)return null;const _=null!==(E=null!==(A=null==$?void 0:$.imageMediumUrl)&&void 0!==A?A:null==$?void 0:$.imageSmallUrl)&&void 0!==E?E:"",h=null!==(k=null==$?void 0:$.fullName)&&void 0!==k?k:"",m=Boolean(_||h);return(0,y.jsx)(s.Z,{articleId:null!=U?U:"",gridIndex:t,hasPinnerAttribution:m,imageUrl:Q,imageHeight:null!=te?te:0,imageWidth:null!=ee?ee:0,pageCount:null!==(C=null==X?void 0:X.pageCount)&&void 0!==C?C:"",pinId:null!==(R=null==D?void 0:D.entityId)&&void 0!==R?R:"",pinnerImageSrc:_,pinnerName:h,pinTrackingParams:J,title:null!=Z?Z:"",viewParameter:r,viewType:c});default:G=null}return G?(0,y.jsx)(b,{ArticleModule:G,displayType:O,gridIndex:t,id:null!=U?U:"",onArticleTapUrl:V,viewParameter:r,viewType:c}):null}},531029:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),r=n(785893);const a=new i.Ry(1);function o(){return(0,r.jsx)(i.xu,{opacity:.1,color:"transparentDarkGray",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,zIndex:a})}},326860:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),r=n(116303),a=n(865607),o=n(698330),s=n(883119),l=n(785893);const d=function({userId:e,creatorFullName:t,creatorImgSrc:n,creatorIsVerified:d}){var c;const u=null!==(c=(0,o.mN)()(null!=e?e:""))&&void 0!==c?c:{},{fullNameFromStore:p,imgSrcFromStore:_,isVerifiedFromStore:h}=function(e){const{full_name:t,image_medium_url:n,image_small_url:i,verified_identity:r}=e;return{fullNameFromStore:t,imgSrcFromStore:n||i,isVerifiedFromStore:Boolean(null==r?void 0:r.verified)}}(u),m=e?p:t,g=e?_:n,f=e?h:d;return(0,l.jsx)(s.kC,{alignContent:"center",alignItems:"center",flex:"none",justifyContent:"center",width:"100%",children:m&&(0,l.jsxs)(i.Fragment,{children:[(0,l.jsx)(s.xu,{paddingX:1,children:(0,l.jsx)(r.Z,{name:m,size:"sm",src:null!=g?g:""})}),(0,l.jsx)(s.xu,{minWidth:0,paddingX:1,children:(0,l.jsx)(s.xv,{lineClamp:1,size:"300",weight:"bold",children:m})}),f&&(0,l.jsx)(s.xu,{paddingX:1,children:(0,l.jsx)(a.Z,{hasVerifiedIdentity:f,iconOnly:!0,size:"xs"})})]})})}},502962:(e,t,n)=>{n.d(t,{Z:()=>E});var i=n(702664),r=n(909792),a=n(116303),o=n(635974),s=n(531029),l=n(198125),d=n(112690),c=n(50286),u=n(780280),p=n(883119),_=n(785893);const h=Math.floor(24),m=({articleId:e,imageUrls:t,subtitle:n,title:i,viewParameter:r,viewType:m,user:g})=>{const{isAuthenticated:f}=(0,u.B)(),v=(0,c.HG)(),{isHovering:y,handleMouseEnter:x,handleMouseLeave:b}=(0,l.Z)(),w=(0,d.Z)();if(!g||!t||t.length<=0)return null;const{full_name:S,image_medium_url:T,image_small_url:I}=g,P=T||I||"",E=Math.min(t.length,3),A={aux_data:{today_article_id:e},component:13525,object_id_str:e,view_parameter:r,view_type:m};return(0,_.jsxs)(p.xu,{borderStyle:"shadow",color:"default",onMouseEnter:v?x:void 0,onMouseLeave:v?b:void 0,overflow:"hidden",rounding:8,children:[y&&(0,_.jsx)(s.Z,{}),(0,_.jsx)(p.xu,{display:"flex",position:"relative",width:"100%",dangerouslySetInlineStyle:{__style:{paddingTop:"45%"}},children:(0,_.jsx)(p.xu,{display:"flex",height:"100%",direction:"row",left:!0,position:"absolute",top:!0,width:"100%",children:t.slice(0,E).map(((e,t)=>(0,_.jsx)(p.xu,{width:100/E+"%",children:(0,_.jsx)(p.Ee,{alt:"",color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:e},t)})))})}),(0,_.jsxs)(p.xu,{flex:"none",paddingX:5,paddingY:6,position:"relative",width:"100%",children:[(0,_.jsx)(p.xu,{height:48,position:"absolute",width:48,dangerouslySetInlineStyle:{__style:{left:`calc(50% - ${h}px)`,top:`-${h}px`}},children:(0,_.jsx)(a.Z,{name:null!=S?S:"",outline:!0,size:"fit",src:P})}),i&&(0,_.jsx)(p.xu,{marginTop:2,children:(0,_.jsx)(p.X6,{size:"400",align:"center",children:i})}),n&&(0,_.jsx)(p.xu,{marginTop:2,children:(0,_.jsx)(p.xv,{align:"center",size:"100",children:n})}),f&&(0,_.jsx)(p.xu,{display:"flex",justifyContent:"center",marginTop:3,children:(0,_.jsx)(o.Z,{isSecondaryButton:!0,onTap:()=>{w({...A,element:62,event_type:v?101:102})},size:"lg",user:g,viewParameter:r,viewType:m})})]})]})};var g=n(736609),f=n(784641),v=n(350118);function y({articleId:e,gridIndex:t,pinId:n,pinOfficialUserId:i,showCreator:r,title:a,viewParameter:o,viewType:s}){const l=(0,v.S6)()(n||"");if(!l)return null;const{id:d,images:c,origin_pinner:u,pinner:p,tracking_params:h}=l,m=(null==c?void 0:c["736x"])||(null==c?void 0:c["236x"])||(null==c?void 0:c["170x"]);if(!m)return null;const y=(0,f.xt)(i,null==u?void 0:u.id,null==p?void 0:p.id);return(0,_.jsx)(g.Z,{articleId:e,creatorId:y,gridIndex:t,pinId:d,imageHeight:m.height,imageUrl:m.url,imageWidth:m.width,showCreator:r,title:a,trackingParams:h,viewParameter:o,viewType:s})}var x=n(91937);const b=({articleId:e,gridIndex:t,pinId:n,title:i,viewParameter:r,viewType:a})=>{const o=(0,v.S6)()(n||""),s=null==o?void 0:o.pinner,l=null==o?void 0:o.story_pin_data;if(!o)return null;const d=(null==l?void 0:l.page_count)||"",{images:c}=o,u=(null==c?void 0:c["736x"])||(null==c?void 0:c["236x"])||(null==c?void 0:c["170x"]);if(!u)return null;const p=(null==s?void 0:s.image_medium_url)||(null==s?void 0:s.image_small_url)||"",h=(null==s?void 0:s.full_name)||"",m=Boolean(p||h);return(0,_.jsx)(x.Z,{articleId:e,imageHeight:u.height,imageWidth:u.width,imageUrl:u.url,gridIndex:t,hasPinnerAttribution:m,pageCount:d,pinId:o.id,pinnerImageSrc:p,pinnerName:h,pinTrackingParams:o.tracking_params,title:i,viewParameter:r,viewType:a})};var w=n(371172);function S({articleId:e,gridIndex:t,pinOfficialUserId:n,showCreator:i,title:r,videoPinId:a,viewParameter:o,viewType:s}){var l,d;const c=(0,v.S6)()(a);if(!c)return null;const{description:u,images:p,origin_pinner:h,pinner:m,tracking_params:g}=c,y=(0,f.xt)(n,null==h?void 0:h.id,null==m?void 0:m.id),x=(null==p?void 0:p["736x"])||(null==p?void 0:p["236x"])||(null==p?void 0:p["170x"])||{},{url:b,height:S,width:T}=null!=x?x:{},I=null===(l=c.videos)||void 0===l||null===(d=l.video_list)||void 0===d?void 0:d.V_720P,{height:P,thumbnail:E,url:A,width:k}=null!=I?I:{};return(0,_.jsx)(w.Z,{articleId:e,creatorId:y,gridIndex:t,height:P,pinDescription:u,pinImageHeight:S,pinImageUrl:b,pinImageWidth:T,showCreator:i,title:r,trackingParams:g,thumbnail:E,url:A,videoPinId:a,viewParameter:o,viewType:s,width:k})}var T=n(591289),I=n(228153),P=n(698330);const E=({gridIndex:e,id:t,isTodayArticlePage:n,article:a,subtitleSize:o,subtitleWeight:s,titleSize:l,viewParameter:d,viewType:c})=>{const u=(0,P.kW)(),p=(0,i.useSelector)((({todayArticles:e})=>a||e[t])),h=p.content_pin||p.video_pin,g=(0,v.S6)()(h||"");if(!p)return null;const{article_creator_user:x,content_pin:w,content_pin_official_user:E,display_type:A,feed_source:k,header_pin_id:C,image_urls:R,is_product_pin_feed:j,show_creator:D,subtitle:O,title:N,video_pin:L}=p,U=u[x||""],F=h?null==g?void 0:g.tracking_params:void 0;let M=null,z=(0,f.T7)(k,null!=j&&j,N,t);switch(A){case 0:M=(0,_.jsx)(r.Z,{imageUrls:R,subtitle:O,subtitleSize:o||"300",subtitleWeight:s,title:N,titleSize:l||"500"});break;case 1:M=(0,_.jsx)(T.Z,{imageUrls:R,subtitle:O,subtitleSize:o||"300",title:N,titleSize:l||"500"});break;case 2:L&&(M=(0,_.jsx)(S,{articleId:t,gridIndex:e,pinOfficialUserId:E,showCreator:D,title:N,videoPinId:L,viewParameter:d,viewType:c}),z=`/pin/${L}`);break;case 3:M=(0,_.jsx)(y,{articleId:t,gridIndex:e,pinId:w,pinOfficialUserId:E,showCreator:D,title:N,viewParameter:d,viewType:c}),z=`/pin/${C}`;break;case 6:M=(0,_.jsx)(b,{articleId:t,gridIndex:e,pinId:w,title:N,viewParameter:d,viewType:c}),z=`/pin/${C}`;break;case 8:U?(M=(0,_.jsx)(m,{articleId:t,imageUrls:R,subtitle:O,title:N,user:U,viewParameter:d,viewType:c}),z=`/${encodeURIComponent(U.username)}/`):M=null;break;default:M=null}return M?(0,_.jsx)(I.y,{ArticleModule:M,clientTrackingParams:F,displayType:A,gridIndex:e,id:t,isTodayArticlePage:n,onArticleTapUrl:z,pinId:h,viewParameter:d,viewType:c}):null}},182476:(e,t,n)=>{n.d(t,{Z:()=>S});var i,r=n(702664),a=n(815613),o=n(780280),s=n(633083),l=n(898781),d=n(892819),c=n(883119),u=n(167912),p=n(785893);const _=({backgroundColor:e,decreaseNamePadding:t,isHomefeedTuner:n,isLego:i,isSelected:r,locale:a,nameTextSize:o,renderAsPill:u,showFollowerCount:_,topicName:h,followerCount:m,image:g})=>{var f;const v=(0,l.ZP)(),y=(0,d.Z)(),x=(0,p.jsx)(c.JO,{accessibilityLabel:v.bt("", "Selected", " - ", undefined, true),color:"inverse",icon:i?"check":"check-circle",size:i?12:24});return u?(0,p.jsx)(s.Z,{color:e||"#767676",image:g,isSelected:null!=r&&r,title:h}):(0,p.jsxs)(c.xu,{position:"relative","aria-selected":r,children:[(0,p.jsx)(c.zd,{rounding:i||n?4:2,children:(0,p.jsxs)(c.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},children:[(0,p.jsx)(c.xu,{bottom:!0,left:!0,padding:i&&r?1:0,position:"absolute",right:!0,rounding:i&&r?4:0,top:!0,children:(0,p.jsx)(c.Ee,{alt:h,color:e||"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!==(f=g.url)&&void 0!==f?f:""})}),(0,p.jsx)(c.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:r?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",border:i&&r?"4px solid #767676":"none"}},rounding:i?4:void 0,position:"absolute",left:!0,right:!0,top:!0}),i&&r&&(0,p.jsx)(c.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{border:"2px solid #111"}},left:!0,position:"absolute",right:!0,rounding:4,top:!0})]})}),n?(0,p.jsx)(c.xu,{top:!0,bottom:!0,left:!0,right:!0,padding:2,position:"absolute",display:"flex",alignContent:"center",justifyContent:"center",alignItems:"center",children:(0,p.jsx)(c.xv,{align:"center",color:"light",size:o,weight:"bold",children:h})}):(0,p.jsxs)(c.xu,{bottom:!0,left:!0,padding:t?1:2,position:"absolute",right:!0,children:[(0,p.jsx)(c.xv,{color:"inverse",size:o,weight:"bold",children:h}),_&&m>=0&&(0,p.jsx)(c.xu,{paddingY:1,children:(0,p.jsxs)(c.xv,{color:"inverse",size:"100",children:[(0,p.jsx)(c.xv,{color:"inverse",inline:!0,size:"100",weight:"bold",children:y(a,m,{shortform:!0,shortform_maximum_fraction_digits:1})}),v.bt(".", "followers", " - ", undefined, true)]})})]}),r&&(0,p.jsx)(c.xu,{margin:2,position:"absolute",right:!0,top:!0,children:i?(0,p.jsx)(c.xu,{alignItems:"center",color:"selected",display:"flex",height:24,justifyContent:"center",rounding:2,width:24,children:x}):x})]})},h=void 0!==i?i:i=n(133132),m=({topicRef:e,...t})=>{var n,i,r,a,o,s;const l=(0,u.useFragment)(h,e),d=l.images?{url:null!==(n=l.images.url)&&void 0!==n?n:"",width:null!==(i=l.images.width)&&void 0!==i?i:0,height:null!==(r=l.images.height)&&void 0!==r?r:0,dominant_color:"",type:""}:{dominant_color:"",height:0,type:"",url:"",width:0};return(0,p.jsx)(_,{backgroundColor:null!==(a=l.background_color)&&void 0!==a?a:"",topicName:null!==(o=l.name)&&void 0!==o?o:"",followerCount:null!==(s=l.follower_count)&&void 0!==s?s:0,image:d,...t})},g=({topic:e,topicBlob:t,topicInfoForContextualExp:n,...i})=>{const r=n||e||t||{},a=r.images["236x"]||r.images["400x"]||r.images["474x"]||r.images.orig||{height:1,url:"",width:1},o=r.follower_count||-1;return(0,p.jsx)(_,{backgroundColor:r.background_color,topicName:r.name,followerCount:o,image:a,...i})};var f,v=n(70090);const y=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:n,isSelected:i=!1,nameTextSize:s="lg",onTouch:l,padding:d=2,renderAsPill:u,showFollowButton:_=!1,showFollowerCount:h=!1,shouldClickthrough:f=!1,topic:y,viewParameter:x,viewType:b,enabledHomeFeedTunerDesignChanges:w})=>{const S=(0,r.useDispatch)(),{locale:T}=(0,o.B)(),I=(0,p.jsxs)(c.xu,{"data-test-id":"nux-picker-topic",children:["graphql"!==y.type?(0,p.jsx)(g,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:n,isSelected:i,locale:T,nameTextSize:s,renderAsPill:u,showFollowerCount:h,topic:y.topic,topicBlob:y.topicBlob,topicInfoForContextualExp:y.topicInfoForContextualExp}):(0,p.jsx)(m,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:n,isSelected:i,locale:T,nameTextSize:s,renderAsPill:u,showFollowerCount:h,topicRef:y.topicRef}),!!y&&_&&(0,p.jsx)(c.xu,{paddingY:2,children:(0,p.jsx)(a.Z,{textType:t?"AddRemove":"FollowFollowing",followEventType:601,id:y.id,invertColors:t,inline:t&&w,isFollowed:y.is_followed,onFollow:e=>S((0,v.ZN)(e)),onUnfollow:e=>S((0,v.fv)(e)),size:"md",unfollowEventType:602,viewParameter:x||void 0,viewType:b||void 0})})]});let P="/";return y&&(P=`/topics/${y.id}`),f&&y.slug?(0,p.jsx)(c.iP,{role:"link",onTap:({event:e})=>{null==l||l(e)},tapStyle:"compress",rounding:2,href:P,children:(0,p.jsx)(c.xu,{padding:d,children:I})}):I},x=void 0!==f?f:f=n(964820),b=({topicRef:e,decreaseNamePadding:t=!1,isHomefeedTuner:n,isLego:i,isSelected:r=!1,nameTextSize:a="lg",onTouch:o,padding:s=2,renderAsPill:l,showFollowButton:d=!1,showFollowerCount:c=!1,shouldClickthrough:_=!1,viewParameter:h,viewType:m,enabledHomeFeedTunerDesignChanges:g})=>{var f,v;const b=(0,u.useFragment)(x,e);return(0,p.jsx)(y,{decreaseNamePadding:t,isHomefeedTuner:n,isLego:i,isSelected:r,nameTextSize:a,onTouch:o,padding:s,renderAsPill:l,showFollowButton:d,showFollowerCount:c,shouldClickthrough:_,viewParameter:h,viewType:m,enabledHomeFeedTunerDesignChanges:g,topic:{id:null!==(f=b.entityId)&&void 0!==f?f:"",type:"graphql",is_followed:null!==(v=b.is_followed)&&void 0!==v&&v,topicRef:b}})},w=({id:e,topic:t,topicBlob:n,topicInfoForContextualExp:i,decreaseNamePadding:a=!1,isHomefeedTuner:o,isLego:s,isSelected:l=!1,nameTextSize:d="lg",onTouch:c,padding:u=2,renderAsPill:_,showFollowButton:h=!1,showFollowerCount:m=!1,shouldClickthrough:g=!1,viewParameter:f,viewType:v,enabledHomeFeedTunerDesignChanges:x})=>{const b=(0,r.useSelector)((({topics:t})=>t[e])),w=null!=t?t:b;return(0,p.jsx)(y,{decreaseNamePadding:a,isHomefeedTuner:o,isLego:s,isSelected:l,nameTextSize:d,onTouch:c,padding:u,renderAsPill:_,showFollowButton:h,showFollowerCount:m,shouldClickthrough:g,viewParameter:f,viewType:v,enabledHomeFeedTunerDesignChanges:x,topic:{id:e,is_followed:!(null==w||!w.is_followed),topic:w,topicBlob:n,topicInfoForContextualExp:i,type:"resource"}})},S=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:n,isSelected:i=!1,nameTextSize:r="lg",onTouch:a,padding:o=2,renderAsPill:s,showFollowButton:l=!1,showFollowerCount:d=!1,shouldClickthrough:c=!1,viewParameter:u,viewType:_,enabledHomeFeedTunerDesignChanges:h,...m})=>m.topicRef?(0,p.jsx)(b,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:n,isSelected:i,nameTextSize:r,onTouch:a,padding:o,renderAsPill:s,showFollowButton:l,showFollowerCount:d,shouldClickthrough:c,viewParameter:u,viewType:_,topicRef:m.topicRef,enabledHomeFeedTunerDesignChanges:h}):(0,p.jsx)(w,{id:m.id,decreaseNamePadding:e,isHomefeedTuner:t,isLego:n,isSelected:i,nameTextSize:r,onTouch:a,padding:o,renderAsPill:s,showFollowButton:l,showFollowerCount:d,shouldClickthrough:c,topic:m.topic,topicBlob:m.topicBlob,topicInfoForContextualExp:m.topicInfoForContextualExp,viewParameter:u,viewType:_,enabledHomeFeedTunerDesignChanges:h})},430235:(e,t,n)=>{n.d(t,{Z:()=>T});var i,r=n(667294),a=n(248975),o=n(862628),s=n(898781),l=n(759177),d=n(667679),c=n(62409),u=n(349700),p=n(867820),_=n(350118),h=n(276775),m=n(780679),g=n(883119),f=n(167912),v=n(785893);const y=({children:e,onTap:t})=>{const[n,i]=(0,r.useState)(!1);return(0,v.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:n?"rgba(0, 0, 0, 0.06)":void 0}},rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,v.jsx)(g.iP,{onTap:t,onBlur:()=>i(!1),onFocus:()=>i(!0),onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:e})})},x=void 0!==i?i:i=n(12617);function b({desktopContextMenuState:e,isMainPinImage:t,source:n,images:i,embedSrc:l,embedType:c,sourceUserUsername:_,sourceUserFullname:f,pinJoinVisualAnnotation:x,pinJoinSeoBreadcrumbName:b,pinJoinSeoBreadcrumbUrl:w,pinId:S,pinLink:T}){var I;const P=(0,s.ZP)(),E=(0,h.useHistory)(),A=(0,a.Z)({images:i,embedSrc:l,embedType:c}),k=b,C=w,R=null!==(I=null==x?void 0:x[0])&&void 0!==I?I:void 0,j=(0,o.Z)(R),D=`/search/pins/?q=${encodeURIComponent(j)}&rs=image_only_attribution`,O=(0,d.Z)(),N="dweb.plp.ellipsis.button"===n,L=(0,m.g)();return A?(0,v.jsxs)(g.xu,{"data-test-id":"desktop-context-menu",position:"fixed",dangerouslySetInlineStyle:{__style:{top:`${e.yPosition}px`,left:`${e.xPosition}px`}},zIndex:new g.Ry(99999),color:"default",rounding:2,borderStyle:"shadow",display:"flex",direction:"column",paddingY:3,paddingX:2,maxWidth:250,children:[(0,v.jsx)(g.xu,{rounding:2,paddingX:3,paddingY:2,role:"img",children:(0,v.jsx)(g.JO,{icon:"pinterest",accessibilityLabel:P.bt(" Pinterest", "Pinterest logo", "dweb.unauth.context_menu.pinterest_logo", undefined, true),color:"brandPrimary"})}),(0,v.jsx)(y,{onTap:()=>{(0,p.My)("dweb.unauth.context_menu.save_image"),O({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_context_menu_download_image",desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save",savePinId:S}}}),L&&L.setUpsellReason("click_context_menu_action_bar_ellipsis_save_button")},children:(0,v.jsx)(g.xv,{size:"200",weight:"bold",children:P.bt(" ", "Save image", "dweb.unauth.context_menu.link.save_image", undefined, true)})}),!(t||N&&!T)&&(0,v.jsx)(y,{onTap:()=>{(0,p.My)(N?"dweb.unauth.context_menu.open_plp_new_tab.from.ellipsis.button":"dweb.unauth.context_menu.open_plp_new_tab"),window.open(N?T:`/pin/${S}/`),N||O({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_context_menu_open_plp_new_tab",desktopOptions:{modalType:"login"}})},children:(0,v.jsx)(g.xv,{size:"200",weight:"bold",children:P.bt("    ", "Open link in new tab", "dweb.unauth.context_menu.link.plp_new_tab", undefined, true)})}),(R||!(!k||!C))&&(0,v.jsx)(y,{onTap:()=>{(0,p.My)("dweb.unauth.context_menu.see_more_pins"),C?E.push(`${C}`):E.push(D)},children:k?(0,v.jsx)(g.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,u.nk)(P.bt("     {{levelOneInterestName}}", "See more ideas about {{levelOneInterestName}}", "dweb.unauth.context_menu.link.see_more_ideas.l1", undefined, true),{levelOneInterestName:k})}):(0,v.jsx)(g.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,u.nk)(P.bt("     {{interestTag}}", "See more ideas about {{interestTag}}", "dweb.unauth.context_menu.link.see_more_ideas.interest_tag", undefined, true),{interestTag:R})})}),!(!f||!_)&&(0,v.jsx)(y,{onTap:()=>{(0,p.My)("dweb.unauth.context_menu.more_from_creator"),E.push(`/${_}/`)},children:(0,v.jsx)(g.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,u.nk)(P.bt("     {{full_name}}", "See more from {{full_name}}", "dweb.unauth.context_menu.link.more_from_creator", undefined, true),{full_name:f})})}),(0,v.jsx)(r.Fragment,{children:(0,v.jsx)(y,{onTap:()=>{(0,p.My)("dweb.unauth.context_menu.login_signup"),O({reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_context_menu_login_signup",desktopOptions:{modalType:"login"}}),L&&L.setUpsellReason("click_context_menu_action_bar_ellipsis_signup_or_login_button")},children:(0,v.jsx)(g.xv,{size:"200",weight:"bold",children:P.bt("  ,   ", "Log in or sign up for more", "dweb.unauth.context_menu.link.login_signup", undefined, true)})})})]}):null}function w({graphqlRef:e,pinId:t,useNativeCreatorAsPinner:n,...i}){var r,a,o,s,d;const c=(0,f.useFragment)(x,e),u=(0,l.Z)(c);let p;var _,h;(p=null!=c&&c.nativeCreator?c.nativeCreator:null!=c&&c.linkDomain?c.linkDomain.officialUser:(null==c?void 0:c.originPinner)||(null==c?void 0:c.pinner),p)||(p=null!==(_=null==c||null===(h=c.linkDomain)||void 0===h?void 0:h.officialUser)&&void 0!==_?_:null==c?void 0:c.pinner);return(0,v.jsx)(b,{...i,embedSrc:(null==c?void 0:c.embed)&&c.embed.src,embedType:(null==c?void 0:c.embed)&&c.embed.type,images:u,sourceUserUsername:null===(r=p)||void 0===r?void 0:r.username,sourceUserFullname:null===(a=p)||void 0===a?void 0:a.fullName,pinJoinVisualAnnotation:null==c||null===(o=c.pinJoin)||void 0===o?void 0:o.visualAnnotation,pinJoinSeoBreadcrumbName:(null==c||null===(s=c.pinJoin)||void 0===s?void 0:s.seoBreadcrumbs)&&(c.pinJoin.seoBreadcrumbs.length>0?c.pinJoin.seoBreadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==c||null===(d=c.pinJoin)||void 0===d?void 0:d.seoBreadcrumbs)&&(c.pinJoin.seoBreadcrumbs.length>0?c.pinJoin.seoBreadcrumbs[0].url:null),pinId:t})}function S({graphqlRef:e,pinId:t,useNativeCreatorAsPinner:n,...i}){var r,a,o,s,l,d;const u=(0,_.S6)()(t),{link_domain:p,native_creator:h,origin_pinner:m,pinner:g}=u||{};let f=(0,c.wS)(p,h,m,g);var y,x;f||(f=null!==(y=null==u||null===(x=u.link_domain)||void 0===x?void 0:x.official_user)&&void 0!==y?y:null==u?void 0:u.pinner);const{full_name:w,username:S}=null!==(r=f)&&void 0!==r?r:{};return(0,v.jsx)(b,{...i,embedSrc:null==u||null===(a=u.embed)||void 0===a?void 0:a.src,embedType:null==u||null===(o=u.embed)||void 0===o?void 0:o.type,images:null==u?void 0:u.images,sourceUserUsername:w,sourceUserFullname:S,pinJoinVisualAnnotation:null==u||null===(s=u.pin_join)||void 0===s?void 0:s.visual_annotation,pinJoinSeoBreadcrumbName:(null==u||null===(l=u.pin_join)||void 0===l?void 0:l.seo_breadcrumbs)&&(u.pin_join.seo_breadcrumbs.length>0?u.pin_join.seo_breadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==u||null===(d=u.pin_join)||void 0===d?void 0:d.seo_breadcrumbs)&&(u.pin_join.seo_breadcrumbs.length>0?u.pin_join.seo_breadcrumbs[0].url:null),pinId:t})}function T(e){return e.graphqlRef?(0,v.jsx)(w,{...e}):(0,v.jsx)(S,{...e})}},447409:(e,t,n)=>{n.d(t,{n:()=>S,Z:()=>T});var i=n(702664),r=n(598615),a=n(821997),o=n(966476);const s=({children:e,fallback:t})=>(()=>{const e=(0,i.useSelector)((e=>{var t;return!(null==e||null===(t=e.session)||void 0===t||!t.isSeoBot)})),t=(0,o.Z)();return!e&&!t})()?t||null:e;var l=n(938917),d=n(898781),c=n(893101),u=n(112690),p=n(867820),_=n(780280);var h=n(52022),m=n(643010),g=n(948376),f=n(773285),v=n(385740),y=n(53987),x=n(883119),b=n(276775),w=n(785893);const S=56;function T(){const e=(0,d.ZP)(),t=(0,b.useLocation)(),n=(0,b.useHistory)(),{viewType:o,viewParameter:T}=(0,v.SU)(),{userAgentPlatform:I,userAgent:P}=(0,i.useSelector)((({session:e})=>e)),E=(0,g.Rp)({platform:I,userAgent:P}),A=(0,c.Z)(),k=function(){const{isBot:e}=(0,_.B)();return(t,n)=>{e||(0,p.NC)(t,n)}}(),C=(0,l.Z)(),{checkExperiment:R}=(0,f.F)(),j=(0,u.Z)(),D=(0,h.Z)(),O=e.bt("", "Log in", "Label for log in button", undefined, true),N=e.bt("", "Sign up", "Text on button on the top bar that leads users to signing up.", undefined, true),L=e.bt("", "Download", "mweb.unauth.interstitial_upsell.download_button_text", undefined, true),U=!E&&!(0,y.Xn)(t),F=((0,y.dr)(t)||(0,y.$Y)(t)||(0,y.E0)(t))&&!R("lex_follow_button").group.includes("main_cta"),M=!C||A||F?"signup":"download",z=(U?O.length:0)+("signup"===M?N.length:0)+("download"===M?L.length:0);return(0,w.jsx)(x.xu,{dangerouslySetInlineStyle:{__style:{boxShadow:"0 1px 0 0 rgba(0, 0, 0, 0.08)",backgroundColor:(0,m.Yc)()?"#333":"white",transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:"translateY(0)"}},top:!0,left:!0,width:"100vw",position:"relative",paddingX:3,children:(0,w.jsxs)(x.xu,{alignItems:"center","data-test-id":"unauth-header",direction:"row",display:"flex",justifyContent:"between",children:[(0,w.jsx)(x.iP,{accessibilityLabel:e.bt(" Pinterest", "Pinterest App", "Pinterest icon for app upsell", undefined, true),onTap:()=>{D({action:"click",within:"unauth-header",item:"pinterest-logo"})},children:(0,w.jsxs)(x.xu,{alignItems:"center",display:"flex",direction:"row",marginEnd:3,children:[(0,w.jsx)(x.xu,{alignItems:"center",display:"flex",height:S,justifyContent:"center",rounding:2,"data-test-id":"pinterest-logo-icon",children:(0,w.jsx)(x.iP,{role:"link",tapStyle:"none",href:"/",children:E?(0,w.jsx)(a.Z,{size:24}):(0,w.jsx)(x.hU,{icon:"pinterest",iconColor:"brandPrimary",padding:1,size:"xl",accessibilityLabel:e.bt(" Pinterest", "Pinterest App", "Pinterest icon for app upsell", undefined, true)})})}),(0,w.jsx)(x.xu,{paddingY:2,paddingX:1,"data-test-id":"pinterest-logo-text",children:z<18&&(0,w.jsxs)(x.xu,{children:[(0,w.jsx)(x.X6,{color:"error",size:"400",overflow:"normal",children:E?e.bt("Pinterest Lite", "Pinterest Lite", "Pinterest lite brand for the app upsell", undefined, true):e.bt("Pinterest", "Pinterest", "Pinterest brand for the app upsell", undefined, true)}),E&&(0,w.jsx)(x.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},children:(0,w.jsx)(x.xu,{children:(0,w.jsx)(x.xv,{inline:!0,size:"100",color:"subtle",children:e.bt("    ", "Save space on your device", "Unauth app upsell copy that describe Pinterest product core value to users", undefined, true)})})})]})})]})}),(0,w.jsx)(s,{children:(0,w.jsxs)(x.xu,{marginEnd:0,flex:"none",alignItems:"center",display:"flex",direction:"row","data-test-id":"UnauthAppUpsellButton",children:[U&&(0,w.jsx)(x.xu,{"data-test-id":"login-button",children:(0,w.jsx)(x.zx,{fullWidth:!0,color:"white",onClick:()=>{D({action:"click",within:"unauth-header",item:"login-button"}),j({component:13198,element:30,event_type:102,view_type:o,view_parameter:T}),k("press_header_login"),j({event_type:10241,element:30,component:14213,view_type:o,view_parameter:T,aux_data:{upsell_reason:"click_login_on_header"}}),n.push({pathname:"/login",state:{attributionLabel:"click_login_on_header",...t.state}})},size:"md",text:O})}),"signup"===M?(0,w.jsx)(x.xu,{"data-test-id":"signup-button",children:(0,w.jsx)(x.zx,{fullWidth:!0,color:F?"red":"gray",onClick:()=>{D({action:"click",within:"unauth-header",item:"signup-button"}),j({component:13198,element:31,event_type:102,view_type:o,view_parameter:T}),k("press_header_signup"),j({event_type:10241,element:31,component:14215,view_type:o,view_parameter:T,aux_data:{upsell_reason:"click_signup_on_header"}}),n.push({pathname:"/signup",state:{attributionLabel:"click_signup_on_header",...t.state}})},size:"md",text:N})}):(0,w.jsx)(x.xu,{"data-test-id":"download-button",children:(0,w.jsx)(r.Z,{componentType:14161,within:"unauth-header",children:({handleOpenApp:e})=>(0,w.jsx)(x.zx,{fullWidth:!0,color:(0,y.j8)(t)||R("lex_follow_button").group.includes("main_cta")?"gray":"red",onClick:()=>e(),size:"md",text:L})})})]})})]})})}},874317:(e,t,n)=>{n.d(t,{Yw:()=>T,ZP:()=>k,nt:()=>S});var i,r=n(598615),a=n(326960),o=n(248975),s=n(63552),l=n(862628),d=n(938917),c=n(898781),u=n(759177),p=n(667679),_=n(62409),h=n(349700),m=n(867820),g=n(538232),f=n(773285),v=n(350118),y=n(276775),x=n(883119),b=n(167912),w=n(785893);const S=250,T={WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",MsUserSelect:"none",KhtmlUserSelect:"none",UserSelect:"none"},I=void 0!==i?i:i=n(167074);function P({mwebContextMenuState:e,openShareModal:t,setMwebContextMenuState:n,pinId:i,images:u,embedSrc:_,embedType:v,sourceUserUsername:b,sourceUserFullname:T,pinDownloadFilename:I,pinImageSignature:P,pinJoinVisualAnnotation:E,pinJoinSeoBreadcrumbName:A,pinJoinSeoBreadcrumbUrl:k}){var C;const R=(0,c.ZP)(),j=(0,y.useHistory)(),D=(0,o.Z)({images:u,embedSrc:_,embedType:v}),{isChromeOnIOS:O}=(0,g.R)(),N=A,L=k,U=null!==(C=null==E?void 0:E[0])&&void 0!==C?C:void 0,F=(0,l.Z)(U),M=`/search/pins/?q=${encodeURIComponent(F)}&rs=image_only_attribution`,z=(0,p.Z)(),B=(0,g.R)(),{checkExperiment:Z}=(0,f.F)(),H=(0,d.Z)();return D?(0,w.jsxs)(x.xu,{"data-test-id":"mobile-context-menu",position:"absolute",dangerouslySetInlineStyle:{__style:{top:`${e.yPosition}px`,left:`${e.xPosition}px`}},zIndex:new x.Ry(99999),color:"default",rounding:2,borderStyle:"shadow",display:"flex",direction:"column",paddingY:3,paddingX:2,maxWidth:S,children:[(0,w.jsxs)(x.xu,{rounding:2,paddingX:3,paddingY:2,role:"img",direction:"row",display:"flex",alignItems:"center",justifyContent:"between",children:[(0,w.jsx)(x.JO,{icon:"pinterest",accessibilityLabel:R.bt(" Pinterest", "Pinterest logo", "unauth.mweb.context_menu.pinterest_logo", undefined, true),color:"brandPrimary"}),(0,w.jsx)(x.xu,{alignSelf:"end","data-test-id":"mobile-context-menu-cancel-button",children:(0,w.jsx)(x.iP,{onTap:({event:e})=>{e.stopPropagation(),n(null)},children:(0,w.jsx)(x.JO,{icon:"cancel",accessibilityLabel:R.bt("    -", "Dismiss mweb context menu", "unauth.mweb.context_menu.dismiss", undefined, true)})})})]}),"main"===e.context&&H&&Z("mweb_main_pin_ltcm_open_in_app").anyEnabled&&(0,w.jsx)(r.Z,{componentType:18,within:"mweb-context-menu",children:({handleOpenApp:e})=>(0,w.jsx)(x.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(x.iP,{onTap:({event:t})=>{t.stopPropagation(),n(null),e({deepLinkUri:`/pin/${i}/`}),(0,m.My)("unauth.mweb.context_menu.open_in_app")},children:(0,w.jsx)(x.xv,{size:"200",weight:"bold",children:R.bt("  ", "Open in App", "unauth.mweb.context_menu.link.open_in_app", undefined, true)})})})}),["download","short_d"].includes(e.context)&&P?(0,w.jsx)(x.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(a.Z,{imgSrc:D,isChromeOnIOS:O,filename:I,pinId:i,viewType:3,imageSignature:P,children:e=>(0,w.jsx)(s.Z,{pressState:"none",onTouch:t=>{e().then((()=>{t.stopPropagation(),n(null),(0,m.My)("unauth.mweb.context_menu.download_image")}))},children:(0,w.jsx)(x.xv,{size:"200",weight:"bold",children:R.bt(" ", "Download image", "unauth.mweb.related_pin.context_menu.link.download_image", undefined, true)})})})}):(0,w.jsx)(x.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(x.iP,{onTap:({event:e})=>{e.stopPropagation(),n(null),(0,m.My)("unauth.mweb.context_menu.save_image"),e&&B.saveButtonConfig.onSaveButtonClick(e)},children:(0,w.jsx)(x.xv,{size:"200",weight:"bold",children:R.bt(" ", "Save image", "unauth.mweb.context_menu.link.save_image", undefined, true)})})}),["download","save","short_s","short_d"].includes(e.context)&&(0,w.jsx)(x.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(x.iP,{onTap:({event:e})=>{e.stopPropagation(),n(null),t&&t(!0),(0,m.My)("unauth.mweb.context_menu.share_related_pin")},children:(0,w.jsx)(x.xv,{size:"200",weight:"bold",children:R.bt(" ", "Share image", "unauth.mweb.context_menu.link.share_menu", undefined, true)})})}),(0,w.jsx)(x.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(x.iP,{onTap:({event:e})=>{e.stopPropagation(),n(null),(0,m.My)("unauth.mweb.context_menu.open_plp_new_tab"),window.open(`/pin/${i}/`)},children:(0,w.jsx)(x.xv,{size:"200",weight:"bold",children:R.bt("    ", "Open link in new tab", "unauth.mweb.context_menu.link.plp_new_tab", undefined, true)})})}),["download","save","main"].includes(e.context)&&(U||!(!N||!L))&&(0,w.jsx)(x.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(x.iP,{onTap:()=>{(0,m.My)("unauth.mweb.context_menu.see_more_pins"),j.push(L?`${L}`:M)},children:N?(0,w.jsx)(x.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,h.nk)(R.bt("     {{levelOneInterestName}}", "See more ideas about {{levelOneInterestName}}", "unauth.mweb.context_menu.link.see_more_ideas.l1", undefined, true),{levelOneInterestName:N})}):(0,w.jsx)(x.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,h.nk)(R.bt("     {{interestTag}}", "See more ideas about {{interestTag}}", "unauth.mweb.context_menu.link.see_more_ideas.interest_tag", undefined, true),{interestTag:U})})})}),["download","save","main"].includes(e.context)&&!(!T||!b)&&(0,w.jsx)(x.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(x.iP,{onTap:()=>{(0,m.My)("unauth.mweb.context_menu.more_from_creator"),j.push(`/${b}/`)},children:(0,w.jsx)(x.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,h.nk)(R.bt("     {{full_name}}", "See more from {{full_name}}", "unauth.context_menu.link.more_from_creator", undefined, true),{full_name:T})})})}),(0,w.jsx)(x.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(x.iP,{onTap:({event:e})=>{e.stopPropagation(),n(null),(0,m.My)("unauth.mweb.context_menu.login_signup"),z({reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_context_menu_login_signup"})},children:(0,w.jsx)(x.xv,{size:"200",weight:"bold",children:R.bt("  ,   ", "Log in or sign up for more", "unauth.mweb.context_menu.link.login_signup", undefined, true)})})})]}):null}function E({graphqlRef:e,pinId:t,...n}){var i,r,a,o,s;const l=(0,b.useFragment)(I,e),d=(0,u.Z)(l);let c;var p,_;(c=null!=l&&l.nativeCreator?l.nativeCreator:null!=l&&l.linkDomain?l.linkDomain.officialUser:(null==l?void 0:l.originPinner)||(null==l?void 0:l.pinner),c&&"string"!=typeof c)||(c=null!==(p=null==l||null===(_=l.linkDomain)||void 0===_?void 0:_.officialUser)&&void 0!==p?p:null==l?void 0:l.pinner);const h=(null==l?void 0:l.gridTitle)||(null==l?void 0:l.closeupUnifiedDescription),m=null==l?void 0:l.imageSignature;return(0,w.jsx)(P,{...n,embedSrc:(null==l?void 0:l.embed)&&l.embed.src,embedType:(null==l?void 0:l.embed)&&l.embed.type,images:d,sourceUserUsername:null===(i=c)||void 0===i?void 0:i.username,sourceUserFullname:null===(r=c)||void 0===r?void 0:r.fullName,pinDownloadFilename:h,pinImageSignature:m,pinJoinVisualAnnotation:null==l||null===(a=l.pinJoin)||void 0===a?void 0:a.visualAnnotation,pinJoinSeoBreadcrumbName:(null==l||null===(o=l.pinJoin)||void 0===o?void 0:o.seoBreadcrumbs)&&(l.pinJoin.seoBreadcrumbs.length>0?l.pinJoin.seoBreadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==l||null===(s=l.pinJoin)||void 0===s?void 0:s.seoBreadcrumbs)&&(l.pinJoin.seoBreadcrumbs.length>0?l.pinJoin.seoBreadcrumbs[0].url:null),pinId:t})}function A({graphqlRef:e,pinId:t,...n}){var i,r,a,o,s,l;const d=(0,v.S6)()(t),{link_domain:c,native_creator:u,origin_pinner:p,pinner:h}=d||{};let m=(0,_.wS)(c,u,p,h);var g,f;m&&"string"!=typeof m||(m=null!==(g=null==d||null===(f=d.link_domain)||void 0===f?void 0:f.official_user)&&void 0!==g?g:h);const{full_name:y,username:x}=null!==(i=m)&&void 0!==i?i:{},b=(null==d?void 0:d.grid_title)||(null==d?void 0:d.closeup_unified_description),S=null==d?void 0:d.image_signature;return(0,w.jsx)(P,{...n,embedSrc:null==d||null===(r=d.embed)||void 0===r?void 0:r.src,embedType:null==d||null===(a=d.embed)||void 0===a?void 0:a.type,images:null==d?void 0:d.images,sourceUserUsername:y,sourceUserFullname:x,pinDownloadFilename:b,pinImageSignature:S,pinJoinVisualAnnotation:null==d||null===(o=d.pin_join)||void 0===o?void 0:o.visual_annotation,pinJoinSeoBreadcrumbName:(null==d||null===(s=d.pin_join)||void 0===s?void 0:s.seo_breadcrumbs)&&(d.pin_join.seo_breadcrumbs.length>0?d.pin_join.seo_breadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==d||null===(l=d.pin_join)||void 0===l?void 0:l.seo_breadcrumbs)&&(d.pin_join.seo_breadcrumbs.length>0?d.pin_join.seo_breadcrumbs[0].url:null),pinId:t})}function k(e){return e.graphqlRef?(0,w.jsx)(E,{...e}):(0,w.jsx)(A,{...e})}},893101:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(702664),r=n(172071),a=n(938917),o=n(436851),s=n(948376),l=n(50286),d=n(276775),c=n(780280),u=n(56390),p=n(339363),_=n(53987);const h=()=>{const{isBot:e}=(0,c.B)(),t=(0,d.useLocation)(),{userAgentPlatform:n,userAgent:h}=(0,i.useSelector)((e=>e.session)),m=(0,a.Z)(),g=(0,l.ml)();return!e&&!(g&&!m)&&!(0,s.Rp)({platform:n,userAgent:h})&&((0,_.uM)(t)||(0,_.am)(t))&&!(0,u.P)()&&!(e=>!!(0,o.d)(e)&&((0,p.qn)("ufausfiiab")||(r.Z.increment("unauth.floating_app_upsell.suppress_for_instagram_in_app_browser"),(0,p.Nh)("ufausfiiab","1")),!0))(h)}},862193:(e,t,n)=>{n.d(t,{Z:()=>s});var i,r=n(667294),a=n(167912);const o=void 0!==i?i:i=n(569772),s=e=>{var t;const n=(0,a.useFragment)(o,e),i=null==n||null===(t=n.pinJoin)||void 0===t?void 0:t.annotationsWithLinksArray;return(0,r.useMemo)((()=>null==i?void 0:i.reduce(((e,{name:t,url:n})=>t?{...e,[t]:{name:t,url:n}}:e),{})),[i])}},54839:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),r=n(911691),a=n(19121),o=n(202139),s=n(773285),l=n(780280),d=n(785893);const c="https://ct.pinterest.com/ct.html";function u(e,t){const n=new Date,i={value:t,expiry:t?n.getTime()+o.N1:null};e.contentWindow.postMessage({key:"_epik_localstore",value:JSON.stringify(i)},c)}function p(){const e=(0,i.useRef)(null),t=(0,a.Z)(),{checkExperiment:n}=(0,s.F)(),{anyEnabled:o}=n("epik_localstorage_redesign_written_control"),p=(0,l.B)(),_=p.country,h=p.countryFromIp,m=p.countryFromHostName,g=new Set(r.Z),f=g.has(_)||g.has(h)||g.has(m),{allow_analytic_cookies:v,allow_personalization_cookies:y,epik:x,isAuth:b}=t.isAuth?t:{},w=e.current;return(0,i.useEffect)((()=>{w&&b&&w instanceof HTMLIFrameElement&&w.contentWindow&&u(w,(!f||v&&y)&&o&&x?x:null)}),[t,v,y,x,b,o,f,w]),(0,d.jsx)("iframe",{id:"epik_localstore",src:c,title:"iframe to send EPIK",ref:e,style:{display:"none"},"aria-hidden":"true"})}},491563:(e,t,n)=>{n.d(t,{Z:()=>w});var i=n(667294),r=n(702664),a=n(116303),o=n(815613),s=n(149230),l=n(898781),d=n(883119),c=n(785893);const u={__style:{backgroundColor:"rgba(0, 0, 0, 0.04)"}},p=({height:e,image:t,width:n})=>{var i,r,a;const o=(0,l.ZP)();return(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{borderRight:"1px solid white"}},children:t?(0,c.jsxs)(d.xu,{position:"relative",children:[(0,c.jsx)(d.GH,{width:n,height:e,contentAspectRatio:"number"==typeof t.height&&"number"==typeof t.width?t.width/t.height:1,children:(0,c.jsx)(d.Ee,{alt:o.bt(" ", "pin image", "alt text for pin image", undefined, true),color:t.dominant_color||void 0,naturalWidth:null!==(i=t.width)&&void 0!==i?i:1,naturalHeight:null!==(r=t.height)&&void 0!==r?r:1,src:null!==(a=t.url)&&void 0!==a?a:""})}),(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:u,height:e,width:n,position:"absolute",top:!0,left:!0})]}):(0,c.jsx)(d.xu,{color:"secondary",width:n,height:e})})};var _=n(112690),h=n(892819),m=n(865673),g=n(57791),f=n(349700),v=n(698330),y=n(780280),x=n(861411),b=n(461773);function w({action:e,auxData:t,isPinnerAuthorityHero:n=!1,userSearchRepStyle:u=!1,onFollowUser:w,onUnfollowUser:S,userId:T,userPins:I,viewParameter:P,viewType:E,truncateName:A=!1}){const k=(0,l.ZP)(),C=(0,h.Z)(),R=(0,r.useDispatch)(),{locale:j}=(0,y.B)(),D=(0,_.Z)(),[O,N]=(0,i.useState)(u?window.innerWidth-16:null),L=(0,v.mN)()(T);if(!L)return null;const{contextual_pin_image_urls:U,explicitly_followed_by_me:F,follower_count:M=0,full_name:z,image_medium_url:B,is_verified_merchant:Z,recent_pin_images:H,username:G,verified_identity:V}=L,W=e=>O?(O-(e-1))/e:0,K=u?1.6*W(4):117,q=(null==I?void 0:I.map((e=>{var t;return null==e||null===(t=e.images)||void 0===t?void 0:t["236x"]})))||[],Y=(null==H?void 0:H["222x"])||(null==H?void 0:H["192x"])||[];let $=(null==U?void 0:U["222x"])||(null==U?void 0:U["192x"])||[];n&&0===$.length&&($=Y);const X=u&&$.length<=0;let J=u?$.concat(Y).slice(0,4):q.concat(Y).slice(0,2);0===J.length&&(J=[void 0,void 0]);const Q=!X&&(O?(0,c.jsx)(d.zd,{rounding:4,children:(0,c.jsx)(d.kC,{children:J.map(((e,t)=>(0,c.jsx)(p,{height:K,image:e,width:W(J.length)},`pinImage-${t}`)))})}):(0,c.jsx)(d.xu,{height:K,ref:e=>{e&&N(e.offsetWidth)},width:"100%"})),ee=e=>(0,c.jsx)(d.kC,{justifyContent:"center",children:(0,c.jsx)(d.xu,{marginTop:e,height:60,width:60,children:(0,c.jsx)(a.Z,{outline:!0,name:null!=z?z:"",src:null!=B?B:""})})}),te=e=>(0,c.jsxs)(d.kC,{direction:"column",gap:{row:0,column:1},alignItems:e,children:[(0,c.jsx)(d.kC,{alignItems:"stretch",maxWidth:(u?(O||0)/2:O)||void 0,children:(0,c.jsx)(d.xv,{align:e,weight:"bold",lineClamp:A?1:void 0,children:Z||null!=V&&V.verified?(0,c.jsx)(m.Z,{badgeSize:"md",badgeSpacing:2,fullName:null!=z?z:"",verifiedType:Z?"verifiedMerchant":"verifiedIdentity",truncate:A}):z})}),(0,c.jsx)(d.xv,{inline:!0,size:"100",align:e,children:(0,f.nk)(k.nbt(["{{followers}} ", "{{followers}} ", "{{followers}} "], M, "PinnerAuthority.followersCount", true),{followers:C(j,M,{shortform:!0})})})]}),ne=(0,c.jsx)(d.kC,{justifyContent:"center",children:e&&e.url?(0,c.jsx)(d.zx,{role:"link",accessibilityLabel:e.text,color:"gray",size:"lg",text:e.text,href:e.url,onClick:()=>{D({event_type:9029,object_id_str:T,view_type:E,view_parameter:P,aux_data:t})},rel:(0,s.Z)({url:e.url})?"nofollow":void 0,target:(0,s.Z)({url:e.url})?"blank":void 0}):(0,c.jsx)(o.Z,{id:T,isSecondaryButton:!0,isFollowed:F,onFollow:e=>{w&&w(),R((0,b.ZN)(e))},onUnfollow:e=>{S&&S(),R((0,b.fv)(e))},size:"lg",followEventType:45,unfollowEventType:46,viewParameter:P,viewType:E})});return(0,c.jsx)(x.Cy,{loggingId:T,objectIdStr:T,slotIndex:0,viewParameter:P,viewType:E,children:({impressionTrackerRef:e})=>(0,c.jsx)(d.xu,{ref:e,padding:1,marginBottom:6,"data-test-id":"user-rep",children:(0,c.jsx)(g.MZ,{to:`/${G}/`,onTouch:()=>{D({event_type:43,object_id_str:T,view_parameter:P,view_type:E})},children:(0,c.jsxs)(d.kC,{direction:"column",gap:{row:0,column:2},width:"100%",children:[Q,u?(0,c.jsx)(d.xu,{width:"100%",children:(0,c.jsxs)(d.kC,{justifyContent:"between",alignItems:"center",children:[(0,c.jsxs)(d.kC,{alignItems:"center",gap:{row:2,column:0},children:[ee(),te("start")]}),ne]})}):(0,c.jsxs)(d.kC,{direction:"column",gap:{row:0,column:2},children:[ee(-10),te("center"),ne]})]})})})})}},865673:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),r=n(512176),a=n(883119),o=n(785893);const s=function({badgeSize:e,badgeSpacing:t,fullName:n,verifiedType:s,truncate:l=!1}){const d=n.split(" "),c=d.slice(0,d.length-1).join(" "),u=" ".concat(d[d.length-1]);return l?(0,o.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,o.jsx)(a.xv,{lineClamp:1,weight:"bold",children:n}),(0,o.jsx)(a.xu,{flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:t}},paddingX:1,children:(0,o.jsx)(r.Z,{isVerifiedMerchant:"verifiedMerchant"===s,size:e,showVerifiedIdentity:"verifiedIdentity"===s})})]}):(0,o.jsxs)(i.Fragment,{children:[(0,o.jsx)("span",{children:c}),(0,o.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[u,"",(0,o.jsx)(a.xu,{display:"inlineBlock",flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:t}},children:(0,o.jsx)(r.Z,{isVerifiedMerchant:"verifiedMerchant"===s,size:e,showVerifiedIdentity:"verifiedIdentity"===s})})]})]})}},619519:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),r=n(722767),a=n(655428),o=n(883119),s=n(785893);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.PureComponent{constructor(...e){super(...e),l(this,"state",{isPlaying:!1,isVideoReady:!1,isVisibleForPlaying:!1,startLoading:!1}),l(this,"handleVisibilityChanged",(e=>{const{intersectionRatio:t}=e[0],{isPlaying:n,isVideoReady:i,startLoading:r}=this.state;t>=.8?(this.setState({isVisibleForPlaying:!0}),this.videoRef&&(r?i&&!n&&this.videoRef.play():(this.videoRef.load(),this.setState({startLoading:!0})))):(this.setState({isVisibleForPlaying:!1}),this.videoRef&&i&&this.videoRef.pause())})),l(this,"handleVideoPause",(()=>this.setState({isPlaying:!1}))),l(this,"handleVideoPlay",(()=>this.setState({isPlaying:!0}))),l(this,"getVideoRef",(e=>this.videoRef=e)),l(this,"setIsVideoReadyTrue",(()=>{this.setState({isVideoReady:!0}),this.videoRef&&!this.state.isPlaying&&this.state.isVisibleForPlaying&&this.videoRef.play()}))}render(){const{height:e,thumbnail:t,url:n,width:i,pinDescription:l,pinImageHeight:d,pinImageUrl:c,pinImageWidth:u}=this.props,p=(null!=e?e:1)/(null!=i?i:1);return n?(0,s.jsx)(r.Z,{options:{threshold:[0,.5,.8,1]},onVisibilityChange:this.handleVisibilityChanged,children:(0,s.jsx)(o.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingBottom:100*p+"%"}},children:(0,s.jsx)(o.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:(0,s.jsx)("video",{height:"100%",muted:!0,onCanPlay:this.setIsVideoReadyTrue,onPause:this.handleVideoPause,onPlay:this.handleVideoPlay,playsInline:!0,poster:t,preload:"none",ref:this.getVideoRef,src:n,width:"100%"})})})}):(0,s.jsx)(o.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},children:(0,s.jsx)(a.Z,{description:l,imageUrl:c,imageHeight:d,imageWidth:u})})}}},559747:(e,t,n)=>{var i=n(667294),r=n(702664),a=n(843077),o=n(807998),s=n(363046),l=n(172903),d=n(50286),c=n(19121),u=n(233211),p=n(332215),_=n(780280),h=n(785893);function m({children:e,inviteCode:t}){const{country:n,isAuthenticated:a,userAgent:{browserName:o,platform:s}}=(0,_.B)(),m=(0,d.ZP)(),g="mobile"===m,f="tablet"===m,{id:v}=(0,c.Z)(),{loggedOutUserInfo:y}=(0,r.useSelector)((({session:e})=>({loggedOutUserInfo:e.loggedOutUserInfo})),r.shallowEqual),x=(0,r.useSelector)((({users:e})=>e[v])),b=(0,i.useMemo)((()=>{if(x&&(0,p.xT)(x)){var e,t,n;const i=x;return{type:"LIMITED_LOGIN",info:{connectedToFacebook:!!i.connected_to_facebook,connectedToGoogle:!!i.connected_to_google,email:null!==(e=i.email)&&void 0!==e?e:"",firstName:null!==(t=i.first_name)&&void 0!==t?t:"",hasPassword:!!i.has_password,imageUrl:null!==(n=i.image_medium_url)&&void 0!==n?n:null}}}if(a)return{type:"AUTH",info:null};{var i;const e=y;return{type:"UNAUTH",info:e&&e.email&&e.first_name?{connectedToFacebook:!!e.connected_to_facebook,connectedToGoogle:!!e.connected_to_google,email:e.email,firstName:e.first_name,hasPassword:!!e.has_password,imageUrl:null!==(i=e.medium_image_url)&&void 0!==i?i:null}:null}}}),[a,y,x]),w=(({inviteCode:e})=>{const t=(0,l.Z)();return(0,i.useCallback)(((n,i)=>t(n,{loggingOptions:i,inviteCode:e})),[t,e])})({inviteCode:t}),S=g||f,T=(0,i.useMemo)((()=>({getDeviceAppTypeString:()=>`${S?"mobile":"desktop"}.${n}.${s}.${o||"unknown"}`.replace(/ /g,"_"),register:w,viewer:b})),[o,n,S,w,s,b]);return(0,h.jsx)(u.I7,{value:T,children:e})}var g=n(911691),f=n(202139),v=n(844974);const y="_epik_localstore";function x(){const e=(0,c.Z)(),t=(0,_.B)(),n=t.country,r=t.countryFromIp,a=t.countryFromHostName,o=new Set(g.Z),s=o.has(n)||o.has(r)||o.has(a),{allow_analytic_cookies:l,allow_personalization_cookies:d,epik:u,isAuth:p}=e.isAuth?e:{};return(0,i.useEffect)((()=>{if(p)if(!s||l&&d){if(u){const e=new Date;!function(e,t,n){const i={value:t,expiry:n};(0,v.Nh)(e,JSON.stringify(i))}(y,u,e.getTime()+f.N1)}}else(0,v.L_)(y)}),[p,u,s,l,d]),null}var b=n(54839),w=n(319915),S=n(766935),T=n(571577);function I({children:e,deviceType:t}){const[n,r]=(0,i.useState)((e=>"phone"===e?"sm":"tablet"===e?"md":"lg")(t)),a=()=>{return r((e=window.innerWidth)<768?"sm":e<1024?"md":"lg");var e},o=(0,i.useCallback)((0,S.Z)(a,200),[]);return(0,i.useEffect)((()=>(a(),window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o)})),[]),(0,h.jsx)(T.I,{value:n,children:e})}var P=n(883119),E=n(643010);function A({children:e}){const t=(0,E.vs)();return(0,h.jsx)(P.Ag,{colorScheme:t?"dark":"light",children:e})}var k=n(524172),C=n(124580),R=n(172071),j=n(44846),D=n(898781);class O extends i.Component{constructor(e){super(e),this.state={bannerStatus:this.props.isOffline?"offline":"hidden"}}getSnapshotBeforeUpdate(e){const{isOffline:t}=this.props,{isOffline:n}=e;if(n!==t){const e=t?"offline":"backOnline";this.setState({bannerStatus:e}),t||setTimeout((()=>{this.props.isOffline?this.setState({bannerStatus:"offline"}):this.setState({bannerStatus:"hidden"})}),2e3)}return null}componentDidUpdate(){}render(){const{bannerStatus:e}=this.state;return"hidden"!==e&&(0,h.jsx)(P.Le,{top:0,zIndex:new P.Ry(20),children:(0,h.jsx)(P.xu,{flex:"grow",display:"flex",alignItems:"center",color:"backOnline"===e?"successBase":"secondary",height:"100%",padding:3,justifyContent:"center",children:(0,h.jsxs)(P.xv,{color:"backOnline"===e?"inverse":"default",weight:"bold",align:"center",size:"200",children:[(0,h.jsx)(P.xu,{marginEnd:1,marginStart:1,marginBottom:-1,display:"inlineBlock",children:(0,h.jsx)(P.JO,{accessibilityLabel:e?this.props.i18n.bt(" ", "online", "online icon label", undefined, true):this.props.i18n.bt("  ", "offline", "offline icon label", undefined, true),color:"backOnline"===e?"inverse":"default",dangerouslySetSvgPath:{__path:"backOnline"===e?"M24.4 8.1c0-4.3-3.6-7.9-7.9-7.9-2.6 0-4.9 1.3-6.4 3.2-2.5.5-4.5 2.3-5.4 4.8-2.7.7-4.7 3.1-4.7 6 0 3.2 2.5 5.9 5.7 6.1H18.3c3.2-.2 5.7-2.9 5.7-6.1 0-.9-.2-1.7-.6-2.4.7-1.1 1-2.4 1-3.7zm-6.2 10H5.9c-2-.1-3.6-1.8-3.6-4 0-1.8 1.3-3.5 3.1-3.9l1.1-.1.3-1.1c.3-1 1-2 1.9-2.6 0 .5-.1 1.1-.1 1.6 0 4.3 3.6 7.9 7.9 7.9 2 0 3.9-.8 5.3-2v.3c0 2-1.6 3.8-3.6 3.9zm-1.7-4.3c-3.2 0-5.8-2.6-5.8-5.8s2.6-5.8 5.8-5.8 5.8 2.6 5.8 5.8-2.6 5.8-5.8 5.8z M18.9 5.5l-3.3 3.3-1.3-1.3c-.4-.4-.9-.4-1.3 0s-.4.9 0 1.3l1.9 1.9.6.6.6-.6L20 6.8c.4-.4.4-.9 0-1.3-.3-.3-.7-.3-1.1 0z":"M19.1 7.5c-.2-.7-.6-1.3-1-1.8l2.7-2.8-1.5-1.5L16.7 4c-1.4-1.1-3-1.6-4.7-1.6-3.3 0-6.2 2-7.2 5.2-2.9.7-4.8 3.1-4.8 6 0 2 1 3.9 2.5 5L.1 21.1l1.6 1.5 2.9-3c.3.1.7.2 1 .2H18.3c3.2-.2 5.7-2.9 5.7-6.2.1-3-2-5.5-4.9-6.1zm-2.6-.2c.2.4.4.7.5 1.1l.4 1.2 1.2.2c1.9.3 3.3 1.9 3.3 3.9s-1.5 3.8-3.6 4H6.6l9.9-10.4zM2.3 13.6c0-1.8 1.4-3.5 3.1-3.9l1.1-.2.3-1.1c.7-2.3 2.8-3.8 5.1-3.8 1.2 0 2.2.4 3.2 1.1L4.1 17c-1.1-.8-1.8-2-1.8-3.4z"}})}),"backOnline"===e?this.props.i18n.bt("   .", "You're back online!", "back online message", undefined, true):this.props.i18n.bt("   .    .", "You're offline! Check your internet connection.", "not online message", undefined, true)]})})})}}const N=function(e){const t=(0,D.ZP)();return(0,h.jsx)(O,{...e,i18n:t})};var L=n(567450),U=n(373420),F=n(170168),M=n(773285),z=n(867820);let B;const Z=(e,t)=>{try{(0,z.My)("mweb.homescreen_install.shown"),t({event_type:13,view_type:170,component:13126}),e.userChoice.then((e=>{(0,z.My)(`mweb.homescreen_install.${e.outcome}`),t({view_type:170,component:13126,element:"dismissed"===e.outcome?10359:10360,event_type:102})}))}catch(n){window.console.error(n)}};function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const G="firstPWAInstallPromptTime";class V extends i.Component{constructor(...e){super(...e),H(this,"state",{canShow:!1}),H(this,"handleOnDismiss",(()=>{this.setState({canShow:!1}),R.Z.increment("mweb_pwa_install_preprompt_dismiss")})),H(this,"handleOnAdd",(()=>{this.setState({canShow:!1}),R.Z.increment("mweb_pwa_install_preprompt_accept"),B&&(B.prompt(),Z(B),B=null)}))}componentDidMount(){if(null===(0,v.qn)(G)){if(!Boolean(B)||this.props.userInNUX)return;(0,v.Nh)(G,Date.now()),R.Z.increment("mweb_pwa_install_preprompt"),this.setState({canShow:!0})}}render(){var e,t;if(!this.state.canShow||null!==(e=this.props.location)&&void 0!==e&&e.pathname.startsWith("/pin/create")||null!==(t=this.props.location)&&void 0!==t&&t.pathname.startsWith("/board/create"))return null;const n=this.props.i18n.bt("   ", "Add to Home screen", "Add to home screen modal title", undefined, true);return(0,h.jsx)(U.default,{accessibilityModalLabel:n,onDismiss:this.handleOnDismiss,children:(0,h.jsxs)(P.xu,{padding:4,children:[(0,h.jsx)(P.xv,{children:(0,h.jsx)("span",{className:"deprecatedTextSizeXL",children:n})}),(0,h.jsxs)(P.xu,{paddingY:4,display:"flex",alignItems:"center",children:[(0,h.jsx)(P.JO,{accessibilityLabel:this.props.i18n.bt(" Pinterest", "Pinterest logo", "accessibility label for the pinterest logo", undefined, true),color:"brandPrimary",icon:"pinterest",size:36}),(0,h.jsxs)(P.xu,{paddingX:4,children:[(0,h.jsx)(P.xv,{children:(0,h.jsx)("span",{className:"deprecatedTextSizeXL",children:"Pinterest"})}),(0,h.jsx)(P.xv,{children:F.Vi})]})]}),(0,h.jsxs)(P.kC,{alignItems:"stretch",justifyContent:"end",children:[(0,h.jsx)(P.rU,{href:"#",display:"inlineBlock",onClick:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleOnDismiss()},underline:"hover",children:(0,h.jsx)(P.xu,{paddingX:1,children:(0,h.jsx)(P.xv,{color:"shopping",weight:"bold",children:this.props.i18n.bt("", "CANCEL", "cancel label for to close the pwa install modal", undefined, true)})})}),(0,h.jsx)(P.rU,{href:"#",display:"inlineBlock",onClick:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleOnAdd()},underline:"hover",children:(0,h.jsx)(P.xu,{paddingX:1,children:(0,h.jsx)(P.xv,{color:"shopping",weight:"bold",children:this.props.i18n.bt("", "ADD", "add button to install pwa and close the modal", undefined, true)})})})]})]})})}}const W=function(e){const t=(0,D.ZP)(),{checkExperiment:n}=(0,M.F)(),i=(0,r.useSelector)((({experiences:e})=>{var t;return[40002,500450].includes(null===(t=e[40001])||void 0===t?void 0:t.experience_id)}));return(0,h.jsx)(V,{...e,i18n:t,checkExperiment:n,userInNUX:i})};var K=n(6637),q=n(947599),Y=n(594881),$=n(433780),X=n(439890);const J="holdout",Q="activation_pod_holdout_2023_q1",ee=Object.freeze({activation_product:"activation_product_team_holdout_2023_q1",activation_foundation:"activation_foundation_team_holdout_2023_q1",pinner_conversions:"pinner_conversions_team_holdout_2023_q1"});var te=n(482662),ne=n(560352),ie=n(829407),re=n(635240),ae=n(427014),oe=n(276775);const se="FIRST_DELAY_REFRESH_TIME_KEY";function le({appType:e,isBot:t,newVersionAvailable:n,stage:r}){const a=(0,oe.useLocation)(),o=(0,i.useRef)(a),s=(0,i.useRef)(!1),l=(0,re.Z)();(0,i.useEffect)((()=>{if(n&&!s.current)if(window.Cypress)s.current=!1;else if(window.navigator.connection&&["slow-2g","2g","3g"].includes(window.navigator.connection.effectiveType)){const{maxStalenessReached:e,firstDelayTime:t}=(()=>{const e=Date.now();let t=(0,v.qn)(se);return t=t?parseInt(t,10):null,{firstDelayTime:t,maxStalenessReached:t&&e-t>864e5}})();e?((0,v.L_)(se),R.Z.increment("mweb_skip_hard_refresh_max_stale",.1,{appVersion:l,connectionType:window.navigator.connection.effectiveType}),s.current=!0):(R.Z.increment("mweb_skip_hard_refresh",.1,{appVersion:l,connectionType:window.navigator.connection.effectiveType}),t||(0,v.Nh)(se,Date.now()),s.current=!1)}else s.current=!0})),(0,i.useEffect)((()=>{o.current!==a&&s.current&&"latest.pinterest.com"!==window.location.hostname&&((0,ae.Z)({deviceType:"mobile",eventType:"refresh",eventName:"react_hardReloadOnRouteChange",stage:r,currVersion:l,isBot:t,appType:e}),window.location.reload(!0)),o.current=a}),[a])}var de=n(52022),ce=n(127412),ue=n(283943),pe=n(550858),_e=n(407043),he=n(313951),me=n(350576),ge=n(744856),fe=n(619277),ve=n(373232),ye=n(987318),xe=n(118405),be=n(826067),we=n(7893),Se=n(878499),Te=n(269695),Ie=n(790123),Pe=n(275926),Ee=n(350118),Ae=n(722512),ke=n(53987),Ce=n(874103),Re=n(529195),je=n(772486),De=n(30287),Oe=n(639952),Ne=n(962832),Le=n(813401);const Ue=(0,i.lazy)((()=>n.e(25506).then(n.bind(n,303475)))),Fe=(0,i.lazy)((()=>n.e(27935).then(n.bind(n,527935))));function Me({children:e}){const t=(0,oe.useLocation)(),n=(0,d.HG)(),s=(0,d.ml)(),l=(0,d.Wb)(),u=(0,de.Z)(),[p,g]=(0,i.useState)(!0),[f,v]=(0,i.useState)(!navigator.onLine),[y]=(0,i.useState)((0,be.mB)(t.search).invite_code||null),x=(0,r.useDispatch)(),{isAuthenticated:b,isBot:S,locale:T,origin:I,stage:E}=(0,_.B)(),A=(0,c.Z)(),C=(0,r.useSelector)((e=>e.session.newVersionAvailable)),D=(0,r.useSelector)((e=>e.experiences[40001]&&500681===e.experiences[40001].experience_id)),O=(0,r.useSelector)((({experiences:e})=>{var t;return[40002,500450].includes(null===(t=e[40001])||void 0===t?void 0:t.experience_id)})),L=(0,r.useSelector)((e=>e.session.appType)),U=(0,r.useSelector)((e=>e.session.shouldHideNavBar)),F=(0,Le.l5)(),B=(0,i.useRef)(b),Z=(0,i.useRef)(t),H=s||l,G=!b&&!S&&H,{checkExperiment:V}=(0,M.F)(),$=b&&s&&V("auth_docked_nav_bar_exp").anyEnabled,te=b&&l&&V("auth_tablet_docked_nav_bar_exp").anyEnabled,{activateActivationHoldoutExperiments:ne}=function(){const{checkExperiment:e}=(0,M.F)(),t=(0,c.Z)().isAuth;return{activateActivationHoldoutExperiments:(0,i.useCallback)((()=>{e(Q),Object.keys(ee).forEach((t=>e(ee[t])))}),[e]),userIsEligibleForShippedActivationExperiment:n=>!t||e(Q).group!==J&&e(ee[n]).group!==J}}(),re=G||$,ae=T.startsWith("en")&&!b&&!S&&H&&V("unauth_videos_nav_bar_exp").anyEnabled;{var se;const e=document.getElementById("shell-loader");e instanceof HTMLElement&&null!==(se=document.body)&&void 0!==se&&se.removeChild&&document.body.removeChild(e)}(0,i.useEffect)((()=>{t&&(re||te)&&((0,ke.uM)(t)?x((0,Oe.FK)()):x((0,Oe.Cp)()))}),[re,te,t,x]),(0,ie.Z)((()=>{if(!b){const e=Intl.DateTimeFormat().resolvedOptions().timeZone;(0,z.tj)("web.unauth.locale_data",{tz:e})}})),(0,i.useEffect)((()=>{b&&ne()}),[b,ne]),(0,i.useEffect)((()=>{if(b)(0,Re.kw)();else{const e=new URLSearchParams(t.search);if((t!==Z.current||p)&&(0,Re.Z4)(t.pathname,(0,Oe.Wz)(t).payload),(0,ke.ey)(t)&&e.has("invite_code")&&(0,Re.Ys)(e.get("invite_code")),p){const t=(0,me.an)(""),n=t?new URL(t).hostname:"",i=new URLSearchParams;for(const a of Re.ZN)e.has(a)&&i.set(a,e.get(a)||"");const r=i.toString();(n||r)&&(0,Re.Cb)(`${n}${r?"?"+r:""}`)}}}),[t,b,p,V]),(0,i.useEffect)((()=>{(0,z.tj)(`mweb.${b?"auth":"unauth"}.window_size`,{width:void 0!==window.screen&&window.screen.width,height:void 0!==window.screen&&window.screen.height})}),[b]),(0,i.useEffect)((()=>{if(b){const e=Ce.wQ,t=async t=>{const n=await K.Z.create("ApiResource",{url:"/v3/sessions/verify/",data:{recaptcha_token:t}}).callUpdate();R.Z.increment("recaptcha_auth.done",1,{action:e,resp_code:n.status})};setTimeout((()=>{(0,Ce.rY)(t,(e=>{}),e)}),Ce.OA)}}),[b]),(0,i.useEffect)((()=>{const e=()=>(0,z.qJ)("mweb_funnel");return window.addEventListener("pagehide",e),window.addEventListener("beforeunload",e),(0,we.RD)((e=>(0,z.My)(e)),"mweb"),()=>{window.removeEventListener("pagehide",e),window.removeEventListener("beforeunload",e)}}),[]),(0,i.useEffect)((()=>{const e=(e,t)=>{(0,z.tj)(`mweb.connection_status_${e}`,{downlink:t.downlink,downlinkMax:t.downlinkMax,effectiveType:t.effectiveType,rtt:t.rtt,saveData:t.saveData,type:t.type,isAuth:b})},t=t=>{if(t&&t.currentTarget){const n=t.currentTarget;e("change",n)}};if(window.navigator&&window.navigator.connection){const n=window.navigator.connection;e("initial",n),n.addEventListener("change",t)}return()=>{if(window.navigator&&window.navigator.connection){window.navigator.connection.removeEventListener("change",t)}}}),[b]),(0,i.useEffect)((()=>{const e=t=>{"offline"===t.type?(v(!0),window.addEventListener("online",e)):(v(!1),window.removeEventListener("online",e))};return window.addEventListener("offline",e),()=>{window.removeEventListener("offline",e)}}),[]),(0,i.useEffect)((()=>{const e=()=>{setTimeout((()=>window.dispatchEvent(new Event("resize"))),1e3);const e=window.innerHeight<window.innerWidth?"landscape-to-portrait":"portrait-to-landscape";u({action:"trigger",item:e})};return window.addEventListener("orientationchange",e),()=>{window.removeEventListener("orientationchange",e)}}),[u]),(0,i.useEffect)((()=>{o.Z.includes(I)&&b&&(0,a.Z)(n?"web":"mweb")}),[b,I,n]),(0,i.useEffect)((()=>{(!B.current&&b||Z.current!==t&&Z.current.pathname.startsWith("/email/subscription"))&&(0,Y.Z)()}),[b,t]),(0,i.useEffect)((()=>{b&&b!==B.current&&((0,Ne.Fv)(),(0,Ae.e)({isAuthenticated:b,isDesktop:n}).preload()),B.current=b}),[b,n]),le({appType:L,isBot:S,newVersionAvailable:C,stage:E}),(0,i.useEffect)((()=>{p&&x((0,Oe.Wz)(t,A.username)),Z.current!==t&&p&&(g(!1),x((0,Oe.Wz)())),Z.current=t}),[t]);const ce=!(({isAuthenticated:e,location:t,hasNux:n,hasEmailUpdate:i,isDesktop:r,shouldHideNavFooter:a,viewingUsername:o})=>o&&(0,ke.J)(t,o)||t.pathname.endsWith("/organize/repin/")||t.pathname.endsWith("/profile-about/")||t.pathname.startsWith("/about/")||t.pathname.startsWith("/convert-business")||t.pathname.startsWith("/convert-personal")||t.pathname.startsWith("/close-account")||t.pathname.startsWith("/settings")||t.pathname.startsWith("/switch_account")||t.pathname.startsWith("/add-account")||t.pathname.match(/pin\/.+\/repin/)||t.hash===`#${ge.v}`||t.pathname.startsWith("/board/create/")||"/inbox/compose/"===t.pathname||"/search/me/"===t.pathname||"/search/people/"===t.pathname||t.pathname.startsWith("/today-articles")||t.pathname.startsWith("/oauth")||(0,ke.kY)(t)||(0,ke.C$)(t)&&(n||i||!e)||(0,ke.Xn)(t)||(0,ke.gf)(t)||(0,ke.re)(t)||(0,ke.FO)(t)||(0,ke.pV)(t)||(0,ke.jC)(t)||(0,ke.XE)(t)||(0,ke.Fy)(t)||(0,ke.AX)(t)||(0,ke.pD)(t)||(0,ke.Ui)(t)||(0,ke.KY)(t)||(0,ke.Ni)(t)||(0,ke.b0)(t)||(0,ke.mP)(t)||(0,ke.bW)(t)||(0,ke.dt)(t)||r||a)({isAuthenticated:b,location:t,hasNux:O,hasEmailUpdate:D,isDesktop:n,shouldHideNavFooter:U,viewingUsername:A.username}),ue={__style:{...ce?{paddingBottom:68}:{}}};return(0,h.jsx)(m,{inviteCode:y,children:(0,h.jsx)(k.Z,{children:(0,h.jsx)(Te.m,{children:(0,h.jsx)(fe.o$,{value:y,children:(0,h.jsx)(X.Z,{children:(0,h.jsxs)(P.xu,{dangerouslySetInlineStyle:ue,children:[(0,h.jsx)(N,{isOffline:f}),(0,h.jsx)(q.Z,{children:(0,h.jsx)(Fe,{})}),ce?(0,h.jsx)(P.xu,{as:"nav",children:(0,h.jsx)(j.ZP,{showDockedNavBar:re,inUnauthVideosNavExp:ae,dockNavBarForAuthTablet:te})}):null,e,b&&(0,h.jsx)(W,{location:t}),F&&"unknown"!==F&&(0,h.jsx)(w.Z,{name:"SafeSuspense_MobileApp_TwaPinterestLite",children:(0,h.jsx)(q.Z,{children:(0,h.jsx)(Ue,{})})})]})})})})})})}function ze({children:e}){const t=(0,r.useSelector)((({users:e})=>{const t=Object.keys(e).find((t=>void 0!==e[t].login_state));return t?e[t]:void 0}),r.shallowEqual),n=(0,i.useMemo)((()=>(0,ce.Z)(t)),[t]),a=(0,_.gf)(),{isAuth:o}=n;return(0,i.useEffect)((()=>{a({isAuthenticated:o})}),[o]),(0,h.jsx)(c.$,{value:n,children:e})}function Be({children:e}){const t=(0,_.B)(),n=(0,r.useSelector)((({session:e})=>e.appType)),a=(0,Pe.p3)(),o=(0,i.useMemo)((()=>({loginContext:{appType:n,facebookToken:t.facebookToken,origin:t.origin,referrer:t.referrerFromCookie,unauthId:t.unauthId},logout:a})),[n,a,t.facebookToken,t.origin,t.referrerFromCookie,t.unauthId]);return(0,h.jsx)(ue.o_,{value:o,children:e})}function Ze({children:e}){const t=(0,te.Z)();return(0,h.jsx)(ye.o,{value:t,children:e})}function He({children:e,clientContext:t}){const n=(0,d.ZP)(),i=(0,c.Z)();return"desktop"===n&&i.isAuth?(0,h.jsx)(ve.EP,{value:t,children:e}):e}function Ge({children:e,clientContext:t}){const n=(0,_.B)();(0,ne.Z)();const{isTablet:a,isMobile:o}=n.userAgent,l=a?"tablet":o?"phone":"desktop",c=(0,oe.useLocation)(),u=(0,Ee.AF)(),p=(0,r.useSelector)((({session:e})=>e.isPWA)),m=(0,Le.yz)(),g=(0,Le.l5)(),f=(0,d.HG)(),v=(0,r.useSelector)((e=>e.session.isAuthenticated))&&f,y=(0,i.useMemo)((()=>(0,s.Z)({location:c,reduxPins:u,shouldExtractTrackingParams:v})),[c,u,v]);return(0,i.useEffect)((()=>{if(!v){const e=setInterval((()=>y.flushContextEvents()),1e4);return()=>{clearInterval(e)}}}),[y,v]),(0,ie.Z)((()=>{var e;if(((e,t)=>{const{userAgent:{browserName:n,browserVersion:i},isAuthenticated:r}=e,a=parseInt(i,10),o=!!n&&n.includes("Chrome");window.addEventListener("beforeinstallprompt",(e=>r&&o&&a<=67?(Z(e,t),!0):(e.preventDefault(),B=e,!1)))})(n,y.logContextEvent),e=y.logContextEvent,window.addEventListener("appinstalled",(t=>{(0,z.My)("mweb.homescreen_install.installed"),e({event_type:13,view_type:170,component:13126,element:10802})})),(0,je.yd)(y),(0,je.XK)((0,$.Z)(y,v)),p){var t;const e=null!=m?m:"unknown",n=null!=g?g:"unknown",i="unknown"===e?null!==(t=(0,De.FB)(window))&&void 0!==t?t:"unknown":e;y.logContextEvent({view_type:170,view_parameter:(0,De.Kj)(i,n)||void 0,component:13162,event_type:102,aux_data:{pwa_type:i}})}L.Z.onSessionResume((()=>{v||(0,Y.Z)(),C.Z.resume(),(0,je.jC)()})).onSessionPause((e=>{C.Z.pause(),(0,$.Z)(y,v).unregisterApp(!1,!0,{type:"PageVisibility.onSessionResume.unregisterApp",pauseReason:e}),"blur"!==e&&(y.flushContextEvents(!0),(0,Ne.go)()||(0,pe.Qi)())}))})),(0,h.jsx)(ze,{children:(0,h.jsx)(Be,{children:(0,h.jsx)(_e.B,{value:y,children:(0,h.jsx)(Ie.j,{value:$.Z,children:(0,h.jsx)(A,{children:(0,h.jsx)(I,{deviceType:l,children:(0,h.jsx)(xe.m,{children:(0,h.jsx)(Ze,{children:(0,h.jsx)(Se.l,{children:(0,h.jsx)(he.i5,{children:(0,h.jsxs)(Me,{children:[(0,h.jsx)(He,{clientContext:t,children:(0,h.jsx)(Ae.Z,{children:e})}),(0,h.jsx)(x,{}),(0,h.jsx)(b.Z,{})]})})})})})})})})})})})}var Ve=n(421781),We=n(328531),Ke=n(914671),qe=n(550293),Ye=n(767989);const $e=Object.freeze({"/settings/edit-profile":"unification_edit_profile_duplo","/":"web_unification_homefeed_and_pin_page","/homefeed":"web_unification_homefeed_and_pin_page","/pin/:id":"web_unification_homefeed_and_pin_page","/pin/:id/comments":"web_unification_homefeed_and_pin_page","/pin/:id/comments/:comment_id":"web_unification_homefeed_and_pin_page","/pin/:id/feedback":"web_unification_homefeed_and_pin_page","/pin/:id/sent":"web_unification_homefeed_and_pin_page","/pin/:id/share":"web_unification_homefeed_and_pin_page","/notifications":"web_unification_homefeed_and_pin_page","/search/:scope":"web_unification_search"});var Xe=n(711344),Je=n(13748),Qe=n(375985),et=n(751188),tt=n(630409),nt=n(701563),it=n(556263),rt=n(798748),at=n(339363),ot=n(314919),st=n(323716),lt=n(432300),dt=n(881802),ct=n(67347),ut=n(966113),pt=n(801645),_t=n(176532),ht=n(483025),mt=n(782677);function gt({data:e,opts:{bookmark:t,options:n,schema:i},resource:r}){const a=((e,{bookmark:t,options:n,schema:i})=>{const r=i||ht.Z[e];return"function"==typeof r?r({resource:e,options:n,bookmark:t}):r})(r,{bookmark:t,options:n,schema:i});return{normalizedResponse:a&&e?(0,mt.Fv)(e,a):null,resourceSchema:a}}function ft(e,t){"VisualSearchFlashlightUnifiedResource"===e&&(t=t.results)}let vt,yt=!0;window.addEventListener("focus",(()=>yt=!0)),window.addEventListener("blur",(()=>yt=!1));const xt=["ActiveUserResource","ActivateExperimentResource","ContextLogResource","UserRegisterTrackActionResource"],bt=({clientContext:e,experimentsClient:t})=>{const{active_experiments:n,app_version:i,triggerable_experiments:r,experiment_hash:a,origin_host:o}=e,{session:s}=vt.getState(),l=(0,re.Z)();var d,c;i!==l?s.newVersionAvailable||s.preparingNewVersion||((0,ae.Z)({appType:K.Z.requestContext.appTypeDetailed,deviceType:"mobile",eventType:"signal",eventName:"new_version_required",currVersion:l,isBot:null!==(d=K.Z.requestContext.isBot)&&void 0!==d&&d,nextVersion:i,originHost:o,stage:null!==(c=K.Z.requestContext.stage)&&void 0!==c?c:"unknown"}),vt.dispatch((0,Oe.YV)())):t&&t.latestExperimentHashFromServer!==a&&n&&r&&((0,ct.nP)("webapp.experiments.updateExperimentCache",{sampleRate:1,tags:{appVersion:i,isAuthenticated:e.is_authenticated,target:"duplo"}}),t.latestExperimentHashFromServer=a)};class wt extends K.Z{constructor(e,t){var n,i,r;if(super(e,t),r=()=>{window.location.href=ut.ZE},(i="redirectToLoginPage")in(n=this)?Object.defineProperty(n,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[i]=r,this.isBackgroundSyncEnabled=((e,t)=>(0,Ne._P)()&&xt.includes(e)&&!!t.id)(e,K.Z.initialUser),window)try{window.onunhandledrejection=()=>{}}catch(a){}}_call(e,t,n,i={}){this.abort();const[r,a]=this.getAjaxParams({async:t,headers:i,method:e,timeoutSeconds:n});return this._ajax(a,r)}_ajax(e,t){const{promise:n,abort:i}=(0,_t.Z)(t);this.abortCallback=i;const r=!!(e&&e.options&&e.options.disable_auth_failure_redirect);return new Promise(((e,i)=>{n.then((e=>e.json().then((e=>({success:!0,data:e}))).catch((e=>({success:!1,error:e}))).then((t=>({res:e,parsed:t}))))).then((({res:n,parsed:a})=>{if(this.abortCallback=null,!a.success)return i({message:a.error.message,httpStatus:n.status}),void(this.shouldRedirectToLoginPage(n.status,r,t.url,void 0,this.getLoginState())&&this.redirectToLoginPage());const o=(0,ot.Z)(a.data);o.originHost=n.headers.get("pinterest-generated-by")||void 0;const{error:s,data:l}=o.resource_response;if(s)if(this.shouldRedirectToLoginPage(s.http_status,r,t.url,s.api_error_code,this.getLoginState()))this.redirectToLoginPage();else if(401!==s.http_status||this.getLoginState()!==lt.Z.LIMITED||"UserSessionResource"===this.name||"CreateExternalInviteResource"===this.name||r){if(401===s.http_status&&2===s.api_error_code&&"/resource/UserSessionResource/delete/"===t.url)return void e(o)}else this.showLimitedLoginPrompt(t.url,s.api_error_code);if(n.ok){if(!s){if(l&&l.redirect_url){var d,c,u;let e=l.redirect_url;const n=String((null===(d=t.data)||void 0===d?void 0:d.source_url)||"");return n.match(/pin\/.+\/activity\/tried\/.+/)&&(e=n.replace(/\/pin\/.+\/(?=activity\/tried)/,e)),void i({message:null!==(c=null===(u=K.Z.i18n)||void 0===u?void 0:u.bt("Redirect", "Redirect", " - ", undefined, false))&&void 0!==c?c:"Redirect",httpStatus:301,redirectUrl:e})}e(o)}}else if(s){const{message:e,message_detail:t,data:n,extra_data:r,http_status:a,api_error_code:o}=s;i({message:e,message_detail:t,data:n,extraData:r,httpStatus:a,api_error_code:o})}else i({message:n.statusText,httpStatus:n.status})})).catch((e=>{this.abortCallback=null,i(e)}))}))}showLimitedLoginPrompt(e,t){(0,pt.sh)({resourceUrl:e,currentPageUrl:(0,st.Z)(),subHeaderText:(0,dt.DF)(K.Z.i18n)}),(0,ct.nP)("mweb.showLimitedLoginModal",{sampleRate:1,tags:{resource:this.name,resourceUrl:e,api_error_code:t}})}logoutUser(e){const{isAuthenticated:t,userAgent:{isTablet:n,isMobile:i}}=K.Z.requestContext,r=!n&&!i;t&&r||(0,Pe.Pt)({logoutOnAbort:!0,reason:"authentication_failed",source:e},r)}}const St=({initialUser:e,reduxStore:t,requestContext:n})=>{K.Z.initialUser=e,vt=t,K.Z.requestContext=n,K.Z.customResponseSuccessHandlers=e=>{e.client_context&&bt({clientContext:e.client_context,experimentsClient:K.Z.requestContext.experimentsClient})},K.Z.getWindowInFocus=()=>yt,K.Z.normalizeResponse=gt,K.Z.customDataManipulations=ft,K.Z.setDefaultConstructorFn(wt)};Object.prototype.hasOwnProperty.call((0,be.mB)(window.location.search),"server_only")||(0,Je.Z)((async e=>{const{initialProps:t,requestContext:n,routeConfig:a,routeManifest:o,ssrIsEnabled:s}=e,l=await(0,it.w)(t,s),d=l.getState();St({reduxStore:l,requestContext:n,initialUser:t.context.user}),(0,Ne.In)(l);const{session:c,users:u}=d,{isAuthenticated:_,userAgent:{isMobile:m,isTablet:g}}=n,f=(g?"tablet":m&&"phone")||"desktop",v="desktop"===f;(0,rt.jD)((()=>(0,ce.Z)((0,qe.Z)(l.getState()))),(()=>n)),window.unauthId=n.unauthId;"1"===(0,be.mB)(window.location.search).oe&&(0,at.Nh)("openUnauthType","OPEN_UNAUTH"),"desktop"!==f&&(0,Ne.$J)(),"desktop"===f&&_&&Ke.Z.initFocus(),document.hasFocus()&&(0,Y.Z)();const y=(0,Ve.Z)({requestContext:n,traceLoggerData:t.traceLoggerData});(0,nt.gq)(y,_?[]:["facebook_autologin","google_autologin_gsi","google_autologin"]);const{isAppShell:x}=c;return function({isAppShell:e,isAuthenticated:t,isDesktop:n}){"undefined"!=typeof window&&window.navigator&&"serviceWorker"in window.navigator&&"addEventListener"in window.navigator.serviceWorker&&!n&&(window.navigator.serviceWorker.addEventListener("message",(e=>{switch(e.data.message){case"replay-resource-requests-success":R.Z.increment("replay_resource_request.success",1);break;case"replay-resource-requests-failed":R.Z.increment("replay_resource_request.failed",1,{errorMessage:e.data.replayErrorMessage});break;case"log-service-worker-exp-group-got-from-headers":R.Z.increment("sw_detect_resource_requests",1,{serviceWorkerGroup:e.data.group,experimentVersion:"v8"})}})),(0,Ne.AP)({isAuthenticated:t,isAppShell:e}))}({isAppShell:x,isAuthenticated:_,isDesktop:v}),(0,Ae.e)({isAuthenticated:_,isDesktop:v}).preload(),We.Z.init({setContext:e=>{bt({clientContext:e,experimentsClient:n.experimentsClient})}}),n.experimentsClient.checkExperiment("m10n_measurement_pinterest_tag_us").anyEnabled&&(0,Ye.Z)(),({children:e})=>{const d=(0,oe.useHistory)(),m=(0,oe.useRouteMatch)();return(0,i.useEffect)((()=>{!(!c.userId||!u[c.userId])&&(0,p.xT)(u[c.userId])||(0,Qe.Z)()}),[]),(0,i.useEffect)((()=>{const e=m.path;(0,Xe.Z)({pageType:"duplo",requestContext:n,route:e}),R.Z.increment("webapp.duplo.clientLoad",1,{appshell:x,auth:_,deviceType:f,route:m.path,ssr:s}),_&&v&&"duploUnified"===t.target&&d.block((e=>{const t=a.find((({route:t})=>(0,oe.matchPath)(e.pathname,{path:t,exact:!0}))),i=null==t?void 0:t.route;let r;if(_){let e=!1;e=!t||!o[t.filePath]||o[t.filePath].dependencies.some((e=>e.includes("-authdesktop")||e.includes("-mobile"))),n.experimentsClient.checkExperiment("web_duplo_default").anyEnabled&&(e=!1),r=!e||!!i&&function(e,t){const n=$e[e];if(n)return t.checkExperiment(n).anyEnabled;return!1}(i,n.experimentsClient)}else r=!(!i||i.startsWith("/html_sitemap/")&&!v);if(r)return!0;R.Z.increment("webapp.unauthUnification.blockedClientNavigation",1,{currentRoute:m.path,destination:(null==t?void 0:t.route)||"unknown"});const s=d.createHref(e);return window.location=s,!1}))}),[]),(0,i.useEffect)((()=>{const{isCachedRender:e}=l.getState().session;e&&(async()=>{const e=new URLSearchParams({source_url:window.location.pathname,target:t.target}),n=await window.fetch("/_/_/state?"+e.toString(),{method:"GET",mode:"same-origin",keepalive:!0}),i=await n.json();l.dispatch({type:"REPLACE_STATE",payload:i}),l.dispatch({type:"FETCH_EXPERIENCES",payload:i.experiences})})()}),[]),(0,h.jsx)(r.Provider,{store:l,serverState:t.initialReduxState,children:(0,h.jsx)(tt.Z,{copytuneExperiments:t.copytuneExperiments,inContextTranslation:t.inContextTranslation,locale:t.locale,localeBundleType:"mobile",requestContext:n,traceLoggerData:t.traceLoggerData,children:(0,h.jsx)(et.Z,{pwaContext:t.pwaContext,children:(0,h.jsx)(Ge,{clientContext:t.context,children:e})})})})}}))},616595:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(172071);class r extends Error{constructor(...e){var t,n,i;super(...e),i="LoaderError",(n="name")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}}e=n.hmd(e);const a=e=>/webapp\/.*\.m?js$/.test(e),o=e=>/webapp\/.*\.css$/.test(e);function s(e){return e.reduce(((e,t)=>{if(t.encodedBodySize){const n=t.encodedBodySize/1e3;a(t.name)?e.scriptSize+=n:o(t.name)&&(e.styleSize+=n)}return e}),{scriptSize:0,styleSize:0})}async function l({browserType:e,didLoadNewFiles:t,files:n,handlerId:r,isAuthenticated:a,isInitialLoad:o,isMobile:s}){const l={browserType:e,didLoadNewFiles:t,handler:r,isAuthenticated:a,isInitialLoad:o,isMobile:s,serviceWorker:navigator.serviceWorker&&navigator.serviceWorker.controller?"true":"false"};if(i.Z.count("web.logCacheHits",1,1,l),window.performance&&window.performance.getEntriesByType){let e=[];e=o?window.performance.getEntriesByType("resource"):window.performance.getEntriesByType("resource").filter((e=>Boolean(n.find((t=>e.name.endsWith(t))))));const r=await function({isInitialLoad:e,didLoadNewFiles:t}){const n={isInitialLoad:e,didLoadNewFiles:t};return navigator.serviceWorker&&navigator.serviceWorker.controller?new Promise(((e,t)=>{var r,a;const o=new MessageChannel,s=Date.now();i.Z.count("web.serviceWorkerCacheData.getCacheHitData",1,1,n),o.port1.onmessage=function({data:r}){if(r&&r.error)t(r.error);else if(i.Z.timing("web.serviceWorkerCacheData.receiveCacheHitData",Date.now()-s,1,n),Array.isArray(r)){r&&r.length>0?i.Z.count("web.serviceWorkerCacheData.receiveCacheHitData.nonEmpty",1,1,n):i.Z.count("web.serviceWorkerCacheData.receiveCacheHitData.empty",1,1,n);const t=r.reduce(((e,t)=>"string"==typeof t?[...e,t]:e),[]);e(t)}else i.Z.count("web.serviceWorkerCacheData.receiveCacheHitData.nonArray",1,1,n),e([])},null===(r=navigator.serviceWorker)||void 0===r||null===(a=r.controller)||void 0===a||a.postMessage({name:"getCacheHitData"},[o.port2])})):Promise.resolve([])}({isInitialLoad:o,didLoadNewFiles:t}),{numScripts:a,localCacheHits:s,serviceWorkerCacheHits:d,noServiceWorkerLocalCacheMisses:c}=function(e,t){let n=0,i=0,r=0,a=0;return e.forEach((e=>{if(/\.mjs$/.test(e.name)){const o=e.name.substr(e.name.lastIndexOf("/")+1);n+=1,"number"==typeof e.transferSize&&e.transferSize>0?i+=1:0===e.transferSize&&t.includes(o)?r+=1:0===e.transferSize&&e.responseEnd-e.requestStart<100&&(a+=1)}})),{numScripts:n,localCacheHits:a,serviceWorkerCacheHits:r,noServiceWorkerLocalCacheMisses:i}}(e,r);"number"==typeof a&&i.Z.gauge("pws.clientLoader.scripts.numScripts",a,1,l),"number"==typeof s&&i.Z.gauge("pws.clientLoader.scripts.localCacheHits",s,1,l),"number"==typeof d&&i.Z.gauge("pws.clientLoader.scripts.serviceWorkerCacheHits",d,1,l),"number"==typeof c&&i.Z.gauge("pws.clientLoader.scripts.noServiceWorkerLocalCacheMisses",c,1,l)}}function d({isAuthenticated:e,isMobile:t,manifest:n,site:d}){const c="noModule"in document.createElement("script"),u={},p={};let _=!0;async function h(u){let h=!1;const m=`${d}/${u}`,{css:g,js:f,mjs:v}=n[u].dependencies.reduce(((e,t)=>{const n=t.split(".").pop();if(!e[n])throw new r(`Unsupported extension ${n} encountered: ${t}`);return e[n].add(t),e}),{css:new Set,js:new Set,mjs:new Set});const y=[...g,...v.size>0?v:f],x=v.size>0?"modern":"legacy";await Promise.all(y.map((async e=>{/\.m?js$/.test(e)&&!document.querySelector(`script[src^="${e}"]`)?(p[e]=function(e){const{head:t}=document;if(!t)throw new r("document.head is undefined");return new Promise(((n,i)=>{const r=/\.mjs$/.test(e),a=document.createElement("script");a.crossOrigin="anonymous",a.charset="utf-8",a.onload=n,a.onerror=i,a.src=e,r&&(a.type="module"),t.appendChild(a)}))}(e),h=!0):/\.css$/.test(e)&&!document.querySelector(`link[rel=stylesheet][href^="${e}"]`)&&(p[e]=function(e){const{head:t}=document;if(!t)throw new r("document.head is undefined");return new Promise(((t,n)=>{const{head:i}=document;if(!i)throw new r("document.head is undefined");const a=document.createElement("link");a.crossOrigin="anonymous",a.rel="stylesheet",a.href=e,a.onload=t,a.onerror=n,i.appendChild(a)}))}(e),h=!0),p[e]&&(await p[e],delete p[e])}))),l({browserType:x,handlerId:m,didLoadNewFiles:h,isAuthenticated:e,isMobile:t,isInitialLoad:_,files:y}),_&&(!function({browserType:e,isAuthenticated:t,isMobile:n,handlerId:r}){if(window.performance&&window.performance.getEntriesByType){const l=.1,d={browserType:e,handler:r,isAuthenticated:t,isMobile:n},c=window.performance.getEntriesByType("resource").filter((e=>a(e.name)&&!/locale-/.test(e.name)||o(e.name))),{scriptSize:u,styleSize:p}=s(c);u&&i.Z.gauge("pws.clientLoader.initialPageLoad.scripts",u,l,d),p&&i.Z.gauge("pws.clientLoader.initialPageLoad.styles",p,l,d)}}({browserType:x,handlerId:m,isAuthenticated:e,isMobile:t}),_=!1),h&&function({browserType:e,files:t,isAuthenticated:n,isMobile:r,handlerId:a}){if(window.performance&&window.performance.getEntriesByType){const o=window.performance.getEntriesByType("resource").filter((e=>Boolean(t.find((t=>e.name.endsWith(t)))))),l=.1,d={browserType:e,handler:a,isAuthenticated:n,isMobile:r},{scriptSize:c,styleSize:u}=s(o);c&&i.Z.gauge("pws.clientLoader.clientNavigation.scripts",c,l,d),u&&i.Z.gauge("pws.clientLoader.clientNavigation.styles",u,l,d)}}({browserType:x,handlerId:m,isAuthenticated:e,isMobile:t,files:y}),(c&&0===v.size||!c&&v.size>0)&&i.Z.increment("pws.clientLoader.moduleSupportMismatch",1,{assetType:v.size>0?"mjs":"js",hasModuleSupport:c});const b=window.__PWS_LOADED_HANDLERS__[m.replace(/.js$/,"")];if(!b)throw new r(`Unable to load module for handler: ${m}`);return b()}async function m(e){if("file:"!==e.protocol)throw new r(`Protocol ${e.protocol} not supported.`);e.hostname=d;const t=e.pathname.substring(1),a=`${d}/${t}`;try{if(!u[t]){n[t];0,u[t]=h(t)}const e=await u[t];return u[t]=e,e}catch(o){delete u[t],i.Z.increment("webapp.clientLoader.fail",1,{error:o.name,handler:a});const e=new r(o.message);throw e.stack=o.stack,e}}async function g(e){try{await m(e)}catch(t){}}return{loadFromCache(e){if("file:"!==e.protocol)throw new r(`Protocol ${e.protocol} not supported.`);const t=e.pathname.substring(1);if(!u[t])return g(e),null;const n=u[t];return"object"==typeof n&&"function"==typeof n.then?null:n},load:m,preload:g}}},155807:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(826067),r=n(628551);function a({handler:e,queryName:t}){return{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":(0,r.getCsrfToken)(),"X-Requested-With":"XMLHttpRequest","X-Pinterest-Source-Url":(0,i.JJ)(),"X-Pinterest-GraphQL-Name":t,...e?{"X-Pinterest-PWS-Handler":e}:null}}},66749:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(479218);function r(){const e=new i.H("/resource/StatsLogResource/create/","StatsLogResource",(e=>({source:"browser",stats:e})),5e3);return{log:(t,n,i,r={})=>{const{sampleRate:a=.1,tags:o={}}=r,s=[t,n,i,a,o];e.enqueue(s)}}}},67347:(e,t,n)=>{n.d(t,{LY:()=>a,nP:()=>r});const i=(0,n(66749).Z)();function r(e,t){i.log(e,1,"c",t)}function a(e,t,n){i.log(e,t,"ms",n)}},705064:(e,t,n)=>{n.d(t,{w:()=>r,u:()=>o});var i=n(425288);const{Provider:r,useHook:a}=(0,i.Z)("HandlerId");function o(){return function(e){const[t,n]=e.split(/\/(.*)+/);return{filepath:n,site:t}}(a()).site}},597897:(e,t,n)=>{n.d(t,{U:()=>a,Z:()=>o});var i=n(667294);const r=(0,i.createContext)();function a(){return(0,i.useContext)(r)}const o=r},854750:(e,t,n)=>{n.d(t,{Z:()=>a});const i=["af_ZA","ar_SA","bg_BG","bn_IN","cs_CZ","da_DK","de","el_GR","en_AU","en_GB","en_IN","es_419","es_AR","es_ES","es_MX","fi_FI","fr","he_IL","hi_IN","hr_HR","hu_HU","id_ID","it","ja","ko_KR","ms_MY","nb_NO","nl","pl_PL","pt_BR","pt_PT","ro_RO","ru_RU","sk_SK","sv_SE","te_IN","th_TH","tl_PH","tr","uk_UA","vi_VN","zh_CN","zh_TW"];function r(e){var t;return null!==(t=null==e?void 0:e.split("-").join("_"))&&void 0!==t?t:""}function a(e){return!!i.includes(r(e))}},13748:(e,t,n)=>{n.d(t,{Z:()=>Y});var i=n(667294),r=n(973935),a=n(125203);function o(e){e||(e={});const{active_experiments:t,triggerable_experiments:n}=e,i="boolean"==typeof e.batch_exp&&e.batch_exp,r=new a.Z(t,n,i);{const t="string"==typeof e.experiment_hash?e.experiment_hash:"";r.latestExperimentHashFromServer=t}return{experimentsClient:r}}var s=n(883119),l=n(597897),d=n(785893);function c(e){const t=function(e){var t;const n=(0,l.U)(),r=new URL(e,"file://"),a=(0,i.useRef)(e),[o,s]=(0,i.useState)({Comp:null==n||null===(t=n.loadFromCache)||void 0===t?void 0:t.call(n,r)}),[d,c]=(0,i.useState)(),{Comp:u}=o;if((0,i.useEffect)((()=>{if(a.current!==e||!u){var t;a.current=e;const i=new URL(e,"file://"),r=null==n||null===(t=n.loadFromCache)||void 0===t?void 0:t.call(n,i);r||(async()=>{try{const e=await(null==n?void 0:n.load(i));e&&s({Comp:e})}catch(e){c(e)}})(),r!==u&&s({Comp:r})}}),[u,e,n]),d)throw d;return u}(e.filePath);return t?(0,d.jsx)(t,{...e.routeProps}):(0,d.jsx)(s.$j,{accessibilityLabel:"Loading....",show:!0})}var u=n(616595),p=n(319915);Error;Error;class _ extends Error{constructor(e){super(`Unexpected nested index.js found at "${e}". Create a file with the name for the path that you want instead "${e.replace(/index\.js$/,"")}.js"`)}}function h(e){if("index.js"===e)return"/";if(e.match(/index\.js$/))throw new _(e);return`/${e.replace(/.js$/,"").split("/").map((e=>e.replace(/\[(.*)\]/,":$1"))).join("/")}`}var m=n(395164),g=n(543059),f=n(172071);function v(e=3){var t;const i={},r=new Set,a=n.e;async function o({chunkId:t,retriesLeft:n,timeout:s}){const l=Date.now();try{await a(t),delete i[t],r.delete(t),f.Z.timing("webapp.chunkLoad.success",Date.now()-l,.1,{tries:e-n,name:t})}catch(m){if(r.add(t),f.Z.timing("webapp.chunkLoad.error",Date.now()-l,.1,{name:t,retriesLeft:n}),n<=0)throw f.Z.timing("webapp.chunkLoad.fail",Date.now()-l,.1,{name:t}),delete i[t],m;await o({chunkId:t,retriesLeft:n-1,timeout:2*s})}}if(n.e=async function(t){i[t]||(i[t]=o({chunkId:t,retriesLeft:e-1,timeout:500})),await i[t]},null!==(t=n.f)&&void 0!==t&&t.prefetch){const e=n.f.prefetch;n.f.prefetch=async function(t,n){try{await e(t,n)}catch(i){if(!r.has(t))throw i;f.Z.increment("webapp.chunkLoad.duplicateError",1,{name:t})}}}}class y extends Error{constructor(...e){var t,n,i;super(...e),i="PlatformError",(n="name")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}}var x=n(464228),b=n(155807),w=n(226198),S=n(314880),T=n(244311),I=n(67347);function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class E extends Error{constructor(...e){super(...e),P(this,"name","GraphQLFetchError"),P(this,"extraData",{})}}var A=n(742816),k=n(473727);function C({children:e,initialLocation:t}){return(0,d.jsx)(k.VK,{children:(0,d.jsx)(A.tn,{children:e})})}function R(e){return Boolean(e.match(/\[[\w]+\]/))}function j(e){return(e.match(/\./g)||[]).length}function D(e,t){if(e.length!==t.length)return e.length<t.length?-1:1;if(0===e.length||0===t.length)return 0;const[n,...i]=e,[r,...a]=t,o=function(e,t){const n=R(e),i=R(t);if(n&&!i)return 1;if(!n&&i)return-1;const r=j(e),a=j(t);return r>a?-1:r<a?1:e.localeCompare(t)}(n,r);return 0===o?D(i,a):o}n(957161),n(898781);new s.Ry(9999);var O=n(628551),N=n(705064),L=n(790348),U=n(240684),F=n(167912),M=n(608832),z=n(610977),B=n(620745),Z=n(938085),H=n(276775);(0,m.Z)();const G=new Promise((e=>{(0,U.TA)(e)}));let V=!0;function W(e){return e.replace(/([^a-zA-Z0-9\-_/])/g,"_")}function K({children:e,handlerId:t,isAuthenticated:n,isMobile:r}){const a=(0,H.useLocation)();return(0,i.useEffect)((()=>{(0,S.V)(t),(0,I.nP)("webapp.request.client",{tags:{handler:W(t),isAuthenticated:n,isInitialLoad:V,isMobile:r}}),V&&(V=!1)}),[t,n,r,a]),e}let q=!1;async function Y(e){var t;if("webcache.googleusercontent.com"===(null===(t=window.location)||void 0===t?void 0:t.hostname))return;(0,g.ZP)("initialAppLoad"),v();const n=document.getElementById(z.DC);if(n){const{message:e,stack:t}=JSON.parse(n.textContent),i=new y(e);throw i.stack=t,i}const a=document.getElementById(z.gD);if(!a)throw new y(`#${z.gD} not found in DOM. Can't start app.`);const{appVersion:_,handlerProps:m,initialHandlerId:f,isAuthenticated:P,isBot:A,props:k,isMobile:R,isStrictModeEnabled:j,isUnderpoweredDevapp:U,renderMode:V,routeManifest:Y,site:$}=JSON.parse(a.textContent);if(!Y)throw new y("routeManifest could not be found.  Can't start app");const X=document.getElementById(z.dV);if(!X)throw new y(`#${z.dV} not found in DOM. Can't start app.`);(function({currentAppVersion:e,deviceType:t,site:n}){const i=window.fetch;window.fetch=async(...r)=>{const a=r[0],o="string"==typeof a&&a.startsWith("/"),s=await i(...r);return o&&(s.headers.get("pinterest-version")===e||q||((0,I.nP)("pws.renderClient.newVersionAvailable",{sampleRate:1,tags:{deviceType:t,site:n}}),q=!0)),s}})({currentAppVersion:_,deviceType:R?"mobile":"desktop",site:$});const J="legacy"!==V,Q=document.getElementById(z.go),ee=(te=Q?JSON.parse(Q.textContent):{},new T.Environment({network:T.Network.create((async function(e,t){const n=Date.now(),i=(0,S.H)(),r=document.cookie.match(new RegExp("\\b"+w.fS.name+"=.+?($|;)","g")),a=(0,b.Z)({handler:i,queryName:e.name});try{const r=await fetch("/_/graphql/",{credentials:"include",method:"POST",headers:a,body:JSON.stringify({queryHash:e.id,variables:t})});return(0,I.LY)("pws.graphql.fetchQueryClient.request",Date.now()-n,{sampleRate:1,tags:{handler:null!=i?i:"unknown",queryName:e.name,status:r.status}}),await r.json()}catch(s){var o;const t=new E(s.message);throw t.stack=s.stack,t.extraData={csrfCookies:null!==(o=null==r?void 0:r.join(";"))&&void 0!==o?o:"unknown",requestHeaders:a},(0,I.nP)("pws.graphql.fetchQueryClient.networkError",{sampleRate:1,tags:{handler:i,queryName:e.name}}),t}})),store:new T.Store(new T.RecordSource(te))}));var te;const ne={sampleRate:1,tags:{handler:f?f.replace(/([^a-zA-Z0-9\-_/])/g,"_"):"unknown",isAuthenticated:P,isBot:A,isMobile:R,renderMode:V,useReact18Stream:J}};(0,Z.Tx)((({value:e})=>(0,I.LY)("pws.renderClient.fid",e,ne))),(0,Z.Tb)((({value:e})=>(0,I.LY)("pws.renderClient.lcp",e,ne))),(0,Z.Y)((({value:e})=>(0,I.LY)("pws.renderClient.fcp",e,ne))),(0,Z.CA)((({value:e})=>(0,I.LY)("pws.renderClient.ttfb",e,ne)));const ie=X.hasChildNodes(),re=(ae=await(async({routeManifest:e,site:t})=>Object.keys(e))({routeManifest:Y,site:$}),ae.concat().sort(((e,t)=>D(`/${e}/`.split("/").filter(Boolean),`/${t}/`.split("/").filter(Boolean))))).map((e=>({filePath:e,route:h(e)})));var ae;const oe=(0,u.Z)({isAuthenticated:P,isMobile:R,manifest:Y,site:$}),se=e=>oe.load(new URL(e,"file://")),le=function(e){const{context:t,context:{user:n={}}}=e;return{advertiser:t.advertiser?t.advertiser:null,appTypeDetailed:t.app_type_detailed,country:t.country,countryFromHostName:t.country_from_hostname,countryFromIp:t.country_from_ip,deepLink:t.deep_link,experimentsClient:e.experimentsClient,facebookToken:t.facebook_token,fullPath:t.full_path,inviteCode:t.invite_code,isAmp:!1,isAuthenticated:t.is_authenticated,isBot:"true"===t.is_bot,isInternalIP:t.is_internal_ip,isManagedAdvertiser:t.is_managed_advertiser,isRTL:"rtl"===t.text_direction,isSocialBot:!!t.social_bot,language:t.language,legacyAdvertiser:null,locale:t.locale,loginState:n.login_state||void 0,origin:t.origin,referrerFromCookie:t.referrer,regionFromIp:t.region_from_ip,requestIdentifier:t.request_identifier,stage:t.stage,sterlingOnSteroidsLdap:t.sterling_on_steroids_ldap,unauthId:t.unauth_id,userAgent:{browserName:t.browser_name,browserType:t.browser_type,browserVersion:t.browser_version,canUseNativeApp:t.user_agent_can_use_native_app,isTablet:t.is_tablet_agent,isMobile:t.is_mobile_agent,platform:t.user_agent_platform,platformVersion:t.user_agent_platform_version&&3===t.user_agent_platform_version.length?t.user_agent_platform_version:[0,0,0],osName:t.analysis_ua?t.analysis_ua.os_name:"",raw:t.user_agent}}}({context:k.context,experimentsClient:o(k.context).experimentsClient});(0,M.J)(le),(0,L.DG)(le),(0,O.cleanUpCookie)();const de=e({initialProps:k,requestContext:le,routeConfig:re,routeManifest:Y,ssrIsEnabled:ie});let ce=null;const ue=re.find((({route:e})=>(0,H.matchPath)(window.location.pathname,{path:e,exact:!0})));if(ue){const{filePath:e}=ue,t=`${$}/${e}`;(0,S.V)(t);const n=se(e);ie&&(ce={handlerId:t,handlerProps:m,routeComponentPromise:n})}const pe=await Promise.all(re.map((async({filePath:e,route:t})=>{var n;const r=`${$}/${e}`;let a;const o=(null===(n=ce)||void 0===n?void 0:n.handlerId)===r?ce:null;var l;if(J)o&&await o.routeComponentPromise,a=(0,d.jsx)(c,{filePath:e,routeProps:null!==(l=null==o?void 0:o.handlerProps)&&void 0!==l?l:void 0},t);else if(o){const e=await o.routeComponentPromise;a=(0,i.createElement)(e,{...o.handlerProps,key:t})}else{const n=(0,i.lazy)((async()=>({default:await se(e)})));a=(0,d.jsx)(i.Suspense,{fallback:(0,d.jsx)(s.xu,{padding:5,children:(0,d.jsx)(s.$j,{accessibilityLabel:"Loading....",show:!0})}),children:(0,d.jsx)(n,{},t)})}const u=await de;return(0,d.jsx)(H.Route,{exact:!0,path:t,children:(0,d.jsx)(N.w,{value:r,children:(0,d.jsxs)(u,{children:[null,(0,d.jsx)(K,{handlerId:r,isAuthenticated:P,isMobile:R,children:(0,d.jsx)(p.Z,{name:r,type:"critical",children:a})})]})})},"route")})));let _e=(0,d.jsx)(x.Z.Provider,{value:V,children:(0,d.jsx)(F.RelayEnvironmentProvider,{environment:ee,children:(0,d.jsx)(l.Z.Provider,{value:oe,children:(0,d.jsx)(C,{initialLocation:new URL(window.location.href),children:(0,d.jsx)(H.Switch,{children:pe})})})})});if(J?_e=(0,d.jsx)(i.Suspense,{children:_e}):j&&(_e=(0,d.jsx)(i.StrictMode,{children:_e})),(0,g.ZP)("RenderReactContainer"),ie)await G,(0,I.LY)("pws.renderClient.hydrate",performance.now(),ne),J?(0,B.a)(X,_e,{onRecoverableError:e=>{(0,I.nP)("pws.renderClient.onRecoverableError",{tags:{error:W(e.message),handler:f?W(f):"unknown",isAuthenticated:P,isBot:A,isMobile:R}})}}):(0,r.hydrate)(_e,X);else if((0,I.LY)("pws.renderClient.render",performance.now(),ne),J){(0,B.s)(X).render(_e)}else(0,r.render)(_e,X)}},310434:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7071:e=>{e.exports=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r},e.exports.__esModule=!0,e.exports.default=e.exports}},e=>{e.O(0,[97270,83119,67631,60299,98716,81728,57813,49366],(()=>{return t=559747,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/_client-mobile.ru_RU-47952b60cf70b749.mjs.map