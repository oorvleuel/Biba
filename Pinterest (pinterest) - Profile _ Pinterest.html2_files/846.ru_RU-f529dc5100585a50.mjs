(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[846],{204324:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(78714),o=n(276775),i=n(50286);function r(){const e=(0,o.useHistory)(),t=(0,i.HG)();return n=>{t?(0,s.Z)(n,{disableOriginCheck:!0}):e.push(n)}}},989392:(e,t,n)=>{n.d(t,{Z:()=>s});const s=e=>{const t=new Date;return new Date(1e3*e)<=new Date(t.getFullYear()-18,t.getMonth(),t.getDate())}},472644:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(785893);function o({size:e}){return(0,s.jsx)("svg",{height:e,viewBox:"0 0 512 512",width:e,xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,s.jsx)("path",{d:"M482.56 261.36c0-16.73-1.5-32.83-4.29-48.27H256v91.29h127.01c-5.47 29.5-22.1 54.49-47.09 71.23v59.21h76.27c44.63-41.09 70.37-101.59 70.37-173.46z",fill:"#4285f4"}),(0,s.jsx)("path",{d:"M256 492c63.72 0 117.14-21.13 156.19-57.18l-76.27-59.21c-21.13 14.16-48.17 22.53-79.92 22.53-61.47 0-113.49-41.51-132.05-97.3H45.1v61.15c38.83 77.13 118.64 130.01 210.9 130.01z",fill:"#34a853"}),(0,s.jsx)("path",{d:"M123.95 300.84c-4.72-14.16-7.4-29.29-7.4-44.84s2.68-30.68 7.4-44.84V150.01H45.1C29.12 181.87 20 217.92 20 256c0 38.08 9.12 74.13 25.1 105.99l78.85-61.15z",fill:"#fbbc05"}),(0,s.jsx)("path",{d:"M256 113.86c34.65 0 65.76 11.91 90.22 35.29l67.69-67.69C373.03 43.39 319.61 20 256 20c-92.25 0-172.07 52.89-210.9 130.01l78.85 61.15c18.56-55.78 70.59-97.3 132.05-97.3z",fill:"#ea4335"}),(0,s.jsx)("path",{d:"M20 20h472v472H20V20z"})]})})}},711781:(e,t,n)=>{n.d(t,{Z:()=>s});const s=e=>{return JSON.parse(decodeURIComponent(atob((t=e.split(".")[1],(t||"").replace(/-/g,"+").replace(/_/g,"/"))).split("").map((e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2))).join("")));var t}},962482:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(898781),o=n(883119),i=n(785893);const r=({isInModal:e})=>{const t=(0,s.ZP)();return(0,i.jsx)(o.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",left:!0,position:e?"absolute":"fixed",top:!0,width:"100%",zIndex:new o.Ry(1),dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, .5)"}},children:(0,i.jsx)(o.$j,{accessibilityLabel:t.bt("Загрузка", "Loading", "Full page loading state", undefined, true),show:!0})})}},160561:(e,t,n)=>{n.d(t,{Z:()=>f});var s=n(667294),o=n(711781),i=n(472644),r=n(107287),l=n(898781),a=n(348584),c=n(883119),d=n(785893);function u(){const e=(0,l.ZP)(),[t,n]=(0,s.useState)();return(0,a.Z)()?null:(0,d.jsxs)(c.xu,{position:"relative",children:[(0,d.jsx)(c.iP,{onTap:()=>n(!0),children:(0,d.jsxs)(c.xu,{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",height:40,rounding:"pill",color:"secondary",children:[(0,d.jsx)(c.xu,{height:24,width:24,marginTop:1,children:(0,d.jsx)(i.Z,{size:20})}),(0,d.jsx)(c.xu,{marginStart:2,children:(0,d.jsx)(c.xv,{weight:"bold",children:e.bt("Подключиться через Google", "Connect with Google", "googleConnectButtonWithDisabledSDK.buttonText", undefined, true)})})]})}),t&&(0,d.jsx)(r.Z,{type:"google",onDismiss:()=>n(!1)})]})}var h=n(83969),_=n(773285),g=n(524172),p=n(867820);function b({onGoogleConnectSuccess:e,onTouch:t}){const n=(0,s.useRef)(null),i=(0,g.M)(),r=(0,s.useRef)(e);return(0,s.useEffect)((()=>{r.current=e}),[e]),(0,s.useEffect)((()=>{const e=({credential:e,select_by:t})=>{(0,p.My)(`unauth_mweb.gsi_button.select_by.${t}`),(0,p.NC)("press_google_connect_button");const n=(0,o.Z)(e);r.current({google_open_id_token:e,autologin:!1},{type:"google",google_open_id_token:e,first_name:n.given_name,last_name:n.family_name,image_url:n.picture})};return(async()=>{await(null==i?void 0:i.ensureInit("button",e)),(0,h.ru)({buttonRef:n,isDesktop:!1})})(),()=>{null==i||i.removeButtonCallback(e)}}),[i]),(0,d.jsx)(c.xu,{position:"relative",children:(0,d.jsx)(c.iP,{onTap:()=>{null==t||t(),(0,p.My)("gsi_personalized_button.tap")},children:(0,d.jsx)(c.xu,{"aria-label":"GOOGLE_SIGNIN_BUTTON",height:44,children:(0,d.jsx)(c.xu,{ref:n,position:"absolute",width:"100%"})})})})}function f(e){const{checkExperiment:t}=(0,_.F)(),{anyEnabled:n}=t("mweb_google_disabled");return n?(0,d.jsx)(u,{}):(0,d.jsx)(b,{onGoogleConnectSuccess:e.onGoogleConnectSuccess,onTouch:e.onTouch})}},477310:(e,t,n)=>{n.d(t,{Z:()=>p});var s=n(667294),o=n(391254),i=n(883119),r=n(100183);const l={yellow:"#FAB904",orange:"#FF6400",green:"#0FA573",blue:"#0074e8",purple:"#B469EB"},a="DelightfulBubbles__",c=[`${a}fadeIn {\n  to {\n    opacity: 1;\n  }\n}\n`,`${a}growShrink {\n  0% {\n    transform: scale(0);\n  }\n  50% {\n    transform: scale(1);\n  }\n  100% {\n    transform: scale(0);\n  }\n}\n`,`${a}swirl {\n  0% {\n    transform: rotate(0deg) translateX(-50%);\n  }\n  100% {\n    transform: rotate(-360deg) translateX(-50%);\n  }\n}\n`,...Object.keys(l).map((e=>{const t=((e,t)=>{const n=e.length,s=e.indexOf(t)+1>=n?0:e.indexOf(t)+1;return e[s]})(Object.keys(l),e);return`${a}colorChange_${e} {\n      0% {\n        background-color: ${l[e]};\n      }\n      50% {\n        background-color: ${l[t]};\n      }\n    }\n    `}))],d=(0,r.Ll)(c);var u=n(785893);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _=e=>{const{delay:t,diameter:n,height:s,initialColor:o,width:r,xOffset:c,yOffset:d}=e,h=((e,t,n,s,o,i,r,c)=>({bubblePositionStyles:{position:"absolute",marginLeft:i/2-o+"px",marginTop:n/2-o+"px",left:`${r}px`,top:`${c}px`},bubbleSwirlStyles:{animation:`${a}swirl 6s ease-in-out ${e}s infinite forwards`,WebkitAnimation:`${a}swirl 6s ease-in-out ${e}s infinite forwards`},bubbleGrowShrinkStyles:{transform:"scale(0)",WebkitTransform:"scale(0)",animation:`${a}growShrink 6s ease-in-out ${e}s infinite alternate`,WebkitAnimation:`${a}growShrink 6s ease-in-out ${e}s infinite alternate`},bubbleShapeStyles:{height:`${t}px`,width:`${t}px`,borderRadius:"50%",backgroundColor:l[s],opacity:0,animation:`${a}colorChange_${s} 12s steps(1, start) ${e}s infinite forwards,\n      ${a}fadeIn 3s linear ${e}s 1 forwards`,WebkitAnimation:`${a}colorChange_${s} 12s steps(1, start) ${e}s infinite forwards,\n      ${a}fadeIn 3s linear ${e}s 1 forwards`}}))(t,n,s,o,Math.floor(n/2),r,c,d);return(0,u.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:h.bubblePositionStyles},children:(0,u.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:h.bubbleSwirlStyles},children:(0,u.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:h.bubbleGrowShrinkStyles},children:(0,u.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:h.bubbleShapeStyles}})})})})};class g extends s.Component{constructor(...e){super(...e),h(this,"state",{isInitialized:!1})}componentDidMount(){window.requestAnimationFrame((()=>{this.setState({isInitialized:!0})}))}shouldComponentUpdate(e,t){return!e.numBubbles===this.props.numBubbles||!t.isInitialized===this.state.isInitialized}getSize(){const{width:e,height:t}=this.props;return void 0!==e&&void 0!==t?{width:e,height:t}:this.containerElement?{height:this.containerElement.offsetHeight,width:this.containerElement.offsetWidth}:{height:void 0,width:void 0}}createBubbles(e,t){const{delayFactor:n,delayOffset:s,numBubbles:o,xRadiusAdjustment:i,yRadiusAdjustment:a}=this.props,c=e+2*a,d=t+2*i,h=[],g=Object.keys(l);for(let l=0;l<o;l+=1){const o=16+(0,r.XF)(-4,4),i=g[l%g.length],{x:a,y:p}=(0,r.CC)(c,d);h.push((0,u.jsx)(_,{delay:l*n+s,diameter:o,initialColor:i,xOffset:a,yOffset:p,height:e,width:t},l))}return h}render(){const{isDesktop:e}=this.props,{height:t,width:n}=this.getSize();return(0,u.jsxs)(i.xu,{height:t,width:n,position:"relative",children:[(0,u.jsx)(o.Z,{unsafeCSS:d}),(0,u.jsxs)(i.xu,{position:e?void 0:"absolute",ref:e=>this.containerElement=e,children:[this.state.isInitialized&&this.createBubbles(t||0,n||0),(0,u.jsx)(i.xu,{position:"relative",children:this.props.children})]})]})}}h(g,"defaultProps",{numBubbles:10,xRadiusAdjustment:0,yRadiusAdjustment:0,delayFactor:1,delayOffset:0});const p=g},155949:(e,t,n)=>{n.d(t,{R:()=>_,Z:()=>g});var s=n(667294),o=n(157796),i=n(477310),r=n(962482),l=n(898781),a=n(81636),c=n(780280),d=n(116485),u=n(883119),h=n(785893);const _=e=>new Set([...d.EU,...d.rT,...d.IO]).has(e);function g({isReducedHeader:e,progressBarAnimationDuration:t}){const n=(0,l.ZP)(),{country:d}=(0,c.B)(),g=_(d);return(0,h.jsx)(s.Fragment,{children:g?(0,h.jsx)(a.Z,{log:{view_type:10,view_parameter:259},children:(0,h.jsxs)(u.xu,{position:"fixed",top:!0,left:!0,right:!0,bottom:!0,width:"100%",color:"default",children:[(0,h.jsx)(o.Z,{color:"dark",duration:t||3e3,finalProgress:95}),(0,h.jsxs)(u.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",height:"100%",children:[(0,h.jsxs)(u.xu,{margin:10,children:[(0,h.jsx)(u.X6,{overflow:"normal",size:e?"500":"600",children:n.bt("Аккаунт создается", "Your account is being created!", "account created heading", undefined, true)}),(0,h.jsx)(u.xv,{overflow:"normal",children:n.bt("Теперь вы можете сохранять идеи, получать персональные рекомендации и т. д.", "You can now save ideas, get personalized recommendations, and more", "loading state description while waiting for any sign up registration to complete", undefined, true)})]}),(0,h.jsx)(u.kC,{alignItems:"center",flex:"grow",justifyContent:"center",children:(0,h.jsx)(i.Z,{delayOffset:-5,isDesktop:!1,xRadiusAdjustment:40,yRadiusAdjustment:40,children:(0,h.jsx)(u.xu,{alignItems:"center",color:"lightWash",direction:"column",display:"flex",height:120,justifyContent:"end",overflow:"hidden",rounding:"circle",width:120,children:(0,h.jsx)(u.JO,{accessibilityLabel:n.bt("Загрузка", "Loading", "Loading state for any sign up registration", undefined, true),color:"subtle",icon:"person",size:"90"})})})})]})]})}):(0,h.jsx)(r.Z,{})})}},122485:(e,t,n)=>{n.d(t,{m:()=>P});var s=n(702664),o=n(231486),i=n(844974),r=n(116485);function l(){return function(e){const t={};return e.forEach((e=>{const n=JSON.parse((0,i.qn)(e));n&&(t[e]=n)})),JSON.stringify(t)}([r.E9])}var a=n(441143),c=n.n(a),d=n(172071),u=n(6637),h=n(594881),_=n(421322),g=n(383690),p=n(112690),b=n(69642),f=n(330102),x=n(957191),m=n(226198),y=n(339363),w=n(155949),v=n(867820),j=n(962832),C=n(773285),k=n(780280),A=n(584595),S=n(45169),z=n(529195);const P=()=>{const e=(0,C.F)(),t=(0,s.useDispatch)(),{country:n,countryFromHostName:i,countryFromIp:r,regionFromIp:a,isAuthenticated:P}=(0,k.B)(),E=(0,g.Z)(),D=(0,p.Z)(),I=(0,b.Z)();return(s,{signupAttemptContextEvent:g})=>{const p=(0,S.yV)(s);D({...g,event_type:7537}),I({action:"signup",event:"attempt",type:p}),E();let b=0;const C=(0,w.R)(n),k=new Promise(((e,t)=>{C?setTimeout((()=>{e()}),3e3):e()}));return new Promise(((w,C)=>{const E=()=>{var O;const Z=P,$=(0,z.t_)(),T=(0,z.OJ)(),F={...s,user_behavior_data:l(),visited_pages:$};T&&(F.referrer=T),d.Z.increment("webapp.debug_signup_type.redux_registration",1,{CHECK_TYPE:null!==(O=(0,S.Eh)(F,"CHECK_TYPE"))&&void 0!==O?O:"none",CHECK_EXISTS:(0,S.Eh)(F,"DEPRECATED_CHECK_EXISTS"),CHECK_TRUTHY:(0,S.Eh)(F,"DEPRECATED_CHECK_TRUTHY")}),u.Z.create("UserRegisterResource",{...F,get_user:!0}).callCreate().then((o=>k.then((()=>{(0,y.L_)("d_pif_invite");const l=o.client_context;c()(o.resource_response,"Register response is invalid"),t({type:"REGISTER_USER",payload:{user:o.resource_response.data.user}}),l&&(l.placed_experiences&&t((0,x.OD)(l.placed_experiences)),e.active=l.active_experiments,e.triggerable=l.triggerable_experiments),Z&&(0,_.Z)("registration.signup_success");const d=s.email||s.username||null,u=s.password||null,b=navigator.credentials;if(b&&d&&u)try{const e=new window.PasswordCredential({id:d,password:u});(0,v.My)("unauth_mweb.navigatorCredentials.store.attempt"),b.store(e).then((()=>{(0,v.My)("unauth_mweb.navigatorCredentials.store.success")}))}catch(m){(0,v.My)("unauth_mweb.navigatorCredentials.store.error")}D({...g,event_type:7487}),I({action:"signup",event:"success",type:p}),(0,h.Z)(),Z&&(0,j.Dm)(),(0,f.ko)({country:n,countryFromHostName:i,countryFromIp:r,regionFromIp:a,deviceType:"Mobile",eventCategory:"NewUsers"}),w()})))).catch((e=>{(null==e?void 0:e.api_error_code)===A.tz&&((0,v.My)("multi_step_set_age_restrict_cookie"),o.t8(m.It,"1",(0,o.kZ)(m.It))),b<3&&[A.dO,A.cZ].includes(null==e?void 0:e.api_error_code)?(b+=1,E()):(D({...g,event_type:7488}),I({action:"signup",event:"fail",type:p}),Z&&(0,_.Z)("registration.signup_error"),C(e))}))};E()}))}}},107287:(e,t,n)=>{n.d(t,{Z:()=>l});var s=n(121151),o=n(898781),i=n(883119),r=n(785893);function l({type:e,onDismiss:t}){const n=(0,o.ZP)(),l="facebook"===e?n.bt("Ой! Facebook не работает", "Oops! Facebook isn't available", "socialAuthDisabled.facebook.title", undefined, true):n.bt("Ой! Google не работает", "Oops! Google isn't available", "socialAuthDisabled.google.title", undefined, true),a="facebook"===e?n.bt("Похоже, Facebook сейчас не работает. Попробуйте другой вариант или обновите страницу и повторите попытку позже.", "Looks like Facebook isn't available right now. Give another option a try or refresh the page and try again later.", "socialAuthDisabled.facebook.description", undefined, true):n.bt("Похоже, Google сейчас не работает. Попробуйте другой вариант или обновите страницу и повторите попытку позже.", "Looks like Google isn't available right now. Give another option a try or refresh the page and try again later.", "socialAuthDisabled.google.description", undefined, true);return(0,r.jsx)(s.ZP,{accessibilityModalLabel:"",mobileHideCloseIcon:!0,isOpen:!0,onDismiss:t,type:"social_auth_disabled_modal",children:(0,r.jsxs)(i.xu,{padding:5,children:[(0,r.jsx)(i.xu,{marginBottom:3,children:(0,r.jsx)(i.X6,{size:"500",accessibilityLevel:1,children:l})}),(0,r.jsx)(i.xu,{marginBottom:3,children:(0,r.jsx)(i.xv,{children:a})}),(0,r.jsx)(i.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:(0,r.jsx)(i.xu,{paddingY:1,children:(0,r.jsx)(i.zx,{accessibilityLabel:n.bt("ОК", "OK", "socialAuthDisabled.okButton", undefined, true),size:"lg",color:"red",text:n.bt("ОК", "OK", "socialAuthDisabled.okButton", undefined, true),onClick:t})})})]})})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/846.ru_RU-f529dc5100585a50.mjs.map