(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[23019],{758127:(e,i,o)=>{o.d(i,{U:()=>r,Z:()=>n});var l=o(883119),t=o(785893);const r=", ";function n(){return(0,t.jsx)(l.xu,{display:"visuallyHidden",children:r})}},80811:(e,i,o)=>{o.d(i,{Z:()=>y});var l=o(667294),t=o(948618),r=o(815613),n=o(298361),a=o(112690),s=o(892819),d=o(19121),c=o(349700),u=o(867820),h=o(50286),_=o(758127),g=o(722556),x=o(898781),m=o(883119),v=o(526760),p=o(785893);function f(e,i){const{full_name:o,username:l}=e,t=(0,p.jsx)(m.rU,{href:`/${l}`,display:"inlineBlock",underline:"hover",children:o});return(0,c.nk)(i.bt("{{ linkToUser }} приглашает вас на эту доску", "{{ linkToUser }} invited you to join this board", "boardRep.invite.invitationText", undefined, true),{linkToUser:t})}const b=({children:e})=>{const i=(0,d.Z)(),o=(0,h.HG)(),l=i&&i.isAuth;return o&&l?(0,p.jsx)(m.X6,{accessibilityLevel:2,size:"400",lineClamp:1,children:e}):(0,p.jsx)(m.xv,{lineClamp:1,weight:"bold",children:e})};function y({archivedDate:e,boardUrl:i,canEdit:o,collaborators:d,collaboratorsCount:y=0,containerBackgroundColor:w,coverPhoto:j,followedByMe:C,fullSizeDrawer:z,sensitivityScreen:P,handleInviteResponse:A,hideMeta:S,id:B,invite:k,imagesLego:I=[],isBoardInviteAccepted:Z,isActive:F,isAuthenticated:E,isCollaborative:T,isCollaborator:D,isOwner:U,isSecret:L,lastModifiedDate:H,layout:G,locale:R,name:W,numCols:M,onEditClick:O,onFollow:X,onUnfollow:q,owner:N,pinCount:$=0,sectionCount:J,showFollowButton:Y,viewParameter:K,viewType:Q,viewerId:V}){const ee=(0,x.ZP)(),ie=(0,n.Z)(),oe=(0,s.Z)(),le=(0,a.Z)(),te=(0,h.HG)(),re=te&&E,ne="square"===G?v.M0:v.z9,ae=I.map((e=>({url:e.url,name:W}))),se=!!N&&!o&&Y,de=!U&&!D&&!(null==P||!P.show_warning),ce={board_id:B,reason:null==P?void 0:P.reason};(0,l.useEffect)((()=>{de&&le({event_type:13,component:13861,view_type:215,aux_data:ce})}),[]);const ue=N?N.id:void 0,he=[...d.filter((({id:e})=>e===ue)),...d.filter((({id:e})=>e===V&&e!==ue)),...d.filter((({id:e})=>![ue,V].includes(e)))].map((e=>{var i,o;return{name:null!==(i=re?e.full_name:e.username)&&void 0!==i?i:"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":null!==(o=e.image_medium_url)&&void 0!==o?o:""}}));let _e=y>=he.length?y-he.length:0;_e=_e>99?100:_e;const ge=[...he,...Array(_e).fill({name:"",src:""})],xe=re?24:16,me=xe/3*(2*(he.length>2?3:he.length)+1);return(0,p.jsxs)(m.xu,{"data-test-id":`boardCard-${W}`,position:"relative",height:se?"max(calc(25vh + 10px), 220px)":"100%",width:re?ne:"100%",children:[(0,p.jsx)(g.Z,{canEdit:o,containerBackgroundColor:w,coverPhoto:j,images:ae,isSecret:L,fullSize:z,showSensitivityScreen:de,isActive:F,onEditClick:O,layout:G}),!S&&(0,p.jsx)(l.Fragment,{children:k?(0,p.jsxs)(l.Fragment,{children:[(0,p.jsxs)(m.xu,{padding:2,alignItems:"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,p.jsxs)(m.xu,{width:"100%",children:[(0,p.jsx)(m.rU,{href:null!=i?i:"",children:(0,p.jsx)(m.xu,{marginTop:0,marginBottom:1,children:(0,p.jsx)(b,{children:W})})}),Z?(0,p.jsx)(m.xv,{size:"200",lineClamp:1,children:ee.bt("Вы присоединились.", "You’ve joined", "boardRep.invite.invitationAcceptedText", undefined, true)}):(0,p.jsx)(m.xv,{size:"200",children:f(k.invited_by_user,ee)})]}),(0,p.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1}},marginStart:2,width:me,minWidth:me,height:xe,children:(0,p.jsx)(m.HE,{accessibilityLabel:_.U+(ee.bt("Доска имеет соавторов", "Board has collaborators", "BoardCard.AvatarGroup.Collaborators", undefined, true)),collaborators:ge})})]}),Z?(0,p.jsx)(m.xu,{direction:"row",display:"flex",paddingX:2,children:(0,p.jsx)(m.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,p.jsx)(m.zx,{role:"link",href:null!=i?i:"",fullWidth:!0,size:"lg",text:ee.bt("Просмотреть доску", "See board", "boardRep.invite.seeBoardButton", undefined, true)})})}):(0,p.jsxs)(m.kC,{direction:"row",flex:"grow",justifyContent:"start",wrap:!0,children:[(0,p.jsx)(m.xu,{marginBottom:3,paddingX:1,flex:"grow",children:(0,p.jsx)(m.zx,{fullWidth:!0,onClick:()=>{null==A||A(!1)},size:"lg",text:ee.bt("Отклонить", "Decline", "boardRep.invite.declineButton", undefined, true)})}),(0,p.jsx)(m.xu,{marginBottom:3,paddingX:1,flex:"grow",children:(0,p.jsx)(m.zx,{fullWidth:!0,color:"red",onClick:()=>{null==A||A(!0)},size:"lg",text:ee.bt("Принять", "Accept", "boardRep.invite.acceptButton", undefined, true)})})]})]}):(0,p.jsxs)(m.xu,{height:re?void 0:v.s0,marginTop:re?0:1,paddingX:2,paddingY:re?2:0,children:[(0,p.jsxs)(m.xu,{alignItems:"center","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,p.jsx)(b,{children:W}),T&&(0,p.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1}},marginStart:2,width:me,minWidth:me,height:xe,children:(0,p.jsx)(m.HE,{accessibilityLabel:_.U+(ee.bt("Доска имеет соавторов", "Board has collaborators", "BoardCard.AvatarGroup.Collaborators", undefined, true)),collaborators:ge})})]}),(0,p.jsxs)(m.xu,{alignItems:te?"center":"start",direction:te?"row":"column",display:"flex",marginTop:1,children:[(0,p.jsxs)(m.xv,{size:"100",lineClamp:1,children:[(0,p.jsx)(_.Z,{}),(0,c.nk)(ee.nbt(["{{ count }} пин", "{{ count }} пина", "{{ count }} пинов"], $, "profile.ProfilePage.board.BoardCard.PinsCount", true),{count:oe(R,$,{})}),!!J&&(0,p.jsxs)(l.Fragment,{children:[(0,p.jsx)(t.Z,{ariaHidden:!0}),(0,p.jsx)(_.Z,{}),(0,c.nk)(ee.nbt(["{{ count }} раздел", "{{ count }} раздела", "{{ count }} разделов"], J, "profile.ProfilePage.board.BoardCard.SectionsCount", true),{count:J})]})]}),!e&&(0,p.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:{display:re?"inline-flex":"inline",paddingLeft:te?7:0}},children:(0,p.jsxs)(m.xv,{color:"subtle",inline:!0,size:"100",lineClamp:1,children:[(0,p.jsx)(_.Z,{}),ie(H,!0)]})})]}),!!e&&(0,p.jsxs)(m.xu,{marginTop:1,children:[(0,p.jsx)(_.Z,{}),(0,p.jsx)(m.xv,{color:"subtle",size:"100",lineClamp:1,children:ee.bt("Архивированные", "Archived", "profile.ProfilePage.board.BoardCard.ArchivedBoardText", undefined, true)})]}),se&&(0,p.jsx)(m.xu,{marginTop:2===M?3:void 0,column:2===M?12:void 0,flex:"none",children:(0,p.jsx)(r.Z,{disabled:null==N?void 0:N.blocked_by_me,followEventType:26,id:B,isFollowed:C,onFollow:e=>{E||(0,u.NC)("press_follow_board"),X&&X(e)},onUnfollow:e=>{E||(0,u.NC)("press_unfollow_board"),q&&q(e)},shouldUseLegoColors:!0,size:"md",unfollowEventType:27,viewParameter:K,viewType:Q})})]})})]})}},223019:(e,i,o)=>{o.d(i,{Z:()=>m});var l=o(702664),t=o(80811),r=o(340494),n=o(52022),a=o(19121),s=o(867820),d=o(130460),c=o(780280),u=o(883119),h=o(712055),_=o(853492),g=o(785893);const x=["thumbnail","imageOnly"];function m({boardId:e,containerBackgroundColor:i,forwardedRef:o,fullSize:m,showFollowButton:v=!0,showPinCount:p=!0,type:f,viewParameter:b,viewType:y}){var w,j,C;const z=(0,a.Z)(),P=z&&z.isAuth,A=(0,l.useDispatch)(),{locale:S}=(0,c.B)(),B=(0,n.Z)(),k=(0,d.gC)()(e),I=(0,r.Z)(),Z=z.isAuth?z.id:"";if(!k)return null;const F=k.owner,E=[F,...k.collaborating_users||[]].filter(Boolean).map((({id:e,image_medium_url:i,username:o})=>({id:e,image_medium_url:i,username:o}))),T=(null==F?void 0:F.id)===Z,D=E.filter((({id:e})=>e===Z)).length>0;if("secret"===k.privacy&&!D)return null;const U="grid"===f||"thumbnail"===f?2:4,L=I(k,U),H={isCustom:k.has_custom_cover,url:L,position:(0,_.Bw)(k.cover_pin)},G=(0,_.Jx)(k,L).map((({url:e})=>({name:(0,_.po)(e),url:e}))),R=(0,g.jsx)(t.Z,{archivedDate:null!==(w=k.archived_by_me_at)&&void 0!==w?w:void 0,canEdit:!!k.access&&k.access.includes("write"),collaborators:E,collaboratorsCount:k.collaborator_count,containerBackgroundColor:i,coverPhoto:L?H:null,followedByMe:k.followed_by_me,fullSizeDrawer:m,hideMeta:x.includes(f),id:k.id,imagesLego:G,isAuthenticated:P,isCollaborative:k.is_collaborative,isCollaborator:D,isOwner:T,isSecret:"secret"===k.privacy,lastModifiedDate:"full"===f?k.board_order_modified_at:"",locale:S,name:null!==(j=k.name)&&void 0!==j?j:"",numCols:U,onFollow:e=>A((0,h.Z)(e)),onUnfollow:e=>A((0,h.f)(e)),owner:F,pinCount:p&&k.pin_count?k.pin_count:void 0,sectionCount:null!==(C=k.section_count)&&void 0!==C?C:0,sensitivityScreen:k.sensitivity_screen,showFollowButton:v,viewParameter:b,viewType:y,viewerId:Z});return!x.includes(f)&&k.url?(0,g.jsx)(u.iP,{role:"link",href:k.url,rounding:2,tapStyle:"compress",onTap:()=>{P||((0,s.NC)("click_go_to_board"),B({action:"click",item:"board-card"}))},children:(0,g.jsx)(u.xu,{ref:o,paddingY:3,children:R})}):R}},686844:(e,i,o)=>{o.d(i,{Z:()=>r});var l=o(883119),t=o(785893);function r({customCover:e,height:i,imgUrl:o,imgPos:r,width:n}){const a=i/n;let s="center center";if(e&&r){let e=1;e=r.height/r.width>a?n/r.width:i/r.height;s=`-${r.x*e}px -${r.y*e}px`}const d={backgroundImage:`url(${o})`,backgroundPosition:s,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF",position:"relative"};return(0,t.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{height:i,width:n}},children:(0,t.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:d},children:(0,t.jsx)("div",{className:"imageWash",style:{position:"absolute"}})})})}},722556:(e,i,o)=>{o.d(i,{Z:()=>h});var l=o(686844),t=o(522843),r=o(898781),n=o(50286),a=o(780280),s=o(883119),d=o(526760),c=o(785893);const u="100%";function h(e){var i,o;const h=(0,r.ZP)(),{containerBackgroundColor:_="white",coverPhoto:g,fullSize:x,images:m,isSecret:v,showSensitivityScreen:p,isActive:f,canEdit:b,onEditClick:y,layout:w}=e,j=(0,n.HG)(),{isRTL:C,isAuthenticated:z}=(0,a.B)(),P=j&&z,A=m[0],S=!g&&(null===(i=m[0])||void 0===i?void 0:i.name)||h.bt("Изображение обложки", "Cover image", "DrawerImageGroup", undefined, true),B=Array(2).fill(),k=new s.Ry(1),I="square"===w?d.M0:d.z9,Z="square"===w?d.FP:d.FC,F=null!=A&&A.url?(0,c.jsx)(s.Ee,{alt:S,color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:A.url}):(0,c.jsx)(s.xu,{color:"secondary",height:"100%",width:"100%"}),E=p?{filter:"blur(20px)"}:{};return(0,c.jsx)(s.zd,{height:x?"100%":void 0,rounding:4,width:"100%",wash:f,children:(0,c.jsxs)(s.xu,{"aria-hidden":!0,display:"flex",height:P?Z:"100%",direction:"row",children:[(0,c.jsx)(s.sg,{span:8,children:(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:E},position:"relative",height:x?"100%":void 0,children:(0,c.jsx)(s.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:u}},overflow:"hidden",width:"100%",children:(0,c.jsxs)(s.xu,{"data-test-id":"drawer-image-group-first-image-container",dangerouslySetInlineStyle:{__style:{borderColor:_,borderStyle:"solid",borderWidth:"1px 0 1px 1px"}},overflow:"hidden",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,children:[v&&(0,c.jsx)(s.xu,{left:!C,right:C,margin:2,position:"absolute",top:!0,zIndex:k,children:(0,c.jsx)(t.Z,{backgroundColor:"default",iconColor:"default",size:P?32:24})}),P&&null!=g&&g.url?(0,c.jsx)(l.Z,{customCover:g.isCustom,imgPos:g.position||{width:0,height:0,x:0,y:0},imgUrl:null!==(o=g.url)&&void 0!==o?o:"",width:Math.floor(I/3*2),height:Z}):F]})})})}),(0,c.jsx)(s.sg,{span:4,children:(0,c.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:E},height:"100%",children:[b&&f&&(0,c.jsx)(s.xu,{left:C,right:!C,margin:2,position:"absolute",bottom:!0,zIndex:k,children:(0,c.jsx)(s.hU,{accessibilityLabel:h.bt("Изменить", "Edit", "DrawerImageGroup.edit", undefined, true),bgColor:"white",icon:"edit",iconColor:"darkGray",onClick:({event:e})=>null==y?void 0:y(e),size:"sm"})}),B.map(((e,i)=>{const o=m[P?i:i+1];return(0,c.jsx)(s.xu,{position:"relative",height:x?"50%":void 0,children:(0,c.jsx)(s.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:u}},overflow:"hidden",width:"100%",children:(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{borderColor:_,borderStyle:"solid",borderWidth:0===i?1:"0 1px 1px 1px"}},overflow:"hidden",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,children:null!=o&&o.url?(0,c.jsx)(s.Ee,{alt:o&&o.name||"placeholder",color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:o.url}):(0,c.jsx)(s.xu,{color:"secondary",height:"100%",width:"100%"})})})},i)}))]})}),p&&(0,c.jsx)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:(0,c.jsx)(s.X6,{align:"center",color:"light",size:"400",children:h.bt("Эта доска может содержать откровенные материалы", "This board may contain sensitive content", "drawerImageGroup.sensitivityScreen.heading", undefined, true)})})]})})}},526760:(e,i,o)=>{o.d(i,{FC:()=>a,FP:()=>r,M0:()=>t,Xq:()=>s,s0:()=>l,z9:()=>n});const l=40,t=236,r=157,n=320,a=213,s=7},522843:(e,i,o)=>{o.d(i,{Z:()=>n});var l=o(898781),t=o(883119),r=o(785893);function n({backgroundColor:e="darkGray",iconColor:i="inverse",iconSize:o,size:n=20}){const a=(0,l.ZP)();return(0,r.jsx)(t.xu,{display:"flex",direction:"column",alignItems:"center",color:e,width:n,height:n,rounding:"circle",justifyContent:"center",children:(0,r.jsx)(t.JO,{accessibilityLabel:a.bt("Значок секретной доски", "Secret board icon", "Icon indicating that a board is secret", undefined, true),color:i,icon:"lock",size:null!=o?o:n/2})})}},340494:(e,i,o)=>{o.d(i,{Z:()=>r});var l=o(19121),t=o(50286);function r(){const e=(0,t.HG)(),i=(0,l.Z)(),o=i&&i.isAuth;if(e&&o){return e=>{var i,o;const l=e.cover_images&&e.cover_images["222x"]?e.cover_images["222x"].url:void 0,t=null!==(i=null===(o=e.cover_pin)||void 0===o?void 0:o.image_url)&&void 0!==i?i:l,r=e.images&&e.images["170x"]&&e.images["170x"].length?e.images["170x"][0].url:"";return t||r}}return(e,i)=>{var o,l;const t=e.has_custom_cover?e.image_cover_hd_url||e.image_cover_url:"";if(!t)return"";const r=e.cover_images&&e.cover_images["400x300"]?e.cover_images["400x300"].url:void 0,n=e.cover_images&&e.cover_images["222x"]?e.cover_images["222x"].url:void 0,a=e.cover_images&&e.cover_images["216x146"]?e.cover_images["216x146"].url:void 0,s=null!==(o=null!==(l=null!=r?r:n)&&void 0!==l?l:a)&&void 0!==o?o:"",d=e.image_cover_url||"";return t||(i&&i>2&&s?s:"")||d}}},853492:(e,i,o)=>{o.d(i,{Bw:()=>a,Jx:()=>n,po:()=>l});const l=(e="")=>(null!=e?e:"").substring((null!=e?e:"").lastIndexOf("/")+1),t=e=>({dominant_color:"#FFFFFF",height:1,url:e,width:1}),r=e=>{if(!e)return()=>!0;const i=l(e);return e=>{var o;return"string"==typeof e?l(e)!==i:l(null!==(o=e.url)&&void 0!==o?o:"")!==i}},n=(e,i)=>e.images&&e.images["170x"]?e.images["170x"].filter(r(i)):e.pin_thumbnail_urls?e.pin_thumbnail_urls.filter(r(i)).map(t):[],a=e=>{var i;return null!==(i=e&&e.crop&&e.size&&{x:e.crop[0],y:e.crop[1],width:e.size[0],height:e.size[1]})&&void 0!==i?i:{x:0,y:0,width:0,height:0}}},712055:(e,i,o)=>{o.d(i,{Z:()=>n,f:()=>a});var l=o(6637),t=o(254176);function r(e){return l.Z.create("BoardFollowResource",{board_id:e})}function n(e){return i=>{r(e).callCreate().catch((()=>{i((0,t.md)(e,!1))})),i((0,t.md)(e,!0))}}function a(e){return i=>{r(e).callDelete().catch((()=>{i((0,t.md)(e,!0))})),i((0,t.md)(e,!1))}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/23019.ru_RU-cfface8de8f45bdc.mjs.map