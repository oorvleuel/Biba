(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[49366,13047,90984,73744,77221,35303,88162,5719,90037,31340,84557,88562,14362,3123,82492,53857,8575,89964,31751,89734],{906587:e=>{var t,n,r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinRecipe_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"474x")'},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"diets",storageKey:null},{alias:null,args:null,concreteType:"CookTimes",kind:"LinkedField",name:"cookTimes",plural:!1,selections:[{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"cook",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"m",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"total",plural:!1,selections:t,storageKey:null}],storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,concreteType:"ParsedIngredientMetadata",kind:"LinkedField",name:"ingredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},n],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"summary",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};r.hash="72951c99039e6492a3eb8e9fcb5a22c3",e.exports=r},604955:e=>{var t,n,r,a,i={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"boardId"}],kind:"Fragment",metadata:null,name:"boards_AcceptInvite_Mutation",selections:[{alias:null,args:n=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3AcceptBoardCollaboratorInviteMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"boards_AcceptInvite_Mutation",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3AcceptBoardCollaboratorInviteMutation",plural:!1,selections:[r,{kind:"InlineFragment",selections:[a],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"684be4cb6a79ca32f82ddfa38f308039fdcaff0720a6118743e1e198085f1237",metadata:{},name:"boards_AcceptInvite_Mutation",operationKind:"mutation",text:null}};i.hash="c73ed7e5b29f046197e7dfcf7d7a7cd0",e.exports=i},518190:e=>{var t,n,r,a,i={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"boards_ApproveInvite_Mutation",selections:[{alias:null,args:n=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"user",variableName:"userId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3ApproveBoardCollaboratorInviteMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"boards_ApproveInvite_Mutation",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3ApproveBoardCollaboratorInviteMutation",plural:!1,selections:[r,{kind:"InlineFragment",selections:[a],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"1380a15fe95dc7713c5d72fd6104da573f3db5b8b0ab66f883bec351df4c8a71",metadata:{},name:"boards_ApproveInvite_Mutation",operationKind:"mutation",text:null}};i.hash="216cdb449b148a3d36e9d0621dcfcac5",e.exports=i},90105:e=>{var t,n,r,a,i,o,s={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"ban"},n={defaultValue:null,kind:"LocalArgument",name:"boardId"},r={defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"boards_DeclineOrDeleteBoardCollaboratorInvite_Mutation",selections:[{alias:null,args:a=[{fields:[{kind:"Variable",name:"ban",variableName:"ban"},{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"user",variableName:"userId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3DeclineOrDeleteBoardCollaboratorInviteMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,r,t],kind:"Operation",name:"boards_DeclineOrDeleteBoardCollaboratorInvite_Mutation",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3DeclineOrDeleteBoardCollaboratorInviteMutation",plural:!1,selections:[i,{kind:"InlineFragment",selections:[o],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"533aad425ad868e5a9d811bf76dccd56e54e0cc48c4c8b526ccbcd7c68efb981",metadata:{},name:"boards_DeclineOrDeleteBoardCollaboratorInvite_Mutation",operationKind:"mutation",text:null}};s.hash="b03dba13d39482d785778ba0feadca06",e.exports=s},472297:e=>{var t,n,r,a,i,o,s,l,c={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"board"},{defaultValue:null,kind:"LocalArgument",name:"collaboratorIds"}],kind:"Fragment",metadata:null,name:"boards_RemoveBoardCollaborators_Mutation",selections:[{alias:null,args:n=[{fields:[{kind:"Variable",name:"board",variableName:"board"},{kind:"Variable",name:"collaboratorIds",variableName:"collaboratorIds"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3RemoveBoardCollaboratorsMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"collaboratorCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[{kind:"InlineFragment",selections:[r,{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null}],storageKey:null}],type:"V3RemoveBoardCollaborators",abstractKey:null},{kind:"InlineFragment",selections:[r,s={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"boards_RemoveBoardCollaborators_Mutation",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3RemoveBoardCollaboratorsMutation",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[i,o,l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},l],storageKey:null}],type:"V3RemoveBoardCollaborators",abstractKey:null},{kind:"InlineFragment",selections:[s],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"e100ea491b53ee042f6d9a7f42b583afafd9b8a730b43e06b81b9132821866ea",metadata:{},name:"boards_RemoveBoardCollaborators_Mutation",operationKind:"mutation",text:null}};c.hash="ecec88eadc69c1153ca5e0c4bfe03fd9",e.exports=c},787525:e=>{var t,n,r,a,i={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"board"},{defaultValue:null,kind:"LocalArgument",name:"emails"},{defaultValue:null,kind:"LocalArgument",name:"message"}],kind:"Fragment",metadata:null,name:"boards_emails_Mutation",selections:[{alias:null,args:n=[{fields:[{kind:"Variable",name:"board",variableName:"board"},{kind:"Variable",name:"emails",variableName:"emails"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorEmailMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"V3InviteBoardCollaboratorEmail",abstractKey:null},{kind:"InlineFragment",selections:[r,a={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"boards_emails_Mutation",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorEmailMutation",plural:!1,selections:[r,{kind:"InlineFragment",selections:[a],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"4d372bf76e6f77707e9106c02f73ec23773c4bd7e457dc684ea7dd1b87985c7c",metadata:{},name:"boards_emails_Mutation",operationKind:"mutation",text:null}};i.hash="0659a1edf1c7935aff1deef3f51f2add",e.exports=i},16945:e=>{var t,n,r,a,i,o,s={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"boardId"},n={defaultValue:null,kind:"LocalArgument",name:"collaboratorIds"},r={defaultValue:null,kind:"LocalArgument",name:"message"}],kind:"Fragment",metadata:null,name:"boards_users_Mutation",selections:[{alias:null,args:a=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"collaboratorIds",variableName:"collaboratorIds"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorsMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,t,r],kind:"Operation",name:"boards_users_Mutation",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorsMutation",plural:!1,selections:[i,{kind:"InlineFragment",selections:[o],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"9495c71001fb315e3dc5e63ec17a8d8d5a4fb53ebc7f791b44093a4a92665835",metadata:{},name:"boards_users_Mutation",operationKind:"mutation",text:null}};s.hash="743ce0da1ac8191550520ebe045b4fb0",e.exports=s},96795:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinImagesFragment_pin",selections:[{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"60x60")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"736x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"600x315")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"orig")'}],type:"Pin",abstractKey:null};n.hash="8dd4c9c753d2a67c0606dfff23b820e9",e.exports=n},701305:e=>{var t=[],n=[];function r(e,t,n,a){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if("object"!=typeof e||"object"!=typeof t)return!1;var i=Object.prototype.toString,o=i.call(e);if(o!=i.call(t))return!1;switch(o){case"[object String]":return e==String(t);case"[object Number]":return!isNaN(e)&&!isNaN(t)&&e==Number(t);case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}for(var s=n.length;s--;)if(n[s]==e)return a[s]==t;n.push(e),a.push(t);var l=0;if("[object Array]"===o){if((l=e.length)!==t.length)return!1;for(;l--;)if(!r(e[l],t[l],n,a))return!1}else{if(e.constructor!==t.constructor)return!1;if(e.hasOwnProperty("valueOf")&&t.hasOwnProperty("valueOf"))return e.valueOf()==t.valueOf();var c=Object.keys(e);if(c.length!=Object.keys(t).length)return!1;for(var d=0;d<c.length;d++)if(!r(e[c[d]],t[c[d]],n,a))return!1}return n.pop(),a.pop(),!0}e.exports=function(e,a){var i=t.length?t.pop():[],o=n.length?n.pop():[],s=r(e,a,i,o);return i.length=0,o.length=0,t.push(i),n.push(o),s}},60139:e=>{function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},663620:(e,t,n)=>{var r=n(60139);e.exports=r},618552:(e,t,n)=>{var r=n(610852)(n(555639),"DataView");e.exports=r},301989:(e,t,n)=>{var r=n(751789),a=n(780401),i=n(657667),o=n(521327),s=n(281866);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,e.exports=l},738407:(e,t,n)=>{var r=n(327040),a=n(514125),i=n(882117),o=n(567518),s=n(654705);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,e.exports=l},357071:(e,t,n)=>{var r=n(610852)(n(555639),"Map");e.exports=r},883369:(e,t,n)=>{var r=n(924785),a=n(611285),i=n(396e3),o=n(349916),s=n(195265);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,e.exports=l},853818:(e,t,n)=>{var r=n(610852)(n(555639),"Promise");e.exports=r},458525:(e,t,n)=>{var r=n(610852)(n(555639),"Set");e.exports=r},288668:(e,t,n)=>{var r=n(883369),a=n(90619),i=n(572385);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=a,o.prototype.has=i,e.exports=o},646384:(e,t,n)=>{var r=n(738407),a=n(737465),i=n(963779),o=n(267599),s=n(744758),l=n(234309);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=a,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=s,c.prototype.set=l,e.exports=c},611149:(e,t,n)=>{var r=n(555639).Uint8Array;e.exports=r},70577:(e,t,n)=>{var r=n(610852)(n(555639),"WeakMap");e.exports=r},896874:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},477412:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},234963:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}},14636:(e,t,n)=>{var r=n(422545),a=n(135694),i=n(701469),o=n(644144),s=n(565776),l=n(936719),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),d=!n&&a(e),u=!n&&!d&&o(e),p=!n&&!d&&!u&&l(e),h=n||d||u||p,m=h?r(e.length,String):[],_=m.length;for(var f in e)!t&&!c.call(e,f)||h&&("length"==f||u&&("offset"==f||"parent"==f)||p&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||s(f,_))||m.push(f);return m}},862488:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}},282908:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},286556:(e,t,n)=>{var r=n(789465),a=n(977813);e.exports=function(e,t,n){(void 0!==n&&!a(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},234865:(e,t,n)=>{var r=n(789465),a=n(977813),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var o=e[t];i.call(e,t)&&a(o,n)&&(void 0!==n||t in e)||r(e,t,n)}},218470:(e,t,n)=>{var r=n(977813);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},744037:(e,t,n)=>{var r=n(698363),a=n(3674);e.exports=function(e,t){return e&&r(t,a(t),e)}},163886:(e,t,n)=>{var r=n(698363),a=n(481704);e.exports=function(e,t){return e&&r(t,a(t),e)}},789465:(e,t,n)=>{var r=n(538777);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},285990:(e,t,n)=>{var r=n(646384),a=n(477412),i=n(234865),o=n(744037),s=n(163886),l=n(364626),c=n(200278),d=n(318805),u=n(201911),p=n(458234),h=n(946904),m=n(664160),_=n(43824),f=n(529148),g=n(738517),y=n(701469),v=n(644144),b=n(356688),w=n(513218),S=n(472928),E=n(3674),P=n(481704),x="[object Arguments]",T="[object Function]",I="[object Object]",A={};A[x]=A["[object Array]"]=A["[object ArrayBuffer]"]=A["[object DataView]"]=A["[object Boolean]"]=A["[object Date]"]=A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Map]"]=A["[object Number]"]=A[I]=A["[object RegExp]"]=A["[object Set]"]=A["[object String]"]=A["[object Symbol]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A["[object Error]"]=A[T]=A["[object WeakMap]"]=!1,e.exports=function e(t,n,R,k,C,O){var D,N=1&n,L=2&n,M=4&n;if(R&&(D=C?R(t,k,C,O):R(t)),void 0!==D)return D;if(!w(t))return t;var j=y(t);if(j){if(D=_(t),!N)return c(t,D)}else{var F=m(t),U=F==T||"[object GeneratorFunction]"==F;if(v(t))return l(t,N);if(F==I||F==x||U&&!C){if(D=L||U?{}:g(t),!N)return L?u(t,s(D,t)):d(t,o(D,t))}else{if(!A[F])return C?t:{};D=f(t,F,N)}}O||(O=new r);var B=O.get(t);if(B)return B;O.set(t,D),S(t)?t.forEach((function(r){D.add(e(r,n,R,r,t,O))})):b(t)&&t.forEach((function(r,a){D.set(a,e(r,n,R,a,t,O))}));var Z=j?void 0:(M?L?h:p:L?P:E)(t);return a(Z||t,(function(r,a){Z&&(r=t[a=r]),i(D,a,e(r,n,R,a,t,O))})),D}},603118:(e,t,n)=>{var r=n(513218),a=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(a)return a(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},989881:(e,t,n)=>{var r=n(247816),a=n(899291)(r);e.exports=a},121078:(e,t,n)=>{var r=n(862488),a=n(137285);e.exports=function e(t,n,i,o,s){var l=-1,c=t.length;for(i||(i=a),s||(s=[]);++l<c;){var d=t[l];n>0&&i(d)?n>1?e(d,n-1,i,o,s):r(s,d):o||(s[s.length]=d)}return s}},228483:(e,t,n)=>{var r=n(225063)();e.exports=r},247816:(e,t,n)=>{var r=n(228483),a=n(3674);e.exports=function(e,t){return e&&r(e,t,a)}},297786:(e,t,n)=>{var r=n(671811),a=n(240327);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[a(t[n++])];return n&&n==i?e:void 0}},868866:(e,t,n)=>{var r=n(862488),a=n(701469);e.exports=function(e,t,n){var i=t(e);return a(e)?i:r(i,n(e))}},200013:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},909454:(e,t,n)=>{var r=n(644239),a=n(637005);e.exports=function(e){return a(e)&&"[object Arguments]"==r(e)}},690939:(e,t,n)=>{var r=n(902492),a=n(637005);e.exports=function e(t,n,i,o,s){return t===n||(null==t||null==n||!a(t)&&!a(n)?t!=t&&n!=n:r(t,n,i,o,e,s))}},902492:(e,t,n)=>{var r=n(646384),a=n(967114),i=n(518351),o=n(916096),s=n(664160),l=n(701469),c=n(644144),d=n(936719),u="[object Arguments]",p="[object Array]",h="[object Object]",m=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,_,f,g){var y=l(e),v=l(t),b=y?p:s(e),w=v?p:s(t),S=(b=b==u?h:b)==h,E=(w=w==u?h:w)==h,P=b==w;if(P&&c(e)){if(!c(t))return!1;y=!0,S=!1}if(P&&!S)return g||(g=new r),y||d(e)?a(e,t,n,_,f,g):i(e,t,b,n,_,f,g);if(!(1&n)){var x=S&&m.call(e,"__wrapped__"),T=E&&m.call(t,"__wrapped__");if(x||T){var I=x?e.value():e,A=T?t.value():t;return g||(g=new r),f(I,A,n,_,g)}}return!!P&&(g||(g=new r),o(e,t,n,_,f,g))}},225588:(e,t,n)=>{var r=n(664160),a=n(637005);e.exports=function(e){return a(e)&&"[object Map]"==r(e)}},702958:(e,t,n)=>{var r=n(646384),a=n(690939);e.exports=function(e,t,n,i){var o=n.length,s=o,l=!i;if(null==e)return!s;for(e=Object(e);o--;){var c=n[o];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<s;){var d=(c=n[o])[0],u=e[d],p=c[1];if(l&&c[2]){if(void 0===u&&!(d in e))return!1}else{var h=new r;if(i)var m=i(u,p,d,e,t,h);if(!(void 0===m?a(p,u,3,i,h):m))return!1}}return!0}},28458:(e,t,n)=>{var r=n(623560),a=n(215346),i=n(513218),o=n(680346),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,d=l.toString,u=c.hasOwnProperty,p=RegExp("^"+d.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||a(e))&&(r(e)?p:s).test(o(e))}},829221:(e,t,n)=>{var r=n(664160),a=n(637005);e.exports=function(e){return a(e)&&"[object Set]"==r(e)}},238749:(e,t,n)=>{var r=n(644239),a=n(541780),i=n(637005),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&a(e.length)&&!!o[r(e)]}},267206:(e,t,n)=>{var r=n(191573),a=n(716432),i=n(406557),o=n(701469),s=n(139601);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?o(e)?a(e[0],e[1]):r(e):s(e)}},400280:(e,t,n)=>{var r=n(225726),a=n(86916),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},710313:(e,t,n)=>{var r=n(513218),a=n(225726),i=n(133498),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=a(e),n=[];for(var s in e)("constructor"!=s||!t&&o.call(e,s))&&n.push(s);return n}},269199:(e,t,n)=>{var r=n(989881),a=n(498612);e.exports=function(e,t){var n=-1,i=a(e)?Array(e.length):[];return r(e,(function(e,r,a){i[++n]=t(e,r,a)})),i}},191573:(e,t,n)=>{var r=n(702958),a=n(301499),i=n(542634);e.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},716432:(e,t,n)=>{var r=n(690939),a=n(227361),i=n(379095),o=n(115403),s=n(689162),l=n(542634),c=n(240327);e.exports=function(e,t){return o(e)&&s(t)?l(c(e),t):function(n){var o=a(n,e);return void 0===o&&o===t?i(n,e):r(t,o,3)}}},642980:(e,t,n)=>{var r=n(646384),a=n(286556),i=n(228483),o=n(559783),s=n(513218),l=n(481704),c=n(636390);e.exports=function e(t,n,d,u,p){t!==n&&i(n,(function(i,l){if(p||(p=new r),s(i))o(t,n,l,d,e,u,p);else{var h=u?u(c(t,l),i,l+"",t,n,p):void 0;void 0===h&&(h=i),a(t,l,h)}}),l)}},559783:(e,t,n)=>{var r=n(286556),a=n(364626),i=n(477133),o=n(200278),s=n(738517),l=n(135694),c=n(701469),d=n(229246),u=n(644144),p=n(623560),h=n(513218),m=n(968630),_=n(936719),f=n(636390),g=n(959881);e.exports=function(e,t,n,y,v,b,w){var S=f(e,n),E=f(t,n),P=w.get(E);if(P)r(e,n,P);else{var x=b?b(S,E,n+"",e,t,w):void 0,T=void 0===x;if(T){var I=c(E),A=!I&&u(E),R=!I&&!A&&_(E);x=E,I||A||R?c(S)?x=S:d(S)?x=o(S):A?(T=!1,x=a(E,!0)):R?(T=!1,x=i(E,!0)):x=[]:m(E)||l(E)?(x=S,l(S)?x=g(S):h(S)&&!p(S)||(x=s(E))):T=!1}T&&(w.set(E,x),v(x,E,y,b,w),w.delete(E)),r(e,n,x)}}},882689:(e,t,n)=>{var r=n(829932),a=n(297786),i=n(267206),o=n(269199),s=n(571131),l=n(307518),c=n(285022),d=n(406557),u=n(701469);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return u(e)?function(t){return a(t,1===e.length?e[0]:e)}:e})):[d];var p=-1;t=r(t,l(i));var h=o(e,(function(e,n,a){return{criteria:r(t,(function(t){return t(e)})),index:++p,value:e}}));return s(h,(function(e,t){return c(e,t,n)}))}},840371:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},379152:(e,t,n)=>{var r=n(297786);e.exports=function(e){return function(t){return r(t,e)}}},105976:(e,t,n)=>{var r=n(406557),a=n(545357),i=n(430061);e.exports=function(e,t){return i(a(e,t,r),e+"")}},356560:(e,t,n)=>{var r=n(575703),a=n(538777),i=n(406557),o=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=o},571131:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},422545:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},727561:(e,t,n)=>{var r=n(567990),a=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(a,""):e}},307518:e=>{e.exports=function(e){return function(t){return e(t)}}},274757:e=>{e.exports=function(e,t){return e.has(t)}},671811:(e,t,n)=>{var r=n(701469),a=n(115403),i=n(555514),o=n(479833);e.exports=function(e,t){return r(e)?e:a(e,t)?[e]:i(o(e))}},274318:(e,t,n)=>{var r=n(611149);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},364626:(e,t,n)=>{e=n.nmd(e);var r=n(555639),a=t&&!t.nodeType&&t,i=a&&e&&!e.nodeType&&e,o=i&&i.exports===a?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},257157:(e,t,n)=>{var r=n(274318);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},593147:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},540419:(e,t,n)=>{var r=n(562705),a=r?r.prototype:void 0,i=a?a.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},477133:(e,t,n)=>{var r=n(274318);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},626393:(e,t,n)=>{var r=n(733448);e.exports=function(e,t){if(e!==t){var n=void 0!==e,a=null===e,i=e==e,o=r(e),s=void 0!==t,l=null===t,c=t==t,d=r(t);if(!l&&!d&&!o&&e>t||o&&s&&c&&!l&&!d||a&&s&&c||!n&&c||!i)return 1;if(!a&&!o&&!d&&e<t||d&&n&&i&&!a&&!o||l&&n&&i||!s&&i||!c)return-1}return 0}},285022:(e,t,n)=>{var r=n(626393);e.exports=function(e,t,n){for(var a=-1,i=e.criteria,o=t.criteria,s=i.length,l=n.length;++a<s;){var c=r(i[a],o[a]);if(c)return a>=l?c:c*("desc"==n[a]?-1:1)}return e.index-t.index}},200278:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},698363:(e,t,n)=>{var r=n(234865),a=n(789465);e.exports=function(e,t,n,i){var o=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var c=t[s],d=i?i(n[c],e[c],c,n,e):void 0;void 0===d&&(d=e[c]),o?a(n,c,d):r(n,c,d)}return n}},318805:(e,t,n)=>{var r=n(698363),a=n(799551);e.exports=function(e,t){return r(e,a(e),t)}},201911:(e,t,n)=>{var r=n(698363),a=n(151442);e.exports=function(e,t){return r(e,a(e),t)}},614429:(e,t,n)=>{var r=n(555639)["__core-js_shared__"];e.exports=r},321463:(e,t,n)=>{var r=n(105976),a=n(816612);e.exports=function(e){return r((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,s&&a(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var l=n[r];l&&e(t,l,r,o)}return t}))}},899291:(e,t,n)=>{var r=n(498612);e.exports=function(e,t){return function(n,a){if(null==n)return n;if(!r(n))return e(n,a);for(var i=n.length,o=t?i:-1,s=Object(n);(t?o--:++o<i)&&!1!==a(s[o],o,s););return n}}},225063:e=>{e.exports=function(e){return function(t,n,r){for(var a=-1,i=Object(t),o=r(t),s=o.length;s--;){var l=o[e?s:++a];if(!1===n(i[l],l,i))break}return t}}},538777:(e,t,n)=>{var r=n(610852),a=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=a},967114:(e,t,n)=>{var r=n(288668),a=n(282908),i=n(274757);e.exports=function(e,t,n,o,s,l){var c=1&n,d=e.length,u=t.length;if(d!=u&&!(c&&u>d))return!1;var p=l.get(e),h=l.get(t);if(p&&h)return p==t&&h==e;var m=-1,_=!0,f=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++m<d;){var g=e[m],y=t[m];if(o)var v=c?o(y,g,m,t,e,l):o(g,y,m,e,t,l);if(void 0!==v){if(v)continue;_=!1;break}if(f){if(!a(t,(function(e,t){if(!i(f,t)&&(g===e||s(g,e,n,o,l)))return f.push(t)}))){_=!1;break}}else if(g!==y&&!s(g,y,n,o,l)){_=!1;break}}return l.delete(e),l.delete(t),_}},518351:(e,t,n)=>{var r=n(562705),a=n(611149),i=n(977813),o=n(967114),s=n(668776),l=n(321814),c=r?r.prototype:void 0,d=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,u,p){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!u(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var m=1&r;if(h||(h=l),e.size!=t.size&&!m)return!1;var _=p.get(e);if(_)return _==t;r|=2,p.set(e,t);var f=o(h(e),h(t),r,c,u,p);return p.delete(e),f;case"[object Symbol]":if(d)return d.call(e)==d.call(t)}return!1}},916096:(e,t,n)=>{var r=n(458234),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,o,s){var l=1&n,c=r(e),d=c.length;if(d!=r(t).length&&!l)return!1;for(var u=d;u--;){var p=c[u];if(!(l?p in t:a.call(t,p)))return!1}var h=s.get(e),m=s.get(t);if(h&&m)return h==t&&m==e;var _=!0;s.set(e,t),s.set(t,e);for(var f=l;++u<d;){var g=e[p=c[u]],y=t[p];if(i)var v=l?i(y,g,p,t,e,s):i(g,y,p,e,t,s);if(!(void 0===v?g===y||o(g,y,n,i,s):v)){_=!1;break}f||(f="constructor"==p)}if(_&&!f){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(_=!1)}return s.delete(e),s.delete(t),_}},458234:(e,t,n)=>{var r=n(868866),a=n(799551),i=n(3674);e.exports=function(e){return r(e,i,a)}},946904:(e,t,n)=>{var r=n(868866),a=n(151442),i=n(481704);e.exports=function(e){return r(e,i,a)}},45050:(e,t,n)=>{var r=n(37019);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},301499:(e,t,n)=>{var r=n(689162),a=n(3674);e.exports=function(e){for(var t=a(e),n=t.length;n--;){var i=t[n],o=e[i];t[n]=[i,o,r(o)]}return t}},610852:(e,t,n)=>{var r=n(28458),a=n(647801);e.exports=function(e,t){var n=a(e,t);return r(n)?n:void 0}},385924:(e,t,n)=>{var r=n(205569)(Object.getPrototypeOf,Object);e.exports=r},799551:(e,t,n)=>{var r=n(234963),a=n(770479),i=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),r(o(e),(function(t){return i.call(e,t)})))}:a;e.exports=s},151442:(e,t,n)=>{var r=n(862488),a=n(385924),i=n(799551),o=n(770479),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=a(e);return t}:o;e.exports=s},664160:(e,t,n)=>{var r=n(618552),a=n(357071),i=n(853818),o=n(458525),s=n(70577),l=n(644239),c=n(680346),d="[object Map]",u="[object Promise]",p="[object Set]",h="[object WeakMap]",m="[object DataView]",_=c(r),f=c(a),g=c(i),y=c(o),v=c(s),b=l;(r&&b(new r(new ArrayBuffer(1)))!=m||a&&b(new a)!=d||i&&b(i.resolve())!=u||o&&b(new o)!=p||s&&b(new s)!=h)&&(b=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case _:return m;case f:return d;case g:return u;case y:return p;case v:return h}return t}),e.exports=b},647801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},900222:(e,t,n)=>{var r=n(671811),a=n(135694),i=n(701469),o=n(565776),s=n(541780),l=n(240327);e.exports=function(e,t,n){for(var c=-1,d=(t=r(t,e)).length,u=!1;++c<d;){var p=l(t[c]);if(!(u=null!=e&&n(e,p)))break;e=e[p]}return u||++c!=d?u:!!(d=null==e?0:e.length)&&s(d)&&o(p,d)&&(i(e)||a(e))}},751789:(e,t,n)=>{var r=n(894536);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},780401:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},657667:(e,t,n)=>{var r=n(894536),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(t,e)?t[e]:void 0}},521327:(e,t,n)=>{var r=n(894536),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}},281866:(e,t,n)=>{var r=n(894536);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},43824:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},529148:(e,t,n)=>{var r=n(274318),a=n(257157),i=n(593147),o=n(540419),s=n(477133);e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return a(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return i(e);case"[object Set]":return new l;case"[object Symbol]":return o(e)}}},738517:(e,t,n)=>{var r=n(603118),a=n(385924),i=n(225726);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(a(e))}},137285:(e,t,n)=>{var r=n(562705),a=n(135694),i=n(701469),o=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||a(e)||!!(o&&e&&e[o])}},565776:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},816612:(e,t,n)=>{var r=n(977813),a=n(498612),i=n(565776),o=n(513218);e.exports=function(e,t,n){if(!o(n))return!1;var s=typeof t;return!!("number"==s?a(n)&&i(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},115403:(e,t,n)=>{var r=n(701469),a=n(733448),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!a(e))||(o.test(e)||!i.test(e)||null!=t&&e in Object(t))}},37019:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},215346:(e,t,n)=>{var r,a=n(614429),i=(r=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},225726:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},689162:(e,t,n)=>{var r=n(513218);e.exports=function(e){return e==e&&!r(e)}},327040:e=>{e.exports=function(){this.__data__=[],this.size=0}},514125:(e,t,n)=>{var r=n(218470),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)}},882117:(e,t,n)=>{var r=n(218470);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},567518:(e,t,n)=>{var r=n(218470);e.exports=function(e){return r(this.__data__,e)>-1}},654705:(e,t,n)=>{var r=n(218470);e.exports=function(e,t){var n=this.__data__,a=r(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}},924785:(e,t,n)=>{var r=n(301989),a=n(738407),i=n(357071);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||a),string:new r}}},611285:(e,t,n)=>{var r=n(45050);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},396e3:(e,t,n)=>{var r=n(45050);e.exports=function(e){return r(this,e).get(e)}},349916:(e,t,n)=>{var r=n(45050);e.exports=function(e){return r(this,e).has(e)}},195265:(e,t,n)=>{var r=n(45050);e.exports=function(e,t){var n=r(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}},668776:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},542634:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},624523:(e,t,n)=>{var r=n(288306);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},894536:(e,t,n)=>{var r=n(610852)(Object,"create");e.exports=r},86916:(e,t,n)=>{var r=n(205569)(Object.keys,Object);e.exports=r},133498:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},531167:(e,t,n)=>{e=n.nmd(e);var r=n(431957),a=t&&!t.nodeType&&t,i=a&&e&&!e.nodeType&&e,o=i&&i.exports===a&&r.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=s},205569:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},545357:(e,t,n)=>{var r=n(896874),a=Math.max;e.exports=function(e,t,n){return t=a(void 0===t?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=a(i.length-t,0),l=Array(s);++o<s;)l[o]=i[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=i[o];return c[t]=n(l),r(e,this,c)}}},636390:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},90619:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},572385:e=>{e.exports=function(e){return this.__data__.has(e)}},321814:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},430061:(e,t,n)=>{var r=n(356560),a=n(521275)(r);e.exports=a},521275:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var a=t(),i=16-(a-r);if(r=a,i>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},737465:(e,t,n)=>{var r=n(738407);e.exports=function(){this.__data__=new r,this.size=0}},963779:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},267599:e=>{e.exports=function(e){return this.__data__.get(e)}},744758:e=>{e.exports=function(e){return this.__data__.has(e)}},234309:(e,t,n)=>{var r=n(738407),a=n(357071),i=n(883369);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!a||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(o)}return n.set(e,t),this.size=n.size,this}},555514:(e,t,n)=>{var r=n(624523),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,o=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,(function(e,n,r,a){t.push(r?a.replace(i,"$1"):n||e)})),t}));e.exports=o},240327:(e,t,n)=>{var r=n(733448);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},680346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},567990:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},150361:(e,t,n)=>{var r=n(285990);e.exports=function(e){return r(e,5)}},575703:e=>{e.exports=function(e){return function(){return e}}},23279:(e,t,n)=>{var r=n(513218),a=n(707771),i=n(14841),o=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,d,u,p,h,m=0,_=!1,f=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=l,r=c;return l=c=void 0,m=t,u=e.apply(r,n)}function v(e){return m=e,p=setTimeout(w,t),_?y(e):u}function b(e){var n=e-h;return void 0===h||n>=t||n<0||f&&e-m>=d}function w(){var e=a();if(b(e))return S(e);p=setTimeout(w,function(e){var n=t-(e-h);return f?s(n,d-(e-m)):n}(e))}function S(e){return p=void 0,g&&l?y(e):(l=c=void 0,u)}function E(){var e=a(),n=b(e);if(l=arguments,c=this,h=e,n){if(void 0===p)return v(h);if(f)return clearTimeout(p),p=setTimeout(w,t),y(h)}return void 0===p&&(p=setTimeout(w,t)),u}return t=i(t)||0,r(n)&&(_=!!n.leading,d=(f="maxWait"in n)?o(i(n.maxWait)||0,t):d,g="trailing"in n?!!n.trailing:g),E.cancel=function(){void 0!==p&&clearTimeout(p),m=0,l=h=c=p=void 0},E.flush=function(){return void 0===p?u:S(a())},E}},977813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},227361:(e,t,n)=>{var r=n(297786);e.exports=function(e,t,n){var a=null==e?void 0:r(e,t);return void 0===a?n:a}},379095:(e,t,n)=>{var r=n(200013),a=n(900222);e.exports=function(e,t){return null!=e&&a(e,t,r)}},406557:e=>{e.exports=function(e){return e}},135694:(e,t,n)=>{var r=n(909454),a=n(637005),i=Object.prototype,o=i.hasOwnProperty,s=i.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return a(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},498612:(e,t,n)=>{var r=n(623560),a=n(541780);e.exports=function(e){return null!=e&&a(e.length)&&!r(e)}},229246:(e,t,n)=>{var r=n(498612),a=n(637005);e.exports=function(e){return a(e)&&r(e)}},644144:(e,t,n)=>{e=n.nmd(e);var r=n(555639),a=n(595062),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,s=o&&o.exports===i?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||a;e.exports=l},618446:(e,t,n)=>{var r=n(690939);e.exports=function(e,t){return r(e,t)}},623560:(e,t,n)=>{var r=n(644239),a=n(513218);e.exports=function(e){if(!a(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},541780:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},356688:(e,t,n)=>{var r=n(225588),a=n(307518),i=n(531167),o=i&&i.isMap,s=o?a(o):r;e.exports=s},513218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},968630:(e,t,n)=>{var r=n(644239),a=n(385924),i=n(637005),o=Function.prototype,s=Object.prototype,l=o.toString,c=s.hasOwnProperty,d=l.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=r(e))return!1;var t=a(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==d}},472928:(e,t,n)=>{var r=n(829221),a=n(307518),i=n(531167),o=i&&i.isSet,s=o?a(o):r;e.exports=s},936719:(e,t,n)=>{var r=n(238749),a=n(307518),i=n(531167),o=i&&i.isTypedArray,s=o?a(o):r;e.exports=s},3674:(e,t,n)=>{var r=n(14636),a=n(400280),i=n(498612);e.exports=function(e){return i(e)?r(e):a(e)}},481704:(e,t,n)=>{var r=n(14636),a=n(710313),i=n(498612);e.exports=function(e){return i(e)?r(e,!0):a(e)}},288306:(e,t,n)=>{var r=n(883369);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(a.Cache||r),n}a.Cache=r,e.exports=a},682492:(e,t,n)=>{var r=n(642980),a=n(321463)((function(e,t,n){r(e,t,n)}));e.exports=a},707771:(e,t,n)=>{var r=n(555639);e.exports=function(){return r.Date.now()}},139601:(e,t,n)=>{var r=n(840371),a=n(379152),i=n(115403),o=n(240327);e.exports=function(e){return i(e)?r(o(e)):a(e)}},189734:(e,t,n)=>{var r=n(121078),a=n(882689),i=n(105976),o=n(816612),s=i((function(e,t){if(null==e)return[];var n=t.length;return n>1&&o(e,t[0],t[1])?t=[]:n>2&&o(t[0],t[1],t[2])&&(t=[t[0]]),a(e,r(t,1),[])}));e.exports=s},770479:e=>{e.exports=function(){return[]}},595062:e=>{e.exports=function(){return!1}},14841:(e,t,n)=>{var r=n(727561),a=n(513218),i=n(733448),o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):o.test(e)?NaN:+e}},959881:(e,t,n)=>{var r=n(698363),a=n(481704);e.exports=function(e){return r(e,a(e))}},782677:(e,t,n)=>{function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function s(e){return!(!e||"function"!=typeof e.hasOwnProperty||!(e.hasOwnProperty("__ownerID")||e._map&&e._map.hasOwnProperty("__ownerID")))}function l(e,t,n){return Object.keys(e).reduce((function(t,r){var a=""+r;return t.has(a)?t.set(a,n(t.get(a),e[a])):t}),t)}n.d(t,{Fv:()=>w,fK:()=>b});var c=function(){function e(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),!e||"string"!=typeof e)throw new Error("Expected a string key for Entity, but found "+e+".");var r=n,a=r.idAttribute,o=void 0===a?"id":a,l=r.mergeStrategy,c=void 0===l?function(e,t){return i({},e,t)}:l,d=r.processStrategy,u=void 0===d?function(e){return i({},e)}:d,p=r.fallbackStrategy,h=void 0===p?function(e,t){}:p;this._key=e,this._getId="function"==typeof o?o:function(e){return function(t){return s(t)?t.get(e):t[e]}}(o),this._idAttribute=o,this._mergeStrategy=c,this._processStrategy=u,this._fallbackStrategy=h,this.define(t)}var t=e.prototype;return t.define=function(e){this.schema=Object.keys(e).reduce((function(t,n){var r,a=e[n];return i({},t,((r={})[n]=a,r))}),this.schema||{})},t.getId=function(e,t,n){return this._getId(e,t,n)},t.merge=function(e,t){return this._mergeStrategy(e,t)},t.fallback=function(e,t){return this._fallbackStrategy(e,t)},t.normalize=function(e,t,n,r,a,i){var o=this,s=this.getId(e,t,n),l=this.key;if(l in i||(i[l]={}),s in i[l]||(i[l][s]=[]),i[l][s].some((function(t){return t===e})))return s;i[l][s].push(e);var c=this._processStrategy(e,t,n);return Object.keys(this.schema).forEach((function(t){if(c.hasOwnProperty(t)&&"object"==typeof c[t]){var n=o.schema[t],s="function"==typeof n?n(e):n;c[t]=r(c[t],c,t,s,a,i)}})),a(this,c,e,t,n),s},t.denormalize=function(e,t){var n=this;return s(e)?l(this.schema,e,t):(Object.keys(this.schema).forEach((function(r){if(e.hasOwnProperty(r)){var a=n.schema[r];e[r]=t(e[r],a)}})),e)},a(e,[{key:"key",get:function(){return this._key}},{key:"idAttribute",get:function(){return this._idAttribute}}]),e}(),d=function(){function e(e,t){t&&(this._schemaAttribute="string"==typeof t?function(e){return e[t]}:t),this.define(e)}var t=e.prototype;return t.define=function(e){this.schema=e},t.getSchemaAttribute=function(e,t,n){return!this.isSingleSchema&&this._schemaAttribute(e,t,n)},t.inferSchema=function(e,t,n){if(this.isSingleSchema)return this.schema;var r=this.getSchemaAttribute(e,t,n);return this.schema[r]},t.normalizeValue=function(e,t,n,r,a,i){var o=this.inferSchema(e,t,n);if(!o)return e;var s=r(e,t,n,o,a,i);return this.isSingleSchema||null==s?s:{id:s,schema:this.getSchemaAttribute(e,t,n)}},t.denormalizeValue=function(e,t){var n=s(e)?e.get("schema"):e.schema;return this.isSingleSchema||n?t((this.isSingleSchema?void 0:s(e)?e.get("id"):e.id)||e,this.isSingleSchema?this.schema:this.schema[n]):e},a(e,[{key:"isSingleSchema",get:function(){return!this._schemaAttribute}}]),e}(),u=function(e){function t(t,n){if(!n)throw new Error('Expected option "schemaAttribute" not found on UnionSchema.');return e.call(this,t,n)||this}o(t,e);var n=t.prototype;return n.normalize=function(e,t,n,r,a,i){return this.normalizeValue(e,t,n,r,a,i)},n.denormalize=function(e,t){return this.denormalizeValue(e,t)},t}(d),p=function(e){function t(){return e.apply(this,arguments)||this}o(t,e);var n=t.prototype;return n.normalize=function(e,t,n,r,a,o){var s=this;return Object.keys(e).reduce((function(t,n,l){var c,d=e[n];return null!=d?i({},t,((c={})[n]=s.normalizeValue(d,e,n,r,a,o),c)):t}),{})},n.denormalize=function(e,t){var n=this;return Object.keys(e).reduce((function(r,a){var o,s=e[a];return i({},r,((o={})[a]=n.denormalizeValue(s,t),o))}),{})},t}(d),h=function(e){if(Array.isArray(e)&&e.length>1)throw new Error("Expected schema definition to be a single schema, but found "+e.length+".");return e[0]},m=function(e){return Array.isArray(e)?e:Object.keys(e).map((function(t){return e[t]}))},_=function(e,t,n,r,a,i,o){return e=h(e),m(t).map((function(t,s){return a(t,n,r,e,i,o)}))},f=function(e){function t(){return e.apply(this,arguments)||this}o(t,e);var n=t.prototype;return n.normalize=function(e,t,n,r,a,i){var o=this;return m(e).map((function(e,s){return o.normalizeValue(e,t,n,r,a,i)})).filter((function(e){return null!=e}))},n.denormalize=function(e,t){var n=this;return e&&e.map?e.map((function(e){return n.denormalizeValue(e,t)})):e},t}(d),g=function(e,t,n,r,a,o,s){var l=i({},t);return Object.keys(e).forEach((function(n){var r=e[n],i="function"==typeof r?r(t):r,c=a(t[n],t,n,i,o,s);null==c?delete l[n]:l[n]=c})),l},y=function(e,t,n){if(s(t))return l(e,t,n);var r=i({},t);return Object.keys(e).forEach((function(t){null!=r[t]&&(r[t]=n(r[t],e[t]))})),r},v=function e(t,n,r,a,i,o){return"object"==typeof t&&t?"object"!=typeof a||a.normalize&&"function"==typeof a.normalize?a.normalize(t,n,r,e,i,o):(Array.isArray(a)?_:g)(a,t,n,r,e,i,o):t},b={Array:f,Entity:c,Object:function(){function e(e){this.define(e)}var t=e.prototype;return t.define=function(e){this.schema=Object.keys(e).reduce((function(t,n){var r,a=e[n];return i({},t,((r={})[n]=a,r))}),this.schema||{})},t.normalize=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return g.apply(void 0,[this.schema].concat(t))},t.denormalize=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return y.apply(void 0,[this.schema].concat(t))},e}(),Union:u,Values:p},w=function(e,t){if(!e||"object"!=typeof e)throw new Error('Unexpected input given to normalize. Expected type to be "object", found "'+(null===e?"null":typeof e)+'".');var n={},r=function(e){return function(t,n,r,a,i){var o=t.key,s=t.getId(r,a,i);o in e||(e[o]={});var l=e[o][s];e[o][s]=l?t.merge(l,n):n}}(n);return{entities:n,result:v(e,e,null,t,r,{})}}},762587:e=>{function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,r,a){n=n||"&",r=r||"=";var i={};if("string"!=typeof e||0===e.length)return i;var o=/\+/g;e=e.split(n);var s=1e3;a&&"number"==typeof a.maxKeys&&(s=a.maxKeys);var l=e.length;s>0&&l>s&&(l=s);for(var c=0;c<l;++c){var d,u,p,h,m=e[c].replace(o,"%20"),_=m.indexOf(r);_>=0?(d=m.substr(0,_),u=m.substr(_+1)):(d=m,u=""),p=decodeURIComponent(d),h=decodeURIComponent(u),t(i,p)?Array.isArray(i[p])?i[p].push(h):i[p]=[i[p],h]:i[p]=h}return i}},712361:e=>{var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,a){return n=n||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(a){var i=encodeURIComponent(t(a))+r;return Array.isArray(e[a])?e[a].map((function(e){return i+encodeURIComponent(t(e))})).join(n):i+encodeURIComponent(t(e[a]))})).join(n):a?encodeURIComponent(t(a))+r+encodeURIComponent(t(e)):""}},817673:(e,t,n)=>{t.decode=t.parse=n(762587),t.encode=t.stringify=n(712361)},52511:function(e,t,n){var r;e=n.nmd(e),function(a){t&&t.nodeType,e&&e.nodeType;var i="object"==typeof n.g&&n.g;i.global!==i&&i.window!==i&&i.self;var o,s=2147483647,l=36,c=/^xn--/,d=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,m=String.fromCharCode;function _(e){throw RangeError(p[e])}function f(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function g(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+f((e=e.replace(u,".")).split("."),t).join(".")}function y(e){for(var t,n,r=[],a=0,i=e.length;a<i;)(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<i?56320==(64512&(n=e.charCodeAt(a++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),a--):r.push(t);return r}function v(e){return f(e,(function(e){var t="";return e>65535&&(t+=m((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=m(e)})).join("")}function b(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function w(e,t,n){var r=0;for(e=n?h(e/700):e>>1,e+=h(e/t);e>455;r+=l)e=h(e/35);return h(r+36*e/(e+38))}function S(e){var t,n,r,a,i,o,c,d,u,p,m,f=[],g=e.length,y=0,b=128,S=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&_("not-basic"),f.push(e.charCodeAt(r));for(a=n>0?n+1:0;a<g;){for(i=y,o=1,c=l;a>=g&&_("invalid-input"),((d=(m=e.charCodeAt(a++))-48<10?m-22:m-65<26?m-65:m-97<26?m-97:l)>=l||d>h((s-y)/o))&&_("overflow"),y+=d*o,!(d<(u=c<=S?1:c>=S+26?26:c-S));c+=l)o>h(s/(p=l-u))&&_("overflow"),o*=p;S=w(y-i,t=f.length+1,0==i),h(y/t)>s-b&&_("overflow"),b+=h(y/t),y%=t,f.splice(y++,0,b)}return v(f)}function E(e){var t,n,r,a,i,o,c,d,u,p,f,g,v,S,E,P=[];for(g=(e=y(e)).length,t=128,n=0,i=72,o=0;o<g;++o)(f=e[o])<128&&P.push(m(f));for(r=a=P.length,a&&P.push("-");r<g;){for(c=s,o=0;o<g;++o)(f=e[o])>=t&&f<c&&(c=f);for(c-t>h((s-n)/(v=r+1))&&_("overflow"),n+=(c-t)*v,t=c,o=0;o<g;++o)if((f=e[o])<t&&++n>s&&_("overflow"),f==t){for(d=n,u=l;!(d<(p=u<=i?1:u>=i+26?26:u-i));u+=l)E=d-p,S=l-p,P.push(m(b(p+E%S,0))),d=h(E/S);P.push(m(b(d,0))),i=w(n,v,r==a),n=0,++r}++n,++t}return P.join("")}o={version:"1.3.2",ucs2:{decode:y,encode:v},decode:S,encode:E,toASCII:function(e){return g(e,(function(e){return d.test(e)?"xn--"+E(e):e}))},toUnicode:function(e){return g(e,(function(e){return c.test(e)?S(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},608575:(e,t,n)=>{var r=n(52511),a=n(762502);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=v,t.resolve=function(e,t){return v(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?v(e,!1,!0).resolveObject(t):t},t.format=function(e){a.isString(e)&&(e=v(e));return e instanceof i?e.format():i.prototype.format.call(e)},t.Url=i;var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),d=["'"].concat(c),u=["%","/","?",";","#"].concat(d),p=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,_={javascript:!0,"javascript:":!0},f={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(817673);function v(e,t,n){if(e&&a.isObject(e)&&e instanceof i)return e;var r=new i;return r.parse(e,t,n),r}i.prototype.parse=function(e,t,n){if(!a.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),s=-1!==i&&i<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var v=e=c.join(s);if(v=v.trim(),!n&&1===e.split("#").length){var b=l.exec(v);if(b)return this.path=v,this.href=v,this.pathname=b[1],b[2]?(this.search=b[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=o.exec(v);if(w){var S=(w=w[0]).toLowerCase();this.protocol=S,v=v.substr(w.length)}if(n||w||v.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===v.substr(0,2);!E||w&&f[w]||(v=v.substr(2),this.slashes=!0)}if(!f[w]&&(E||w&&!g[w])){for(var P,x,T=-1,I=0;I<p.length;I++){-1!==(A=v.indexOf(p[I]))&&(-1===T||A<T)&&(T=A)}-1!==(x=-1===T?v.lastIndexOf("@"):v.lastIndexOf("@",T))&&(P=v.slice(0,x),v=v.slice(x+1),this.auth=decodeURIComponent(P)),T=-1;for(I=0;I<u.length;I++){var A;-1!==(A=v.indexOf(u[I]))&&(-1===T||A<T)&&(T=A)}-1===T&&(T=v.length),this.host=v.slice(0,T),v=v.slice(T),this.parseHost(),this.hostname=this.hostname||"";var R="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!R)for(var k=this.hostname.split(/\./),C=(I=0,k.length);I<C;I++){var O=k[I];if(O&&!O.match(h)){for(var D="",N=0,L=O.length;N<L;N++)O.charCodeAt(N)>127?D+="x":D+=O[N];if(!D.match(h)){var M=k.slice(0,I),j=k.slice(I+1),F=O.match(m);F&&(M.push(F[1]),j.unshift(F[2])),j.length&&(v="/"+j.join(".")+v),this.hostname=M.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),R||(this.hostname=r.toASCII(this.hostname));var U=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+U,this.href+=this.host,R&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==v[0]&&(v="/"+v))}if(!_[S])for(I=0,C=d.length;I<C;I++){var Z=d[I];if(-1!==v.indexOf(Z)){var z=encodeURIComponent(Z);z===Z&&(z=escape(Z)),v=v.split(Z).join(z)}}var V=v.indexOf("#");-1!==V&&(this.hash=v.substr(V),v=v.slice(0,V));var H=v.indexOf("?");if(-1!==H?(this.search=v.substr(H),this.query=v.substr(H+1),t&&(this.query=y.parse(this.query)),v=v.slice(0,H)):t&&(this.search="",this.query={}),v&&(this.pathname=v),g[S]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var $=this.search||"";this.path=U+$}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&a.isObject(this.query)&&Object.keys(this.query).length&&(o=y.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+i+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},i.prototype.resolve=function(e){return this.resolveObject(v(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(a.isString(e)){var t=new i;t.parse(e,!1,!0),e=t}for(var n=new i,r=Object.keys(this),o=0;o<r.length;o++){var s=r[o];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var d=l[c];"protocol"!==d&&(n[d]=e[d])}return g[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!g[e.protocol]){for(var u=Object.keys(e),p=0;p<u.length;p++){var h=u[p];n[h]=e[h]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||f[e.protocol])n.pathname=e.pathname;else{for(var m=(e.pathname||"").split("/");m.length&&!(e.host=m.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==m[0]&&m.unshift(""),m.length<2&&m.unshift(""),n.pathname=m.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var _=n.pathname||"",y=n.search||"";n.path=_+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var v=n.pathname&&"/"===n.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=b||v||n.host&&e.pathname,S=w,E=n.pathname&&n.pathname.split("/")||[],P=(m=e.pathname&&e.pathname.split("/")||[],n.protocol&&!g[n.protocol]);if(P&&(n.hostname="",n.port=null,n.host&&(""===E[0]?E[0]=n.host:E.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===m[0]?m[0]=e.host:m.unshift(e.host)),e.host=null),w=w&&(""===m[0]||""===E[0])),b)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,E=m;else if(m.length)E||(E=[]),E.pop(),E=E.concat(m),n.search=e.search,n.query=e.query;else if(!a.isNullOrUndefined(e.search)){if(P)n.hostname=n.host=E.shift(),(R=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=R.shift(),n.host=n.hostname=R.shift());return n.search=e.search,n.query=e.query,a.isNull(n.pathname)&&a.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!E.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var x=E.slice(-1)[0],T=(n.host||e.host||E.length>1)&&("."===x||".."===x)||""===x,I=0,A=E.length;A>=0;A--)"."===(x=E[A])?E.splice(A,1):".."===x?(E.splice(A,1),I++):I&&(E.splice(A,1),I--);if(!w&&!S)for(;I--;I)E.unshift("..");!w||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),T&&"/"!==E.join("/").substr(-1)&&E.push("");var R,k=""===E[0]||E[0]&&"/"===E[0].charAt(0);P&&(n.hostname=n.host=k?"":E.length?E.shift():"",(R=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=R.shift(),n.host=n.hostname=R.shift()));return(w=w||n.host&&E.length)&&!k&&E.unshift(""),E.length?n.pathname=E.join("/"):(n.pathname=null,n.path=null),a.isNull(n.pathname)&&a.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},762502:e=>{e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},17314:(e,t,n)=>{n.d(t,{Z:()=>c});var r,a,i=n(813653),o=n(861470),s=0,l=0;const c=function(e,t,n){var c=t&&n||0,d=t||new Array(16),u=(e=e||{}).node||r,p=void 0!==e.clockseq?e.clockseq:a;if(null==u||null==p){var h=e.random||(e.rng||i.Z)();null==u&&(u=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==p&&(p=a=16383&(h[6]<<8|h[7]))}var m=void 0!==e.msecs?e.msecs:Date.now(),_=void 0!==e.nsecs?e.nsecs:l+1,f=m-s+(_-l)/1e4;if(f<0&&void 0===e.clockseq&&(p=p+1&16383),(f<0||m>s)&&void 0===e.nsecs&&(_=0),_>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=m,l=_,a=p;var g=(1e4*(268435455&(m+=122192928e5))+_)%4294967296;d[c++]=g>>>24&255,d[c++]=g>>>16&255,d[c++]=g>>>8&255,d[c++]=255&g;var y=m/4294967296*1e4&268435455;d[c++]=y>>>8&255,d[c++]=255&y,d[c++]=y>>>24&15|16,d[c++]=y>>>16&255,d[c++]=p>>>8|128,d[c++]=255&p;for(var v=0;v<6;++v)d[c+v]=u[v];return t||(0,o.Z)(d)}},397066:(e,t,n)=>{n.d(t,{b:()=>d,h:()=>u});var r=n(983722),a=n(768559),i=n(43760),o=n(170168),s=n(619937),l=n(48714),c=n(366284);const d=({href:e,pinId:t,pin:n,location:i,auxData:d},u)=>{if(n&&n.is_promoted){var p,h,m,_;const S=(0,a.Z)({boardUrl:null===(p=n.board)||void 0===p?void 0:p.url,callToCreateSourcePinId:n.call_to_create_source_pin_id,location:i,pinId:n.id,pinnerUserName:null===(h=n.pinner)||void 0===h?void 0:h.username,storyPinDataId:n.story_pin_data_id,trackingParams:n.tracking_params,trackingParamsMap:n.tracking_params_map}),E=(0,l.nS)({url:e,pinId:t,csrId:null,clientTrackingParams:S,auxData:d}),P=(0,r.Z)();if((0,c.G6)(null!==(m=null==P?void 0:P.userAgent.browserName)&&void 0!==m?m:"")){var f,g;const{group:r}=null!==(f=null==P?void 0:P.experimentsClient.checkExperiment("m10n_event_conversion_measurement"))&&void 0!==f?f:{},a=null!=P&&null!==(g=P.userAgent)&&void 0!==g&&g.browserVersion?P.userAgent.browserVersion:"0.0",i=parseFloat(a.split(".")[0]+"."+a.split(".")[1]);if(void 0!==n.campaign_id&&i>=14.1&&["enabled_safari"].includes(r)){var y;const r=n.attribution_source_id?((e,t,n)=>{const r=document.createElement("a");return r.setAttribute("href",t),r.setAttribute("target","_blank"),r.setAttribute("rel","noopener nofollow noreferrer"),r.style.cursor="pointer",r.style.display="block",r.setAttribute(s.$N.ATTRIBUTION_SOURCE_ID,e),r.setAttribute(s.$N.ATTRIBUTE_DESTINATION,n),r.setAttribute(s.$N.ATTRIBUTE_ON,n),r.click(),e})(n.attribution_source_id,E,e):((e,t,n)=>{const r=document.createElement("a");r.setAttribute("href",t),r.setAttribute("target","_blank"),r.setAttribute("rel","noopener nofollow noreferrer"),r.style.cursor="pointer",r.style.display="block";const a=""+(e%32*8+Math.floor(((new Date).getTime()-16409952e5)/864e5)%8);return r.setAttribute(s.$N.ATTRIBUTION_SOURCE_ID,a),r.setAttribute(s.$N.ATTRIBUTE_DESTINATION,n),r.setAttribute(s.$N.ATTRIBUTE_ON,n),r.click(),a})(null!==(y=n.pin_promotion_id)&&void 0!==y?y:0,E,e);return u({event_type:101,clientTrackingParams:S,object_id_str:t||"",aux_data:{pin_id:t||"",click_measurement_ppid:n.pin_promotion_id||"",click_measurement_campaign_id:n.campaign_id||"",is_pcm:!0,attribution_source_id:r,page_url:e}}),!0}}else if((0,c.i7)(null!==(_=null==P?void 0:P.userAgent.browserName)&&void 0!==_?_:"")){var v,b;const{group:r}=null!==(v=null==P?void 0:P.experimentsClient.checkExperiment("m10n_event_conversion_measurement_chrome"))&&void 0!==v?v:{},a=null!=P&&null!==(b=P.userAgent)&&void 0!==b&&b.browserVersion?parseInt(P.userAgent.browserVersion.split(".")[0],10):0;if(void 0!==n.attribution_source_id&&a>=101&&["enabled"].includes(r)){var w;const r=((e,t,n)=>{const r=new URL(`${o.C0}/attribution_source/`);r.searchParams.set(s.NR.ATTRIBUTION_SOURCE_EVENT_ID,e),r.searchParams.set(s.NR.ATTRIBUTION_DESTINATION,n),r.searchParams.set(s.NR.ATTRIBUTION_EXPIRY,""+s.uV);const a=document.createElement("a");return a.setAttribute("href",t),a.setAttribute("target","_blank"),a.setAttribute("rel","noopener nofollow noreferrer"),a.style.cursor="pointer",a.style.display="block",a.setAttribute(s.NR.ATTRIBUTION_SOURCE,r.toString()),a.click(),e})(null!==(w=n.attribution_source_id)&&void 0!==w?w:"0",E,e);return u({event_type:101,clientTrackingParams:S,object_id_str:t||"",aux_data:{pin_id:t||"",click_measurement_ppid:n.pin_promotion_id||"",click_measurement_campaign_id:n.campaign_id||"",is_arapi:!0,attribution_source_id:r,page_url:e}}),!0}}}return!1},u=({href:e,pinId:t,pin:n,location:r,auxData:o},s)=>{if("undefined"!=typeof window&&window.Windows)(0,i.Z)({url:e,pinId:t,pin:n,location:r,auxData:o});else{var c,u;if(d({href:e,pinId:t,pin:n,location:r,auxData:o},s))return;(0,l.Gj)({url:e,pinId:t,csrId:null,clientTrackingParams:(0,a.Z)({boardUrl:null==n||null===(c=n.board)||void 0===c?void 0:c.url,callToCreateSourcePinId:null==n?void 0:n.call_to_create_source_pin_id,location:r,pinId:null==n?void 0:n.id,pinnerUserName:null==n||null===(u=n.pinner)||void 0===u?void 0:u.username,storyPinDataId:null==n?void 0:n.story_pin_data_id,trackingParams:null==n?void 0:n.tracking_params,trackingParamsMap:null==n?void 0:n.tracking_params_map}),auxData:o})}}},485710:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(667294),a=n(898781),i=n(883119),o=n(785893);function s({children:e,heading:t}){const[n,s]=(0,r.useState)(!1),l=(0,a.ZP)();return(0,o.jsxs)(i.kC,{direction:"column",dataTestId:"collapsible-layout",children:[(0,o.jsxs)(i.X6,{align:"start",size:"400",accessibilityLevel:2,children:[(0,o.jsx)(i.xu,{"data-test-id":"collapsible-layout-heading",display:"inlineBlock",children:t}),(0,o.jsx)(i.xu,{"data-test-id":"collapse-button",display:"inlineBlock",marginStart:1,children:(0,o.jsx)(i.hU,{accessibilityLabel:l.bt("    ", "Show more details drop-down", "Closeup.common.CollapsibleLayout", undefined, true),icon:n?"arrow-forward":"arrow-down",onClick:()=>{s(!n)},size:"md"})})]}),!n&&(0,o.jsx)(r.Fragment,{children:e})]})}},319530:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(667294),a=n(883119),i=n(785893);function o({children:e,maxLines:t=10}){const n=(0,r.useRef)(null),[o,s]=(0,r.useState)({isFirstLoad:!0,isTruncated:!1}),{isFirstLoad:l,isTruncated:c}=o;return(0,r.useEffect)((()=>{var e;l&&n.current&&((e=n.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&s({isFirstLoad:!1,isTruncated:!0})}),[l,c]),(0,i.jsxs)(a.xu,{position:"relative","data-test-id":"truncated-text",children:[(0,i.jsx)(a.xv,{ref:n,lineClamp:l||c?t:0,children:e}),c&&(0,i.jsx)(a.xu,{position:"absolute",display:"block",width:"100%",bottom:!0,children:(0,i.jsxs)(a.kC,{flex:"grow",children:[(0,i.jsx)(a.xu,{width:"120px",display:"inlineBlock",dangerouslySetInlineStyle:{__style:{background:"linear-gradient(to right, transparent, white 100%)"}},height:"18px"}),(0,i.jsx)(a.xu,{"data-test-id":"more-button",display:"inlineBlock",dangerouslySetInlineStyle:{__style:{background:"white"}},children:(0,i.jsx)(a.iP,{fullWidth:!1,onTap:()=>s({...o,isTruncated:!1}),children:(0,i.jsx)(a.xv,{inline:!0,size:"200",weight:"bold",children:" more"})})}),(0,i.jsx)(a.xu,{display:"inlineBlock",flex:"grow",height:"18px",dangerouslySetInlineStyle:{__style:{background:"white"}}})]})})]})}},807592:(e,t,n)=>{function r(e){const{max_price:t,min_price:n,price:r}=e;return t&&n?`${n}-${t}`:r}n.d(t,{Z:()=>r})},27255:(e,t,n)=>{n.d(t,{Z:()=>r});const r={AMP_TRACKING_DOMAIN:"amp.pinterest.com",BoardPrivacy:{SECRET:"secret",PUBLIC:"public",PROTECTED:"protected"},BoardType:{PROTECTED:"protected"},BulkAction:{MOVE:"bulkMove",COPY:"bulkCopy",CREATE_SECTION:"bulkCreateSection",DELETE:"bulkDelete"},MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION:500,MAX_CHARS_FOR_BOARD_TITLE:50,MAX_CHARS_FOR_FIRST_NAME:30,MAX_FETCH_NUM_FOLLOWERS_PER_PAGE:50,MAX_STORED_VISITED_PIN_PAGES:10,VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY:"_video_autoplay_state",VIDEO_IFRAME_ID:"video-iframe"}},558068:(e,t,n)=>{n.d(t,{Hv:()=>l,aX:()=>u,nK:()=>p});var r=n(667294),a=n(425288),i=n(276775),o=n(785893);const{Provider:s,useHook:l}=(0,a.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),c=e=>e&&e.pathname?e.pathname+(e.search||""):"";function d(e,t){var n;const r={action:t.type,location:t.location,match:t.match};if(t.location===(null===(n=e.current)||void 0===n?void 0:n.location))return e;switch(t.type){case"POP":return e.forward.length>0&&c(e.forward[0].location)===c(r.location)?{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:t.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous}:{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:t.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:r,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:r};default:return e}}function u(){const{current:e,previous:t}=l();return(0,r.useMemo)((()=>e?t.concat(e):t),[e,t])}function p({children:e}){const t=(0,i.useHistory)(),n=(0,i.useLocation)(),a=(0,i.useRouteMatch)(),l={forward:[],current:{action:t.action,location:n,match:a},previous:[]},[c,u]=(0,r.useReducer)(d,l);return(0,r.useEffect)((()=>{const{action:e}=t;u({type:e,location:n,match:a})}),[n]),(0,o.jsx)(s,{value:c,children:e})}},391254:(e,t,n)=>{n.d(t,{Z:()=>i});n(441143);var r=n(785893);class a{static factory(e){return e instanceof a?e:new a(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function i(e){const{css:t,unsafeCSS:n,...i}=e,o=String(t||"")||n||"";return!!o?(0,r.jsx)("style",{...i,dangerouslySetInnerHTML:{__html:String(a.factory(o))}}):null}},310227:(e,t,n)=>{n.d(t,{Dv:()=>i,Ml:()=>o,Oc:()=>r,mv:()=>a});const r=16,a=4,i={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"},o=120},700398:(e,t,n)=>{n.d(t,{Z:()=>a});const r=new Set([90,88,89,91,101,92,131]);function a(e){return r.has(e)}},941646:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(883119),a=n(785893);function i(e){const{children:t,display:n,id:i}=e;return(0,a.jsx)(r.xu,{"data-test-id":i,display:n,children:t})}},512176:(e,t,n)=>{n.d(t,{Z:()=>d});var r=n(667294),a=n(898781),i=n(112690),o=n(967181),s=n(883119),l=n(785893);const c={sm:12,md:16,lg:20,xl:24};function d({isVerifiedMerchant:e,size:t,showText:n,showVerifiedIdentity:d,inspirationalBadges:u,inspirationalBadgesColor:p}){const h=(0,a.ZP)(),[m,_]=(0,r.useState)(!1),{dangerousInlineStyle:f,iconColor:g}=(0,o.W)(!!e),y=(0,i.Z)();return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(s.iP,{onTap:()=>{y({component:13534,element:11717,event_type:102}),_(!0)},rounding:"circle",children:(0,l.jsxs)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:f,display:"flex","data-test-id":"verified-badge-icon",children:[(0,l.jsx)(s.JO,{accessibilityLabel:e?h.bt("  ", "Merchant verification badge icon", "merchantVerification.badge.icon", undefined, true):h.bt(" ", "Badge icon", "merchantVerification.badge.icon", undefined, true),icon:"workflow-status-ok",color:g,inline:!0,size:c[t]}),n&&!d&&(0,l.jsx)(s.xu,{marginStart:2,children:(0,l.jsx)(s.xv,{color:"shopping",inline:!0,weight:"bold",children:(0,l.jsx)(s.xu,{dangerouslySetInlineStyle:f,children:h.bt(" ", "Verified merchant", "creator.header.verifiedMerchant", undefined, true)})})})]})}),(e||n&&!d)&&(0,l.jsx)(o.Z,{showModal:m,setShowModal:_,inspirationalBadges:u,inspirationalBadgesColor:p})]})}},967181:(e,t,n)=>{n.d(t,{W:()=>u,Z:()=>p});var r=n(667294),a=n(121151),i=n(898781),o=n(112690),s=n(966113),l=n(752403),c=n(883119),d=n(785893);const u=e=>{const t=e?"shopping":"error";return{iconColor:t,dangerousInlineStyle:{__style:{color:t}}}};function p({inspirationalBadges:e=[],inspirationalBadgesColor:t,showModal:n,setShowModal:p}){const h=(0,i.ZP)(),[m,_]=(0,r.useState)(!0),{dangerousInlineStyle:f,iconColor:g}=u(!0),y=(0,o.Z)();return(0,r.useEffect)((()=>{n&&m&&(_(!1),y({event_type:13,component:13534}))}),[n]),(0,d.jsx)(a.ZP,{"data-test-id":"modal",isOpen:n,mobileAccessibilityCloseIconLabel:h.bt("", "Close", "Close modal window", undefined, true),onDismiss:()=>{y({component:13534,element:11716,event_type:102}),p(!1)},type:"verified_merchant_modal",children:(0,d.jsx)(c.xu,{padding:3,children:(0,d.jsxs)(c.xu,{display:"flex",direction:"column",padding:2,"data-test-id":"verified-badge-modal",children:[(0,d.jsx)(c.xu,{display:"flex",dangerouslySetInlineStyle:f,justifyContent:"center",children:(0,d.jsx)(c.JO,{accessibilityLabel:h.bt("  ", "Merchant verification badge icon", "creator.verifiedMerchant.modalIcon", undefined, true),color:g,icon:"workflow-status-ok",size:24})}),(0,d.jsx)(c.xu,{marginTop:4,children:(0,d.jsx)(c.xv,{color:"shopping",weight:"bold",align:"center",children:(0,d.jsx)(c.xu,{dangerouslySetInlineStyle:f,children:h.bt(" ", "Verified merchant", "creator.verifiedMerchant.modalHeader", undefined, true)})})}),(0,d.jsx)(c.xu,{marginTop:4,marginBottom:4,children:(0,d.jsx)(c.xv,{align:"center",overflow:"normal",children:h.bt("    Pinterest  ", "This retailer meets Pinterest's Merchant Guidelines", "creator.verifiedMerchant.modalText.", undefined, true)})}),e.map((e=>(0,d.jsxs)(c.xu,{display:"flex",direction:"column",marginTop:4,children:[(0,d.jsx)(c.kC,{alignItems:"stretch",justifyContent:"center",children:(0,d.jsx)(c.xv,{overflow:"noWrap",size:"100",weight:"bold",children:(0,d.jsx)(c.xu,{display:"inlineBlock",rounding:1,paddingX:2,paddingY:2,dangerouslySetInlineStyle:{__style:(0,l.ym)(t)},"data-test-id":"verified-badge-modal-inspirational-badge",children:e.label})})}),(0,d.jsx)(c.xu,{marginTop:2,children:(0,d.jsx)(c.xv,{align:"center",overflow:"normal",children:e.description})})]},e.id))),(0,d.jsx)(c.xu,{display:"flex",marginTop:8,justifyContent:"center",width:"100%","data-test-id":"verified-badge-modal-learn-more",children:(0,d.jsx)(c.zx,{role:"link",accessibilityLabel:h.bt("", "Learn more", "creator.verifiedMerchant.buttonText", undefined, true),target:"blank",size:"lg",href:s.vB,text:h.bt("", "Learn more", "creator.verifiedMerchant.buttonText", undefined, true)})})]})})})}},619937:(e,t,n)=>{n.d(t,{$N:()=>p,GY:()=>l,MZ:()=>o,NR:()=>d,Vn:()=>c,fm:()=>r,kM:()=>i,q6:()=>a,qp:()=>s,uV:()=>u});const r={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",RESOURCES:"RESOURCES"},a={GENERAL:"GENERAL",CAMPAIGNS:"CAMPAIGNS",AD_GROUPS:"AD_GROUPS",ADS:"ADS",KEYWORDS:"KEYWORDS",PRODUCT_GROUPS:"PRODUCT_GROUPS",ERROR_CODES:"ERROR_CODES"},i={BILLING_HISTORY:"BILLING_HISTORY",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",DOCUMENTS:"DOCUMENTS",PREPAID_CAMPAIGN_SPEND:"PREPAID_CAMPAIGN_SPEND_SUMMARY"},o={GOOGLE_TAG_MANAGER:"Google Tag Manager",SHOPIFY:"Shopify",WOO_COMMERCE:"WooCommerce",WORDPRESS:"WordPress",SQUARESPACE:"Squarespace",WEEBLY:"Weebly",TEALIUM:"Tealium",MAGENTO:"Magento",ECWID:"Ecwid",BIG_COMMERCE:"BigCommerce"},s={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_EVENTS:"PINTEREST_TAG_EVENTS",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_HEALTH:"CONVERSION_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD",CONVERSIONS_API:"CONVERSIONS_API",CONVERSIONS_API_ACCESS_TOKEN:"CONVERSIONS_API_ACCESS_TOKEN",CONVERSIONS_API_DEDUPLICATION:"CONVERSIONS_API_DEDUPLICATION",PINTEREST_EVENTS_OVERVIEW:"PINTEREST_EVENTS_OVERVIEW",PINTEREST_EVENT_HISTORY:"PINTEREST_EVENT_HISTORY"},l={PINTEREST_TAG_DASHBOARD:"PINTEREST_TAG_DASHBOARD",PINTEREST_TAG_LANDING:"PINTEREST_TAG_LANDING",PINTEREST_TAG_INSTRUCTIONS:"PINTEREST_TAG_INSTRUCTIONS",CONVERSION_UPLOAD_LANDING:"CONVERSION_UPLOAD_LANDING",CONVERSION_UPLOAD_VALIDATION:"CONVERSION_UPLOAD_VALIDATION",CONVERSION_UPLOAD_HISTORY:"CONVERSION_UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD_LANDING:"PCA_UPLOAD_LANDING",PCA_UPLOAD_VALIDATION:"PCA_UPLOAD_VALIDATION"},c={UNREAD:"UNREAD",READ:"READ",ACCEPTED:"ACCEPTED",REJECTED:"REJECTED",DISMISSED:"DISMISSED",INVALID:"INVALID",MUTED:"MUTED",SNOOZED:"SNOOZED",PMP_REPORTED:"PMP_REPORTED",EMAILED:"EMAILED",BULK_DOWNLOADED:"BULK_DOWNLOADED",FILTERED:"FILTERED",PUSHED:"PUSHED"},d={ATTRIBUTION_DESTINATION:"destination",ATTRIBUTION_EXPIRY:"expiry",ATTRIBUTION_SOURCE:"attributionsrc",ATTRIBUTION_SOURCE_EVENT_ID:"source_event_id"},u=604800,p={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"}},100183:(e,t,n)=>{n.d(t,{CC:()=>r,Ll:()=>i,XF:()=>a});const r=(e,t)=>((e,t,n)=>({x:Math.floor(e*Math.cos(n)),y:Math.floor(t*Math.sin(n))}))(t/2,e/2,2*Math.random()*Math.PI),a=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,i=e=>["@-webkit-keyframes","@keyframes"].map((t=>e.map((e=>t+" "+e)).join("\n"))).join("\n")},613316:(e,t,n)=>{function r(e){return[0,24,21,26].includes(e)}function a({articleType:e,id:t,title:n}){const r=n.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\'"]/g,"").trim().replace(/\s+/g,"-");return"today"===e?`/today/shop/${r}/${t}/`:`/discover/article/${r}/${t}/`}n.d(t,{x:()=>a,y:()=>r})},366284:(e,t,n)=>{n.d(t,{G6:()=>i,i7:()=>o,oi:()=>r,u$:()=>a,un:()=>l,vU:()=>s});const r=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),a=e=>{switch(!0){case e.includes("Chrome"):return r.CHROME;case e.includes("Safari"):return r.SAFARI;case e.includes("Firefox"):return r.FIREFOX;case e.includes("Opera"):return r.OPERA;case e.includes("IE"):return r.IE;case e.includes("Edge"):return r.EDGE;default:return r.OTHER}};function i(e){return a(e)===r.SAFARI}function o(e){return a(e)===r.CHROME}function s(e){return a(e)===r.FIREFOX}function l(e){return a(e)===r.EDGE}},56641:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(567831),a=n(867820);function i(e,t){if(t&&!(()=>{try{return window.localStorage.test=2,!1}catch(e){return!0}})()){const t=window.open(e,"_blank");return t&&(t.opener=null),t}{const t=(0,r.Z)(e);return setTimeout((()=>{(0,a.My)("setting_new_window_location")}),0),window.location.href=t,window}}},126098:(e,t,n)=>{function r(){if("undefined"!=typeof navigator&&"serviceWorker"in navigator&&void 0!==navigator.serviceWorker&&"Notification"in window&&"PushManager"in window)try{return window.Notification.permission}catch(e){return}}n.d(t,{Z:()=>r})},78714:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(56641),a=n(954931),i=n(867820);const o=(e,t)=>{null!=t&&t.disableOriginCheck||(0,a.Z)(e)||(e="/",(0,i.My)("url_reset")),(0,r.Z)(e)}},792182:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(667294),a=n(23279),i=n.n(a);function o(){const[e,t]=(0,r.useState)(null);return(0,r.useEffect)((()=>{const e=()=>t({width:window.innerWidth,height:window.innerHeight});e();const n=i()(e,50);return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)}),[]),e}},752403:(e,t,n)=>{n.d(t,{Bu:()=>m,Dm:()=>s,I:()=>g,NG:()=>p,QP:()=>d,S4:()=>c,Xe:()=>u,_f:()=>h,eT:()=>_,hm:()=>f,yQ:()=>l,ym:()=>v});var r=n(642345);const a=Object.freeze({AFRICAN_AMERICAN_OR_BLACK:"african_american_or_black",BLACK_AFRICAN_DIASPORA:"black_african_diaspora",HISPANIC_OR_LATINX:"hispanic_or_latinx",NATIVE_OR_INDIGENOUS:"native_or_indigenous",ABORIGINAL_OR_INDIGENOUS:"aboriginal_or_indigenous",NATIVE_AMERICAN_OR_ALASKA_NATIVE_OR_INDIGENOUS_PEOPLES:"native_american_or_alaska_native_or_indigenous_peoples",ASIAN_OR_PACIFIC_ISLANDERS:"asian_or_pacific_islanders",ASIAN:"asian",LGBTQ:"lgbtq",MIDDLE_EASTERN:"middle_eastern",TURKISH:"turkish",ROMA:"roma",MIDDLE_EASTERN_TURKISH_ROMA:"middle_eastern_turkish_roma",NORTH_AFRICAN:"north_african",MIDDLE_EASTERN_OR_NORTH_AFRICAN:"middle_eastern_or_north_african",NONE:"none"}),i=Object.freeze({PERSON_OF_COLOR:"person_of_color",LGBTQ:"lgbtq",DISABILITY:"disability",WOMAN:"woman",NONE:"none"}),o=Object.freeze({INVESTED_IN_GOOD:"invested_in_good",ECO_FRIENDLY:"eco_friendly",RESPONSIBLY_SOURCED:"responsibly_sourced",INCLUSIVE:"inclusive",PERSONAL_TOUCH:"personal_touch"}),s=[...Object.keys(a).map((e=>a[e])),...Object.keys(i).map((e=>i[e]))],l=[...Object.keys(o).map((e=>o[e]))],c=3,d=["#EFEFEF","#F8E3D1","#F6F1C1","#DDEEAF","#C9F2EE","#DBD5F4","#EFBCEE"],u={business_diversity_labels:[],created_at:"",disapproval_reasons:[],is_inspirational:!1,review_criteria:[],review_labels:[],updated_at:"",inspirational_badge_selection:{badgeColor:d[0],badgeOptOut:[]},is_eligible_for_storefront_badges:!1,badge_details:[],profile_badges:[]},p="https://help.pinterest.com/article/merchant-details",h="https://help.pinterest.com/business/article/add-merchant-details-to-your-profile";function m({verifiedMerchant:e}){var t,n;const r=null==e?void 0:e.isVerifiedMerchant,a=null==e||null===(t=e.inspirational_signal)||void 0===t?void 0:t.is_inspirational,i=null==e||null===(n=e.inspirational_signal)||void 0===n?void 0:n.is_eligible_for_storefront_badges;return Boolean(r&&a&&i)}function _(e){return e.badge_details?e.badge_details.map((e=>e.id)):[]}function f(e){return(null==e?void 0:e.profile_badges)||[]}function g(e,t,n){return t&&n?t.map((e=>n.find((t=>t.id===e.trim())))).filter(Boolean):[]}function y(e){const t=(0,r.oo)(e);if(!t)return"white";const[n,a,i]=t;return(0,r.DW)(n,a,i)<=r.I?"white":"black"}function v(e){const t=e||d[0];return{backgroundColor:t,color:y(t)}}},768559:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(826067);const a=/\/today\/(article|best|trending)\/[\w-]+\/(\d+)/,i=/\/discover\/article\/[\w-]+\/(\d+)/,o=(e,t)=>t?e.substring(t.length).split("/")[0]:e,s=({boardUrl:e,callToCreateSourcePinId:t,path:n,pinId:s,pinnerUserName:l,query:c,search:d,storyPinDataId:u})=>{var p,h;if(!n)return"";let m="";switch(n){case"/":case"/homefeed/":return"UserHomefeedResource";case l&&`/${l}/pins/`:return"UserPinsResource";case l&&`/${l}/`:case/\/_activity\//.test(n)&&n:return"UserActivityPinsResource";case/\/_created\//.test(n)&&n:return u?"UserStoryPinsFeedResource":"UserActivityPinsResource";case/\/_community\//.test(n)&&n:return"UserDiscoveredPinsResource";case/\/_shop\//.test(n)&&n:return"StoreFrontFeedResource";case/\/_saved\//.test(n)&&n:return"BoardlessPinsResource";case l&&`/${l}/_shopping_list/`:return"ShoppingListFeedResource";case/\/visual-search\//.test(n)&&n:return"VisualLiveSearchResource";case/\/pin\//.test(n)&&n:m="/pin/";const _=o(n,m);if(s!==_)return t?`ApiResource_callToCreatePins_${_}`:`RelatedPinFeedResource_${_}`;break;case/\/search\//.test(n)&&n:if(d){return`SearchResource_${((0,r.mB)(d,{shouldDecode:!1}).q||"").toLowerCase()}`}if(c)return`SearchResource_${encodeURIComponent(c.q||"").toLowerCase()}`;break;case i.test(n)&&n:return`ExploreArticleResource_${(null===(p=n.match(i))||void 0===p?void 0:p[2])||"unknown"}`;case/\/discover\/article\//.test(n)&&n:m="/discover/article/";return`ExploreArticleResource_${o(n,m)}`;case/\/categories\//.test(n)&&n:m="/categories/";return`CategoryFeedResource_${o(n,m)}`;case/\/discover\/topics\//.test(n)&&n:return"CategoryFeedResource";case/\/news_hub\//.test(n)&&n:m="/news_hub/";return`NewsHubDetailsResource_${o(n,m)}`;case/\/_tools\/more-ideas\//.test(n)&&n:return"BoardContentRecommendationResource";case/\/topics\//.test(n)&&n:m="/topics/";return`TopicFeedResource_${o(n,m)}`;case l&&`/${l}/products/`:return"StoreFrontFeedResource";case/\/source\//.test(n)&&n:m="/source/";return`DomainFeedResource_${o(n,m)}`;case/\/explore\//.test(n)&&n:m="/explore/";return`SearchResource_${o(n,m)}`;case e:case!!e&&/\/more_ideas\//.test(n)&&n:return"BoardFeedResource";case e&&n.indexOf(e)>-1&&n:return"BoardSectionPinsResource";case/\/following\//.test(n)&&n:return"FollowingFeedResource";case/\/brand_catalog\//.test(n)&&n:return"BrandCatalogFeedResource";case a.test(n)&&n:return`TodayArticleFeedResource_${(null===(h=n.match(a))||void 0===h?void 0:h[2])||"unknown"}`;case/\/today\//.test(n):return"TodayTabResource";case/\story_feed\//.test(n)&&n:if(d){const{feed_type:e,request_params:t}=(0,r.mB)(d);return`StoryFeedResource_${e}_${t}`}}return""},l=({boardUrl:e,callToCreateSourcePinId:t,location:n,pinId:r,pinnerUserName:a,previousHistory:i,storyPinDataId:o,trackingParams:l,trackingParamsMap:c={}})=>{if(!r||!l||!n)return;if(!c)return`${l}~0`;const{pathname:d,search:u,query:p}=n,h=s({boardUrl:e,callToCreateSourcePinId:t,path:d,pinId:r,pinnerUserName:a,query:p,search:u,storyPinDataId:o,trackingParams:l,trackingParamsMap:c}),m=Object.keys(c);let _;if((d||"").startsWith("/pin/")){const e=m.find((e=>"PinResource"!==e));_=e?c[e]:c.PinResource}else _=c[h];let f;if(!_&&i&&i.length){const n=(e=>{let t=null==e?void 0:e.pathname;return t?(t.match(/\/search\//)&&null!=e&&e.search&&(t+=e.search),t.toLowerCase()):""})(i[i.length-1].location);f=s({boardUrl:e,callToCreateSourcePinId:t,path:n,pinId:r,pinnerUserName:a,query:p,search:u,storyPinDataId:o,trackingParams:l,trackingParamsMap:c}),_=c[f]}return _||(_=`${l||""}~0`),_}},642345:(e,t,n)=>{n.d(t,{DW:()=>s,I:()=>o,oo:()=>i,vq:()=>a});const r=e=>{const t=e.toString(16);return 1===t.length?"0"+t:t},a=(e,t,n)=>"#"+r(e)+r(t)+r(n),i=e=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]},o=.18,s=(e,t,n)=>.2126*(e/255)**2.2+.7151*(t/255)**2.2+.0721*(n/255)**2.2},81636:(e,t,n)=>{n.d(t,{Q:()=>c,Z:()=>d});var r=n(667294),a=n(682492),i=n.n(a),o=n(112690),s=n(780280),l=n(385740);function c(e,t){const{setViewContextData:n}=(0,l.sV)(),{requestIdentifier:a}=(0,s.B)(),c=(0,o.Z)(),{viewData:d}=(0,l.SU)();(0,r.useEffect)((()=>{var t;e&&(n({viewType:null!==(t=e.view_type)&&void 0!==t?t:1,viewParameter:e.view_parameter,viewData:e.view_data?i()(d,e.view_data):i()({},d),component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),c({...e,event_type:13,request_identifier:a}))}),[t])}function d(e){const{children:t,log:n}=e;return c(n),t||null}},745760:(e,t,n)=>{n.d(t,{Ch:()=>p,nc:()=>w,a:()=>S,ZP:()=>E,cA:()=>v,li:()=>b,h1:()=>d});var r=n(682492),a=n.n(r),i=n(6637),o=n(594881),s=n(706922);var l=n(385740),c=n(172045);const d=()=>1e6*Date.now(),u=[6945,170],p={3829:"articleImpressions",18:"pinImpressions",3700:"boardImpressions",3803:"searchImpressions",170:"storyImpression",3704:"userImpressions"},h=[4700,4701,4702,4703,7042,7043],m=e=>function(e){let t=e.length;for(let n=e.length-1;n>=0;n-=1){const r=e.charCodeAt(n);r>127&&r<=2047?t+=1:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&(n-=1)}return t}(JSON.stringify(e)),_=e=>u.includes(e);let f;function g(){const e=new Date;f?f&&f.getUTCDate()!==e.getUTCDate()&&(f=e,(0,o.Z)()):f=e}function y(e){return e.reduce(((e,t)=>{const n=e.find((r=t,e=>e.view_type===r.viewType&&e.view_parameter===r.viewParameter&&e.event_type===r.eventType&&e.object_id_str===r.objectIdStr&&(0,s.Z)(e.view_data,r.viewData)));var r;if(n&&!_(t.eventType))t.impressionType in n.event_data?n.event_data[t.impressionType].push(t.eventData):n.event_data[t.impressionType]=[t.eventData];else{const n={event_type:t.eventType,view_parameter:t.viewParameter,view_type:t.viewType,view_data:t.viewData,time:d(),component:t.component,clientUUID:(0,c.Z)(),aux_data:t.auxData||{},appState:t.appState,event_data:{[t.impressionType]:_(t.eventType)?{...t.eventData,...(t.eventData||{})[t.impressionType]}:[t.eventData]},object_id_str:t.objectIdStr||void 0};e.push(n)}return e}),[])}const v=e=>{const t=e.event_type,n=h.includes(t),r=(0,l.BE)();return!(!n&&13!==t&&!r)},b=(e,t)=>{const n=e.event_type,r=h.includes(n),i=(0,l.BE)();return r?e:13===n&&e.view_type?(null==t||t({viewType:e.view_type,viewParameter:e.view_parameter,viewData:null!=i&&i.viewData?a()(i.viewData,e.view_data):a()({},e.view_data)}),e):!i||e.view_type&&e.view_parameter?e:{...e,view_type:i.viewType,view_parameter:i.viewParameter,view_data:e.view_data?a()(e.view_data,i.viewData):a()({},i.viewData)}},w=(e,t)=>{var n,r;const a=e.component,i=e.object_id_str,o=e.view_type,s=e.event_type,l=e.appState;return null!==(n=((null===(r=e.event_data)||void 0===r?void 0:r[t])||[]).map((n=>({auxData:e.aux_data,...a?{component:a}:{},eventData:n,...s?{eventType:s}:{},...o?{viewType:o}:{},viewData:e.view_data,viewParameter:e.view_parameter,...i?{objectIdStr:i}:null,impressionType:t,appState:l}))))&&void 0!==n?n:[]},S=(e,t)=>({...e.component?{component:e.component}:{},...e.object_id_str?{objectIdStr:e.object_id_str}:null,...e.view_type?{viewType:e.view_type}:{},eventType:e.event_type,auxData:e.aux_data,impressionType:t,viewData:e.view_data,viewParameter:e.view_parameter,eventData:e.event_data});function E(){let e=[],t=[],n=0;function r(){return[...e,...y(t)]}function a(){e=[],t=[],n=0}function o(e=!1){const t=r();t.length&&(i.Z.create("ContextLogResource",{events:t,report_time:d()}).callCreate({async:!e,showError:!1}),a(),g())}return{flushContextEvents:o,getContextEvents:r,logContextEvent:function({object_id_str:t,...r}){const a={aux_data:{},event_data:{},view_data:{},...r,time:d(),clientUUID:(0,c.Z)(),...t?{object_id_str:t}:null};a.aux_data=function(e){if(!e)return e;const{element:t,eventData:n,component:r,objectId:a,view:i,viewParameter:o,viewData:s,durationNs:l,pairId:c,clientTrackingParams:d,...u}=e;return u}(a.aux_data),n+m(a)>20480&&o(!1),e.push(a),g()},logImpression:function(e){n+m(e)>20480&&o(!1),t.push(e)},resetEventsBuffer:a}}},112690:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(407043);const a=()=>(0,r.v)().logContextEvent},643010:(e,t,n)=>{n.d(t,{F6:()=>u,Hs:()=>d,Uf:()=>o,Yc:()=>l,vs:()=>c});var r=n(667294),a=n(867820),i=n(844974);const o="theme",s="dark"===(0,i.qn)(o),l=()=>s;function c(){const[e,t]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{t(l())}),[t]),e}const d=()=>{(0,i.Nh)(o,"dark"),(0,a.My)("mweb.dark_mode.enable"),window.location.reload()},u=()=>{(0,i.L_)(o),(0,a.My)("mweb.dark_mode.disable"),window.location.reload()}},81226:(e,t,n)=>{function r(e){const t=Math.round(e/1e3),n=t%60;return Math.floor(t/60)+":"+(n<10?"0":"")+n}n.d(t,{Z:()=>r})},766935:(e,t,n)=>{function r(e,t){let n;return(...r)=>{clearTimeout(n),n=setTimeout((()=>e(...r)),t)}}n.d(t,{Z:()=>r})},966476:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(667294);const a=()=>{const[e,t]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{t(!0)}),[]),e}},722767:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(667294),a=n(973935);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class o extends r.Component{constructor(...e){super(...e),i(this,"observer",null),i(this,"handleVisibilityChanged",((e,t)=>{this.props.onVisibilityChange(e,t)}))}componentDidMount(){const e=a.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}render(){return r.Children.only(this.props.children)}}const s=o},780679:(e,t,n)=>{n.d(t,{g:()=>o,t:()=>i});var r=n(667294);const a=(0,r.createContext)(null),i=a.Provider,o=()=>(0,r.useContext)(a)},121093:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(667294),a=n(702664),i=n(332611),o=n(242923);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends r.Component{constructor(...e){super(...e),s(this,"state",{hasCompleted:[],hasDismissed:[]}),s(this,"view",(()=>{const{experience:e,isBackendExperience:t,targeting:n,viewExperience:r,viewExperienceObject:a}=this.props;e&&"viewed"!==e.status&&(t?(e.status="viewed",a(e)):n?r(e.placement_id,e.experience_id,n):r(e.placement_id,e.experience_id))})),s(this,"complete",(e=>{const{completeExperience:t,completeExperienceObject:n,experience:r,isBackendExperience:a,preventRemoval:i,targeting:o}=this.props,s=e||1;if(r&&!this.state.hasCompleted.includes(r.experience_id)){const{placement_id:e,experience_id:l}=r||{},c=i||2===s;(1===s||c)&&e&&l&&(a?n(r,c):o?t(e,l,c,o):t(e,l,c),this.setState((e=>({hasCompleted:[...e.hasCompleted,l]}))))}})),s(this,"dismiss",(()=>{const{dismissExperience:e,dismissExperienceObject:t,experience:n,isBackendExperience:r,preventRemoval:a,targeting:i}=this.props,{placement_id:o,experience_id:s}=n||{};n&&!this.state.hasDismissed.includes(s)&&(r?t(n):i?e(o,s,!!a,i):e(o,s,!!a),this.setState((e=>({hasDismissed:[...e.hasDismissed,s]}))))})),s(this,"shouldRenderExperience",(()=>{const{experience:e}=this.props;if(e){const{eligibleIds:t,eligibleTypes:n,predicate:r,transitionType:a}=this.props,{experience_id:i,type:o}=e;if(t&&t.includes(i))return!0;if(null==t||!t.length){if(r&&r(e))return!0;if(n&&n.includes(o))return!0;if(a&&a===o)return!0}}return!1}))}componentDidMount(){if(this.props.disableAutoView)return;const{experience:e}=this.props;e&&this.shouldRenderExperience()&&this.view()}componentDidUpdate(e){if(this.props.disableAutoView)return;const t=e.experience,n=this.props.experience;n&&this.shouldRenderExperience()&&(t&&t.experience_id===n.experience_id||this.view())}render(){const{children:e,experience:t,disableAutoView:n}=this.props;return t&&this.shouldRenderExperience()?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,...n?{view:this.view}:Object.freeze({})}):r.Children.only(e):null}}s(l,"defaultProps",{eligibleIds:[],eligibleTypes:[]});const c=(0,a.connect)((({experiences:e},t)=>({experience:t.experience||(t.placementId?e[t.placementId]:void 0)})),(e=>({completeExperience:(t,n,r,a)=>e((0,i.CK)(t,n,r,!1,{},a)),completeExperienceObject:(t,n)=>e((0,o.Tl)(t,n)),dismissExperience:(t,n,r,a)=>e((0,i.Qu)(t,n,r,void 0,a)),dismissExperienceObject:t=>e((0,o.CF)(t)),viewExperience:(t,n,r)=>e((0,i.UT)(t,n,!1,!1,void 0,r)),viewExperienceObject:t=>e((0,o.dy)(t))})))(l)},123159:(e,t,n)=>{n.d(t,{F:()=>p,M:()=>u});var r=n(667294),a=n(702664),i=n(14890),o=n(957191),s=n(425288),l=n(332611),c=n(785893);const{Provider:d,useHook:u}=(0,s.Z)("ExperienceContext");function p({children:e}){const[t,n]=(0,r.useReducer)(((e,t)=>{if("MOUNT_PLACEMENT"===t.type)return{...e,[t.payload]:!0};if("UNMOUNT_PLACEMENT"===t.type){const n={...e};return delete n[t.payload],n}return e}),{}),s=(0,a.useDispatch)(),u=(0,a.useSelector)((e=>e.experiences)),p=(0,r.useMemo)((()=>{const e=(0,i.bindActionCreators)({completeExperience:l.CK,dismissExperience:l.Qu,fetchAllExperiences:l.fO,fetchAllExperiencesMulti:o.NW,fetchExperienceForPlacements:l.pz,mountPlacement:l.N,triggerExperimentsForPlacement:l.kd,viewExperience:l.UT},s);return{...e,mountPlacement:(t,...r)=>{e.mountPlacement(t,...r),n({type:"MOUNT_PLACEMENT",payload:t})},unmountPlacement:e=>{n({type:"UNMOUNT_PLACEMENT",payload:e})}}}),[s,n]),h=(0,r.useMemo)((()=>({experiences:u,mountedPlacements:t,...p})),[u,t,p]);return(0,c.jsx)(d,{value:h,children:e})}},333312:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var r=n(667294),a=n(121093),i=n(570470),o=n(883119),s=n(785893);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends r.PureComponent{constructor(...e){super(...e),l(this,"onScroll",(()=>{const{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout((()=>{e(),this.dismissed=!0,this.timer=void 0}),3e3))})),l(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){const{anchor:e,text:t,thumbnails:n,idealDirection:r}=this.props,a=n.slice(-3);return(0,s.jsx)(o.J2,{anchor:e,color:"white",idealDirection:r,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,s.jsxs)(o.xu,{display:"flex",alignContent:"center",justifyContent:"between",padding:3,width:"100%",children:[(0,s.jsx)(o.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,s.jsx)(o.xv,{color:"default",weight:"bold",children:t})}),(0,s.jsx)(o.xu,{display:"flex",marginEnd:-2,paddingX:2,children:a.map((e=>(0,s.jsx)(o.xu,{height:60,width:50,paddingX:1,children:(0,s.jsx)(o.zd,{rounding:2,height:60,children:(0,s.jsx)(o.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e)))})]})})}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends r.Component{constructor(...e){super(...e),d(this,"dismissRef",(0,r.createRef)()),d(this,"state",{paused:!1}),d(this,"dismissCb",(()=>{var e,t;null===(e=(t=this.dismissRef).current)||void 0===e||e.call(t)})),d(this,"handlePulsarClick",((e,t)=>{e?this.setState({paused:!0}):t()}))}componentWillUnmount(){const{anchor:e}=this.props;clearTimeout(this.timer),null==e||e.removeEventListener("click",this.dismissCb)}setDefaultPulsarTooltip(e){const t=e=>!(null==e);e.has_pulsar=!t(e.has_pulsar)||e.has_pulsar,e.has_tooltip=!t(e.has_tooltip)||e.has_tooltip}getText(e,t,n){return t&&e.text.replace("{boardName}",t),n?n(e):e.text}render(){const{anchor:e,customWrapper:t,experienceIds:n,boardTextOverride:l,flyoutSize:d,fontSize:u,hasFullWidthButton:p=!0,idealDirection:h,useMasonryFlyout:m,noClickToDismiss:_,onClickComplete:f,onClickDismiss:g,placementId:y,positionRelativeToAnchor:v,shouldTimeoutDismiss:b,showCaret:w,textAlign:S,textOverflow:E,textOverrideFn:P,textWeight:x,customizedComplete:T,pulsarZIndex:I,advertiserId:A}=this.props,R=t||(({children:e})=>m?(0,s.jsx)(o.mh,{children:e}):e),k="blue";return(0,s.jsx)(a.Z,{eligibleIds:n,placementId:y,eligibleTypes:[8],targeting:A?{advertiserId:parseInt(A,10)}:null,children:({complete:t,dismiss:n,experience:a})=>{const{display_data:{scroll_to_dismiss:y,scroll_to_dismiss_delay_in_seconds:A=0,...C}}=a,O=y&&e,D=()=>{N(),setTimeout(n,1e3*A)},N=()=>{O&&(window.removeEventListener("scroll",D),window.removeEventListener("touchmove",D))},L=()=>{N(),t()};if(O&&(window.addEventListener("scroll",D),window.addEventListener("touchmove",D)),this.setDefaultPulsarTooltip(C),!C.has_pulsar&&!C.has_tooltip)return L(),null;b&&C.disappearTime&&C.disappearTime>0&&(this.timer=setTimeout((()=>(D(),null)),C.disappearTime));const M=501041===a.experience_id||505086===a.experience_id;return C.has_tooltip&&!C.has_pulsar&&(this.dismissRef.current=D,null==e||e.addEventListener("click",this.dismissCb)),(0,s.jsxs)(r.Fragment,{children:[C.has_pulsar&&(0,s.jsx)(i.Z,{anchor:e,leftOverride:M?342:void 0,onTouch:()=>this.handlePulsarClick(C.has_tooltip,L),paused:this.state.paused,topOverride:M?-5:void 0,zIndex:I&&I.index()}),C.has_tooltip&&(!C.has_pulsar||this.state.paused)&&(C.thumbnail_urls?(0,s.jsx)(c,{anchor:e,dismiss:D,idealDirection:h||"down",text:C.text,thumbnails:C.thumbnail_urls}):(0,s.jsx)(R,{children:(0,s.jsx)(o.J2,{anchor:e,color:k,idealDirection:h||"down",onDismiss:_?()=>{}:D,positionRelativeToAnchor:!m&&v,shouldFocus:!1,showCaret:w,size:d,children:(0,s.jsxs)(o.xu,{column:12,padding:3,children:[(0,s.jsxs)(o.xv,{align:"right"===S?"end":S,color:"inverse",overflow:E,size:u,weight:x||"bold",children:[this.getText(C,l,P),C.secondary_cta_link&&(0,s.jsx)(o.xu,{display:"inlineBlock",marginStart:1,children:(0,s.jsx)(o.xv,{size:u,weight:"bold",color:"inverse",children:(0,s.jsx)(o.rU,{display:"inlineBlock",target:"blank",href:C.secondary_cta_link.url,underline:"hover",children:C.secondary_cta_link.text})})})]}),C.sub_text&&(0,s.jsx)(o.xu,{paddingY:2,children:(0,s.jsx)(o.xv,{color:"inverse",size:u,children:C.sub_text})}),(C.dismiss_button_text||C.complete_button_text)&&(0,s.jsxs)(o.xu,{display:"flex",alignItems:"center",marginTop:2,children:[C.dismiss_button_text&&(0,s.jsx)(o.xu,{marginEnd:1,column:6,children:(0,s.jsx)(o.zx,{fullWidth:p,color:k,onClick:()=>{g&&g(),D()},size:"md",text:C.dismiss_button_text})}),C.complete_button_text&&(0,s.jsx)(o.xu,{column:C.dismiss_button_text?6:12,children:T?(0,s.jsx)(o.iP,{fullHeight:!0,onTap:()=>{L(),f&&f()},rounding:2,children:(0,s.jsx)(o.xu,{display:"flex",color:"default",padding:2,rounding:2,justifyContent:"center",dangerouslySetInlineStyle:{__style:{padding:"10px"}},children:(0,s.jsx)(o.xv,{color:"shopping",weight:"bold",children:C.complete_button_text})})}):(0,s.jsx)(o.kC,{justifyContent:"center",children:(0,s.jsx)(o.zx,{fullWidth:p,color:"white",href:C.complete_button_cta_url,role:C.complete_button_cta_url?"link":"button",size:"md",target:C.complete_button_cta_url?"blank":null,text:C.complete_button_text,onClick:({event:e})=>{e.preventDefault(),e.stopPropagation(),L(),f&&f()}})})})]})]})})}))]})}})}}d(u,"defaultProps",{fontSize:"300",positionRelativeToAnchor:!0})},332611:(e,t,n)=>{n.d(t,{CK:()=>p,N:()=>g,Qu:()=>h,UT:()=>u,YX:()=>f,d9:()=>m,fO:()=>l,kd:()=>_,pz:()=>c});var r=n(6637),a=n(764990),i=n(172071),o=n(957191);let s;const l=(e,t)=>n=>{const a=t?{extra_context:e,targeting:t}:{extra_context:e};return r.Z.create("UserExperiencePlatformResource",a).callGet().then((e=>e.resource_response?n((0,o.OD)(e.resource_response.data)):void 0))},c=(e,t,n,i)=>(l,c)=>{if(t)return Promise.resolve();if(i&&(s=i),1===e.length){const t=e[0],r=c().experiences[t],i=(null==r?void 0:r.extraContext)||null;if(JSON.stringify(i)===JSON.stringify(n)||(0,a.E3)(r)&&!(n&&Object.keys(n).length>0))return Promise.resolve()}return r.Z.create("UserExperienceResource",{placement_ids:e,extra_context:n||null,targeting:i}).callGet().then((e=>e.resource_response?l((0,o.cL)(e.resource_response.data)):void 0))},d=(e,t)=>(n,a,i,c=!1,d,u)=>(p,h)=>{const{experiences:m,experiencesMulti:_}=h();let f=null,g=!0;var y;c||(g=m[n]&&m[n].experience_id===a,f=g?m[n]:Array.isArray(_[n])&&(null===(y=_[n])||void 0===y?void 0:y.find((e=>e.experience_id===a))));if(f&&f.experience_id===a||c&&n&&a){const c=r.Z.create(e,{placed_experience_id:`${n}%3A${a}`,extra_context:null!=d?d:{},targeting:u}),h=g?o.Yb:o.xW;switch(t){case"dismissed":return c.callDelete().then((()=>{p(h(n,a,t)),p(l(void 0,s))}));case"completed":return c.callUpdate().then((()=>{i||(p(h(n,a,t)),p(l(void 0,s)))}));case"viewed":return p(h(n,a,t)),c.callUpdate().then((()=>{1000162===n&&p(l())}));case"completedWithoutHomefeed":return c.callUpdate().then((()=>{i||p(h(n,a,t))}));default:return Promise.resolve()}}return Promise.resolve()},u=d("UserExperienceViewedResource","viewed"),p=d("UserExperienceCompletedResource","completed"),h=d("UserExperienceResource","dismissed"),m=d("UserExperienceCompletedResource","completedWithoutHomefeed"),_=(e,t)=>(n,a)=>{const{experiences:o}=a(),s=o[e];s&&s.triggerable_placed_exps&&s.triggerable_placed_exps.length&&s.triggerable_placed_exps.forEach((n=>{const[,a]=n.split(":");let o=t;s.metadata&&s.metadata[a]&&(o={...t,...s.metadata[a]}),r.Z.create("UserExperienceTriggerResource",{placed_experience_id:n.replace(":","%3A"),extra_context:o}).callUpdate().then((()=>{((e,t,n={})=>{i.Z.increment(`${e}.${t}`,1,n)})("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:a})}))}))},f=e=>(t,n)=>{t(_(e));const{experiences:r}=n();return r[e]},g=(e,t,n)=>r=>{n&&(s=n),r(_(e,t)),t&&Object.keys(t).length>0&&r(c([e],!1,t,n))}},242923:(e,t,n)=>{n.d(t,{CF:()=>s,Tl:()=>o,dy:()=>l});var r=n(6637),a=n(332611);const i=(e,t)=>(n,i)=>o=>{if(n&&n.id){const s=r.Z.create(e,{placed_experience_id:n.id,extra_context:{}});switch(t){case"dismissed":s.callDelete().then((()=>{o((0,a.fO)())}));break;case"completed":s.callUpdate().then((()=>{i||o((0,a.fO)())}));break;case"viewed":s.callUpdate()}}},o=i("UserExperienceCompletedResource","completed"),s=i("UserExperienceResource","dismissed"),l=i("UserExperienceViewedResource","viewed")},764990:(e,t,n)=>{function r(e){return!!e&&0!==e.type}n.d(t,{A0:()=>i,E3:()=>r,MQ:()=>a});const a=(e,t,n)=>{const a=e[n];return t[n]&&r(a)?a:null};function i(e){var t;return null===(t=e.display_data)||void 0===t?void 0:t.anchor}},207737:(e,t,n)=>{n.d(t,{$S:()=>r,V$:()=>a,_4:()=>o,iY:()=>s,mR:()=>i});const r="REFRESH_ALL_EXPERIENCES_MULTI",a="UPDATE_EXPERIENCE_MULTI",i="FETCH_EXPERIENCES",o="REFRESH_ALL_EXPERIENCES",s="UPDATE_EXPERIENCE"},957191:(e,t,n)=>{n.d(t,{NW:()=>o,OD:()=>l,Yb:()=>s,cL:()=>c,xW:()=>i});var r=n(6637),a=n(207737);const i=(e,t,n)=>({type:a.V$,payload:{placementId:e,experienceId:t,status:n}}),o=e=>t=>r.Z.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then((e=>{return e.resource_response?t((n=e.resource_response.data,{type:a.$S,payload:{experiencesMulti:n}})):void 0;var n})),s=(e,t,n)=>({type:a.iY,payload:{placementId:e,experienceId:t,status:n}}),l=e=>({type:a._4,payload:{experiences:e}}),c=e=>({type:a.mR,payload:{experiences:e}})},570470:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(667294),a=n(883119),i=n(785893);function o({anchor:e,children:t,zIndex:n,leftOverride:o,topOverride:s}){const l=(0,r.useRef)(null),[c,d]=(0,r.useState)(0),[u,p]=(0,r.useState)(0),{height:h,width:m}=e.getBoundingClientRect();(0,r.useEffect)((()=>{const{current:t}=l;if(e&&t){const{height:e,width:n}=t.getBoundingClientRect(),{horizontalOffset:r,verticalOffset:a}=((e,t,n,r)=>({horizontalOffset:-(r/2-t/2),verticalOffset:-(n/2-e/2)}))(h,m,e,n);d(r),p(a)}}));const _=o||c,f=s||u;return(0,i.jsx)(a.xu,{position:"absolute",zIndex:n?new a.Ry(n):void 0,dangerouslySetInlineStyle:{__style:{left:_,top:f}},ref:l,children:t})}const s=function(e){const{anchor:t,leftOverride:n,onTouch:r,onMouseEnter:s,paused:l,size:c,topOverride:d,zIndex:u}=e;return t?(0,i.jsx)(o,{anchor:t,leftOverride:n,topOverride:d,zIndex:u,children:(0,i.jsx)(a.iP,{fullWidth:!1,onTap:({event:e})=>r(e),onMouseEnter:s,rounding:"circle",children:(0,i.jsx)(a.o3,{paused:l,size:c})})}):null}},378518:(e,t,n)=>{n.d(t,{_:()=>c,a:()=>d});var r=n(667294),a=n(702664),i=n(618446),o=n.n(i),s=n(780280),l=n(332611);const c=({extraContext:e,id:t,shouldUsePlacedExperience:n=!0})=>{const i=(0,r.useRef)(),c=(0,a.useDispatch)(),{isBot:d}=(0,s.B)(),u=(0,a.useSelector)((e=>e.experiences[t]));return(0,r.useEffect)((()=>{c((0,l.kd)(t))}),[c,u,t]),(0,r.useEffect)((()=>{n||o()(i.current,e)||(c((0,l.pz)([t],d,e)),i.current=e)}),[c,e,d,t,n]),u},d=e=>(c(e),(0,a.useSelector)((t=>t.experiencesMulti[e.id])))},497529:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(667294),a=(n(957191),n(764990)),i=n(123159);n(332611);function o(e){const{mountedPlacements:t,completeExperience:n,dismissExperience:o,experiences:s,fetchAllExperiences:l,fetchAllExperiencesMulti:c,fetchExperienceForPlacements:d,triggerExperimentsForPlacement:u,viewExperience:p}=(0,i.M)(),h=e?(0,a.MQ)(s,t,e):null;return(0,r.useMemo)((()=>({completeExperience:n,dismissExperience:o,experienceForPlacement:h,fetchAllExperiences:l,fetchAllExperiencesMulti:c,fetchExperienceForPlacements:d,triggerExperimentsForPlacement:u,viewExperience:p})),[n,o,h,l,c,d,u,p])}},116303:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(883119),a=n(785893);const i=(e,t)=>{const n=null==e?void 0:e.includes("images/user/default");return Boolean(n&&t)};function o({accessibilityLabel:e,name:t,outline:n,size:o,src:s,verified:l}){return(0,a.jsx)(r.qE,{accessibilityLabel:e,name:t,outline:n,size:o,src:i(s,t)?void 0:s,verified:l})}},920231:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(667294),a=n(319915);function i({flexible:e,gutterWidth:t,id:n,isRTL:r,itemWidth:a,maxColumns:i,minColumns:o}){const s=n.replace(/\:/g,"\\:"),l=a+t;return`\n    .gridCentered {\n      margin-left: auto;\n      margin-right: auto;\n    }\n\n    .gridCentered .static {\n      position: absolute !important;\n      visibility: hidden !important;\n    }\n\n    ${Array.from({length:i+1-o},((e,t)=>t+o)).map((n=>{const c=n===i?null:(n+1)*l-1;return`\n      @media (min-width: ${n===o?0:n*l}px) ${c?`and (max-width: ${c}px)`:""} {\n        #${s} .static:nth-child(-n+${n}) {\n          position: static !important;\n          visibility: visible !important;\n          float: ${r?"right":"left"};\n          display: block;\n        }\n\n        ${e?`\n      #${s} .static {\n        width: calc(100% / ${n}) !important;\n      }\n    `:`\n      #${s} {\n        width: ${n*l}px;\n      }\n\n      #${s} .static {\n        padding: 0 ${t/2}px;\n        width: ${a}px !important;\n      }\n    `}\n      }\n    `})).join("")}\n  `}var o=n(757184),s=n(391254),l=n(50286),c=n(883119),d=n(773285),u=n(780280),p=n(444445),h=n(785893);function m({cacheKey:e,columnWidth:t,gutterWidth:n,id:m,renderItem:_,items:f,layout:g,loadItems:y,masonryRef:v,minCols:b,scrollContainerRef:w,serverRender:S,resetPositions:E,virtualize:P=!0}){var x;const{isRTL:T}=(0,u.B)(),I="desktop"!==(0,l.ZP)(),A=S?"serverRenderedFlexible":"flexible",R=(0,r.useCallback)((()=>(null==w?void 0:w.current)||window),[w]),k=(0,o.Z)(e),[C,O]=(0,r.useState)(!1);(0,r.useEffect)((()=>{E&&!C&&(null==k||k.reset(),O(!0))}),[k,E,C]);const{checkExperiment:D}=(0,d.F)(),N=null!==(x={enabled_0_3:"0.3",enabled_0_5:"0.5",enabled_0_9:"0.9",enabled_1_1:"1.1",enabled_1_3:"1.3"}[D("duplo_masonry_virtual_buffer_factor").group])&&void 0!==x?x:.7;return(0,h.jsxs)("div",{id:m,className:"gridCentered","data-test-id":"masonry-container",children:[S&&m&&(0,h.jsx)(s.Z,{"data-test-id":"mobile-grid-styles",unsafeCSS:i({flexible:I,gutterWidth:n||0,id:m,isRTL:T,itemWidth:t||p.yF,maxColumns:f.length||p.g5,minColumns:b||p.yc})}),(0,h.jsx)(c.Rk,{columnWidth:t,renderItem:e=>(0,h.jsx)(a.Z,{name:"MobileGridItem",children:_(e)}),gutterWidth:n||1,layout:I?A:null!=g?g:"basic",items:f,loadItems:y,measurementStore:(0,o.Z)(e),minCols:b||p.yc,ref:e=>{v&&(v.current=e)},scrollContainer:R,virtualize:P,virtualBufferFactor:N})]})}},757184:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(883119);const a={};function i(e){if(null!=e)return a[e]&&a[e].screenWidth===window.innerWidth||(a[e]={screenWidth:window.innerWidth,cache:r.Rk.createMeasurementStore()}),a[e].cache}},121151:(e,t,n)=>{n.d(t,{ZP:()=>d,b7:()=>s.b7,bN:()=>l,p4:()=>c});var r=n(50286),a=n(883119),i=n(240684),o=n(785893),s=n(968121);const l=(0,i.ZP)({resolved:{},chunkName:()=>"DesktopModal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(51879).then(n.bind(n,373420)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 373420}}),c=(0,i.ZP)({resolved:{},chunkName:()=>"MobileModal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(72430).then(n.bind(n,430322)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 430322}});function d(e){const t=(0,r.ZP)(),n=void 0===e.isOpen||e.isOpen;if("desktop"===t&&n){const{isOpen:t,mobileAccessibilityCloseIconLabel:n,mobileAllowScroll:r,mobileHideCloseIcon:a,mobileIsFullscreen:i,mobileIsSlideUp:s,type:c,...d}=e;return(0,o.jsx)(l,{...d})}const{allowClickAndDrag:a,allowMediaPlay:i,allowScroll:s,role:d,size:u,...p}=e;return(0,o.jsx)(c,{...p,isOpen:n})}},968121:(e,t,n)=>{n.d(t,{JN:()=>u,Vf:()=>p,ZM:()=>s,b7:()=>o,bf:()=>d,i_:()=>l,ju:()=>h});var r=n(379764),a=n(643010),i=n(883119);const o=new i.Ry(1e3),s=new i.H3([r.Z]),l=12,c={headingOffset:{__style:{marginLeft:-10,marginRight:50}},RTLheadingOffset:{__style:{marginRight:-10,marginLeft:50}},mask:{baseStyles:{backgroundColor:"rgba(0,0,0, .5)",height:"100%",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out",width:"100%",zIndex:1}},modal:{baseStyles:{border:(0,a.Yc)()?void 0:"1px solid #efefef",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1,left:"0px",bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden"},tabletStyles:{border:void 0,borderRadius:"32px",top:"50%",left:"50%",minWidth:"350px",touchAction:"none",transform:"translate(-50%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1},nonTabletSignUpStyles:{border:void 0,borderRadius:"32px",top:"50%",touchAction:"none",transform:"translate(0%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1,left:"8px",right:"8px",background:"#FFFFFF"},baseStylesSliding:{border:(0,a.Yc)()?void 0:"1px solid #efefef",touchAction:"none",width:"100vw",height:"",zIndex:1,left:0,bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"},fullscreenStyles:{touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"90vw",height:"70vh",borderRadius:"8px",zIndex:1,left:"5vw",bottom:"13vh",overflowY:"hidden"},tabletNarrowStyle:{width:425,left:"50%",transform:"translateX(-50%)"}}},d=()=>({__style:c.mask.baseStyles}),u=({isFullscreen:e,isTablet:t,modalStyle:n,type:r})=>{const a=c.modal.fullscreenStyles;let i;return i=e?a:t?c.modal.tabletStyles:"signup"===r?c.modal.nonTabletSignUpStyles:{...c.modal.baseStyles,borderRadius:"32px 32px 0 0"},{__style:n||i}},p=({isFullscreen:e,isTablet:t,isShowing:n,type:r})=>{let a=c.modal.baseStylesSliding,i=n?"translateY(0)":"translateY(100vh)";return a.height=e?"100vh":"",t&&"related_interests_modal"===r&&(a={...a,...c.modal.tabletNarrowStyle},i=n?"translate(-50%, 0)":"translate(-50%, 100vh)"),{__style:{...a,transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:i}}},h=e=>e?c.RTLheadingOffset:c.headingOffset},499128:(e,t,n)=>{n.d(t,{UZ:()=>c,Vg:()=>l,ZP:()=>d});var r=n(667294),a=n(829407),i=n(50286),o=n(883119),s=n(785893);const l=200,c=({deviceType:e,hiding:t,visible:n})=>{const r="desktop"===e;let a=0,i=r?"translateY(200px)":"translateY(-200px)",o="opacity 0.1s ease-in-out",s="hidden";return n&&!t&&(a=1,i="translateY(0)",o="all 0.7s cubic-bezier(.19, 1.15, .48, 1)",s="visible"),n&&t&&(i="scale(1.1)",o="opacity transform 0.2s"),{opacity:a,pointerEvents:"auto",position:"relative",marginTop:r?10:0,transform:i,transition:o,visibility:s}};function d({_dangerouslySetPrimaryAction:e,text:t,primaryAction:n,thumbnailShape:d,variant:u,dataTestId:p,duration:h=2e3,onHide:m,href:_,onClick:f,openNewPage:g,iconThumbnail:y,imageUrl:v}){const b=(0,i.ZP)(),[w,S]=(0,r.useState)(!1),[E,P]=(0,r.useState)(!1),x=(0,r.useRef)(),T=()=>{S(!0),x.current=setTimeout(m,l)},I=()=>{x.current=setTimeout(T,h)},A=()=>{x.current&&clearTimeout(x.current)};let R;(0,a.Z)((()=>(setTimeout((()=>P(!0)),100),I(),A))),y?R=y:v&&(R=(0,s.jsx)(o.xu,{height:48,overflow:"hidden",width:48,children:(0,s.jsx)(o.Ee,{alt:"string"==typeof t?t:`${t[0]} ${t[1]}`,fit:"cover",naturalHeight:1,naturalWidth:1,src:v})}));const k=(0,s.jsx)(o.FN,{_dangerouslySetPrimaryAction:e,primaryAction:n,text:t,thumbnail:R,thumbnailShape:d,variant:u}),{marginTop:C,opacity:O,pointerEvents:D,position:N,transform:L,transition:M,visibility:j}=c({deviceType:b,hiding:w,visible:E});return(0,s.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{transform:L,transition:M,visibility:j,pointerEvents:D}},"data-test-id":null!=p?p:"toast",onMouseEnter:A,onMouseLeave:I,opacity:O,position:N,marginTop:C,display:"flex",children:_?(0,s.jsx)(o.iP,{role:"link",href:_,onTap:({event:e})=>null==f?void 0:f(e),target:g?"blank":null,rounding:"pill",children:k}):k})}},444445:(e,t,n)=>{n.d(t,{$H:()=>o,$q:()=>g,D6:()=>l,KN:()=>y,Lo:()=>a,P2:()=>m,ZZ:()=>d,g5:()=>u,jC:()=>s,lX:()=>h,nW:()=>p,oX:()=>_,qG:()=>f,tG:()=>i,yF:()=>r,yc:()=>c});const r=236,a=2*r/3,i=175,o=24,s=4,l=2,c=2,d=14,u=16,p=12,h=16,m=24,_=16,f=-1,g=(e=!1,t=!1)=>e?t?h:p:m,y=(e,t,n,r,a=d)=>{const i=e+a;return`\n@media (min-width: ${t*i}px) and (max-width: ${(n+1)*i-1}px) {\n  ${r}\n}\n`}},298361:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(898781),a=n(349700),i=n(202139);function o(){const e=(0,r.ZP)();return function(t,n){const r=new Date(t),o=new Date-r,s=Math.floor(o/i.FS),l=Math.floor(o/i.UK),c=Math.floor(o/i.F4),d=Math.floor(o/i.VL),u=Math.floor(o/i.N1),p=e.nbt(["{{ minutes }} ", "{{ minutes }} ", "{{ minutes }} "], s, " - ", true),h=e.nbt(["{{ hours }} ", "{{ hours }} ", "{{ hours }} "], l, " - ", true),m=e.nbt(["{{ days }} ", "{{ days }} ", "{{ days }} "], c, " - ", true),_=e.nbt(["{{ weeks }} ", "{{ weeks }} ", "{{ weeks }} "], d, " - ", true),f=e.nbt(["{{ years }} ", "{{ years }} ", "{{ years }} "], u, " - ", true),g=e.nbt(["{{ minutes }}.", "{{ minutes }}.", "{{ minutes }}."], s, "minutes ago abbreviated", true),y=e.nbt(["{{ hours }}.", "{{ hours }}.", "{{ hours }}."], l, "hours ago abbreviated", true),v=e.nbt(["{{ days }}.", "{{ days }}.", "{{ days }}."], c, "days ago abbreviated", true),b=e.nbt(["{{ weeks }}.", "{{ weeks }}.", "{{ weeks }}."], d, "weeks ago abbreviated", true),w=e.nbt(["{{ years }}", "{{ years }}", "{{ years }}"], u, "years ago abbreviated", true);return u>0?(0,a.nk)(n?w:f,{years:u}).join(""):d>0?(0,a.nk)(n?b:_,{weeks:d}).join(""):c>0?(0,a.nk)(n?v:m,{days:c}).join(""):l>0?(0,a.nk)(n?y:h,{hours:l}).join(""):s>0?(0,a.nk)(n?g:p,{minutes:s}).join(""):e.bt(" ", "Just now", " - ", undefined, true)}}},898781:(e,t,n)=>{n.d(t,{ZP:()=>s,oz:()=>i,q6:()=>a});var r=n(425288);const{Provider:a,Consumer:i,useHook:o}=(0,r.Z)("i18n"),s=o},892819:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(66699),a=n(898781);const i=(e,t)=>{const n=t||0,r=10**n,a=+(n?e*r:e).toFixed(8),i=Math.floor(a),o=a-i,s=o>.5-1e-8&&o<.5+1e-8?i%2==0?i:i+1:Math.round(a);return n?s/r:s},o=e=>{try{(0).toLocaleString([e])}catch(t){return!1}return!0};function s(){const e=(0,a.ZP)();return(t,n,a)=>{let s=0,l=0;const c=a&&a.style||void 0,d=a&&a.shortform||!1,u=a&&a.uplimit||void 0,p=a&&a.currency||void 0,h=!!u&&n>=u,m=u&&h?u:n;if("currency"===c){const{minimumFractionDigits:e,maximumFractionDigits:n}=((e,t)=>{if(t){const{minimumFractionDigits:n,maximumFractionDigits:r}=new Intl.NumberFormat(e,{style:"currency",currency:t}).resolvedOptions();if(void 0!==n&&void 0!==r)return{minimumFractionDigits:n,maximumFractionDigits:r}}return{minimumFractionDigits:2,maximumFractionDigits:2}})(t,p);s=void 0===a||void 0===a.maximum_fraction_digits?n:a.maximum_fraction_digits,l=void 0===a||void 0===a.minimum_fraction_digits?e:a.minimum_fraction_digits}else s=void 0===a||void 0===a.maximum_fraction_digits?0:a.maximum_fraction_digits,l=void 0===a||void 0===a.minimum_fraction_digits?0:a.minimum_fraction_digits;if(d&&m>999&&(s=void 0===a||void 0===a.shortform_maximum_fraction_digits?2:a.shortform_maximum_fraction_digits,l=0),s<l)return String(m);let _=m,f="";const g=[{"100M":{value:1e8,localeKey:e.bt(".", "", "Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.", undefined, true)}},{"10k":{value:1e4,localeKey:e.bt(" .", "", "Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.", undefined, true)}}],y=[{b:{value:1e9,localeKey:e.bt("", "B", "Abbreviation for one billion.", undefined, true)}},{m:{value:1e6,localeKey:e.bt("", "M", "Abbreviation for one million.", undefined, true)}},{k:{value:1e3,localeKey:e.bt(".", "k", "Abbreviation for one thousand.", undefined, true)}}],v=/^zh|ja|ko/.test(t);if(d&&m>999){const e=v?g:y;for(let t=0;t<e.length;t+=1){const n=Object.keys(e[t])[0],r=e[t][n].value;if(m>=r){_=i(m/r*Math.pow(10,s))/Math.pow(10,s),f=e[t][n].localeKey;break}}}if(null==_)return"";const b=_.toLocaleString([o(t)&&"ar-SA"!==t?t:"en-US"],(({maximumFractionDigits:e,minimumFractionDigits:t,style:n,currency:r})=>{const a={maximumFractionDigits:e,minimumFractionDigits:t};return n?{...a,style:n,..."currency"===n?{currency:r,currencyDisplay:"symbol"}:{}}:a})({maximumFractionDigits:s,minimumFractionDigits:l,currency:p,style:c}));return f&&f.length>0?(0,r.Z)(e.bt("{{formattedNumber}}{{numberSuffix}}", "{{formattedNumber}}{{numberSuffix}}", "i18n.usePrettyNumberFormat.prettyNumberFormat", undefined, true),{formattedNumber:b,numberSuffix:f})+(h?"+":""):b+(h?"+":"")}}},366428:(e,t,n)=>{n.d(t,{F:()=>l,Z:()=>s});var r=n(667294),a=n(124580),i=n(407043);const o={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704}};function s({carouselData:e,closeupImpressionType:t,closeupNavigationType:n,componentType:s,contextLogData:l,clientTrackingParams:c,elementType:d,impressionAuxFields:u,inImpressionExp:p,impressionType:h,impressionsFramework:m,isPaused:_,loggingId:f,objectIdStr:g,slotIndex:y,trackCarousel:v,viewData:b,viewParameter:w,viewType:S}){const{logContextEvent:E}=(0,i.v)(),P=m||a.Z,x=(0,r.useRef)(null),T=r=>{const a=o[h],i=a.idType,p={endTime:r.endTime,[i]:f,slotIndex:y,time:r.startTime,renderDuration:r.endTime-r.startTime,type:t,...u,forcedExit:"removed"===r.forcedExit?0:void 0},m={component:s,object_id_str:g,view_type:S,view_data:b||{},view_parameter:w};if(v){if(e){var _,P,x;E({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...p,carouselDataId:Number(e.id),carouselSlotId:(null===(_=e.carousel_slots)||void 0===_?void 0:_[null!==(P=e.index)&&void 0!==P?P:0])&&Number(e.carousel_slots[null!==(x=e.index)&&void 0!==x?x:0].id),slotIndex:e.index}]},...m,aux_data:{...l}})}}else E({clientTrackingParams:c,event_type:a.eventType,...m,element:d,event_data:{[a.impressionType]:"Story"===h?p:[p]},aux_data:{closeup_navigation_type:n,...l}})},I=(0,r.useCallback)((()=>{try{x.current instanceof HTMLElement&&P.start(x.current).onExitViewport(T).setDebugId(f||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),[x.current]);(0,r.useEffect)((()=>(p&&!P.inExperiment&&P.setExperimentStatus(!0),_||I(),()=>{x.current instanceof HTMLElement&&P.stop(x.current)})),[I]);const A=(0,r.useRef)(_);return(0,r.useEffect)((()=>{A.current&&!_&&I(),A.current=_}),[_,I]),x}const l=({children:e,...t})=>e({impressionTrackerRef:s(t)})},12610:(e,t,n)=>{function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z3:()=>p,LU:()=>h,ZP:()=>m});const a=1e6,i=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,o={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},s={},l={background:"#FF8A8A",transform:"scale(.98)"},c={init:e=>({transform:`scale(${s[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[o.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[o.exit]:l,[o.stopped]:l,[o.paused]:l,[o.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class d{constructor(e){r(this,"setMutationObserver",(e=>(this.mutationObserver=e,this))),r(this,"startMutationObserver",(e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)})),r(this,"stopMutationObserver",(()=>{this.mutationObserver&&this.mutationObserver.disconnect()})),r(this,"handleIntersectionChange",(e=>{const t=e.intersectionRatio>0||e.isIntersecting;if(t&&!this.inViewport){const e=Date.now();this.startTime=e,this._debug(o.enter,{startTime:e,node:this.node}),this.enterCallbacks.forEach((e=>e()))}else!t&&this.inViewport&&(this._debug(o.exit,!0),this.exitCallbacks.forEach((e=>e(this.toJSON()))));this.inViewport=t})),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId=""}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,i&&Object.assign(this.node.style,c.init(e)),this}pause(){return this.inViewport&&(this._debug(o.paused,!0),this.exitCallbacks.forEach((e=>e(this.toJSON())))),this}resume(){if(this.inViewport){const e=Date.now();this._debug(o.resumed,{startTime:e}),this.startTime=e}return this}stop(e){return this.inViewport&&(this._debug(o.stopped,!0),this.exitCallbacks.forEach((t=>t(this.toJSON(e))))),this}toJSON(e=""){return{startTime:this.startTime*a,endTime:Date.now()*a,forcedExit:e}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:(Date.now()-this.startTime)/1e3+" seconds"}}_debug(e,t){if(i)switch(window.console.log(` ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),c[e]&&Object.assign(this.node.style,c[e]),e){case o.flushed:case o.paused:case o.exit:s[this.debugId]=!0}}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p=!0,h=!1;class m{constructor(){u(this,"_delegateChange",(e=>{e.forEach((e=>{const t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)}))})),u(this,"_handleMutations",((e,t)=>{const n=this.mutationObservers.get(t);n&&n.offsetHeight<1&&n&&this.stop(n,"removed")})),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=h,this.observer=new window.IntersectionObserver(this._delegateChange),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){const n=this.activeImpressions.get(e);n&&(n.stop(t),this.mutationObservers.delete(n.mutationObserver),n.stopMutationObserver(),this.activeImpressions.delete(e),this.observer.unobserve(e))}start(e){let t=this.activeImpressions.get(e);if(!t){t=new d(e),this.activeImpressions.set(e,t),this.observer.observe(e);const n=(e,t)=>this._handleMutations(e,t);t.setMutationObserver(new window.MutationObserver(n)),this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})}return t}pause(e=p){this.paused||(Array.from(this.activeImpressions.values()).forEach((e=>e.pause())),this.paused=!0,this.pausePriority===h&&(this.pausePriority=e))}resume(e=p){e===h&&this.pausePriority===p||this.paused&&(Array.from(this.activeImpressions.values()).forEach((e=>e.resume())),this.paused=!1,this.pausePriority=h)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){const e=Array.from(this.topObstructions).reduce(((e,t)=>{const{bottom:n}=t.getBoundingClientRect();return n>e?n:e}),0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce(((e,t)=>{const{top:n}=t.getBoundingClientRect();return n<e?n:e}),window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){const n={rootMargin:`${-e}px 0px ${-t}px`};this.observer.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,n),Array.from(this.activeImpressions.values()).forEach((e=>this.observer.observe(e.node))),this.topHeight=e,this.bottomHeight=t}}}},124580:(e,t,n)=>{n.d(t,{Z:()=>r});const r=new(n(12610).ZP)},349700:(e,t,n)=>{function r(e,t,n){return e.split(n).map((e=>{if(e.match(n)){const n=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,n))return t[n]}return e}))}n.d(t,{Wc:()=>o,bF:()=>l,nk:()=>i});const a=/(\{\{\s*\w+\s*\}\})/g;function i(e,t){return r(e,t,a)}function o(e,t){return r(e,t,a).join("")}const s=/(\{\s*\w+\s*\})/g;function l(e,t){return r(e,t,s)}},995081:(e,t,n)=>{n.d(t,{Rq:()=>r,Vf:()=>a,jd:()=>i,oy:()=>o});const r=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,a=28,i=e=>window.innerHeight>=748&&r(e),o=function(){return!("undefined"==typeof window||!window.navigator)&&(/iPad/.test(navigator.platform)||navigator.maxTouchPoints>1&&"MacIntel"===navigator.platform)}},926275:(e,t,n)=>{n.d(t,{Z:()=>r});function r(e){if(!e)return!1;const t=new Date(e);return t.setDate(t.getDate()+28),(new Date).getTime()<t.getTime()}},844753:(e,t,n)=>{function r(e){return"object"==typeof e&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e)}n.d(t,{Z:()=>r})},411938:(e,t,n)=>{n.d(t,{Z:()=>r});function r(e,t,n=28){if(!(e||{}).resurrection_info&&!(t||{}).resurrectionInfo)return!1;let r;r=t?((t||{}).resurrectionInfo||{}).resurrectionDate:((e||{}).resurrection_info||{}).resurrection_dt;const a=new Date,i=r?new Date(r):a;return i.setDate(i.getDate()+n),(new Date).getTime()<i.getTime()}},313047:(e,t,n)=>{n.r(t),n.d(t,{DEFAULT_HEIGHT:()=>u,DEFAULT_PADDING_Y:()=>p,FixedFooter:()=>_,FixedHeader:()=>m});var r=n(667294),a=n(124580),i=n(53987),o=n(773285),s=n(834256),l=n(883119),c=n(643010),d=n(785893);const u=64,p=3;function h({children:e,footerConfig:t,headerConfig:n,height:i,hideOnScroll:s,hideOnScrollState:{isHidden:h,updateHiddenState:m},showDockedNavBar:_,dockNavBarForAuthTablet:f,isTablet:g,noPadding:y,paddingY:v=p,type:b,zIndex:w}){const{headerLimitedOverflow:S,ignoreObstructions:E,zIndexForGestaltBug:P}=n||{},{appUpsellFooterConfig:x,footerInLego:T,footerWidth:I}=t||{},A=!!x,R="header"===b?"top":"bottom",{anyEnabled:k}=(0,o.F)().checkExperiment("hfp_hf_ssr_mweb",{dangerouslySkipActivation:!0}),C=(0,c.vs)(),O=k?C:(0,c.Yc)(),D=(0,r.useRef)(null),N=(0,r.useRef)(null);(0,r.useEffect)((()=>{try{if(!E){const e=D.current;N.current=S&&e&&Array.isArray(e.children)?e.children[0]:e,N.current instanceof HTMLElement&&a.Z.addObstruction(R,N.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{E||N.current instanceof HTMLElement&&a.Z.removeObstruction(R,N.current)}}),[E,S,R,O]);const L="top"===R?"relative":"fixed",M=y?0:v,j=(null!=i?i:u)+((null==n?void 0:n.overrideTop)||0),F=s||_||f?{transition:T?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...h?{transform:`translateY(${"top"===R?-j:j}px)`,opacity:T?0:1}:Object.freeze({})}:{},U="relative"!==L||null!=n&&n.noGutter?0:2,B=U?-U:0,Z=O?"rgba(0,0,0,.95)":"rgba(255,255,255,.95)";let z,V;return O&&("header"===b?z=-1:V=-1),(0,d.jsx)(l.xu,{ref:D,dangerouslySetInlineStyle:{__style:{top:z,bottomStyle:V,...!w||P?{zIndex:P||1}:Object.freeze({}),...S?{background:"transparent",overflow:"hidden",paddingBottom:100,marginBottom:-100,pointerEvents:"none"}:Object.freeze({}),...null!=n&&n.hasBorder?{borderBottom:"1px solid #efefef"}:Object.freeze({}),...null!=t&&t.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...F}},zIndex:P?void 0:w,"data-test-id":b,display:A?"flex":void 0,height:i&&!T?i:void 0,position:L,bottom:"footer"===b,top:"header"===b,left:!0,right:!0,marginStart:T?"auto":B,marginEnd:T?"auto":B,onTransitionEnd:()=>{(s||_||f)&&N.current&&(h?a.Z.removeObstruction(R,N.current):a.Z.addObstruction(R,N.current))},width:T||"fixed"!==L?void 0:"100%",children:(0,d.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:(null==n?void 0:n.isTranslucent)&&Z||(null==n?void 0:n.isTransparentBackground)&&"transparent"||"var(--color-background-default)",height:T?A?void 0:null!=i?i:u:"100%",boxShadow:T?"0px 0px 8px rgba(0, 0, 0, 0.1)":void 0,marginBottom:!T||_&&!g?void 0:16,...S?{pointerEvents:"auto"}:Object.freeze({}),...null!=n&&n.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},paddingX:("footer"!==b||y?0:4)+U,paddingY:M,position:"relative",width:T&&I?I:A?void 0:"100%",rounding:!T||_&&!g?void 0:"pill",display:T||null!=t&&t.alignCenter?"flex":void 0,marginStart:T?"auto":void 0,marginEnd:T?"auto":void 0,alignItems:null!=t&&t.alignCenter?"center":void 0,children:"function"==typeof e?e({updateHiddenState:m}):e})})}function m({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:n,isTranslucent:r,isTransparentBackground:a,noGutter:i,overrideTop:o,useRoundedCorners:c,zIndexForGestaltBug:u,...m}){const{noPadding:_,paddingY:f=p,zIndex:g}=m,y=_?0:f;return(0,d.jsx)(l.Le,{top:o||0,height:t?44+2*y*4:void 0,zIndex:g||void 0,children:(0,d.jsx)(s.Z,{hideOnScroll:m.hideOnScroll,children:s=>(0,d.jsx)(h,{...m,hideOnScrollState:s,type:"header",headerConfig:{isTranslucent:r,isTransparentBackground:a,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:n,noGutter:i,overrideTop:o,zIndexForGestaltBug:u,useRoundedCorners:c}})})})}function _({alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,footerWidth:r,forceShow:a,hasTopShadow:o,location:l,showDockedNavBar:c,dockNavBarForAuthTablet:u,isTablet:p,isModal:m,onScroll:_,...f}){const g=!!l&&(0,i.uM)(l)&&(!!c||!!u);return(0,d.jsx)(s.Z,{appUpsellFooterConfig:t,forceShow:a,hideOnScroll:f.hideOnScroll,location:l,isDockedNavOnPlp:g,isModal:m,onScroll:_,children:a=>(0,d.jsx)(h,{...f,hideOnScrollState:a,showDockedNavBar:c,dockNavBarForAuthTablet:u,isTablet:p,type:"footer",footerConfig:{alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,footerWidth:r,hasTopShadow:o}})})}},834256:(e,t,n)=>{n.d(t,{Z:()=>s,m:()=>o});var r=n(667294),a=n(700380);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const o=20;class s extends r.Component{constructor(...e){super(...e),i(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!!this.props.isDockedNavOnPlp}),i(this,"lastScrollPos",0),i(this,"updateHiddenState",(e=>{this.reqAnimationId=window.requestAnimationFrame((()=>{this.setState({isHidden:e})}))})),i(this,"handleScroll",(0,a.Z)((()=>{const{appUpsellFooterConfig:e,isModal:t,onScroll:n,isDockedNavOnPlp:r}=this.props,{isHidden:a}=this.state,i=window.scrollY,s=i-this.lastScrollPos;let l="none";const{scrollHeight:c,clientHeight:d}=document.documentElement||{};if(!Number.isNaN(c)&&!Number.isNaN(d))if(s<0){const e=window.scrollMinY||0;l=i<=Math.abs(e+Math.max(s,o))?"start":"none"}else{l=i>=(window.scrollMaxY||c-d)-Math.max(s,o)?"end":"none"}const u=t?0:55;if(e)if(s>o&&a&&i>=500){e.shouldShowAfterScroll()&&(this.updateHiddenState(!1),n&&n(!1))}else(s<-o&&!a||i<=u)&&(this.updateHiddenState(!0),n&&n(!0));else!this.props.hideOnScroll&&r?"start"===l&&!a||i<=u?(this.updateHiddenState(!0),n&&n(!0)):(i>u||"end"===l)&&a&&(this.updateHiddenState(!1),n&&n(!1)):(s<-o||"start"===l)&&a||i<=u?(this.updateHiddenState(!1),n&&n(!1)):(s>o||"end"===l)&&!a&&(this.updateHiddenState(!0),n&&n(!0));this.lastScrollPos=i}),30))}componentDidMount(){try{(this.props.hideOnScroll||this.props.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){(this.props.hideOnScroll||this.props.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){!e.hideOnScroll&&this.props.hideOnScroll||!e.isDockedNavOnPlp&&this.props.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||e.isDockedNavOnPlp&&!this.props.isDockedNavOnPlp)&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){const{children:e,forceShow:t}=this.props,{isHidden:n}=this.state;return e({isHidden:!t&&n,updateHiddenState:this.updateHiddenState})}}},134879:(e,t,n)=>{n.d(t,{C:()=>i,V:()=>o});var r=n(667294);const a=(0,r.createContext)(!1),i=a.Provider,o=()=>(0,r.useContext)(a)},48714:(e,t,n)=>{n.d(t,{nS:()=>w,iw:()=>E,gV:()=>v,G3:()=>P,lI:()=>x,Gj:()=>S,Jd:()=>y,$3:()=>b});var r=n(231486),a=n(56641),i=n(768559),o=n(250059);const s=e=>"string"!=typeof e&&e?e.state:null;var l=n(643913),c=n(547239),d=n(508847),u=n(102500),p=n(43760),h=n(579164),m=n(333155),_=n(397066),f=n(623568),g=n(226198);const y=()=>{window&&window.focus(),document.activeElement&&document.activeElement.blur()},v=({isOffsiteUrl:e,event:t})=>!e&&(t.metaKey||t.ctrlKey),b=({location:e,pin:{id:t,is_downstream_promotion:n,promoter:r},surface:a})=>!(0,f.jL)(n,r)&&(({location:e,pinId:t,surface:n})=>{const r=Boolean(n),a=m.ZF.includes(n),i=e.pathname.includes(t);return r&&!a||i})({location:e,pinId:t,surface:a}),w=e=>{const t=Math.round(1e3*Math.random())+"",n=Math.round(1e3*Math.random())+"";r.t8((0,g.GS)(t),n);const a=`${t}-${n}`,{queryParams:i,url:o}=e;let s={token:a,url:o};if(!i){const{pinId:t,csrId:n,clientTrackingParams:r,auxData:a}=e;s={...s,pin:null!=t?t:void 0,csr:n&&!t?n:void 0,client_tracking_params:r,aux_data:a?JSON.stringify(a):void 0}}i&&(s={...s,...i});return`/offsite/?${(0,l.Z)(s)}`},S=e=>{(0,a.Z)(w(e),!0)},E=async({isMounted:e,pin:t,location:n,spamCheckCallback:r,href:a})=>{var o,s;const l=await(0,u.Z)({check_only:!0,client_tracking_params:(0,i.Z)({boardUrl:null==t||null===(o=t.board)||void 0===o?void 0:o.url,callToCreateSourcePinId:null==t?void 0:t.call_to_create_source_pin_id,location:n,pinId:null==t?void 0:t.id,pinnerUserName:null==t||null===(s=t.pinner)||void 0===s?void 0:s.username,storyPinDataId:null==t?void 0:t.story_pin_data_id,trackingParams:null==t?void 0:t.tracking_params,trackingParamsMap:null==t?void 0:t.tracking_params_map}),pin_id:null==t?void 0:t.id,url:a}).callGet({showError:!1});if(!l.resource_response.error&&e){const e=l.resource_response.data||{},{message:t,redirect_status:n,url:a}=e;r({blocked:["blocked","suspicious","porn"].includes(n),message:t,redirectStatus:n,sanitized_url:a})}},P=({event:e,onHistoryChange:t,href:n,history:r,target:i})=>{const l=(0,o.Z)(n),u=s(n),p=(0,c.Z)(l);p===h.Z.TRUSTED_DIFFERENT_ORIGIN||"blank"===i?(0,a.Z)(l,"blank"===i):r&&p===h.Z.SAME_ORIGIN&&(r.push((0,d.Z)({url:l}),null!=u?u:{}),t&&t({event:e}))},x=({href:e,pinId:t,pin:n,location:r,auxData:a,spamCheck:o,queryParams:s},l,c)=>{"undefined"!=typeof window&&window.Windows?(0,p.Z)({url:e,pinId:t,pin:n,location:r,auxData:a}):n?(({spamCheck:e,auxData:t,location:n,pin:r,pinId:a,href:o},s,l)=>{if(null!=e&&e.blocked)null==l||l(e);else{var c,d;if((0,_.b)({href:o,pinId:a,pin:r,location:n,auxData:t},s))return;S({url:o,pinId:a,csrId:null,clientTrackingParams:(0,i.Z)({boardUrl:null===(c=r.board)||void 0===c?void 0:c.url,callToCreateSourcePinId:r.call_to_create_source_pin_id,location:n,pinId:r.id,pinnerUserName:null===(d=r.pinner)||void 0===d?void 0:d.username,storyPinDataId:r.story_pin_data_id,trackingParams:r.tracking_params,trackingParamsMap:r.tracking_params_map}),auxData:t})}})({spamCheck:o,auxData:a,location:r,pin:n,pinId:t,href:e},l,c):S({url:e,pinId:t,queryParams:s})}},102500:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(6637);function a(e){return r.Z.create("ApiResource",{url:"/v3/offsite/",data:e})}},287072:(e,t,n)=>{n.d(t,{Z:()=>d,p:()=>u});var r=n(667294),a=n(250059),i=n(149230),o=n(407043),s=n(108234),l=n(48714),c=n(276775);function d(e){var t;const{externalData:n,href:d,onHistoryChange:u,target:p}=e,{logContextEvent:h}=(0,o.v)(),[m,_]=(0,r.useState)(null),[f,g]=(0,r.useState)(!1),y=(0,c.useHistory)(),v=(0,c.useLocation)(),b=(0,i.Z)({url:(0,a.Z)(d)}),{showWarning:w}=null!==(t=(0,s.s)())&&void 0!==t?t:{};return(0,r.useEffect)((()=>(g(!0),()=>{g(!1)})),[]),(0,r.useEffect)((()=>{b&&null!=n&&n.pin&&null===m&&f&&(0,l.$3)({location:v,pin:n.pin,surface:n.surface})&&(0,l.iw)({isMounted:f,pin:n.pin,location:v,spamCheckCallback:e=>_(e),href:(0,a.Z)(d)})}),[null==n?void 0:n.pin,null==n?void 0:n.surface,d,b,f,v,m]),({event:e})=>{var t;(0,l.gV)({isOffsiteUrl:b,event:e})||(e.preventDefault(),d&&(b||null!=n&&n.dangerouslyForceOffsiteUrl?(0,l.lI)({auxData:null==n?void 0:n.auxData,href:(0,a.Z)(d),pinId:null==n||null===(t=n.pin)||void 0===t?void 0:t.id,pin:null==n?void 0:n.pin,queryParams:null==n?void 0:n.queryParams,location:v,spamCheck:m},h,w):(0,l.G3)({event:e,href:d,history:y,onHistoryChange:u,target:"blank"===p?"blank":null})))}}const u=({children:e,...t})=>e({handleClick:d(t)})},713930:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(172071);function a(e,t){return new Promise(((n,a)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if("FACEBOOK"===t)if(window.FB)n();else{const t=setInterval((()=>{window.FB||20===e?(clearInterval(t),n()):(e+=1,r.Z.increment(`mweb.loadScript.facebook.tries_${e}`,.01))}),100)}else if("GSI"===t)if(window.google)n();else{const t=setInterval((()=>{window.google||20===e?(clearInterval(t),n()):(e+=1,r.Z.increment(`mweb.loadScript.gsi.tries_${e}`,.01))}),100)}else n()}else{const t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",(()=>n())),t.addEventListener("error",a),document.getElementsByTagName("head")[0].appendChild(t)}}))}},53987:(e,t,n)=>{n.d(t,{wy:()=>L,Fw:()=>te,ey:()=>Q,dt:()=>y,bo:()=>G,oF:()=>ie,bW:()=>g,AX:()=>p,Fy:()=>u,XE:()=>d,am:()=>o,pD:()=>h,OJ:()=>l,LO:()=>me,Gl:()=>se,Y8:()=>S,lY:()=>b,dK:()=>w,PY:()=>P,ah:()=>E,Ni:()=>v,pV:()=>M,L6:()=>N,bb:()=>ge,b0:()=>f,jC:()=>K,O7:()=>le,LM:()=>W,OK:()=>O,mP:()=>x,C$:()=>T,dr:()=>U,gT:()=>F,Fr:()=>J,Xn:()=>I,l4:()=>D,b_:()=>ae,J:()=>s,dZ:()=>c,FO:()=>k,re:()=>R,RU:()=>ce,Ui:()=>m,KY:()=>_,fY:()=>ee,uM:()=>X,x7:()=>ne,rk:()=>_e,cD:()=>q,dW:()=>fe,Pu:()=>oe,En:()=>j,ej:()=>pe,f1:()=>z,E0:()=>$,gf:()=>C,mY:()=>de,kY:()=>he,cY:()=>re,$Y:()=>H,Zz:()=>A,$V:()=>V,j8:()=>Y,ip:()=>B,tZ:()=>Z,YW:()=>ue});const r=new RegExp(/^\/(?!(?:pin|categories|report|search|password|terms|discover|help|email|topics|explore|pw|login|signup|about|business|source|ideas|today|tv))[\w\d\-]+\/(?!(?:following|followers|_tools|_created|_saved|tried))[\w\d\-]+(?=\/|$)/),a=["/BingSiteAuth.xml","/about","/add-account","/ads","/age_verification","/all","/apple-app-site-association","/apple-app-site-association.p7m","/attribution_source","/bot.html","/branded-pins","/browserbutton","/buy-it","/careers","/categories","/close-account","/content-claiming","/content-safety-portal","/convert-business","/convert-personal","/create-business","/create-linked-business","/create-personal","/creation-inspiration","/creator-onboarding-landing","/csrf_error","/ct.html","/deactivate-account","/deed6a3ef3a44d41bb3ae2bad137db84.txt","/developers","/discover","/edit","/email_verification_error","/engagement","/explore","/favicon.ico","/fb.html","/following","/google_gdn.html","/google_search.html","/googlef5dc42d6e03f6e61.html","/guidedsearch","/help","/holidays-celebrations","/homefeed","/idea-pin-builder","/idea-pin-invite","/ideas","/inbox","/install-shuffles","/invited","/jobs","/live-session","/login","/login_redirect","/logout","/manifest.json","/manifest.webapp","/me","/messages","/mobile","/notifications","/oauth","/app-factory-oauth","/appealed-pin","/oembed.json","/offline.html","/offsite","/opensearch.xml","/parent_contact_info","/pin-builder","/pin-editor","/pin_catalog","/pin_redirect","/pinterest-wellbeing","/pinterest-predicts","/pinterestlens","/pinterestlenstryon","/pinterestwellbeing","/policy","/product-catalogs","/recently-viewed","/report","/robots.txt","/safe-redirect","/search","/settings","/shopping","/signup","/socialmanager","/story-pin-builder","/story-pin-invite","/story_feed","/sw-shell.html","/sw.html","/sw.js","/switch_account","/terms","/today","/topics","/transparent.html","/tv","/unauth-profile","/unlink","/upload-image","/upload-profile-image","/verified","/verify","/videos","/web-mentorship","/welcome","/windows-app-web-link","/your-shop"];var i=n(276775);const o=e=>r.test(e.pathname),s=(e,t)=>{const{pathname:n}=e;return o(e)&&n.match(t||"?")},l=e=>{const{pathname:t}=e;return!!(0,i.matchPath)(t,{path:"/:username/:boardId/:boardSectionId",exact:!0})&&!t.match(/^\/.+\/.+\/(_tools)/i)},c=(e,t)=>{const{pathname:n}=e;return l(e)&&n.match(t||"?")},d=e=>!!(0,i.matchPath)(e.pathname,{path:"/board/:id/edit",exact:!0}),u=e=>!!(0,i.matchPath)(e.pathname,{path:"/board/:id/edit/collaborators",exact:!0}),p=e=>!!(0,i.matchPath)(e.pathname,{path:"/board/:id/edit/add_collaborators",exact:!0}),h=e=>!!(0,i.matchPath)(e.pathname,{path:"/boardsection/:id/edit",exact:!0}),m=e=>!!(0,i.matchPath)(e.pathname,{path:"/pin/:id/comments",exact:!0}),_=e=>!!(0,i.matchPath)(e.pathname,{path:"/pin/:id/edit",exact:!0}),f=e=>!!(0,i.matchPath)(e.pathname,{path:"/conversation/:id",exact:!0}),g=e=>!!(0,i.matchPath)(e.pathname,{path:"/appealed-pin/",exact:!0}),y=e=>e.pathname.startsWith("/age-appeal"),v=e=>e.pathname.startsWith("/business/"),b=e=>!!(0,i.matchPath)(e.pathname,{path:"/business/business-access/:userBizId/dashboard",exact:!0}),w=e=>!!(0,i.matchPath)(e.pathname,{path:"/business/business-access/:userBizId/hierarchy",exact:!0}),S=e=>!!(0,i.matchPath)(e.pathname,{path:"/business/business-access/:userBizId/asset-groups",exact:!0}),E=e=>!!(0,i.matchPath)(e.pathname,{path:"/business/business-access/:userBizId/members",exact:!0}),P=e=>e.pathname.startsWith("/business/invite/"),x=e=>!!(0,i.matchPath)(e.pathname,{path:"/pin/:id/visual-search/",exact:!0}),T=e=>"/"===e.pathname,I=e=>e.pathname.startsWith("/login"),A=e=>!!(0,i.matchPath)(e.pathname,{path:"/today",exact:!0}),R=e=>e.pathname.startsWith("/password/reset")||!!(0,i.matchPath)(e.pathname,{path:"/pw/:username",exact:!0}),k=e=>e.pathname.startsWith("/secure/panic"),C=e=>e.pathname.startsWith("/signup"),O=e=>e.pathname.startsWith("/email/subscription"),D=e=>e.pathname.startsWith("/notifications/"),N=e=>!!(0,i.matchPath)(e.pathname,{path:"/pin/:id",exact:!0}),L=e=>N(e)&&void 0===e.state,M=e=>e.pathname.startsWith("/pin_redirect"),j=e=>e.pathname.startsWith("/search"),F=e=>!!(0,i.matchPath)(e.pathname,{path:"/ideas",exact:!0}),U=e=>!!(0,i.matchPath)(e.pathname,{path:"/ideas/:interest/:id",exact:!0}),B=e=>!!(0,i.matchPath)(e.pathname,{path:"/videos/:category/:id",exact:!0}),Z=e=>e.pathname.startsWith("/videos"),z=e=>!!(0,i.matchPath)(e.pathname,{path:"/shopping/",exact:!0}),V=e=>e.pathname.startsWith("/topics"),H=e=>e.pathname.startsWith("/today/article/")||e.pathname.startsWith("/today/best/")||e.pathname.startsWith("/today/trending/"),$=e=>e.pathname.startsWith("/today/shop/"),G=e=>A(e)||H(e)||e.pathname.startsWith("/today/popular/"),W=e=>/^\/discover\/article\/\S+\/?/i.test(e.pathname),K=e=>e.pathname.startsWith("/pin/create/"),q=e=>!!(0,i.matchPath)(e.pathname,{path:"/:username/",exact:!0})&&!a.includes(e.pathname.replace(/\/$/,"")),Y=e=>e.pathname.startsWith("/unauth-profile"),X=e=>e.pathname.startsWith("/pin/"),J=e=>"#imgViewer"===e.hash,Q=e=>new RegExp("invite_code").test(e.search),ee=e=>!!(0,i.matchPath)(e.pathname,{path:"/pin/:id",exact:!1})&&(e.pathname.includes("/sent/")||e.pathname.includes("/feedback/")),te=e=>Q(e)&&((ee(e)?"pin":o(e)&&"board")||q(e)&&"profile")||null,ne=e=>e.pathname.includes("/repin/x"),re=e=>e.pathname.startsWith("/_/storyboard"),ae=e=>e.pathname.startsWith("/oauth"),ie=e=>e.pathname.startsWith("/app-factory-oauth"),oe=e=>e.pathname.includes("/scheduled-pin/"),se=e=>e.pathname.startsWith("/business/convert"),le=e=>e.pathname.startsWith("/pin-editor"),ce=e=>e.pathname.startsWith("/pin-builder"),de=e=>e.pathname.startsWith("/story-pin-builder")||e.pathname.startsWith("/idea-pin-builder"),ue=e=>e.pathname.startsWith("/advertiser/quick-promote"),pe=e=>e.pathname.startsWith("/settings"),he=e=>e.pathname.startsWith("/story-pin-invite")||e.pathname.startsWith("/idea-pin-invite"),me=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/business-access/")&&e.pathname.includes("/dashboard/"),_e=e=>void 0!==e.pathname&&e.pathname.startsWith("/tv/studio"),fe=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/schedule_call/"),ge=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/commerce-integrations/")},55275:(e,t,n)=>{n.d(t,{P:()=>o,t:()=>s});var r=n(6637);const a=()=>{};const i={complaint:function(e,t){r.Z.create("PinFeedbackResource",e).callUpdate().then((()=>t()))},followBoard:function(e,t){r.Z.create("BoardFollowResource",e).callCreate().then((()=>t()))},followPinner:function(e,t){r.Z.create("UserFollowResource",e).callCreate().then((()=>t()))},followTopic:function(e,t){r.Z.create("InterestFollowResource",e).callCreate().then((()=>t()))},newsHubPinHide:function(e,t){r.Z.create("NewsHubPinFeedbackResource",e).callUpdate().then((()=>t()))},promotedComplaint:function(e,t){r.Z.create("PinFeedbackResource",e).callUpdate().then((()=>t()))},relatedPinHide:function(e,t){r.Z.create("RelatedPinFeedbackResource",e).callUpdate().then((()=>t()))},reportPin:function(e,t){t()},showAdReasons:function(e,t){t()},unfollowBoard:function(e,t){r.Z.create("BoardFollowResource",e).callDelete().then((()=>t()))},unfollowPinner:function(e,t){r.Z.create("UserFollowResource",e).callDelete().then((()=>t()))},unfollowTopic:function(e,t){r.Z.create("InterestFollowResource",e).callDelete().then((()=>t()))},unrelatedSearchPin:function(e,t){r.Z.create("SearchPinFeedbackResource",e).callUpdate().then((()=>t()))}},o=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function s(e,t,n=a){const r=e?i[e]:null;return r?r(t,n):n()}},680046:(e,t,n)=>{n.d(t,{EF:()=>u,XZ:()=>c,ZP:()=>s,nb:()=>d,yl:()=>l});var r=n(55275),a=n(966113),i=n(760372);const o=e=>e.length>32?`${e.substring(0,32).trim()}...`:e,s=({i18n:e,interpolateNamedTemplate:t})=>({getLearnMoreUrl:e=>{switch(e){case 1:return"https://www.pinterest.com/_/_/help/articles/personalized-ads-pinterest";case 2:case 3:return"https://www.pinterest.com/_/_/help/articles/personalized-ads-pinterest";default:return a.m7}},getRecommendationDescription:({ad_match_reason:n,board:r,feedbackType:a,makeNavigateLink:i,pinner:s,promoter:l,recommendationReason:c,sourceInterest:d})=>{switch(a){case"pfy":return e.bt("    ,    ", "This Pin was inspired by your recent activity", "Pin feedback reason", undefined, true);case"pfyBoard":const{name:a,url:u}=c.board,p=i("navigation",u,a);return t(e.bt("      {{ boardLink }}", "This Pin was inspired by your board {{ boardLink }}", "Pin feedback - inspired by your board", undefined, true),{boardLink:p});case"topic":const{name:h,url_name:m}=d,_=i("topicUrl",`/topics/${m}`,h);return t(e.bt("     {{ formattedTopic }}", "This Pin was inspired by {{ formattedTopic }}", "Pin feedback", undefined, true),{formattedTopic:_});case"followed":const f=`/${s.username}`,g=i("boardUrl",r.url,o(r.name)),y=i("pinnerUrl",f,o(s.full_name));return s.explicitly_followed_by_me?t(e.bt("     {{ formattedPinner }},    .", "This Pin is from {{ formattedPinner }}, a profile you follow", "Pin feedback", undefined, true),{formattedPinner:y}):t(e.bt("    {{ formattedBoard }},    .", "This Pin is from {{ formattedBoard }}, a board you follow", "Pin feedback", undefined, true),{formattedBoard:g});case"promoted":switch(n){case 1:case 2:case 3:return e.bt("           .", "This ad was personalized for you using info from one of our partners", "Pin feedback", undefined, true);default:const{full_name:n,username:r}=l,a=i("promotedLink",r?"/"+r+"/":"/",n);return t(e.bt(" {{ promoterLink }}     ,      ", "{{ promoterLink }} paid to have this Pin show up where youd be more likely to notice it", "Pin feedback", undefined, true),{promoterLink:a})}default:return null}},getFeedbackType({board:e,feedback:t,viewParameter:n,pin:{promoter:r,is_downstream_promotion:a,recommendation_reason:i},pinner:o}){const s=t&&t.type;return r&&!a?"promoted":s||((e=>!!e&&"FOLLOWED_INTEREST"!==e.reason&&"FOLLOWING_FEED"!==e.reason&&"RECENT_FOLLOWED_BOARD"!==e.reason&&!0)(i)?i.board?"pfyBoard":"pfy":i&&"FOLLOWED_INTEREST"===i.reason?"topic":e&&e.followed_by_me||o&&o.explicitly_followed_by_me?"followed":140===n||144===n||141===n||145===n||139===n||3173===n?"related":92===n?"default":3082===n?"newsHub":null)},getHidePinAction:({feedbackData:e,feedbackType:t,pinId:n,recommendationReasonId:r,pinFeedbackType:a,complaintReason:i,throughId:o,throughProperties:s,clientTrackingParams:l})=>{const c="promoted"===t;let d,u;switch(t){case"promoted":d="promotedComplaint";break;case"search":d="unrelatedSearchPin";break;case"related":d="relatedPinHide";break;case"newsHub":d="newsHubPinHide";break;default:d="complaint"}switch(t){case"search":u={query:e.query,pin_id:n};break;case"related":u={pin:n};break;case"newsHub":u={pinId:n,newsId:e.newsId};break;default:u={complaint_reason:i||0,pin_id:n,...r?{recommendation_reason_id:r}:{},feedback_type:a||1,promoted:c,...o?{through_id:o}:{},...s?{through_properties:s}:{},...l?{client_tracking_params:l}:{}}}return{action:d,actionOptions:u}},getUnfollowAction:({board:n,feedbackType:r,makeNavigateLink:a,pinner:o,sourceInterest:s})=>{if("topic"===r){if(s){const{id:n,name:r,url_name:o}=s,l=a("topicUrl",`/topics/${o}`,r,!0),c=t(e.bt("         {{ formattedTopic }}.", "Well show you less Pins from {{ formattedTopic }} in the future.", "pin.contextualMenu.feedback.unfollowTopic.subtitle", undefined, true),{formattedTopic:l});return{action:"unfollowTopic",actionOptions:{interest_id:n,interest_list:i.X},title:"",subTitle:c}}}else if("followed"===r&&n&&o){const{id:r,name:i,url:s}=n||{},{explicitly_followed_by_me:l,full_name:c,username:d}=o,u=`/${d}`,p=a("boardUrl",s,i,!0),h=a("pinnerUrl",u,c,!0);let m=l?t(e.bt("     {{ formattedBoard }}  {{ formattedPinner }}.       .", "Youve unfollowed {{ formattedPinner }}s Board {{ formattedBoard }}. You can follow it again by searching for it.", "Confirmation text after unfollowing a board", undefined, true),{formattedPinner:h,formattedBoard:p}):t(e.bt("     {{ formattedBoard }}.       .", "Youve unfollowed {{ formattedBoard }}. You can follow it again by searching for it.", "Confirmation text after unfollowing a board", undefined, true),{formattedBoard:p});return m=l?t(e.bt("    {{ formattedPinner }}       .", "You unfollowed {{ formattedPinner }} and wont see Pins they save anymore.", "Confirmation text after unfollowing a user", undefined, true),{formattedPinner:h}):t(e.bt("    {{ formattedBoard }}        .", "You unfollowed the board {{ formattedBoard }} and wont see Pins saved to it anymore.", "Confirmation text after unfollowing a board", undefined, true),{formattedBoard:p}),{action:"unfollowBoard",actionOptions:{board_id:r},title:"",subTitle:m}}return null}});function l(e){return null!=e&&e.reason_id?e.reason_id:null!=e&&e.board?e.board.id:null!=e&&e.pin?e.pin.id:null!=e&&e.interest?e.interest.id:""}function c(e){return null==e?void 0:e.through_properties}function d(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}function u(e,t,n,a,i,o,s){return()=>{const l={...e,undo:!0};let c=t;"unfollowPinner"===t?c="followPinner":"unfollowBoard"===t?c="followBoard":"unfollowTopic"===t&&(c="followTopic"),(0,r.t)(c,l),o(n),s({event_type:101,component:0,element:11181,view_type:a,view_parameter:i})}}},248975:(e,t,n)=>{function r({embedSrc:e,embedType:t,images:n,preferredResolution:r}){if(!e&&!t&&!n)return"";if("gif"===t)return e||"";const a=n;if(!a)return"";if(r){const e="474x"===r&&a["474x"]||"236x"===r&&a["236x"]||a["736x"];if(e&&e.url)return e.url}const i=Object.keys(a).map((e=>{try{const t=e.split("x")[0];return Number.isNaN(Number(t))?(a[t]=a[e],t):e}catch(t){return""}}));i.sort();const o=i.pop();return a[o]&&a[o].url||""}n.d(t,{Z:()=>r})},164985:(e,t,n)=>{n.d(t,{Z:()=>r});function r(){let e=800,t=400;return"undefined"!=typeof window&&(e=window.innerHeight,t=window.innerWidth),{windowHeight:e,windowWidth:t}}},623568:(e,t,n)=>{n.d(t,{Js:()=>o,NK:()=>g,Nc:()=>y,VX:()=>s,Zt:()=>_,_J:()=>d,_S:()=>v,cL:()=>h,dZ:()=>S,hb:()=>f,hy:()=>c,iR:()=>i,jL:()=>l,o:()=>b,oN:()=>r,pU:()=>w,rM:()=>m,sV:()=>u,sY:()=>p});const r=5e3,a=["Uploaded by user"],i=e=>!!e&&!!e.video_list,o=(e,t)=>{let n=e&&e.url?e.url.split("/")[1]:"";return t&&t.full_name&&(n=t.full_name),n},s=(e,t)=>t&&t.products&&t.products.length>0||(null==e?void 0:e.products)&&e.products.length>0||!1,l=(e,t)=>!!t&&!e,c=e=>!!e,d=e=>!!e.video_status&&5!==e.video_status,u=e=>["email","messages","deep_linking"].includes(e),p=e=>!!e&&"gif"===e,h=({embedSrc:e,embedSubtype:t,embedType:n})=>!!e&&!p(n)&&!(e=>"pinstory"===e)(t),m=({link:e,mobileLink:t,trackedLink:n})=>!t&&!n&&!e,_=({link:e,mobileLink:t,origImageUrl:n,trackedLink:r})=>t||r||e||n||"",f=({isStoryPin:e,isVideoPin:t})=>e?"storyPin":t?"video":"image",g=(e,t)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:t.state?t.state.trackingParams:""}}});function y(e,t,n){var r;return!i(n)&&!c(t)&&0!==Object.keys((null==e||null===(r=e.creator_analytics)||void 0===r?void 0:r["30d_realtime"])||{}).length}function v(e){for(const t of a)if(e===t)return!1;return!0}function b(e){return 0!==Object.keys((null==e?void 0:e["30d_realtime"])||{}).length}function w(e){return 0!==Object.keys((null==e?void 0:e.all_time_realtime)||{}).length}function S(e){var t;return!(null==e||null===(t=e["30d_realtime"])||void 0===t||!t.is_realtime)}},66743:(e,t,n)=>{n.d(t,{NC:()=>i,Rc:()=>s,WK:()=>c,X9:()=>a,b9:()=>r,f9:()=>l,gu:()=>o});const r="pin-builder-font-faces",a="system-font-faces",i="pin-builder-education-font-faces",o="licensed",s="system",l="brand",c=4},935879:(e,t,n)=>{n.d(t,{Z:()=>r});const r=e=>`//connect.facebook.net/${(e=>{const t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}})(e)}/sdk.js`},83969:(e,t,n)=>{n.d(t,{Fm:()=>o,OY:()=>l,PL:()=>d,Px:()=>s,mK:()=>u,ru:()=>c});var r=n(713930),a=n(966113),i=n(867820);const o=()=>{var e,t,n;return null===(e=window)||void 0===e||null===(t=e.google)||void 0===t||null===(n=t.accounts)||void 0===n?void 0:n.id},s=e=>(0,r.Z)("https://accounts.google.com/gsi/client",null!=e&&e.unsafe?null:"GSI"),l=({autoSelect:e,itpSupport:t},n)=>{var r;null===(r=o())||void 0===r||r.initialize({auto_select:null!=e&&e,client_id:a.v3,callback:n,cancel_on_tap_outside:!1,context:"use",itp_support:t})},c=({buttonRef:e,isDesktop:t})=>{const n=o();if(n&&e.current){const t=e.current.offsetWidth;n.renderButton(e.current,{size:"large",shape:"pill",text:"continue_with",theme:"outline",width:t+"px"})}else(0,i.My)((t?"unauth_web":"unauth_mweb")+".gsi_button.not_initialized")},d=e=>"auto"===e?"AUTO_LOGIN":e.startsWith("btn")?"SIGN_IN_WITH_GOOGLE_BUTTON":"ONE_TAP_PROMPT",u=e=>{switch(e){case"SIGN_IN_WITH_GOOGLE_BUTTON":return"gsi_btn";case"ONE_TAP_PROMPT":return"onetap_btn";default:return"other"}}},760372:(e,t,n)=>{n.d(t,{X:()=>r});const r="favorited"},813401:(e,t,n)=>{n.d(t,{kf:()=>f,l5:()=>m,of:()=>p,xC:()=>_,yz:()=>h});var r=n(667294),a=n(172071),i=n(829407),o=n(807609),s=n(30287),l=n(425288),c=n(785893);const{Provider:d,useMaybeHook:u}=(0,l.Z)("PwaContext"),p=({children:e,initialContext:t})=>{const[n,o]=(0,r.useState)(null),l=t||{pwaType:"unknown",twaType:null},u=l.pwaType;(0,i.Z)((()=>{const e=(0,s.FB)(window)||"unknown";o(e),u!==e&&a.Z.increment("pwa.type_mismatch",1,{serverPwaType:u,clientPwaType:e,conflict:"unknown"!==u&&"unknown"!==e})}));const p="unknown"===u&&n?n:u,h=l.twaType,m=(0,r.useMemo)((()=>({pwaType:p,twaType:h})),[p,h]);return(0,c.jsx)(d,{value:m,children:e})},h=()=>{var e;const t=u();return null!==(e=null==t?void 0:t.pwaType)&&void 0!==e?e:"unknown"},m=()=>{var e;const t=u();return null!==(e=null==t?void 0:t.twaType)&&void 0!==e?e:null},_=()=>"android-twa"===h(),f=()=>{const e=h(),t=(0,o.Z)();return"unknown"===e&&t?null:"windows"===e}},317254:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(969853),a=n(667294),i=n(276602),o=n(543059);var s=n(198462);function l({children:e,isAtEndOfFeed:t,pinData:n,itemCount:l,includeBackgroundImages:c=!1,includeVideos:d=!1,includeSections:u=!1}){var p;return(null===(p=(0,s.N5)())||void 0===p?void 0:p.isAuthenticated)||(u=!0),(0,r.Z)({pinData:n,isAtEndOfFeed:t,includeBackgroundImages:c,includeVideos:d,includeSections:u}),function(e){const t=(0,i.EV)(),n=(0,a.useRef)(null);(0,a.useEffect)((()=>{e!==n.current&&(n.current=e,t&&(0,o.ZP)(o.at))}),[!!t,e])}(l),e}},584992:(e,t,n)=>{n.d(t,{Z:()=>E});var r=n(667294),a=n(425288),i=n(198462),o=n(729524),s=n(860273),l=n(169213),c=n(358864),d=n(558775),u=n(505771),p=n(985271),h=n(383434),m=n(543059),_=n(453821),f=n(638089),g=n(607150),y=n(790348);const v=(0,h.X)("PwtStopwatch"),b=(e,t)=>{if(p.Z){if("start"===t.type&&!e.isTiming){const{name:n,startTime:r,navigationType:a}=t;return(0,y.A9)(`TIMING.${n}`),{isTiming:!0,name:n,isSampled:t.isSampled,startTime:"number"==typeof r?r:p.Z.now(),metricId:{type:"stopwatch",name:n,navigationType:a},pwtStaticContext:t.pwtStaticContext,annotations:e.annotations,binaryAnnotations:e.binaryAnnotations,spans:e.spans,traceId:e.traceId,spanNameUpdates:e.spanNameUpdates}}if(!e.isTiming){if(!t.bypassIsTimingCheck){const n=t.name||e.name;return v("ignoring action - stopwatch is not actively timing",t),(0,y.A9)(`WARN.${n}.noTiming.${t.type}`),e}v("allowing action while stopwatch is not actively timing (bypassIsTimingCheck is set to true)",t)}if("annotate"===t.type){const n=p.Z.now();return v(`adding annotation {${t.label}: ${n}}`),{...e,annotations:e.annotations.concat([{label:t.label,timestamp:n}])}}if("binaryAnnotate"===t.type)return v(`adding binary annotation {${t.name}: ${String(t.value)}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:t.value,type:t.annotationType}}};if("binaryAnnotateOperation"===t.type){const{value:n,type:r}=t.binaryAnnotationValueAndType;if(e.binaryAnnotations[t.name]){const a=e.binaryAnnotations[t.name].value||0;return v(`operating on binary annotation {\n          name: ${t.name}\n          pervious value: ${String(a)}\n          operand: ${String(n)}\n        }`),{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:n?t.operation(a,n):a,type:r}}}}return{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:n,type:r}}}}if("addSubspan"===t.type){v(`adding subspan {${t.name}}`);-1!==e.spans.findIndex((e=>e.name===t.name))&&v(`WARNING: adding duplicate subspan name {${t.name}}`);const n=t.id||(0,c.Z)();-1!==e.spans.findIndex((e=>e.id===n))&&v(`WARNING: adding duplicate subspan id {${t.name}: ${n}}`);let r=0;return t.startTime?r=t.startTime:e.startTime?r=e.startTime:v(`WARNING: adding subspan {${t.name}} without start time`),{...e,spans:[...e.spans,{name:t.name,id:n,startTime:r,endTime:t.endTime||1/0,annotationMap:{...t.annotations},binaryAnnotationMap:{...t.binaryAnnotations},parentId:t.parentId}]}}if("subspanStart"===t.type){var n;v(`starting subspan {${t.name}}`);-1!==e.spans.findIndex((e=>e.name===t.name))&&v(`WARNING: starting duplicate subspan name {${t.name}}`);const r=t.id||(0,c.Z)();-1!==e.spans.findIndex((e=>e.id===r))&&v(`WARNING: starting duplicate subspan id {${t.name}: ${r}}`);const a=t.parentName?null===(n=e.spans.find((e=>e.name===t.parentName)))||void 0===n?void 0:n.id:null;return{...e,spans:[...e.spans,{name:t.name,id:r,parentId:t.parentId||a,startTime:p.Z.now(),endTime:1/0,annotationMap:{...t.annotations},binaryAnnotationMap:{...t.binaryAnnotations}}]}}if("subspanStop"===t.type){if(v(`stopping subspan {${t.name}}`),!t.id){e.spans.reduce(((e,n)=>(n.name===t.name&&e.push(n),e)),[]).length>1&&(0,y.H)("duplicate_subspan_stop_name",{name:t.name,type:t.type})}const n=t.id?e.spans.findIndex((e=>e.id===t.id)):e.spans.findIndex((e=>e.name===t.name));return n>-1?(e.spans[n].endTime=p.Z.now(),t.annotations&&(e.spans[n].annotationMap={...e.spans[n].annotationMap,...t.annotations}),t.binaryAnnotations&&(e.spans[n].binaryAnnotationMap={...e.spans[n].binaryAnnotationMap,...t.binaryAnnotations})):(0,y.H)("invalid_subspan_stop_name",{name:t.name}),e}if("subspanUpdateName"===t.type){e.spans.reduce(((e,n)=>(n.name===t.currentName&&e.push(n),e)),[]).length>1&&(0,y.H)("duplicate_subspan_stop_name",{name:t.currentName,type:t.type});const n=e.spans.findIndex((e=>e.name===t.currentName));return n>-1?t.updateWhenStopwatchCompletes?e.spanNameUpdates=[...e.spanNameUpdates,{currentName:t.currentName,newName:t.newName}]:(v(`renaming subspan {${t.currentName}} to {${t.newName}}`),e.spans[n].name=t.newName):(0,y.H)("no_subspan_found_to_rename",{name:t.currentName}),e}if("stop"===t.type&&e.isTiming){const{startTime:n,metricId:r,pwtStaticContext:a,annotations:i,binaryAnnotations:l,isSampled:h,spans:y,traceId:b}=e;if(t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect(),h){const h=t.stopTime||p.Z.now(),w=[...y.map((t=>{t.endTime===1/0&&(t.endTime=h);const n=e.spanNameUpdates.findIndex((e=>t.name===e.currentName));return n>-1&&(v(`renaming subspan {${t.name}} to {${e.spanNameUpdates[n].newName}}`),t.name=e.spanNameUpdates[n].newName,e.spanNameUpdates=e.spanNameUpdates.filter((e=>e.newName!==t.name))),t}))];if(t.manualAndResourceSpans||0===y.length){const e=(0,c.Z)();w.push({name:"network_resources",id:e,startTime:n,endTime:h,annotationMap:{},binaryAnnotationMap:{},parentId:null},...(t.customStopwatchBuffer||[]).map((t=>(0,u.Z)((0,_.p)(t,[]),e))).filter(Boolean))}const S="initial_app_load"===r.navigationType&&(0,s.Z)(),E={type:"COMPLETE",traceId:b,startTime:n,endTime:h,spans:w,annotationMap:{...(0,o.Z)(i),...(0,g.jh)("browser_",S?(0,g.D3)(S):{}),...(0,g.jh)("mark_",(0,m.gQ)())},binaryAnnotationMap:(0,f.ng)({metricId:r,pwtStaticContext:a,binaryAnnotations:l,performanceResourceTimings:t.customStopwatchBuffer||[]})};(0,d.Z)({metricId:r,pwtStaticContext:a,result:E})}return{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,c.Z)(),spanNameUpdates:[]}}if("error"===t.type){const{error:n,stopwatchPerformanceObserver:r}=t;return n&&(0,y.H)(n),r&&r.disconnect(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,c.Z)(),spanNameUpdates:[]}}if("abort"===t.type&&e.isTiming){t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect();const{metricId:n,pwtStaticContext:r}=e,a=t.reason||"";return(0,d.Z)({metricId:n,pwtStaticContext:r,result:{type:"ABORT",reason:a}}),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,c.Z)(),spanNameUpdates:[]}}}return e},w=({name:e,sampleRate:t,navigationType:n,manualAndResourceSpans:a=!1})=>{const o=(0,i.N5)(),s=(0,r.useRef)([]),d=(0,r.useRef)(null),[u,p]=(0,r.useReducer)(b,{isTiming:!1,name:e,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,c.Z)(),spanNameUpdates:[]});return o?{isTiming:u.isTiming,start:r=>{if(window.PerformanceObserver){const e=1e3;s.current=[],d.current=(0,l.Z)({entryTypes:["resource"]},(t=>{s.current=s.current.concat(t.getEntries()),s.current.length>e&&(s.current=s.current.slice(-e))}))}const a={type:"start",startTime:r,name:e,navigationType:n,pwtStaticContext:o,isSampled:!t||Math.random()<t};return p(a)},stop:e=>p({type:"stop",stopTime:e,stopwatchPerformanceObserver:d.current,customStopwatchBuffer:s.current,manualAndResourceSpans:a}),error:e=>{p({type:"error",stopwatchPerformanceObserver:d.current,error:e})},abort:e=>p({type:"abort",stopwatchPerformanceObserver:d.current,customStopwatchBuffer:s.current,reason:e}),annotate:(e,t,n=!1)=>p({type:"annotate",label:e,parentId:t,bypassIsTimingCheck:n}),binaryAnnotate:(e,t,n,r,a=!1)=>p({type:"binaryAnnotate",name:e,value:t,annotationType:n,parentId:r,bypassIsTimingCheck:a}),binaryAnnotateOperation:({name:e,binaryAnnotationValueAndType:t,operation:n,parentId:r,bypassIsTimingCheck:a=!1})=>p({type:"binaryAnnotateOperation",name:e,binaryAnnotationValueAndType:t,operation:n,parentId:r,bypassIsTimingCheck:a}),addSubspan:({name:e,startTime:t,endTime:n,annotations:r={},binaryAnnotations:a={},parentId:i=null,id:o=null,bypassIsTimingCheck:s=!1})=>p({type:"addSubspan",name:e,startTime:t,endTime:n,annotations:r,binaryAnnotations:a,parentId:i,id:o,bypassIsTimingCheck:s}),subspanStart:({name:e,annotations:t={},binaryAnnotations:n={},parentId:r=null,parentName:a=null,id:i=null,bypassIsTimingCheck:o=!1})=>p({type:"subspanStart",name:e,annotations:t,binaryAnnotations:n,parentId:r,parentName:a,id:i,bypassIsTimingCheck:o}),subspanStop:({name:e,annotations:t,binaryAnnotations:n,id:r,parentId:a,bypassIsTimingCheck:i=!1})=>p({type:"subspanStop",name:e,annotations:t,binaryAnnotations:n,id:r,parentId:a,bypassIsTimingCheck:i}),subspanUpdateName:({currentName:e,newName:t,bypassIsTimingCheck:n,updateWhenStopwatchCompletes:r=!0})=>p({type:"subspanUpdateName",currentName:e,newName:t,bypassIsTimingCheck:n,updateWhenStopwatchCompletes:r}),getSpans:(e,t)=>u.spans.filter((n=>n[e]===t)),getTraceId:()=>u.traceId}:null};var S=n(785893);const E=({name:e,sampleRate:t,abortOnUnloadOrClientNavigation:n=!0,navigationType:o,manualAndResourceSpans:s=!1})=>{const{Provider:l,useMaybeHook:c}=(0,a.Z)(`Stopwatch_${e}`);return{Provider:function({children:a}){const c=w({name:e,sampleRate:t,navigationType:o,manualAndResourceSpans:s}),d=(0,i.fM)(),u=d?d.time:0,p=(0,r.useRef)(!1),h=null==c?void 0:c.isTiming,m=(0,r.useCallback)((t=>{p.current?(p.current=!1,null==c||c.abort(t)):(0,y.A9)(`WARN.${e}.noTiming.abort`)}),[c]),_=(0,r.useCallback)(((e,t)=>{null==c||c.annotate(e,t)}),[c]),f=(0,r.useCallback)(((e,t,n,r)=>{null==c||c.binaryAnnotate(e,t,n,r)}),[c]),g=(0,r.useCallback)((({name:e,binaryAnnotationValueAndType:t,operation:n,parentId:r,bypassIsTimingCheck:a})=>{null==c||c.binaryAnnotateOperation({name:e,binaryAnnotationValueAndType:t,operation:n,parentId:r,bypassIsTimingCheck:a})}),[c]),v=(0,r.useCallback)((({name:e,startTime:t,endTime:n,annotations:r,binaryAnnotations:a,parentId:i,id:o,bypassIsTimingCheck:s})=>{null==c||c.addSubspan({name:e,startTime:t,endTime:n,annotations:r,binaryAnnotations:a,parentId:i,id:o,bypassIsTimingCheck:s})}),[c]),b=(0,r.useCallback)((({name:e,annotations:t,binaryAnnotations:n,parentId:r,parentName:a,id:i,bypassIsTimingCheck:o})=>{null==c||c.subspanStart({name:e,annotations:t,binaryAnnotations:n,parentId:r,parentName:a,id:i,bypassIsTimingCheck:o})}),[c]),E=(0,r.useCallback)((({name:e,annotations:t,binaryAnnotations:n,id:r,parentId:a,bypassIsTimingCheck:i})=>{null==c||c.subspanStop({name:e,annotations:t,binaryAnnotations:n,id:r,parentId:a,bypassIsTimingCheck:i})}),[c]),P=(0,r.useCallback)((({currentName:e,newName:t,bypassIsTimingCheck:n,updateWhenStopwatchCompletes:r})=>{null==c||c.subspanUpdateName({currentName:e,newName:t,bypassIsTimingCheck:n,updateWhenStopwatchCompletes:r})}),[c]),x=(0,r.useCallback)(((e,t)=>c?c.getSpans(e,t):[]),[c]),T=(0,r.useCallback)((()=>c?c.getTraceId():0),[c]),I=(0,r.useCallback)((t=>{p.current?(p.current=!1,null==c||c.error(t)):(0,y.A9)(`WARN.${e}.noTiming.error`)}),[c]),A=(0,r.useCallback)((e=>{p.current&&(null==c||c.abort("duplicated_init_stopwatch_action")),p.current=!0,null==c||c.start(e)}),[c]),R=(0,r.useCallback)((t=>{p.current?(p.current=!1,null==c||c.stop(t)):(0,y.A9)(`WARN.${e}.noTiming.stop`)}),[c]);(0,r.useEffect)((()=>()=>{n&&m("unloadOrClientNavigation")}),[u]);const k=(0,r.useMemo)((()=>({isTiming:h,abort:m,addAnnotation:_,addBinaryAnnotation:f,binaryAnnotationOperation:g,addSubspan:v,subspanStart:b,subspanStop:E,getSpans:x,getTraceId:T,updateSubspanName:P,stop:R,error:I,start:A})),[h,m,_,f,g,v,b,E,x,T,P,R,I,A]);return(0,S.jsx)(l,{value:k,children:a})},useHook:c}}},729524:(e,t,n)=>{n.d(t,{Z:()=>r});const r=e=>{let t={};e.forEach((({label:e,timestamp:n})=>{t={...t,[e]:(t[e]||[]).concat([n])}}));let n=Object.freeze({});return Object.keys(t).forEach((e=>{(t[e]||[]).forEach(((t,r)=>{const a=r?`${e}_${r+1}`:e;n={...n,[a]:t}}))})),n}},561195:(e,t,n)=>{n.d(t,{A:()=>o,Z:()=>s});var r=n(667294),a=n(883119),i=n(785893);const o=({fill:e,width:t,color:n})=>{const o="half"===e?(0,i.jsxs)(r.Fragment,{children:[(0,i.jsx)(a.xu,{position:"absolute",children:(0,i.jsx)(a.JO,{accessibilityLabel:"",color:"default",icon:"star-half",size:12})}),(0,i.jsx)(a.JO,{accessibilityLabel:"",color:"subtle",icon:"star",size:12})]}):(0,i.jsx)(a.JO,{accessibilityLabel:"",color:"full"===e?"default":"subtle",icon:"star",size:12});return(0,i.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},display:"inlineBlock","data-test-id":`rating-star-${e}`,children:o})};function s({max_rating:e,rating:t,width:n,color:a}){const s=[],l=function(e,t){return 5*(t=t<=e?t:e)/e}(parseFloat(e)||5,parseFloat(t)||0);if(Number.isNaN(l))return null;const c=Math.floor(l),d=l-c;return[...Array(c).keys()].forEach((e=>s.push((0,i.jsx)(o,{color:a,fill:"full",width:n},e)))),d>=.75?s.push((0,i.jsx)(o,{color:a,fill:"full",width:n},s.length)):d>=.25&&s.push((0,i.jsx)(o,{color:a,fill:"half",width:n},s.length)),[...Array(5-s.length).keys()].forEach((()=>s.push((0,i.jsx)(o,{color:a,fill:"empty",width:n},s.length)))),(0,i.jsx)(r.Fragment,{children:s})}},923297:(e,t,n)=>{function r({m:e=0,h:t=0}){let n;return n=t<=0?t:e>45?t+1:e>15?t+.5:t,{m:e,h:t,rm:t>0?0:e,rh:n}}function a(e){const t=Math.floor(e/3600);return r({m:Math.floor(e%3600/60),h:t})}n.d(t,{X:()=>r,u:()=>a})},932995:(e,t,n)=>{function r(e,t,n){const r=[...e],a=r.splice(t,1)[0];return r.splice(n,0,a),r}n.d(t,{Z:()=>r})},505920:(e,t,n)=>{n.d(t,{UZ:()=>u,Z8:()=>p,my:()=>h});var r=n(667294),a=(n(702664),n(6637)),i=n(425288),o=n(785893);function s(e,t,n){var r;const a=[...null!==(r=t[e][n.payload.name])&&void 0!==r?r:[],n.payload.handler],i={...t};return i[e]={...t[e],[n.payload.name]:a},i}function l(e,t,n){if(!t[e][n.payload.name])return t;const r=t[e][n.payload.name].filter((e=>e!==n.payload.handler)),a={...t};return a[e]={...t[e],[n.payload.name]:r},a}const{Provider:c,useHook:d}=(0,i.Z)("ResourceContext");function u({children:e}){const[{listeners:t,moreListeners:n},i]=(0,r.useReducer)(((e,t)=>{switch(t.type){case"addListener":return s("listeners",e,t);case"addMoreListener":return s("moreListeners",e,t);case"removeListener":return l("listeners",e,t);case"removeMoreListener":return l("moreListeners",e,t);default:return e}}),{listeners:{},moreListeners:{}});a.Z.fetchCompleteCallback=({resource:e,options:n,response:r,normalizedResponse:a,refresh:i,resourceSchema:o})=>{t[e]&&t[e].forEach((t=>t({isRefresh:i,normalizedResponse:a,options:n,schema:o,resource:e,response:r})))},a.Z.fetchMoreCompleteCallback=({resource:e,options:t,response:r,normalizedResponse:a,refresh:i,resourceSchema:o})=>{n[e]&&n[e].forEach((n=>n({isRefresh:i,normalizedResponse:a,options:t,schema:o,resource:e,response:r})))};const d=(0,r.useMemo)((()=>({listenerDispatch:i})),[]);return(0,o.jsx)(c,{value:d,children:e})}function p(e,t){const{listenerDispatch:n}=d();(0,r.useEffect)((()=>(n({type:"addListener",payload:{name:e,handler:t}}),()=>{n({type:"removeListener",payload:{name:e,handler:t}})})))}function h(e,t){const{listenerDispatch:n}=d();(0,r.useEffect)((()=>(n({type:"addMoreListener",payload:{name:e,handler:t}}),()=>{n({type:"removeMoreListener",payload:{name:e,handler:t}})})))}},134185:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(785893);const a=e=>{const t=e.itemType?{itemScope:!0,itemType:e.itemType}:{};return(0,r.jsx)("div",{"data-test-id":"rich-pin-information",...t,children:e.children||null})}},578661:(e,t,n)=>{n.d(t,{G:()=>r});const r="https://schema.org/Recipe"},995228:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(667294),a=n(966476),i=n(464228),o=n(785893);function s({children:e,fallback:t,dangerouslyServerRenderForGraphQL:n=!1}){const s=t||null,l=(0,a.Z)(),c=(0,i.P)();return c&&"legacy"!==c?n||l?(0,o.jsx)(r.Suspense,{fallback:s,children:e}):s:(0,o.jsx)(r.Suspense,{fallback:s,children:e})}},947599:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n(995228).Z},909499:(e,t,n)=>{n.d(t,{Hd:()=>o,_R:()=>a,lw:()=>r,wF:()=>i});const r={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",USERS:"users",IDEA_PINS:"idea_pins"},a=e=>{switch(e){case r.PINS:return 43;case r.PINS_MINE:return 107;case r.PINS_BUYABLE:return 254;case r.PINS_VIDEO:return 3306;case r.BOARDS:return 44;case r.USERS:return 45;default:return null}},i=e=>{switch(e){case r.PINS:return 60;case r.PINS_MINE:return 63;case r.PINS_BUYABLE:return 3800;case r.PINS_VIDEO:return 64;case r.BOARDS:return 61;case r.USERS:return 62;default:return null}},o=e=>{switch(e){case r.USERS:return 1000392;case r.PINS_BUYABLE:return 1000391;case r.PINS:default:return 29}}},862628:(e,t,n)=>{function r(e){return(e||"").trim().replace(/\s+/g," ")}n.d(t,{Z:()=>r})},648284:(e,t,n)=>{function r({appliedProductFilters:e,autoCorrectionDisabled:t,filters:n,query:r,scope:a,selectedPinImgSig:i,user:o}){const s=[a,n,e,o,i,r].map((e=>null!=e?e:"")).join(":");return t?"auto-correction-disabled:"+s:s}function a(e){const{autoCorrectionDisabled:t,appliedProductFilters:n,appliedFilters:r,filters:a,selectedPinImgSig:i,query:o,rs:s,scope:l,bubbleId:c,user:d}=e;return{name:"BaseSearchResource",options:function({autoCorrectionDisabled:e=!1,appliedFilters:t=null,appliedProductFilters:n=null,bubbleId:r=null,filters:a=null,query:i=null,rs:o="direct_navigation",scope:s="pins",selectedPinImgSig:l=null,sourceId:c=null,user:d}){return{article:r,applied_filters:t,appliedProductFilters:n,auto_correction_disabled:e,corpus:l?"personalize":null,customized_rerank_type:l?"manas_graph_sage_only_wand_rewrite":null,filters:a,query:i,query_pin_sigs:l,redux_normalize_feed:!0,rs:o,scope:s,source_id:c,user:d}}({autoCorrectionDisabled:!!t,appliedProductFilters:n,appliedFilters:r,filters:a,query:o,rs:s,scope:l,selectedPinImgSig:i,bubbleId:c,user:d})}}n.d(t,{Ht:()=>a,Tb:()=>r})},350576:(e,t,n)=>{n.d(t,{RX:()=>g,XE:()=>m,Xn:()=>h,an:()=>_,rV:()=>f});var r=n(826067);const a="BING",i="GOOGLE",o="YAHOO",s="YANDEX",l="RAKUTEN",c="NAVER",d="AMP_CACHE",u="DUCKDUCKGO",p=[i,a,o,s,l,c,d,u];function h(e){return p.includes(function(e){const{hostname:t}=(0,r.Qc)(e,!0);if(t&&e){if(t.includes("google.")||function(e){return e.includes("android-app://com.google.android.googlequicksearchbox")}(e))return i;if(t.includes("bing."))return a;if(t.includes("yahoo."))return o;if(t.includes("yandex."))return s;if(t.includes("rakuten."))return l;if(t.includes("naver."))return c;if(t.includes("duckduckgo."))return u;if(t.includes(".cdn.ampproject.org"))return d}return""}(e))}function m(e){return((0,r.Qc)(e).hostname||"").includes(".cdn.ampproject.org")}function _(e){return e||"undefined"!=typeof document&&document.referrer||""}const f="amp",g=e=>Boolean(e&&m(e))},706922:(e,t,n)=>{function r(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function a(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(let i=0;i<n.length;i+=1)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!r(e[n[i]],t[n[i]]))return!1;return!0}n.d(t,{Z:()=>a})},458882:(e,t,n)=>{n.d(t,{l:()=>i,r:()=>o});var r=n(667294);const a=(0,r.createContext)(null),i=()=>(0,r.useContext)(a),o=a.Provider},667679:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(458882),a=n(780679);const i=()=>{const e=(0,a.g)(),t=(0,r.l)();return n=>{const{mobileOptions:r,desktopOptions:a,reason:i,attributionLabel:o}=n;e?e.showDesktopSignupModal({signupFlow:"login"===(null==a?void 0:a.modalType)?{type:"login"}:{type:"signup"},reason:i,attributionLabel:o,...null==a?void 0:a.modalOptions}):t&&t.showMobileSignupModal({reason:i,attributionLabel:o,headingType:null==r?void 0:r.headingType})}}},31149:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(785893);function a({size:e=56}){return(0,r.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,r.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#EFEFEF"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.1106 19.6408C18.2759 19.551 18.4653 19.5 18.6667 19.5H37.3333C37.5535 19.5 37.7594 19.561 37.9351 19.667C37.9351 19.667 37.9352 19.667 37.9352 19.667L28.7395 27.2024C28.3095 27.5547 27.6905 27.5547 27.2605 27.2024L18.0648 19.667C18.0799 19.6579 18.0951 19.6492 18.1106 19.6408ZM14 20.8611V20.6667C14 18.0893 16.0893 16 18.6667 16H37.3333C39.9107 16 42 18.0893 42 20.6667V20.8611V34.6667C42 37.244 39.9107 39.3333 37.3333 39.3333H18.6667C16.0893 39.3333 14 37.244 14 34.6667V20.8611ZM38.5 23.7292V34.6667C38.5 35.311 37.9777 35.8333 37.3333 35.8333H18.6667C18.0223 35.8333 17.5 35.311 17.5 34.6667V23.7292L25.0422 29.9095C26.7622 31.319 29.2378 31.319 30.9578 29.9096L38.5 23.7292Z",fill:"black"})]})}},659522:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(785893);function a({size:e=56}){return(0,r.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,r.jsx)("path",{d:"M56 28C56 12.536 43.464 0 28 0S0 12.536 0 28c0 13.975 10.24 25.56 23.625 27.66V36.094h-7.11V28h7.11v-6.169c0-7.017 4.18-10.893 10.576-10.893 3.064 0 6.268.546 6.268.546v6.891h-3.53c-3.479 0-4.564 2.159-4.564 4.373V28h7.766l-1.242 8.094h-6.524V55.66C45.761 53.56 56 41.975 56 28Z",fill:"#1877F2"}),(0,r.jsx)("path",{d:"M38.9 36.094 40.14 28h-7.765v-5.252c0-2.215 1.085-4.373 4.563-4.373h3.53v-6.89s-3.203-.547-6.267-.547c-6.396 0-10.576 3.876-10.576 10.893V28h-7.11v8.094h7.11V55.66a28.206 28.206 0 0 0 8.75 0V36.094h6.524Z",fill:"#fff"})]})}},331744:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(785893);function a({size:e=56}){return(0,r.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,r.jsx)("path",{d:"M28 56c15.464 0 28-12.536 28-28S43.464 0 28 0 0 12.536 0 28s12.536 28 28 28Z",fill:"#00B900"}),(0,r.jsx)("path",{d:"M46.625 26.32c0-8.335-8.354-15.115-18.625-15.115-10.267 0-18.625 6.78-18.625 15.115 0 7.471 6.627 13.73 15.578 14.91.606.13 1.432.401 1.642.92.187.47.122 1.208.06 1.684l-.265 1.596c-.08.471-.373 1.843 1.615 1.003 1.988-.835 10.724-6.314 14.634-10.812 2.693-2.964 3.986-5.969 3.986-9.3Z",fill:"#fff"}),(0,r.jsx)("path",{d:"M24.215 22.293H22.91c-.201 0-.364.163-.364.364v8.115c0 .2.163.364.364.364h1.306c.2 0 .364-.163.364-.364v-8.12a.363.363 0 0 0-.364-.36ZM33.208 22.293H31.9c-.2 0-.364.163-.364.364v4.82l-3.72-5.02c-.009-.015-.018-.024-.027-.038l-.005-.005-.023-.023c-.005 0-.005-.005-.005-.005-.005-.005-.014-.01-.019-.014l-.009-.01c-.005-.004-.014-.008-.019-.013-.004-.005-.009-.005-.009-.005a.036.036 0 0 0-.019-.01c-.004 0-.009-.004-.009-.004-.005-.004-.014-.004-.019-.01-.004 0-.009-.004-.014-.004l-.023-.01c-.005 0-.01 0-.014-.004-.01 0-.014-.005-.019-.005h-.014c-.004 0-.014 0-.018-.004H26.212c-.2 0-.364.163-.364.364v8.115c0 .2.164.364.364.364h1.307c.2 0 .364-.163.364-.364v-4.82l3.724 5.03a.283.283 0 0 0 .093.089s.005 0 .005.005c.01.004.014.009.023.014.005 0 .005.004.01.004.004.005.01.005.018.01.005.004.01.004.02.009.004 0 .008.005.008.005.01.004.02.004.024.009h.004c.028.01.061.014.094.014h1.306c.201 0 .364-.163.364-.364v-8.125a.37.37 0 0 0-.368-.36ZM21.065 29.097h-3.551v-6.445c0-.2-.164-.364-.364-.364h-1.307c-.2 0-.364.163-.364.364v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306a.358.358 0 0 0-.359-.364ZM40.422 24.323c.201 0 .364-.163.364-.364v-1.307c0-.2-.163-.364-.364-.364h-5.217a.353.353 0 0 0-.252.103l-.005.005c0 .004-.004.004-.004.004a.373.373 0 0 0-.103.252v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55c.201 0 .364-.164.364-.364v-1.307c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55v.005Z",fill:"#00B900"})]})}},757146:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(785893);function a({size:e=56}){return(0,r.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,r.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#fff"}),(0,r.jsx)("rect",{x:".5",y:".5",width:"55",height:"55",rx:"27.5",stroke:"#767676",strokeOpacity:".4"}),(0,r.jsx)("path",{d:"M28 12c-9.012 0-16 6.604-16 15.52 0 4.664 1.912 8.696 5.024 11.48.26.232.42.56.428.912l.088 2.848c.028.908.964 1.5 1.796 1.132l3.176-1.4c.268-.12.572-.14.856-.064 1.46.4 3.012.616 4.632.616 9.012 0 16-6.604 16-15.52S37.012 12 28 12Z",fill:"url(#paint0_radial_3730_649)"}),(0,r.jsx)("path",{d:"m18.392 32.06 4.7-7.456a2.401 2.401 0 0 1 3.472-.64l3.74 2.804a.96.96 0 0 0 1.156-.004l5.048-3.832c.672-.512 1.552.296 1.104 1.012l-4.704 7.452a2.401 2.401 0 0 1-3.472.64l-3.74-2.804a.96.96 0 0 0-1.156.004l-5.048 3.832c-.672.512-1.552-.292-1.1-1.008Z",fill:"#fff"}),(0,r.jsx)("defs",{children:(0,r.jsxs)("radialGradient",{id:"paint0_radial_3730_649",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(18.16 43.826) scale(34.8672)",children:[(0,r.jsx)("stop",{stopColor:"#09F"}),(0,r.jsx)("stop",{offset:".61",stopColor:"#A033FF"}),(0,r.jsx)("stop",{offset:".935",stopColor:"#FF5280"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#FF7061"})]})})]})}},464240:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(785893);function a({size:e=56}){return(0,r.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,r.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#1DA1F2"}),(0,r.jsx)("path",{d:"M24.34 42c11.37 0 17.591-9.429 17.591-17.591 0-.265 0-.53-.012-.796a12.596 12.596 0 0 0 3.087-3.207c-1.11.494-2.303.82-3.557.976a6.22 6.22 0 0 0 2.725-3.424 12.299 12.299 0 0 1-3.93 1.495 6.17 6.17 0 0 0-4.51-1.953 6.19 6.19 0 0 0-6.186 6.185c0 .483.06.953.157 1.411-5.136-.253-9.694-2.725-12.744-6.463a6.184 6.184 0 0 0-.832 3.111 6.2 6.2 0 0 0 2.749 5.148 6.254 6.254 0 0 1-2.797-.771v.084a6.196 6.196 0 0 0 4.955 6.065 6.028 6.028 0 0 1-1.628.217c-.397 0-.783-.036-1.157-.109a6.182 6.182 0 0 0 5.775 4.293 12.4 12.4 0 0 1-7.68 2.652c-.494 0-.989-.024-1.471-.084A17.587 17.587 0 0 0 24.34 42Z",fill:"#fff"})]})}},22641:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(785893);function a({size:e=56}){return(0,r.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,r.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#25D366"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39.206 16.65A15.75 15.75 0 0 0 27.99 12c-8.74 0-15.854 7.113-15.857 15.855a15.821 15.821 0 0 0 2.117 7.927L12 44l8.406-2.205a15.837 15.837 0 0 0 7.577 1.93h.007c8.74 0 15.853-7.114 15.856-15.857a15.76 15.76 0 0 0-4.64-11.218ZM27.99 41.047h-.005c-2.365 0-4.684-.636-6.708-1.837l-.482-.286-4.988 1.309 1.331-4.864-.313-.499a13.146 13.146 0 0 1-2.015-7.014c.003-7.266 5.915-13.178 13.185-13.178a13.09 13.09 0 0 1 9.318 3.865 13.098 13.098 0 0 1 3.856 9.324c-.003 7.267-5.915 13.18-13.179 13.18Zm7.23-9.871c-.397-.199-2.345-1.157-2.708-1.289-.364-.132-.628-.198-.891.198-.264.397-1.024 1.29-1.255 1.554-.231.264-.462.297-.858.099-.396-.199-1.673-.617-3.187-1.966-1.178-1.051-1.973-2.348-2.204-2.745-.231-.397-.024-.611.173-.808.178-.178.397-.463.595-.695.198-.23.264-.396.396-.66.132-.265.066-.496-.033-.695-.098-.198-.89-2.148-1.221-2.941-.322-.773-.649-.668-.892-.68a16.01 16.01 0 0 0-.759-.014c-.264 0-.693.099-1.057.495-.363.397-1.387 1.356-1.387 3.305 0 1.95 1.42 3.835 1.618 4.1.199.264 2.794 4.265 6.769 5.982.945.409 1.683.653 2.259.835.948.302 1.812.26 2.495.157.76-.114 2.344-.958 2.674-1.884.33-.925.33-1.719.23-1.884-.098-.166-.362-.266-.758-.464Z",fill:"#fff"})]})}},867060:(e,t,n)=>{n.d(t,{c:()=>r,y:()=>a});const r={10:13098,11:13099,6:13100,5:13101,14:13102,12:13103,15:13104,8:13105,4:13106,1:13107,18:13108,19:13109,20:13110,21:13111,22:13112,23:13113,26:13114,27:13115,29:13116,9:13286},a={pin:1,board:2,did_it:6,pinner:3,user:3,today_article:8}},696157:(e,t,n)=>{n.d(t,{E9:()=>l,F6:()=>h,MM:()=>E,MS:()=>r,On:()=>p,SI:()=>w,TJ:()=>c,TO:()=>u,W3:()=>s,WM:()=>b,XC:()=>y,XS:()=>P,Y9:()=>f,Yp:()=>m,_b:()=>a,_l:()=>g,bY:()=>d,e9:()=>i,iu:()=>v,kl:()=>S,om:()=>o,ou:()=>x,qo:()=>_});const r="visitedPagesBeforeLogin",a="_lastVisitedPages",i="visitedPinLandingPagesBeforeLogin",o="visitedBoardLandingPagesBeforeLogin",s="lastVisitedPage",l="unauthTopicsFollowed",c="unauthPins",d="unauthHybridLoginModalView",u="unauthHybridClickthroughCount",p="unauthHybridClickthroughTS",h="signupTime",m="signupInterestsPickerScrollDown",_="signupTriedSkipInputName",f="signupTriedSkipGender",g="signupInterestsPickerStartTime",y="signupUserLocale",v="signupUserCountry",b="uoiou",w="unauthRevisitation",S="urh",E="lineOAuthOneTimeCode",P="unlinkNetwork",x="mfapc"},844974:(e,t,n)=>{n.d(t,{L_:()=>a,Nh:()=>i,qn:()=>r});const r=(e,t=null)=>{try{return"undefined"!=typeof window&&window.localStorage.getItem(e)||t}catch(n){return console.error("Cannot access localStorage."),t}},a=e=>{try{if("undefined"==typeof window)return;window.localStorage.removeItem(e)}catch(t){console.error("Cannot access localStorage.")}},i=(e,t)=>{try{if("undefined"==typeof window)return;window.localStorage.setItem(e,t)}catch(n){console.error("Cannot access localStorage.")}}},339363:(e,t,n)=>{n.d(t,{L_:()=>a,Nh:()=>i,qn:()=>r});const r=(e,t)=>{if("undefined"==typeof window)return t;try{return window.sessionStorage.getItem(e)}catch(n){return window.console.error("Cannot access sessionStorage."),t}},a=e=>{if("undefined"!=typeof window)try{window.sessionStorage.removeItem(e)}catch(t){window.console.error("Cannot access sessionStorage.")}},i=(e,t)=>{if("undefined"!=typeof window)try{window.sessionStorage.setItem(e,t)}catch(n){window.console.error("Cannot access sessionStorage.")}}},858416:(e,t,n)=>{n.d(t,{Wr:()=>u,Hx:()=>h,RC:()=>p});var r=n(667294);var a=n(311541),i=n(425288),o=n(924687),s=n(785893);const l=()=>Promise.resolve().then(n.bind(n,924687)),{Provider:c,useHook:d}=(0,i.Z)("IdeaPinVideoPlayer");function u({children:e}){const[t,n]=(0,a.Z)(l,o.initialState),i=(0,r.useMemo)((()=>({dispatch:n,ideaPinVideoPlayerControls:t})),[n,t]);return(0,s.jsx)(c,{value:i,children:e})}function p(){const{dispatch:e}=d();return(0,r.useMemo)((()=>({updateSeekTime:(t,n)=>{e({type:"UPDATE_SEEK_TIME",payload:{seekTime:t,pinId:n||""}})},clearSeekTime:t=>{e({type:"CLEAR_SEEK_TIME",payload:{seekTime:void 0,pinId:t||""}})},updateSeekingIdeaPin:t=>{e(t?{type:"UPDATE_SEEKING_IDEA_PIN",payload:{isSeekingIdeaPin:t}}:{type:"UPDATE_SEEKING_IDEA_PIN",payload:{isSeekingIdeaPin:t,seekTime:void 0}})},updateCurrentTime:t=>{e({type:"UPDATE_CURRENT_TIME",payload:{currentTime:t}})},updateDuration:t=>{e({type:"UPDATE_DURATION",payload:{duration:t}})}})),[e])}function h(){const{ideaPinVideoPlayerControls:e}=d();return e}},924687:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a,initialState:()=>r});const r={seekTime:void 0,seekTimes:{},isSeekingIdeaPin:!1,currentProgressInfo:{currentTime:0,duration:0}};function a(e=r,t){switch(t.type){case"UPDATE_SEEK_TIME":return{...e,seekTimes:{...e.seekTimes,[t.payload.pinId]:t.payload.seekTime},seekTime:t.payload.seekTime};case"CLEAR_SEEK_TIME":return{...e,seekTimes:{...e.seekTimes,[t.payload.pinId]:t.payload.seekTime},seekTime:void 0};case"UPDATE_SEEKING_IDEA_PIN":return{...e,isSeekingIdeaPin:t.payload.isSeekingIdeaPin};case"UPDATE_CURRENT_TIME":return{...e,currentProgressInfo:{...e.currentProgressInfo,currentTime:t.payload.currentTime}};case"UPDATE_DURATION":return{...e,currentProgressInfo:{...e.currentProgressInfo,duration:t.payload.duration}};default:return e}}},224496:(e,t,n)=>{n.d(t,{Cc:()=>p,Gf:()=>_,LX:()=>a,Lc:()=>g,Rf:()=>l,YL:()=>s,ap:()=>i,h8:()=>d,jH:()=>f,kF:()=>h,pE:()=>c,s5:()=>m,tQ:()=>u,yR:()=>o});var r=n(883119);const a={w:9,h:16},i=a.w/a.h,o=8,s=10,l=5e3;function c(e,t=1){return{x:(null!=e?e:24)/5,y:(null!=e?e:24)*(t-1)}}const d={COMMENT_REPLY_STICKER:"story_pin_comment_reply_block",GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},u=[d.IMAGE,d.VIDEO],p={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1,font:{default_size:28,id:"1",key:"Graphik-Regular.otf",letter_spacing:-.4,line_height:1.25,name:"Teaspoon",url:"https://s.pinimg.com/story_pins/fonts/Graphik-Regular.otf"},font_size:28},h=new r.Ry(5),m=new r.H3([h]),_=new r.H3([m]),f=new r.Ry(1e3),g=e=>{const t=Math.floor(e||0),n=Math.floor(t/60),r=t-60*n;return`${n<10?`${n}`:n}:${r<10?`0${r}`:r}`}},940882:(e,t,n)=>{n.d(t,{J:()=>r,Z:()=>a});const r=-1;function a(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},985913:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(858142);const a=/\{\{\s*(\w+)\s*\}\}/g,i=(e,t)=>(0,r.Z)(a,e,t)},858791:(e,t,n)=>{n.d(t,{Z:()=>r});const r=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},936776:(e,t,n)=>{n.d(t,{Z:()=>a});const r=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,a=e=>r.test(e)},927104:(e,t,n)=>{n.d(t,{Z:()=>r});const r=(e,t)=>e.length>t?e.substr(0,t-3).trim()+"":e},858142:(e,t,n)=>{n.d(t,{Z:()=>r});const r=(e,t,n)=>t?t.replace(e,((e,t)=>n&&Object.prototype.hasOwnProperty.call(n,t)?n[t]:"")):""},66699:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(985913),a=n(858791);const i=(e,t)=>{const n={};return Object.keys(t).forEach((e=>{n[e]=t[e]?(0,a.Z)(t[e].toString()):""})),(0,r.Z)(e,n)}},883561:(e,t,n)=>{n.d(t,{ZP:()=>r});function r(e,t=80,n="",r=false){let a;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||r)a=e.substring(0,t);else{const n=e.lastIndexOf(" ",t);a=e.substring(0,n)}return a=a.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""),a+n}},700380:(e,t,n)=>{function r(e,t){let n;const r=(...r)=>{n||(e(...r),n=setTimeout((()=>n=null),t))};return r.cancel=()=>{void 0!==n&&clearTimeout(n)},r}n.d(t,{Z:()=>r})},790123:(e,t,n)=>{n.d(t,{j:()=>u,w:()=>d});var r=n(829407),a=n(19121),i=n(407043),o=n(50286),s=n(425288),l=n(785893);const{Provider:c,useMaybeHook:d}=(0,s.Z)("TimeSpentManagerContext");function u({children:e,value:t}){const n=(0,i.v)(),s=(0,o.HG)(),{isAuth:d}=(0,a.Z)(),u=s&&d;return(0,r.Z)((()=>{document.hasFocus()&&t(n,u).registerApp(),t(n,u).addEventListeners()})),(0,l.jsx)(c,{value:t(n,u),children:e})}},245474:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(172045),a=n(17314);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const o="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor(1e6*window.performance.now()):()=>1e6*Date.now();const s=class{constructor(e){i(this,"start",(()=>(this.startTime=o(),this.startTime))),i(this,"end",(()=>(this.endTime=o(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration)));try{this.uuid=(0,r.Z)()}catch(t){this.uuid=(0,a.Z)()}e&&Object.assign(this,e)}}},784641:(e,t,n)=>{n.d(t,{E5:()=>c,T7:()=>i,Y_:()=>d,bl:()=>s,d9:()=>p,nx:()=>u,xt:()=>l});var r=n(19121),a=n(780280);n(883119);function i(e,t,n,r){const a=function(e,t){return t?"shop":0===e||2===e?"trending":1===e?"best":"article"}(e,t),i=function(e){return e.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\'"]/g,"").trim().replace(/\s+/g,"-")}(n);return`/today/${a}/${encodeURIComponent(i)}/${r}/`}const o={en:["US","GB","CA","IN","AU","ID"],es:["MX","PE","AR","CL","CO","ES","VE","UY","PY","EC","BO","CR","DO","SV","GT","HN","NI","PR","PA"],pt:["BR"],de:["DE","AT","CH"],fr:["FR"],id:["ID"],ja:["JP"],it:["IT"],sv:["SE"]};function s(){var e;const t=(0,a.B)(),n=(0,r.Z)(),i=n.isAuth?n.country:t.country,s=t.locale.substring(0,2);return null===(e=o[s])||void 0===e?void 0:e.includes(i)}const l=(e,t,n)=>e||(t||n||""),c=(e,t)=>e||((null==t?void 0:t.origin_pinner)||(null==t?void 0:t.pinner)),d=e=>"todayarticle"===e.type,u=e=>Array.isArray(e)&&e.length>0&&e.every((e=>"story"===e.type)),p=e=>{var t,n;return(null!==(t=e.height)&&void 0!==t?t:1)/(null!==(n=e.width)&&void 0!==n?n:1)}},867820:(e,t,n)=>{n.d(t,{yl:()=>d,qJ:()=>p,Nc:()=>g,dy:()=>y,NC:()=>f,My:()=>m,tj:()=>h});var r=n(6637);const a="unauthHistories",i="authHistories",o="trackHistoryClickInternalUrl";var s=n(339363);let l=[];let c;function d(e){l.length&&(r.Z.create("UserRegisterTrackActionResource",{actions:l}).callUpdate({showError:!1,async:!e}),l=[],c=null)}function u(e,t){const n=(0,s.qn)(o);if((0,s.L_)(o),n)return;let r=(0,s.qn)(e);if(r=r?r.split(","):[],r.length){const e=`${t}.${r.reduce(((e,t)=>e+"-"+t))}`;l.push({name:e,aux_data:{}})}(0,s.L_)(e)}const p=e=>{u(a,e),u(i,`${e}_auth`),l.length&&d(!0)};function h(e,t){let n="undefined"!=typeof window&&window.encodeURIComponent&&encodeURIComponent(e)||e;t||(t={}),-1!==n.indexOf("%")&&(t.invalid_action&&(t.invalid_action_original=t.invalid_action),t.invalid_action=n,n="track_register_action.web.invalid_action.with_percent"),l.push({name:n,aux_data:t}),c||(c=setTimeout((()=>d()),5e3)),function(e,t){if("undefined"!=typeof window)try{const n=new URL(window.location.href).searchParams.get("consoleTra");if(window.PINTEREST_DEV_LOG||n){const n=window.PINTEREST_DEV_REGEX||"";n&&!(e||"").match(n)||(t&&"object"==typeof t&&Object.keys(t).length?console.log(e+": %O",t):console.log(e))}}catch(n){}}(e,t)}function m(e,t){h(e,{tags:t?{...t}:Object.freeze({})})}function _(e,t,n=!1){if("undefined"==typeof window)return;let r=(0,s.qn)(e);r=r?r.split(","):[],r.push(t),(0,s.Nh)(e,r.join()),e!==i&&m(`lex.${t}`),n&&(0,s.Nh)(o,!0)}function f(e,t=!1){_(a,e,t)}function g(e,t=!1){_(i,e,t)}const y=({event:e,provider:t})=>{m(`pinner_conversion.autologin.${t}.${e}`)}},52022:(e,t,n)=>{n.d(t,{S:()=>s,Z:()=>l});var r=n(667294),a=n(867820),i=n(53987),o=n(276775);const s=e=>(0,i.L6)(e)?"pin":(0,i.am)(e)?"board":(0,i.Xn)(e)?"login":(0,i.C$)(e)?"home":(0,i.cD)(e)?"profile":(0,i.dr)(e)?"ideas":(0,i.gT)(e)?"ideas-root":(0,i.tZ)(e)?"videos":(0,i.$Y)(e)?"article":(0,i.E0)(e)?"shopping-spotlight":(0,i.Zz)(e)?"today":(0,i.j8)(e)?"unauth-profile":(0,i.f1)(e)?"shopping-root":"other";function l(){const e=(0,o.useLocation)();return(0,r.useCallback)((({action:t,item:n,within:r})=>{const i=s(e);(0,a.My)(`logged_out_product.interaction.${i}.${t}`,{item:n||"none",within:r||"none"})}),[e])}},477802:(e,t,n)=>{n.d(t,{W:()=>o,Z:()=>i});var r=n(883119),a=n(785893);function i({data:e}){return(0,a.jsx)(r.xu,{overflow:"auto",dangerouslySetInlineStyle:{__style:{border:"2px solid red"}},"data-test-id":"debug-info",children:(0,a.jsx)("pre",{children:JSON.stringify(e,null,2).replace(/\\n/g,"\n")})})}const o=e=>(0,a.jsx)(r.xu,{width:236,dangerouslySetInlineStyle:{__style:{marginTop:10}},children:(0,a.jsx)(i,{...e})})},948618:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(883119),a=n(785893);function i({ariaHidden:e=!1,color:t="darkGray",size:n}){return(0,a.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,a.jsx)(r.xv,{color:t,inline:!0,size:null!=n?n:"200",children:""})})}},343341:(e,t,n)=>{n.d(t,{F9:()=>o,Zo:()=>a,nE:()=>i});var r=n(425288);const{Provider:a,Consumer:i,useHook:o}=(0,r.Z)("toastManagerContext")},170168:(e,t,n)=>{n.d(t,{Ag:()=>i,C0:()=>l,Vi:()=>o,YD:()=>u,kS:()=>a,oo:()=>s,vC:()=>c,vI:()=>d});var r=n(401060);const a="https://www.pinterest.com/business/hub/",i="https://www.pinterest.com/homefeed/",o="www.pinterest.com",s="https://help.pinterest.com",l="https://www.pinterest.com",c=(0,r.Z)({site:"developers"}),d=`${(0,r.Z)({site:"sterling"})}`,u=`${(0,r.Z)({site:"analytics"})}`},250059:(e,t,n)=>{n.d(t,{Z:()=>r});const r=e=>e?"string"==typeof e?e:e.pathname?e.pathname:"":""},149230:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(954931);const a=({url:e})=>!(!e||!e.match(/^https{0,1}:\/\//)||(0,r.Z)(e))},508847:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(567831);const a=(e,t)=>0===e.lastIndexOf(t,0),i=({url:e})=>{const t=(0,r.Z)("/");return a(e,t)?e.substr(t.length-1):e}},327476:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(773285);function a(){const{checkExperiment:e}=(0,r.F)();return t=>e("web_transform_promoted_text").anyEnabled?t.replace(" ","  "):t}},311541:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(667294);function a(e,t){const n=(0,r.useRef)([]),[a,i]=(0,r.useState)(),[o,s]=(0,r.useReducer)(null!=a?a:()=>t,t),l=(0,r.useCallback)((t=>{a?s(t):(n.current.length||e().then((e=>{i((()=>e.default))})),n.current=[...n.current,t])}),[e,a]);return(0,r.useEffect)((()=>{a&&(n.current.forEach(s),n.current=[])}),[a]),[o,l]}},829407:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(667294);const a=e=>{(0,r.useEffect)(e,[])}},807609:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(411465),a=n(966476);const i=()=>{const e=(0,r.Z)(),t=(0,a.Z)();return e&&!t}},411465:(e,t,n)=>{n.d(t,{G:()=>s,Z:()=>l});var r=n(667294),a=n(276775),i=n(785893);const o=(0,r.createContext)(!0);function s({children:e}){const t=(0,a.useLocation)(),[n,s]=(0,r.useState)(!0),l=(0,r.useRef)(t);return(0,r.useEffect)((()=>{l.current!==t&&(l.current=t,s(!1))}),[t]),(0,i.jsx)(o.Provider,{value:n,children:e})}function l(){return(0,r.useContext)(o)}},46584:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(667294);const a=new Map;let i=null;const o=e=>{e.forEach((e=>{const t=a.get(e.target);t&&t(e)}))};function s({onVisibilityChanged:e,inAdsDesktopVideoExperiment:t,trackFullVisible:n,rootMargin:s}){const l=(0,r.useRef)(null);let c=!1;const d=()=>{var t;l.current instanceof HTMLElement&&(t=l.current,a.has(t))&&(c&&(e(!1),c=!1))},u=(0,r.useCallback)((r=>{l.current instanceof HTMLElement&&((e,t="-64px 0px 0px 0px",n)=>{const r={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};i=i||new window.IntersectionObserver(o,r),a.set(e,n),i.observe(e)})(l.current,r,(r=>{if(!a.has(l.current))return;const i=t?r.intersectionRatio>=.5:r.intersectionRatio>0||r.isIntersecting,o=n?r.intersectionRatio>=1:i,s=n?0===r.intersectionRatio:!o;!c&&o?(t=>{const n=t.intersectionRatio>0||t.isIntersecting;c=n,c&&e(!0)})(r):c&&s&&d()}))}),[l.current]);return(0,r.useEffect)((()=>(u(s),()=>{var e;l.current instanceof HTMLElement&&(d(),e=l.current,i.unobserve(e),a.delete(e))})),[u]),l}},134906:(e,t,n)=>{n.d(t,{Bh:()=>d,C9:()=>b,CB:()=>h,CU:()=>o,FU:()=>I,GT:()=>s,Gy:()=>f,J_:()=>P,Jx:()=>m,MZ:()=>g,VC:()=>p,VG:()=>l,ZA:()=>c,Zt:()=>_,a3:()=>A,aH:()=>i,h7:()=>E,nw:()=>v,oR:()=>w,qA:()=>u,qp:()=>x,sG:()=>y,vd:()=>T,xk:()=>S});var r=n(89254);const a=e=>{const t={"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":" "},n=String(e).split("");return n.forEach(((e,r)=>{const a=t[e];a&&(n[r]=a)})),n.join("")};function i(e){return function(t,n){const r=[];t&&/\S/.test(t)||r.push(e.message);const a={errors:r,warnings:[]};return n&&n(a),a}}const o=new RegExp(["(^[-!#$%&'*+/=?^_`{}|~0-9A-Z]+(\\.[-!#$%&'*+/=?^_`{}|~0-9A-Z]+)*",'|^"([\\001-\\010\\013\\014\\016-\\037!#-\\[\\]-\\177]|\\\\[\\001-\\011\\013\\014\\016-\\177])*"',")@((?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+[A-Z]{2,20}$)","|\\[(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}\\]$"].join(""),"i");function s(e){return function(t,n){const r=[];(t=t&&t.trim()).match(o)||r.push(e.message);const a={errors:r,warnings:[]};return n&&n(a),a}}function l(e){return function(t,n){const r=[];(t=t&&t.trim()).match(/^[^0-9].*$/)||r.push(e.message);const a={errors:r,warnings:[]};return n&&n(a),a}}function c(e){return function(t,n){const r=[];if(t){const n=parseInt(t,10);Number.isNaN(n)?r.push(e.invalidAgeString):(e.ageTooShortString&&n<10&&r.push(e.ageTooShortString),n<=0||n>120?r.push(e.invalidAgeString):e.checkUnderAgeWithString&&n<13&&r.push(e.checkUnderAgeWithString))}const a={errors:r,warnings:[]};return n&&n(a),a}}function d(e){return function(t,n){const r=(t=t&&t.trim()).replace(/[\(\)\+\-\. ]/g,""),a=[],i=!1!==e.checkLength&&r.length<7;!t||t.match(/^(\(?\+?[0-9]*\)?)?[0-9_\- \.\(\)]*$/g)&&!i||a.push(e.message);const o={errors:a,warnings:[]};return n&&n(o),o}}function u(e){return function(t,n){const r=/^\d+$/,i=[];"number"==typeof t||"string"==typeof t&&(t=t&&t.trim(),(t=a(t))&&!t.match(r)&&i.push(e.message));const o={errors:i,warnings:[]};return n&&n(o),o}}function p(e){return function(t,n){const r=/^[\d\ -]+$/,i=[];"number"==typeof t||"string"==typeof t&&(t=t&&t.trim(),(t=a(t))&&!t.match(r)&&i.push(e.message));const o={errors:i,warnings:[]};return n&&n(o),o}}const h=e=>!!e.match(/^(https?:\/\/){0,1}[a-z0-9_\-]+\..+/gi);function m(e){return function(t,n){const r=[];t&&!h(t)&&r.push(e.message);const a={errors:r,warnings:[]};return n&&n(a),a}}function _(e){return function(t,n){const a=[];if(t)try{const n=(0,r.Z)(t);n&&n.protocol&&("http"!==n.protocol||"localhost"===n.hostname)||a.push(e.message)}catch(o){a.push(e.message)}const i={errors:a,warnings:[]};return n&&n(i),i}}function f(e){return function(t,n){const r=[];(e.should_trim||!1)&&(t=t&&t.trim());const a=t.length;e.min&&a<e.min?r.push(e.minErrorString):e.max&&a>e.max&&r.push(e.maxErrorString);const i={errors:r,warnings:[]};return n&&n(i),i}}function g(e){return function(t,n){const r=!e.checkExclusion,a=e.substrings,i=[];(r&&!a.some((e=>t.includes(e)))||!r&&a.some((e=>t.includes(e))))&&i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function y(e){return function(t,n){const r=[];t!==(e&&e.targetValue)&&r.push(e.message);const a={errors:r,warnings:[]};return n&&n(a),a}}function v(e){return function(t,n){const r=[];(t?parseFloat(t):0)<e.value&&r.push(e.message);const a={errors:r,warnings:[]};return n&&n(a),a}}function b(e){return function(t,n){const r=new Date(t),a=[];e.date instanceof Date&&r instanceof Date&&e.date<r&&a.push(e.message);const i={errors:a,warnings:[]};return n&&n(i),i}}function w(e){return function(t,n){const r=[];/^[\040-\176]*$/.test(t)||r.push(e.message);const a={errors:r,warnings:[]};return n&&n(a),a}}function S(e){return function(t,n){let r=2;if(e.hasFractionalCents)r=3;else if(e.currencyCode){const{maximumFractionDigits:t}=new Intl.NumberFormat(void 0,{style:"currency",currency:e.currencyCode}).resolvedOptions();r=t}const a=new RegExp(r?`^\\d*(\\.\\d{1,${r}})?$`:"^\\d*$"),i=[];"number"==typeof t&&(t=t.toString()),t&&!t.match(a)&&(t=t&&t.trim(),i.push(e.message));const o={errors:i,warnings:[]};return n&&n(o),o}}function E(e){return function(t,n){const r=[];Number(t)>=1e13&&r.push(e.message);const a={errors:r,warnings:[]};return n&&n(a),a}}function P(e){return function(t,n){t=t&&t.trim();const r=[],a=new Date(t);t&&!a.getTime()&&r.push(e.message);const i={errors:r,warnings:[]};return n&&n(i),i}}function x(e){return function(t,n){const r=t&&t.trim(),a=[];r&&!r.match(/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/)&&a.push(e.message);const i={errors:a,warnings:[]};return n&&n(i),i}}function T(e){return function(t,n){const r=[];e.pattern.test(t)||r.push(e.message);const a={errors:r,warnings:[]};return n&&n(a),a}}function I(e,t){const n=e.map((e=>e(t).errors));return[].concat(...n)}function A(e,t){let n="";return t.some((t=>{const r=t(e);return r.errors.length>0&&(n=r.errors[0],!0)})),n}},562559:(e,t,n)=>{n.d(t,{Z:()=>b});var r=n(667294),a=n(867631),i=n.n(a),o=n(112690),s=n(19121),l=n(965900),c=n(773285),d=n(780280),u=n(883119),p=n(969315),h=n(179888),m=n(858416),_=n(785893);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g=(e,t)=>{if(t){const n="control"===t?"v3.pinimg.com":"v2.pinimg.com";return e.replace("v.pinimg.com",n)}return e},y=(e,t)=>"string"==typeof e?g(e,t):Array.isArray(e)?((e,t)=>e[0].src&&t?[{...e[0],src:g(e[0].src,t)}]:e)(e,t):e;class v extends r.PureComponent{constructor(...e){super(...e),f(this,"state",{canPlayVideo:!1,isManifestParsed:!1,playbackState:h.Cy.DEFAULT,videoStartTime:this.props.seekTime||0}),f(this,"errorRetryCount",1),f(this,"firstFragBuffered",!1),f(this,"hasPlaybackStarted",!1),f(this,"hasVideoSessionStarted",!1),f(this,"hasVideoSessionEnded",!1),f(this,"hls",null),f(this,"fragStartupTime",{}),f(this,"lastLevelSwitchKbps",null),f(this,"lastStallTime",null),f(this,"lastPauseTime",null),f(this,"logSessionStartOnNextPlay",!1),f(this,"playerId",""),f(this,"videoSessionId",""),f(this,"videoVisibleTime",null),f(this,"playbackPerformance",{canPlayTime:null,detailedErrors:"",downloadedKiloBytes:0,errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numberOfStalls:0,numberOfSeeks:0,playbackStartTimestamp:null,segments:[],srcString:"string"==typeof this.props.src?g(this.props.src,this.props.quicExpGroup):g(this.props.src[0].src,this.props.quicExpGroup),totalStallDurationMs:0,totalPauseDurationMs:0,videoCreatedTime:null}),f(this,"initializeHls",(()=>{this.destroyHls();const{src:e,hlsConfig:t,quicExpGroup:n}=this.props,r=new(i())(t),a=y(e,n);r.loadSource(a),this.videoPlayerRef&&r.attachMedia(this.videoPlayerRef.video),r.on(i().Events.FRAG_BUFFERED,this.handleHlsFragBuffered),r.on(i().Events.FRAG_CHANGED,this.handleHlsFragChanged),r.on(i().Events.FRAG_LOADING,this.handleHlsFragLoading),r.on(i().Events.FRAG_LOADED,this.handleHlsFragLoaded),r.on(i().Events.MANIFEST_PARSED,(()=>{this.setState({isManifestParsed:!0})})),r.on(i().Events.LEVEL_SWITCHED,this.handleHlsLevelSwitched),r.on(i().Events.ERROR,this.handleHlsError),this.hls=r})),f(this,"destroyHls",(()=>{const{hls:e}=this;e&&e.destroy()})),f(this,"addSegment",(e=>{const{segments:t}=this.playbackPerformance,n=t&&t[t.length-1];if(this.hls&&t.length&&n&&n.uri!==e.url){this.updateWatchDurationForCurrentSegment();const n=this.videoPlayerRef&&this.videoPlayerRef.video,r=this.hls&&this.hls.levels||{},a="number"==typeof e.level?r[e.level]:{},i=this.fragStartupTime[e.url];let o=-1;i&&i.startLoadTime&&i.endLoadTime&&(o=i.endLoadTime-i.startLoadTime);const s={indicatedKbps:a.bitrate/h.bR,duration:e.duration,level:e.level,lastStartPlayTime:this.getCurrentVideoTime(),numServerAddressChange:-1,observedKbps:this.hls&&this.hls.bandwidthEstimate/h.bR||-1,playbackStartDate:Date.now(),serverAddress:"",sn:e.sn,sourceWidth:a.width,sourceHeight:a.height,startupTimeMs:o,switchBitrateKbps:this.lastLevelSwitchKbps||-1,uri:e.url,viewportWidth:n&&n.clientWidth||-1,viewportHeight:n&&n.clientHeight||-1,watchedDurationMs:0};t.push(s)}})),f(this,"initializeSegments",(e=>{const{contextLogData:t={}}=this.props,{is_closeup_video:n=!1}=t,{segments:r}=this.playbackPerformance;if(!r.length)if(this.hls&&this.videoPlayerRef&&this.videoPlayerRef.video&&e){if(!r.length&&"number"==typeof e.level){const t=this.videoPlayerRef&&this.videoPlayerRef.video,n=this.hls.levels,a="number"==typeof e.level?n[e.level]:{},i=this.fragStartupTime[e.url];let o=-1;i&&i.startLoadTime&&i.endLoadTime&&(o=i.endLoadTime-i.startLoadTime),this.lastLevelSwitchKbps=this.hls.bandwidthEstimate/h.bR;const s={indicatedKbps:a.bitrate/h.bR,duration:e.duration,level:e.level,lastStartPlayTime:null,numServerAddressChange:-1,observedKbps:this.hls.bandwidthEstimate/h.bR||-1,playbackStartDate:null,serverAddress:"",sn:e.sn,sourceWidth:a.width,sourceHeight:a.height,startupTimeMs:o,switchBitrateKbps:this.lastLevelSwitchKbps||-1,uri:e.url,viewportWidth:t.clientWidth,viewportHeight:t.clientHeight,watchedDurationMs:0};r.push(s)}}else(0,p.tE)("initializeSegmentsFailed",!0,n)})),f(this,"getCurrentVideoTime",(()=>this.videoPlayerRef&&this.videoPlayerRef.video?this.videoPlayerRef.video.currentTime*h.gJ:null)),f(this,"handleCanPlayVideo",(e=>{const{contextLogData:t={},onReady:n,playing:r}=this.props,{is_closeup_video:a=!1}=t,{canPlayVideo:i}=this.state;(0,p.tE)("handleCanPlayVideo",!0,a,{firstCanPlayEvent:!i,playing:r}),this.playbackPerformance.hasFatalError=!1,i||(this.playbackPerformance.canPlayTime=new Date),this.setState({canPlayVideo:!0}),n&&n(e)})),f(this,"handleEnded",(e=>{const{loop:t,onEnded:n}=this.props,{segments:r}=this.playbackPerformance,a=r&&r[r.length-1];t&&this.videoPlayerRef&&this.videoPlayerRef.video?(this.updateWatchDurationForCurrentSegment(),a&&(a.lastStartPlayTime=0),this.fragStartupTime={}):t||this.logPlaybackPerformance(h.$f,{initiator:"videoEnded",loop:t}),this.setState({playbackState:h.Cy.ENDED}),n&&n(e)})),f(this,"handleHlsError",((e,t)=>{var n;const{contextLogData:r={}}=this.props,{is_closeup_video:a=!1}=r;if(this.playbackPerformance.detailedErrors+=`${this.playbackPerformance.detailedErrors.length>0?", ":""}${t.details}`,t.fatal){var o,s,l,c;this.playbackPerformance.hasFatalError=!0,this.playbackPerformance.errorName=t.type,this.playbackPerformance.errorReason=t.details,this.playbackPerformance.errorCode=t.response&&t.response.code?t.response.code:0;const e={errorName:t.type,errorReason:t.details,errorRetryCount:this.errorRetryCount,errorMessage:(null===(o=t.err)||void 0===o||null===(s=o.message)||void 0===s?void 0:s.slice(0,50))||"unknown",errorResponse:(null===(l=t.response)||void 0===l||null===(c=l.text)||void 0===c?void 0:c.slice(0,50))||"unknown",playbackState:this.state.playbackState};if((0,p.tE)("fatalError",!0,a,e),this.errorRetryCount>0)switch(this.errorRetryCount-=1,t.type){case i().ErrorTypes.NETWORK_ERROR:if(t.details===i().ErrorDetails.MANIFEST_LOAD_ERROR||t.details===i().ErrorDetails.MANIFEST_LOAD_TIMEOUT||t.details===i().ErrorDetails.MANIFEST_LOAD_PARSING_ERROR){var d;const{src:e,quicExpGroup:t}=this.props,n=y(e,t);null===(d=this.hls)||void 0===d||d.loadSource(n)}else{var u;null===(u=this.hls)||void 0===u||u.startLoad()}break;case i().ErrorTypes.MEDIA_ERROR:null===(n=this.hls)||void 0===n||n.recoverMediaError()}}this.updateWatchDurationForCurrentSegment(),this.setState({playbackState:h.Cy.FAILED})})),f(this,"handleHlsFragBuffered",((e,t)=>{this.firstFragBuffered||(this.initializeSegments(t.frag),this.firstFragBuffered=!0)})),f(this,"handleHlsFragChanged",((e,t)=>{this.addSegment(t.frag)})),f(this,"handleHlsFragLoading",((e,t)=>{var n;const r=null===(n=t.frag)||void 0===n?void 0:n.url;r&&!this.fragStartupTime[r]&&(this.fragStartupTime[r]={startLoadTime:new Date})})),f(this,"handleHlsFragLoaded",((e,t)=>{var n;t.frag&&t.frag.loaded&&(this.playbackPerformance.downloadedKiloBytes+=t.frag.loaded/h.Fm);const r=null===(n=t.frag)||void 0===n?void 0:n.url;r&&this.fragStartupTime[r]&&this.fragStartupTime[r].startLoadTime&&(this.fragStartupTime[r].endLoadTime=new Date)})),f(this,"handleHlsLevelSwitched",(()=>{this.hls&&this.hls.bandwidthEstimate&&(this.lastLevelSwitchKbps=this.hls.bandwidthEstimate/h.bR)})),f(this,"handleLoadedMetadata",(()=>{this.setState({playbackState:h.Cy.LOADED_METADATA})})),f(this,"handleLoadStart",(()=>{this.playbackPerformance.loadStartTime=new Date,this.setState({playbackState:h.Cy.LOAD_START})})),f(this,"handleLoadedData",(()=>{this.setState({playbackState:h.Cy.LOADED_DATA})})),f(this,"handlePlaying",(()=>{this.playbackPerformance.hasFatalError=!1,this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.updateStallDuration(),this.updatePauseDuration(),this.setState({playbackState:h.Cy.PLAYING}),this.props.clearSeekTime()})),f(this,"handleUserPause",(e=>{const{onControlsPause:t}=this.props;this.lastPauseTime=new Date,t&&t(e)})),f(this,"handleVideoPause",(()=>{this.state.playbackState!==h.Cy.STALLING&&this.state.playbackState!==h.Cy.SEEKING&&(this.updateWatchDurationForCurrentSegment(),this.lastPauseTime||this.updateStallDuration()),this.setState({playbackState:h.Cy.PAUSED})})),f(this,"handleSeeking",(()=>{this.playbackPerformance.numberOfSeeks+=1;const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&(t.lastStartPlayTime=null),this.state.playbackState!==h.Cy.ENDED&&this.setState({playbackState:h.Cy.SEEKING})})),f(this,"handleStalled",(()=>{null===this.lastStallTime&&this.state.playbackState!==h.Cy.ENDED&&(this.lastStallTime=new Date,this.playbackPerformance.numberOfStalls+=1),this.setState({playbackState:h.Cy.STALLING})})),f(this,"handleTimeUpdate",(e=>{const{onTimeChange:t}=this.props;t&&t(e),this.state.playbackState===h.Cy.PLAYING&&(this.updateWatchDurationForCurrentSegment(),this.setLastSegmentStartPlayTime())})),f(this,"resetPlaybackMetrics",(()=>{this.hasPlaybackStarted=!1,this.hasVideoSessionStarted=!1,this.hasVideoSessionEnded=!0,this.lastLevelSwitchKbps=null,this.lastStallTime=null,this.lastPauseTime=null,this.videoSessionId="",this.videoVisibleTime=null,this.logSessionStartOnNextPlay=!1;const e={...this.playbackPerformance.segments[this.playbackPerformance.segments.length-1],lastStartPlayTime:null,playbackStartDate:null,switchBitrateKbps:-1,watchedDurationMs:0};this.playbackPerformance.detailedErrors="",this.playbackPerformance.downloadedKiloBytes=0,this.playbackPerformance.errorCode=0,this.playbackPerformance.errorName="",this.playbackPerformance.errorReason="",this.playbackPerformance.hasFatalError=!1,this.playbackPerformance.numberOfStalls=0,this.playbackPerformance.numberOfSeeks=0,this.playbackPerformance.playbackStartTimestamp=null,this.playbackPerformance.totalStallDurationMs=0,this.playbackPerformance.segments=[e]})),f(this,"setLastSegmentStartPlayTime",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.lastStartPlayTime&&(t.lastStartPlayTime=this.getCurrentVideoTime())})),f(this,"setLastSegmentPlaybackStartDate",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.playbackStartDate&&(t.playbackStartDate=Date.now())})),f(this,"setPlaybackStartTime",(()=>{this.hasPlaybackStarted||(this.playbackPerformance.playbackStartTimestamp=Date.now(),this.hasPlaybackStarted=!0)})),f(this,"setVideoPlayerRef",(e=>{const{setVideoRef:t}=this.props;if(e&&(t&&t(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){const e=this.videoPlayerRef.video;e.addEventListener("loadedmetadata",this.handleLoadedMetadata),e.addEventListener("loadeddata",this.handleLoadedData),e.addEventListener("pause",this.handleVideoPause),e.readyState>=3&&(this.setState({canPlayVideo:!0}),this.playbackPerformance.canPlayTime=new Date)}})),f(this,"updateStallDuration",(()=>{null!==this.lastStallTime&&(this.playbackPerformance.totalStallDurationMs+=new Date-this.lastStallTime,this.lastStallTime=null)})),f(this,"updatePauseDuration",(()=>{if(null!==this.lastPauseTime){const e=this.lastPauseTime;this.playbackPerformance.totalPauseDurationMs+=new Date-e,this.lastPauseTime=null}})),f(this,"updateWatchDurationForCurrentSegment",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1],n=t?t.lastStartPlayTime:null,r=this.getCurrentVideoTime();if(t&&null!==n&&"number"==typeof r&&"number"==typeof n){const e=r-n;e>0&&(t.watchedDurationMs+=e,t.lastStartPlayTime=null)}})),f(this,"logPlaybackPerformance",((e,t)=>{const{contextLogData:n={},userId:r,isAutoPlay:a,logContextEvent:i}=this.props,{is_closeup_video:o=!1}=n,{canPlayTime:s,detailedErrors:l,downloadedKiloBytes:c,errorCode:d,errorName:u,errorReason:m,hasFatalError:_,playbackStartTimestamp:f,totalPauseDurationMs:g,totalStallDurationMs:y,segments:v,srcString:b,loadStartTime:w,numberOfStalls:S,numberOfSeeks:E}=this.playbackPerformance,P=this.videoPlayerRef&&this.videoPlayerRef.video,x=e===h.DR,T=x&&!this.hasVideoSessionStarted,I=!x&&!this.hasVideoSessionEnded&&this.hasVideoSessionStarted;if(this.hls&&P&&(T||I)){var A;let T=-1;s&&w&&(T=s>w?s-w:0);let I=-1;s&&this.videoVisibleTime&&(I=s>this.videoVisibleTime?s-this.videoVisibleTime:0),x&&(this.videoSessionId=(0,h.Y7)(r),this.playerId=this.playerId||(0,h.EB)());const R={autoplaying:a,averageVideoKbps:-1,detailedErrors:l,downloadedKiloBytes:c,isCellular:!1,errorCode:d,errorName:u,errorReason:m,fatalError:_,nativeVideoDurationMs:P.duration*h.gJ||-1,numberOfStalls:S,numberOfSeeks:E,overallPausedDurationMs:g,overallBufferDurationMs:y,overallWatchedDurationMs:-1,rebufferRate:-1,playbackSessionId:this.videoSessionId,playbackStartTimestamp:f||-1,segments:[],sessionMark:e,screenPixelScale:null!==(A=window)&&void 0!==A&&A.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:P.clientWidth,startupPlayerHeight:P.clientHeight,startupTimeMs:T,startupLatencyMs:I,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:P.videoWidth,startupVariantHeight:P.videoHeight,videoUrl:b};if(!x&&v.length){const e=this.hls.levels,t=v[0];this.updateWatchDurationForCurrentSegment(),this.updateStallDuration();const n=v.reduce(((t,n)=>{if(n&&"number"==typeof n.level&&e&&e.length>0){return t+(e[n.level]||{}).bitrate*(n.watchedDurationMs||0)/h.gJ}return t}),0),r=v.reduce(((e,t)=>e+(t.watchedDurationMs||0)),0);let a=null,i=0,o=0;do{i+=v[o].watchedDurationMs,a=a||v[o].level,o+=1}while(o<v.length&&v[o].level===a);R.startupVariantKbps=t.indicatedKbps,R.startupVariantWatchedDurationMs=i,R.startupVariantWidth=t.sourceWidth,R.startupVariantHeight=t.sourceHeight,R.startupPlayerWidth=t.viewportWidth,R.startupPlayerHeight=t.viewportHeight,R.overallWatchedDurationMs=r,r>0?(R.averageVideoKbps=n/(r/h.gJ),R.rebufferRate=this.playbackPerformance.totalStallDurationMs/r):0===r&&(R.averageVideoKbps=-1,R.rebufferRate=-1,R.errorName="invalid_watch_duration"),R.segments=v}else R.errorName="invalid_watch_duration";(0,p.ZP)(R,!0,o,{playbackState:this.state.playbackState,...t});const{clientTrackingParams:k,component:C,durationNs:O,element:D,objectId:N,pairId:L,viewData:M,view:j,viewParameter:F,...U}=n;i({aux_data:{...U,is_closeup_video:o,playback_session_id:this.videoSessionId},clientTrackingParams:k,component:C,duration_ns:O,element:D,event_data:{videoPerformanceData:R},event_type:3606,object_id_str:N,pair_id:L,view_data:M,view_parameter:F,view_type:j}),x?(this.hasVideoSessionStarted=!0,this.hasVideoSessionEnded=!1):this.resetPlaybackMetrics(),(0,p.tE)(x?"sessionStart":"sessionEnd",!0,o,{playbackState:this.state.playbackState,...t})}}))}componentDidMount(){const{contextLogData:e={},playing:t}=this.props,{is_closeup_video:n=!1}=e;this.playbackPerformance.videoCreatedTime=new Date,this.initializeHls(),(0,p.tE)("videoMounted",!0,n),t&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(h.DR,{initiator:"mount"}))}componentDidUpdate(e){const{loop:t,playing:n,src:r,visible:a,appInFocus:i,seekTime:o}=this.props;var s,l;o&&o!==e.seekTime&&this.setState({videoStartTime:o}),(typeof(s=e.src)!=typeof(l=r)||(Array.isArray(l)?s.length!==l.length||l.some(((e,t)=>!Array.isArray(s)||e.type!==s[t].type||e.src!==s[t].src)):l!==s))&&this.initializeHls(),e.appInFocus&&!i&&(this.logPlaybackPerformance(h.$f,{initiator:"update",loop:t}),this.logSessionStartOnNextPlay=!0),e.visible&&!1===a&&(this.logSessionStartOnNextPlay=!1,this.updatePauseDuration(),this.logPlaybackPerformance(h.$f,{initiator:"update",loop:t})),!1===e.visible&&!0===a&&(this.videoVisibleTime=this.videoVisibleTime||new Date,n?(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(h.DR,{initiator:"update"})):this.logSessionStartOnNextPlay=!0),n&&i&&this.logSessionStartOnNextPlay&&(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(h.DR,{initiator:"update"}),this.logSessionStartOnNextPlay=!1)}componentWillUnmount(){const{loop:e}=this.props;this.updatePauseDuration(),this.logPlaybackPerformance(h.$f,{initiator:"unmount",loop:e}),this.destroyHls()}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:r,accessibilityPlayLabel:a,accessibilityProgressBarLabel:i,accessibilityUnmuteLabel:o,aspectRatio:s,backgroundColor:l,captions:c,controls:d,loop:p,loopOverride:h,onDurationChange:m,onFullscreenChange:f,onLoadedChange:g,onControlsPlay:v,onPlayheadDown:b,onPlayheadUp:w,onSeek:S,onVolumeChange:E,playbackRate:P,playing:x,playsInline:T,poster:I,preload:A,quicExpGroup:R,src:k,volume:C}=this.props,{canPlayVideo:O,isManifestParsed:D,videoStartTime:N}=this.state,L=y(k,R);return(0,_.jsx)(u.nk,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:r,accessibilityPlayLabel:a,accessibilityProgressBarLabel:i,accessibilityUnmuteLabel:o,aspectRatio:s,backgroundColor:l,captions:c,controls:d,loop:void 0===h?p:h,onDurationChange:m,onEnded:this.handleEnded,onFullscreenChange:f,onLoadStart:this.handleLoadStart,onLoadedChange:g,onControlsPause:this.handleUserPause,onControlsPlay:v,onPlaying:this.handlePlaying,onPlayheadDown:b,onPlayheadUp:w,onReady:this.handleCanPlayVideo,onSeek:S,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:E,onWaiting:this.handleStalled,playbackRate:P,onPlay:()=>{},onPlayError:()=>{},playing:D&&O&&x,playsInline:T,poster:I,preload:A,ref:this.setVideoPlayerRef,src:L,startTime:N,volume:C})}}const b=(0,r.memo)((function(e){const{country:t,isAuthenticated:n,isBot:r,isSocialBot:a,unauthId:i,userAgent:u}=(0,d.B)(),h=(0,o.Z)(),f=(0,s.Z)(),{browserName:g,browserVersion:y,isMobile:b}=u,{contextLogData:w={}}=e,{is_closeup_video:S=!1,view:E,viewParameter:P}=w,{checkExperiment:x}=(0,c.F)(),{seekTime:T}=(0,m.Hx)(),{clearSeekTime:I}=(0,m.RC)();let A=null;n&&(A=x("web_video_quic").group.length?x("web_video_quic").group:null);const{appUI:R}=(0,l.I)(),k=x("web_video_fail_to_start_fix").anyEnabled?R.appInFocus:e.appInFocus,C={browserName:g,browserVersion:y,country:t,isAuthenticated:n,isBot:r,is_closeup_video:S,isMobile:b,isSocialBot:a,view:E,viewParameter:P};return(0,p.r$)(C),(0,_.jsx)(v,{...e,userId:f.id||i,appInFocus:k,quicExpGroup:A,logContextEvent:h,seekTime:T,clearSeekTime:I})}))},964082:(e,t,n)=>{function r(e,t){const{organicVideosAutoplaying:n,promotedVideosAutoplaying:r}=t,a={...n,...r};for(const i in a){const{paused:t}=a[i];if(i!==e&&!t)return!1}return!0}n.d(t,{Z:()=>r})},36971:(e,t,n)=>{function r(e,t){const{organicVideosAutoplaying:n,promotedVideosAutoplaying:r}=t,a={...n,...r};return a[e]&&a[e].currentTime}n.d(t,{Z:()=>r})},463045:(e,t,n)=>{function r(e,t){const{organicVideosAutoplaying:n,promotedVideosAutoplaying:r}=t,a={...n,...r};return!!a[e]&&!a[e].paused}n.d(t,{Z:()=>r})},969315:(e,t,n)=>{n.d(t,{ZP:()=>u,r$:()=>c,tE:()=>d});var r=n(311560),a=n(172071),i=n(179888);const o=["isCellular","videoUrl","sessionMark"];let s={},l="";const c=e=>{const{browserName:t,browserVersion:n,country:a,isAuthenticated:i,isBot:o,isMobile:c,isSocialBot:d,view:u="unknown",viewParameter:p="unknown"}=e;l=(d?"socialBot":o&&"bot")||"nonbot";const h=(0,r.Z)(a);s={browserName:t,browserVersion:(null==n?void 0:n.split(".")[0])||"0",isAuthenticated:i,isMobile:c,region:h,view:u,viewParameter:p}};function d(e,t,n,r={}){const i=n?"closeup":"nonCloseup",o=t?"hls":"nonHls",c={...r,...s},d=`web.video.${o}.${l}.${i}.${e}`;a.Z.increment(d,1,c)}function u(e,t,n,r={}){const c=n?"closeup":"nonCloseup",d=t?"hls":"nonHls",u=e.sessionMark===i.DR?"sessionStart":"sessionEnd",p={...r,...s};if(Object.entries(e).forEach((([t,n])=>{const r=`web.video.${d}.${l}.${c}.${u}.${t}`,i=parseInt(n,10),s="number"==typeof i?i:-1;var h;if(!o.includes(t))if(t.includes("fatalError")&&!0===n){const{errorCode:t,errorName:n,errorReason:i}=e;a.Z.increment(r,1,{errorCode:t,errorName:n,errorReason:i,...p})}else if(t.includes("Width")||t.includes("Height")){const e=(h=s)<0?"negative":0===h?"zero":h<200?"xs":h<400?"s":h<600?"m":h<800?"l":h<1e3?"xl":h<1200?"xxl":"over1200";a.Z.increment(r,1,{dimensionBucket:e,...p})}else if("numberOfStalls"===t){let e=n;s>1e3?e="over1000":s>10?e="over10":s<0&&(e="negative"),a.Z.increment(r,1,{numberOfStalls:e,...p})}else"screenPixelScale"===t?a.Z.increment(r,1,{screenPixelScale:n||-1,...p}):s>=0?(0===s&&a.Z.increment(`${r}.zero`,1,p),a.Z.timing(r,s,1),a.Z.timing(`${r}_with_tags`,s,1,p)):s<0&&a.Z.increment(`${r}.negative`,1,p)})),e.sessionMark!==i.DR){const{rebufferRate:t,screenPixelScale:n,startupLatencyMs:r,startupVariantWidth:i,startupPlayerWidth:o}=e,s=`web.video.${d}.${l}.${c}.${u}`;if("number"==typeof i&&"number"==typeof o&&"number"==typeof n){const e=1.5*i>n*o;a.Z.increment(`${s}.upscaled.${e?"good":"bad"}`,1,p)}"number"==typeof r&&a.Z.increment(`${s}.startupLatency.${r<500?"good":"bad"}`,1,p),"number"==typeof t&&a.Z.increment(`${s}.rebufferRate.${t<.01?"good":"bad"}`,1,p)}}},179888:(e,t,n)=>{n.d(t,{$f:()=>i,Cy:()=>c,DR:()=>a,EB:()=>p,Fm:()=>l,Y7:()=>u,bR:()=>s,gJ:()=>o,lG:()=>d});var r=n(172045);const a=1,i=2,o=1e3,s=1e3,l=1e3,c=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),d=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4});function u(e){return e+"-"+(0,r.Z)()}function p(){return(0,r.Z)()}},121630:(e,t,n)=>{n.d(t,{Z:()=>i,e:()=>a});var r=n(81226);const a=e=>{if("undefined"==typeof window)return"";let t=0;const n=document.querySelector('[data-test-id="header"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}switch(e){case"AuthHomefeed":const e=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==e){const{height:n}=e.getBoundingClientRect();t+=n}break;case"SearchItem":const n=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}const r=document.querySelector('[data-test-id="search-tab-bar"],[data-root-margin="search-one-bar"]');if(null!==r){const{height:e}=r.getBoundingClientRect();t+=e}}return-1*t+"px 0px 0px 0px"},i=e=>{var t,n,a,i,o;return(0,r.Z)((null===(t=e.videos)||void 0===t?void 0:t.duration)||(null===(n=e.videos)||void 0===n||null===(a=n.video_list)||void 0===a||null===(i=a.V_HLSV4)||void 0===i?void 0:i.duration)||(null===(o=e.story_pin_data)||void 0===o?void 0:o.total_video_duration)||0)}},43760:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(768559),a=n(102500),i=n(48714);function o({url:e,pinId:t,pin:n,location:o,auxData:s}){var l,c;const d={check_only:!0,client_tracking_params:n?(0,r.Z)({boardUrl:null===(l=n.board)||void 0===l?void 0:l.url,callToCreateSourcePinId:n.call_to_create_source_pin_id,location:o,pinId:n.id,pinnerUserName:null===(c=n.pinner)||void 0===c?void 0:c.username,storyPinDataId:n.story_pin_data_id,trackingParams:n.tracking_params,trackingParamsMap:n.tracking_params_map}):void 0,pin_id:n?n.id:t,url:e,aux_data:JSON.stringify(s)};(0,a.Z)(d).callGet().then((a=>{if(a&&a.resource_response&&!a.resource_response.error){const{resource_response:e}=a,{redirect_status:t,url:n}=e.data;if(!["blocked","suspicious","porn"].includes(t)){if(window.Windows.Foundation&&window.Windows.System&&window.Windows.System.Launcher&&window.Windows.System.Launcher.launchUriAsync){const e=new window.Windows.Foundation.Uri(n);window.Windows.System.Launcher.launchUriAsync(e)}return}}if(n){var l,c;const a=(0,r.Z)({boardUrl:null===(l=n.board)||void 0===l?void 0:l.url,callToCreateSourcePinId:n.call_to_create_source_pin_id,location:o,pinId:n.id,pinnerUserName:null===(c=n.pinner)||void 0===c?void 0:c.username,storyPinDataId:n.story_pin_data_id,trackingParams:n.tracking_params,trackingParamsMap:n.tracking_params_map});(0,i.Gj)({url:e,pinId:t,csrId:null,clientTrackingParams:a,auxData:s})}else(0,i.Gj)({url:e,pinId:t})}))}},139405:(e,t,n)=>{n.d(t,{pb:()=>y,nf:()=>v,lV:()=>b});var r=n(667294),a=n(702664),i=n(6637),o=n(618446),s=n.n(o),l=n(682492),c=n.n(l);const d={feature_map:Object.freeze({})},u=(e,t)=>{const n={...c()({},e,t),...t.reaction_counts?{reaction_counts:t.reaction_counts}:Object.freeze({}),...t.tags?{tags:t.tags}:Object.freeze({}),...t.tagged_users?{tagged_users:t.tagged_users}:Object.freeze({})};return s()(e,n)?e:n},p=(e=d,t)=>{if("FETCH_COMPLETE"===t.type){const{payload:{resource:n}}=t,r=t.payload.response.resource_response.data;if("AggregatedCommentFeedResource"===n||"AggregatedCommentReplyFeedResource"===n||"DidItCommentsResource"===n){const t=(r||[]).reduce(((t,n)=>(t[n.id]=u(e[n.id],n),t)),{});return{...e,...t}}if("UnifiedCommentsResource"===n&&r&&r.length>0){const t=r.filter((e=>"aggregatedcomment"===e.type)).reduce(((t,n)=>(t[n.id]=u(e[n.id],n),t)),{});return{...e,...t}}if("UnifiedCommentsPreviewResource"===n&&r&&r.length>0){const t=r[0].aggregated_comment,n=t?{[t.id]:u(e[t.id],t)}:{},a=r[0].creator_reply,i=a?{[a.id]:u(e[a.id],a)}:{};return{...e,...n,...i}}if("AggregatedCommentFeaturesResource"===n&&r&&Object.keys(r).length>0)return{...e,feature_map:r}}else{if("AGGREGATED_COMMENT_CREATED"===t.type){const{payload:{aggregatedComment:n}}=t;return n.id?{...e,[n.id]:n}:e}if("AGGREGATED_COMMENT_DELETED"===t.type||"AGGREGATED_COMMENT_HIDDEN"===t.type){const{payload:{aggregatedCommentId:n}}=t,r={...e};return delete r[n],r}if("AGGREGATED_COMMENT_HIDDEN_FOR_USER"===t.type){const{payload:{userId:n}}=t;return Object.fromEntries(Object.entries(e).filter((e=>{var t;return(null===(t=e[1].user)||void 0===t?void 0:t.id)!==n})))}if("AGGREGATED_COMMENT_UPDATED"===t.type){const{payload:{data:n}}=t;return{...e,[n.id]:u(e[n.id],n)}}if("AGGREGATED_COMMENT_LIKE_TOGGLED"===t.type){const{payload:{data:n}}=t,r=e[n.id],a=r.reaction_counts[1]||0,i={1:n.reaction_by_me?a+1:a-1},o={...r,reaction_by_me:n.reaction_by_me,reaction_counts:i};return{...e,[n.id]:o}}if("AGGREGATED_COMMENT_HELPFUL_TOGGLED"===t.type){const{payload:{data:n}}=t,r=e[n.id],a=r.helpful_count||0,i=n.marked_helpful_by_me?a+1:a-1,o={...r,marked_helpful_by_me:n.marked_helpful_by_me,helpful_count:i};return{...e,[n.id]:o}}if("AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED"===t.type){const{payload:{data:n}}=t,r={...e[n.aggregated_comment_id],highlighted_by_pin_owner:n.is_highlighted};return{...e,[n.aggregated_comment_id]:r}}if("AGGREGATED_COMMENT_FEATURES_UPDATED"===t.type){const{payload:{data:{featureMap:n}}}=t;return{...e,feature_map:{...e.feature_map,...n}}}if("UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT"===t.type){const{payload:{increment:n,id:r}}=t,a=e[r],i={...a,comment_count:a.comment_count+n};return{...e,[r]:i}}if("DELETE_COMMENT_MENTION"===t.type){const{payload:{aggregatedCommentId:n,tagged_users:r}}=t,a={...e[n],tagged_users:r};return{...e,[n]:a}}}return e};var h=n(425288),m=n(505920),_=n(785893);const{Provider:f,useHook:g}=(0,h.Z)("AggregatedComments");function y({children:e}){const t=(0,a.useSelector)((({resources:e})=>e.UnifiedCommentsResource));let n=d;t&&Object.values(t).forEach((e=>{var t;const r=null===(t=e.data)||void 0===t?void 0:t.filter((e=>"aggregatedcomment"===e.type)),a=null==r?void 0:r.reduce(((e,t)=>(e[t.id]=u(n[t.id],t),e)),{});n={...n,...a}}));const[i,o]=(0,r.useReducer)(p,n),s=e=>{o({type:"FETCH_COMPLETE",payload:e})};(0,m.Z8)("AggregatedCommentFeaturesResource",s),(0,m.my)("AggregatedCommentFeaturesResource",s),(0,m.Z8)("AggregatedCommentFeedResource",s),(0,m.my)("AggregatedCommentFeedResource",s),(0,m.Z8)("AggregatedCommentReplyFeedResource",s),(0,m.my)("AggregatedCommentReplyFeedResource",s),(0,m.Z8)("DidItCommentsResource",s),(0,m.my)("DidItCommentsResource",s),(0,m.Z8)("UnifiedCommentsPreviewResource",s),(0,m.my)("UnifiedCommentsPreviewResource",s),(0,m.Z8)("UnifiedCommentsResource",s),(0,m.my)("UnifiedCommentsResource",s);const l=(0,r.useMemo)((()=>({aggregatedComments:i,dispatch:o})),[i,o]);return(0,_.jsx)(f,{value:l,children:e})}function v(){const{dispatch:e}=g();return(0,r.useMemo)((()=>({aggregatedCommentCreated(t,n){e({type:"AGGREGATED_COMMENT_CREATED",payload:{parentId:t,aggregatedComment:n}})},aggregatedCommentDeleted:(t,n)=>{e({type:"AGGREGATED_COMMENT_DELETED",payload:{parentId:t,aggregatedCommentId:n}})},aggregatedCommentHidden:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN",payload:{aggregatedCommentId:t}})},aggregatedCommentsHiddenForUser:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN_FOR_USER",payload:{userId:t}})},flagAggregatedComment:async({commentId:e,reason:t,detailedReasons:n})=>{const r={commentId:e,reason:t,detailedReasons:n};return i.Z.create("AggregatedCommentFlagResource",r).callCreate()},deleteCommentMention:async t=>{var n;const{resource_response:r}=await i.Z.create("MentionsResource",{aggregatedCommentId:t,field_set_key:"comment"}).callDelete(),a=null!==(n=null==r?void 0:r.data)&&void 0!==n?n:{};e({type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:a.id,tagged_users:a.tagged_users}})},toggleAggregatedCommentHelpful:({aggregatedCommentId:t,isMarkedHelpfulByMe:n})=>{const r=i.Z.create("HelpfulResource",{helpfulModelType:1,objectId:t});n?r.callDelete({showError:!1}):r.callCreate({showError:!1}),e({type:"AGGREGATED_COMMENT_HELPFUL_TOGGLED",payload:{data:{id:t,marked_helpful_by_me:!n}}})},toggleAggregatedCommentHighlight:async({aggregatedCommentId:t,pinId:n,isHighlighted:r})=>{const a=i.Z.create("AggregatedCommentHighlightResource",{aggregatedCommentId:t,pinId:n});r?await a.callDelete({showError:!1}):await a.callCreate({showError:!1}),e({type:"AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED",payload:{data:{aggregated_comment_id:t,pin_id:n,is_highlighted:!r}}})},toggleAggregatedCommentLike:({aggregatedCommentId:t,isLikedByMe:n})=>{const r=i.Z.create("AggregatedCommentLikeResource",{aggregatedCommentId:t});n?r.callDelete({showError:!1}):r.callCreate({showError:!1}),e({type:"AGGREGATED_COMMENT_LIKE_TOGGLED",payload:{data:{id:t,reaction_by_me:n?0:1}}})},updateAggregatedComment:async({commentId:t,force:n,orbacSubjectId:r,tags:a,text:o})=>{var s;const{resource_response:l}=await i.Z.create("AggregatedCommentResource",{commentId:t,force:n,tags:a,text:o,...r?{orbacSubjectId:r}:{}}).callUpdate({showError:!1}),{tagged_users:c}=null!==(s=null==l?void 0:l.data)&&void 0!==s?s:{},d=c.map((e=>({...e})));e({type:"AGGREGATED_COMMENT_UPDATED",payload:{data:{id:t,tagged_users:d,tags:JSON.parse(a),text:o}}})},updateAggregatedCommentFeatures:async({userId:t,featureMap:n})=>{var r;const{resource_response:a}=await i.Z.create("AggregatedCommentFeaturesResource",{userId:t,featureMap:n}).callUpdate({showError:!1}),o=null!==(r=null==a?void 0:a.data)&&void 0!==r?r:Object.freeze({});e({type:"AGGREGATED_COMMENT_FEATURES_UPDATED",payload:{data:{featureMap:o}}})},updateCommentCount:(t,n)=>{e({type:"UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT",payload:{increment:n,id:t}})}})),[e])}function b(){const{aggregatedComments:e}=g();return e}},965900:(e,t,n)=>{n.d(t,{g:()=>h,I:()=>p});var r=n(667294),a=n(567450),i=n(150361),o=n.n(i);const s={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},l=(e=s,t)=>{if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type)return{...e,showTypeaheadOverlay:t.payload};if("SET_CURRENT_VIDEO"===t.type){const{payload:n}=t,{pinId:r,isPromoted:a,currentTime:i,inVideoGridAutoplayExp:s}=n,{videosAutoplaying:l}=e,{currentlyPlayingOrganicVideoId:c,promotedVideosAutoplaying:d,organicVideosAutoplaying:u}=l,p=o()(d),h=o()(u);return!a&&c&&s?e:(a?p[r]={pinId:r,currentTime:i,paused:!1}:h[r]={pinId:r,currentTime:i,paused:!1},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:a?c:r,promotedVideosAutoplaying:p,organicVideosAutoplaying:h}})}if("SET_IS_AUTOPLAY"===t.type)return{...e,isAutoplay:t.payload};if("PAUSE_CURRENT_VIDEO"===t.type){const{payload:n}=t,{pinId:r,isPromoted:a,currentTime:i}=n,{videosAutoplaying:s}=e,{promotedVideosAutoplaying:l,organicVideosAutoplaying:c}=s,d=o()(l),u=o()(c);return a?d[r]={...d[r],paused:!0,currentTime:i}:u[r]={...u[r],paused:!0,currentTime:i},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:d,organicVideosAutoplaying:u}}}return"SET_APP_FOCUS_STATE"===t.type?{...e,appInFocus:t.payload}:"SET_VIEWPORT_SIZE"===t.type?{...e,viewportSize:t.payload}:"SET_FOOTER_VISIBILITY_STATE"===t.type?{...e,footerPlusButtonVisible:t.payload}:e};var c=n(425288),d=n(785893);const{Provider:u,useHook:p}=(0,c.Z)("AppUI");function h({children:e}){const[t,n]=(0,r.useReducer)(l,s),i=(0,r.useCallback)((e=>n({type:"PAUSE_CURRENT_VIDEO",payload:e})),[]),o=(0,r.useCallback)((e=>n({type:"SET_APP_FOCUS_STATE",payload:e})),[]),c=(0,r.useCallback)((e=>n({type:"SET_CURRENT_VIDEO",payload:e})),[]),p=(0,r.useCallback)((e=>n({type:"SET_FOOTER_VISIBILITY_STATE",payload:e})),[]),h=(0,r.useCallback)((e=>n({type:"SET_IS_AUTOPLAY",payload:e})),[]),m=(0,r.useCallback)((e=>n({type:"SET_VIEWPORT_SIZE",payload:e})),[]),_=(0,r.useCallback)((e=>n({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e})),[]),f=(0,r.useMemo)((()=>({pauseAutoplay:i,setCurrentVideo:c,setFooterPlusButtonVisible:p,setIsAutoplay:h,setViewportSize:m,toggleTypeaheadOverlay:_,setAppFocusState:o,appUI:t})),[i,c,p,h,m,_,o,t]);return(0,r.useEffect)((()=>{a.Z.onSessionResume((()=>{o(!0)})).onSessionPause((()=>{o(!1)}))}),[o]),(0,d.jsx)(u,{value:f,children:e})}},350445:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(898781),a=n(883119),i=n(785893);const o={__path:"M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},s={__path:"M17.496 14.572a1 1 0 0 1-1 1h-.001a1.001 1.001 0 0 1-.999-1.001l.002-4.652-7.29 7.288a.995.995 0 0 1-.707.293.999.999 0 0 1-.707-1.707l7.293-7.29L9.428 8.5a1 1 0 0 1 .001-2h.001l8.071.005-.005 8.067zM12 0C5.373 0 0 5.373 0 12c0 6.628 5.373 12 12 12 6.628 0 12-5.372 12-12 0-6.627-5.372-12-12-12z"},l={overlay:{__style:{backgroundColor:"#000"}}};function c({backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:c,pinTitle:d,pin:u}){const p=(0,r.ZP)(),{id:h}=u;return(0,i.jsxs)(a.Ee,{alt:d||p.bt(" ", "pin image", "image of a pin", undefined, true),naturalHeight:t,naturalWidth:n,src:e,children:[(0,i.jsx)(a.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:l.overlay}),(0,i.jsxs)(a.xu,{justifyContent:"center",direction:"column",display:"flex",position:"absolute",height:"100%",width:"100%","data-test-id":`video-end-card-${h}`,children:[(0,i.jsx)(a.iP,{rounding:2,children:(0,i.jsxs)(a.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,i.jsx)(a.JO,{accessibilityLabel:p.bt(" ", "Visit site", "Button when pressed goes to pin's website", undefined, true),color:"light",dangerouslySetSvgPath:s,size:25}),(0,i.jsx)(a.xu,{margin:1}),(0,i.jsx)(a.xv,{color:"light",lineClamp:1,weight:"bold",children:p.bt(" ", "Visit site", "Button when pressed goes to pin's website", undefined, true)})]})}),(0,i.jsx)(a.xu,{margin:3}),(0,i.jsx)(a.iP,{onTap:c,rounding:2,children:(0,i.jsxs)(a.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,i.jsx)(a.JO,{accessibilityLabel:p.bt(" ", "Watch again", "Button when pressed restarts the video", undefined, true),color:"light",dangerouslySetSvgPath:o,size:25}),(0,i.jsx)(a.xu,{margin:1}),(0,i.jsx)(a.xv,{color:"light",lineClamp:1,weight:"bold",children:p.bt(" ", "Watch again", "Button when pressed restarts the video", undefined, true)})]})})]})]})}},333155:(e,t,n)=>{n.d(t,{UP:()=>s,Wv:()=>a,ZF:()=>r,zI:()=>i,zl:()=>o});const r=["AuthHomefeed","CloseupRelatedProducts","FollowingFeedGrid","RelatedPinGrid","RelatedProductsFeed","SearchItem"],a=["ArticleProductsStory","CloseupRelatedProducts","ProductPinsFeed","RelatedProductsFeed","ShoppingPackageItem","RelatedProductsFeed","UserProfilePinGrid","ShoppingGridShippedMetadataWithVisitButton"],i=[...a,"ShoppingGridShippedMetadata","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ProductPinsFeed","ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid"],o=["ShoppingSquareGridDomain","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingGridShippedMetadataWithVisitButton"],s=["BaseBoardPinGrid"]},313951:(e,t,n)=>{n.d(t,{i5:()=>v,sX:()=>S,aX:()=>b,Z5:()=>y,NG:()=>w,MT:()=>E,iu:()=>P});var r=n(667294),a=n(6637),i=n(682492),o=n.n(i);const s=(e,t)=>e.data[t]&&e.data[t].messages||[];function l(e,t){const n={};return e.filter((e=>!!e)).reduce(((e,r)=>{const a=t(r);return n[a]?(o()(n[a],r),e):(n[a]=r,e.concat([r]))}),[])}function c(e){return[...e].sort(((e,t)=>new Date(e.created_ms||e.created_at)-new Date(t.created_ms||t.created_at)))}function d(e,t,n){return c(l(s(e,t).concat(n),(e=>e.id)))}const u={conversationsUnseenCount:0,data:{},newsHubCount:0,open:null,objectAttachment:null,showConversationsDropdown:!1,showNewMessageView:!1,ui:{},unread:0};function p(e=u,t){if("CONVERSATION_OPEN"===t.type)return{...e,open:t.payload.id,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:t.payload.isPreview}}};if("CONVERSATION_CLOSE"===t.type)return{...e,open:null,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:!1,isDeclined:t.payload.isDeclined}}};if("CONVERSATION_CREATE"===t.type){const{id:n}=t.payload;return{...e,data:{...e.data,[n]:{...e.data[n]||{},...t.payload}}}}if("CONVERSATION_DELETE"===t.type){const n={...e,data:{...e.data}},{id:r}=t.payload;return delete n.data[r],n}if("FETCH_COMPLETE"===t.type){const{options:n,resource:r,response:a}=t.payload,i=a.resource_response.data;if("ConversationMessagesResource"===r){const t=i||[],r=(null==n?void 0:n.conversation_id)||"",a=d(e,r,t),o=a[a.length-1];return{...e,data:{...e.data,[r]:{...e.data[r],id:r,messages:a,unread:0,last_message:o}}}}if("ConversationsResource"===r){const t=i||[],n={...e,data:{...e.data}};return t.forEach((e=>{const{id:t,created_at:r,name:a,board:i,emails:o,unread:s,users:l,last_message:c}=e,u=d(n,t,[c]);n.data[t]={...n.data[t],id:t,created_at:r,name:a,board:i,emails:o||[],unread:s||0,users:l||[],last_message:c,messages:u}})),n}if("ConversationResource"===r){const t=i||{},{id:n}=t,r={...e,data:{...e.data}};return n&&(r.data[n]={...r.data[n],...t}),r}if("NewsHubBadgeResource"===r){if(i){const t=i.conversations_unseen_count||0;return{...e,unread:t}}return e}}else{if("MESSAGE_SEND_PENDING"===t.type){const{id:n,message:r}=t.payload;return e.data[n]?{...e,data:{...e.data,[n]:{...e.data[n],id:n,messages:[...e.data[n].messages,r]}}}:e}if("MESSAGE_SEND_PENDING_SUCCESS"===t.type){const{id:n,tempMessage:r,newMessage:a}=t.payload;if(e.data[n]){if(s(e,n).find((e=>e.id===r.id&&e.created_ms===r.created_ms))){const t=c(l(s(e,n).filter((e=>e.id!==r.id)).concat([a]),(e=>e.id)));return{...e,data:{...e.data,[n]:{...e.data[n],last_message:a,messages:t}}}}}return e}if("MESSAGE_SEND_PENDING_FAILURE"===t.type){const{id:n,tempMessageId:r}=t.payload;if(e.data[n]){const t=s(e,n).filter((e=>e.id!==r));return{...e,data:{...e.data,[n]:{...e.data[n],messages:t}}}}return e}if("OPEN_NEW_MESSAGE"===t.type){const{objectAttachment:n}=t.payload||null;return{...e,showNewMessageView:!0,open:null,objectAttachment:n}}if("CLOSE_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!1,objectAttachment:null,showNewMessageView:!1};if("OPEN_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!0};if("UPDATE_NEWSHUB_COUNT"===t.type)return{...e,newsHubCount:t.payload};if("UPDATE_UNREAD_COUNT"===t.type)return{...e,conversationsUnseenCount:t.payload};if("CLEAR_MESSAGE_BADGE"===t.type){const{id:n}=t.payload;return{...e,data:{...e.data,[n]:{...e.data[n],unread:0}}}}if("CONVERSATION_SAVE_POSITION"===t.type){const{id:n,position:r}=t.payload;return{...e,data:{...e.data,[n]:{...e.data[n],position:r}}}}if("CONVERSATION_RESET_POSITION"===t.type){const{id:n}=t.payload;return{...e,data:{...e.data,[n]:{...e.data[n],position:null}}}}}return e}var h=n(425288),m=n(505920),_=n(785893);const f=(()=>{let e=0;return()=>e++})(),{Provider:g,useHook:y}=(0,h.Z)("Conversations");function v({children:e}){const[t,n]=(0,r.useReducer)(p,u),i=(0,r.useCallback)((e=>n({type:"FETCH_COMPLETE",payload:e})),[]);(0,m.Z8)("ConversationMessagesResource",i),(0,m.my)("ConversationMessagesResource",i),(0,m.Z8)("ConversationsResource",i),(0,m.Z8)("ConversationResource",i),(0,m.Z8)("NewsHubBadgeResource",i);const o=(0,r.useCallback)(((e,t=!1,r="")=>n({type:"CONVERSATION_OPEN",payload:{id:e,isPreview:t,contactRequestId:r}})),[]),s=(0,r.useCallback)(((e,t="",r=!1)=>n({type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:t,isDeclined:r}})),[]),l=(0,r.useCallback)((e=>n({type:"CONVERSATION_CREATE",payload:e})),[]),c=(0,r.useCallback)((e=>n({type:"CONVERSATION_DELETE",payload:{id:e}})),[]),d=(0,r.useCallback)(((e,t)=>n({type:"CONVERSATION_SAVE_POSITION",payload:{id:e,position:t}})),[]),h=(0,r.useCallback)((e=>n({type:"CONVERSATION_RESET_POSITION",payload:{id:e}})),[]),f=(0,r.useCallback)(((e,t,r)=>{a.Z.create("ConversationsResource",{user_ids:e,emails:t,text:""}).callCreate().then((e=>{const t=e&&e.resource_response.data;n({type:"CONVERSATION_OPEN",payload:{id:t.id}})})).catch((e=>{const t=e.message_detail||e.message||"";r(t)}))}),[]),y=(0,r.useCallback)((()=>{n({type:"CLOSE_DROPDOWN"})}),[]),v=(0,r.useCallback)((()=>{n({type:"OPEN_DROPDOWN"})}),[]),b=(0,r.useCallback)((e=>{n({type:"OPEN_NEW_MESSAGE",payload:{objectAttachment:e}})}),[]),w=(0,r.useCallback)(((e,t)=>n({type:"MESSAGE_SEND_PENDING",payload:{id:e,message:t}})),[]),S=(0,r.useCallback)(((e,t,r)=>n({type:"MESSAGE_SEND_PENDING_SUCCESS",payload:{id:e,tempMessage:t,newMessage:r}})),[]),E=(0,r.useCallback)(((e,t)=>n({type:"MESSAGE_SEND_PENDING_FAILURE",payload:{id:e,tempMessageId:t}})),[]),P=(0,r.useCallback)((e=>n({type:"UPDATE_NEWSHUB_COUNT",payload:e})),[]),x=(0,r.useCallback)((e=>n({type:"UPDATE_UNREAD_COUNT",payload:e})),[]),T=(0,r.useCallback)((e=>n({type:"CLEAR_MESSAGE_BADGE",payload:{id:e}})),[]),I=(0,r.useMemo)((()=>({clearMessageBadge:T,conversationOpen:o,conversationClose:s,conversationCreate:l,conversationDelete:c,conversationGet:f,saveConversationPosition:d,resetConversationPosition:h,dropdownClose:y,dropdownOpen:v,newMessageOpen:b,pendingMessageSend:w,pendingMessageSuccess:S,pendingMessageFailure:E,updateNewsHubCount:P,updateUnreadCount:x,conversations:t})),[T,o,s,l,c,f,d,h,y,v,b,w,S,E,P,x,t]);return(0,_.jsx)(g,{value:I,children:e})}function b(){const{conversationCreate:e}=y();return async t=>{let n;const r=a.Z.create("ConversationsResource",t);try{var i;const t=null===(i=(await r.callCreate()).resource_response)||void 0===i?void 0:i.data;t&&(e(t),n=t)}catch(o){throw new Error(o.message)}return n}}function w(){const{conversations:e,conversationCreate:t,pendingMessageSend:n,pendingMessageSuccess:r,pendingMessageFailure:i}=y();return async(o,s,l,c)=>{const{text:d,pinId:u,boardId:p,userId:h,didItId:m}=s;async function _(){const e=a.Z.create("ConversationMessagesResource",{conversation_id:o,text:d,pin:u,board:p,user:h,user_did_it_data:m,source:l}),t=`${f()}`,s={text:d,sender:c,created_at:(new Date).toString(),created_ms:Date.now(),id:t,type:"tempMessage"};n(o,s);try{var _;const t=null===(_=(await e.callCreate()).resource_response)||void 0===_?void 0:_.data;t&&r(o,s,t)}catch(g){throw i(o,t),new Error(g.message)}}if(e.data[o])await _();else{const e=a.Z.create("ConversationResource",{conversation_id:o});try{var g;const n=null===(g=(await e.callGet()).resource_response)||void 0===g?void 0:g.data;n&&(t(n),await _())}catch(y){throw new Error(y.message)}}}}function S(e){const{conversations:t}=y();return t.data[e]}function E(e){const{conversations:t}=y();return t.ui[e]||{contactRequestId:"",isDeclined:!1,isPreview:!1}}function P(){const{conversations:{data:e}}=y(),t=(n=e,Object.keys(n).map((e=>n[e]))).filter((e=>e.users&&e.last_message));var n,r;return r=t,Array.from(r).sort(((e,t)=>new Date((t.last_message||t).created_at)-new Date((e.last_message||e).created_at)))}},815613:(e,t,n)=>{n.d(t,{Z:()=>E});var r=n(829407),a=n(898781),i=n(112690),o=n(927383),s=n(201155),l=n(667679),c=n(52022),d=n(19121),u=n(945698),p=n(62409),h=n(773285),m=n(350118),_=n(698330),f=n(50286),g=n(343341),y=n(640064),v=n(867820),b=n(883119),w=n(785893);const S=({children:e,pulsar:t,testId:n})=>t.show?(0,w.jsx)(b.xu,{position:"relative","data-test-id":n,children:(0,w.jsxs)(b.iP,{tapStyle:"none",onTap:t.onClick,children:[(0,w.jsx)(b.xu,{position:"absolute",marginTop:-5,dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},children:e}),(0,w.jsx)(b.xu,{position:"absolute",marginTop:-12,dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},children:(0,w.jsx)(b.o3,{})})]})}):(0,w.jsx)(b.xu,{"data-test-id":n,children:e});function E({auxData:e,disabled:t,disableLog:n,followEventType:E,id:P,inline:x,invertColors:T,isFollowed:I,isIdeaPin:A,isLegoEnabled:R,isSecondaryButton:k,isUserFollowButton:C,isUserMe:O,onFollow:D,onUnfollow:N,pinId:L,shouldUseLegoColors:M,showPulsar:j,size:F,textType:U="FollowFollowing",unfollowEventType:B,viewParameter:Z,viewType:z}){const V=(0,a.ZP)(),H=(0,f.HG)(),{showToast:$}=(0,g.F9)(),G=(0,c.Z)(),W=(0,i.Z)(),K=(0,l.Z)(),{checkExperiment:q}=(0,h.F)(),Y=(0,o.Z)(),X=(0,d.Z)(),J=X&&X.isAuth,{unauthFollowUserId:Q,setUnauthFollowUserId:ee}=(0,y.f)(),te=(0,_.mN)()(P),ne=(0,m.S6)()(null!=L?L:""),{link_domain:re,native_creator:ae,origin_pinner:ie,pinner:oe}=ne||{},se=(0,p.wS)(re,ae,ie,oe),le=null!=te?te:se;(0,r.Z)((()=>{!H&&J&&Q&&P&&Q===P&&D(P)}));const ce=Y({fn:()=>{J?I?(N(P),n||W({event_type:B,view_type:z,view_parameter:Z,object_id_str:P,aux_data:e})):(D(P),C&&$((({hideToast:e})=>{if(!le)return null;const t=le.username?`/${le.username}/`:"";return(0,w.jsx)(s.Z,{handleHide:e,text:(0,w.jsx)(b.xv,{children:V.bt("   !        .", "Following! Their created Pins will show up in your home feed!", "followButton.follow.informationalToastText", undefined, true)}),userId:P,href:t,imageUrl:le.image_medium_url})})),n||W({event_type:E,view_type:z,view_parameter:Z,object_id_str:P,aux_data:e})):((0,v.My)(`mweb_unauth_follow_button.tap.${String(z)}`),5===z&&26===E&&(0,v.My)("mweb_unauth_board_page_follow_button.tap"),(0,v.NC)(I?"press_profile_unfollow":"press_profile_follow"),G({action:"click",item:"board-follow-button"}),K({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:A?"tap.unauth_idea_pin.follow_button":"tap.unauth.follow_button",desktopOptions:{modalType:"signup",modalOptions:H&&q("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!H&&q("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0}),H||ee(null!=P?P:""),(0,v.NC)("clickthrough"))},modalHeader:(0,u.N4)({i18n:V,toFollow:!I})}),de=!I&&!!j,ue=()=>{if(O)return V.bt(" .", "That's you!", "Follow button is disabled because this is you", undefined, true);if("AddRemove"===U)return I?V.bt("", "Remove", "unfollowButton.removeText", undefined, true):V.bt("", "Add", "followButton.addText", undefined, true);const e="FollowUnfollow"===U?V.bt("", "Unfollow", "unfollowButton.unfollowText", undefined, true):V.bt("", "Following", "Follow button label - followed state", undefined, true);return I?e:V.bt("", "Follow", "Follow button label - unfollowed state", undefined, true)};return(0,w.jsx)(S,{pulsar:de?{show:!0,onClick:ce}:{show:!1},testId:O||I?"board-unfollow-button":"board-follow-button",children:(0,w.jsx)(b.zx,{color:M||"AddRemove"===U||!R&&k||I?"gray":"red",disabled:O||t,fullWidth:x,onClick:de?void 0:({event:t})=>{t.preventDefault(),t.stopPropagation(),n||W({event_type:101,component:13672,element:11951,object_id_str:P,view_type:z,view_parameter:Z,aux_data:e}),ce()},selected:T?!I:M&&I||!!I&&k,size:F,text:ue(),accessibilityLabel:ue()})})}},924114:(e,t,n)=>{n.d(t,{H8:()=>h,Ut:()=>p,fr:()=>u});var r=n(667294),a=n(839377),i=n(311541),o=n(425288),s=n(785893);const l=()=>n.e(67891).then(n.bind(n,367891)),{Provider:c,useHook:d}=(0,o.Z)("IdeaPin");function u({children:e}){const[t,n]=(0,i.Z)(l,a.Z),o=(0,r.useMemo)((()=>({dispatch:n,ideaPin:t})),[n,t]);return(0,s.jsx)(c,{value:o,children:e})}function p(){const{dispatch:e}=d();return(0,r.useMemo)((()=>({setIdeaPinActivePage:t=>{e({type:"IDEA_PIN_ACTIVE_PAGE",payload:{activePage:t}})},setIdeaPinDynamicWidth:t=>{e({type:"IDEA_PIN_DYNAMIC_WIDTH",payload:{dynamicWidth:t}})}})),[e])}function h(){const{ideaPin:e}=d();return e}},839377:(e,t,n)=>{n.d(t,{Z:()=>r});const r={activePage:0,dynamicWidth:0}},94089:(e,t,n)=>{n.d(t,{G:()=>p,Kl:()=>h,vo:()=>u});var r=n(667294),a=n(311541),i=n(425288),o=n(505920),s=n(785893);const l=()=>n.e(18870).then(n.bind(n,218870)),{Provider:c,useHook:d}=(0,i.Z)("NativeEngagements");function u({children:e}){const[t,n]=(0,a.Z)(l,[]),i=e=>{n({type:"FETCH_COMPLETE",payload:e})};(0,o.Z8)("NativeInteractionsResource",i),(0,o.my)("NativeInteractionsResource",i);const d=(0,r.useMemo)((()=>({dispatch:n,nativeEngagements:t})),[n,t]);return(0,s.jsx)(c,{value:d,children:e})}function p(){const{dispatch:e}=d();return(0,r.useMemo)((()=>({nativeEngagementsHiddenForUser:t=>{e({type:"NATIVE_ENGAGEMENT_HIDDEN_FOR_USER",payload:{userId:t}})}})),[e])}function h(){const{nativeEngagements:e}=d();return e}},379764:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(183007);const a=new(n(883119).H3)([r.N])},130460:(e,t,n)=>{n.d(t,{bn:()=>s,fJ:()=>c,gC:()=>l});var r=n(702664),a=n(425288),i=n(785893);const{Provider:o,useHook:s}=(0,a.Z)("Boards");function l(){const e=s();return t=>e[t]}function c({children:e}){const t=(0,r.useSelector)((({boards:e})=>e),r.shallowEqual);return(0,i.jsx)(o,{value:t,children:e})}},350118:(e,t,n)=>{n.d(t,{AF:()=>s,H0:()=>l,S6:()=>c,_S:()=>d});var r=n(702664),a=n(425288),i=n(785893);const{Provider:o,useHook:s,useMaybeHook:l}=(0,a.Z)("Pins");function c(){const e=s();return t=>e[t]}function d({children:e}){const t=(0,r.useSelector)((({pins:e})=>e),r.shallowEqual);return(0,i.jsx)(o,{value:t,children:e})}},108234:(e,t,n)=>{n.d(t,{Z:()=>f,s:()=>_});var r=n(667294),a=n(121151),i=n(608575),o=n(898781),s=n(349700),l=n(883119),c=n(785893);const d=()=>{var e;const t=(0,o.ZP)(),{dismissWarning:n}=null!==(e=_())&&void 0!==e?e:{};return(0,c.jsx)(l.xu,{paddingX:3,children:(0,c.jsx)(l.zx,{fullWidth:!0,color:"red",onClick:n,text:t.bt("", "Okay", "Dismiss a modal stating that clicking through to a link has been blocked", undefined, true)})})},u=()=>{const e=(0,o.ZP)();return(0,c.jsx)(l.xv,{inline:!0,weight:"bold",children:(0,c.jsx)(l.rU,{target:"blank",href:"https://policy.pinterest.com/community-guidelines#section-spam",display:"inlineBlock",underline:"hover",children:e.bt("", "Learn more", "Link text leading to policy website", undefined, true)})})},p=({message:e,sanitized_url:t})=>{var n;const r=(0,o.ZP)(),{dismissWarning:p}=null!==(n=_())&&void 0!==n?n:{};return(0,c.jsx)(a.ZP,{accessibilityModalLabel:r.bt("   ", "We have blocked this link", "Modal label when clicking a spammy link", undefined, true),onDismiss:p,heading:r.bt("!", "Heads up!", "Modal heading when clicking through to a link has been blocked", undefined, true),footer:(0,c.jsx)(d,{}),children:(0,c.jsxs)(l.xu,{padding:6,children:[(0,c.jsx)(l.xv,{children:(0,s.nk)("{{ message }} {{ learnMore }}",{message:e,learnMore:(0,c.jsx)(u,{},"learnMoreLink")})}),(0,c.jsxs)(l.xu,{alignItems:"center",display:"flex",marginTop:4,children:[(0,c.jsx)(l.xu,{marginEnd:3,children:(0,c.jsx)(l.JO,{accessibilityLabel:r.bt("  ", "Blocked link address", "Icon label preceding a block url", undefined, true),color:"error",icon:"report",inline:!0,size:24})}),(0,c.jsx)(l.xv,{inline:!0,lineClamp:1,weight:"bold",children:i.parse(t).hostname})]})]})})};var h=n(425288);const{Provider:m,useMaybeHook:_}=(0,h.Z)("SpammyClickthrough");function f({children:e}){const[t,n]=(0,r.useState)(null),a=(0,r.useCallback)((()=>{n(null)}),[n]),i=(0,r.useCallback)((e=>{n(e)}),[n]),o=(0,r.useMemo)((()=>({dismissWarning:a,showWarning:i})),[a,i]);return(0,c.jsxs)(m,{value:o,children:[t&&(0,c.jsx)(p,{...t}),e]})}},640064:(e,t,n)=>{n.d(t,{f:()=>s,w:()=>l});var r=n(667294),a=n(425288),i=n(785893);const{Provider:o,useHook:s}=(0,a.Z)("Session");function l({children:e}){const[t,n]=(0,r.useState)(void 0),a=(0,r.useCallback)((()=>n(void 0)),[]),s=(0,r.useMemo)((()=>({unauthFollowUserId:t,setUnauthFollowUserId:n,removeUnauthFollowUserId:a})),[t,a]);return(0,i.jsx)(o,{value:s,children:e})}},398061:(e,t,n)=>{n.d(t,{Z:()=>s,e:()=>o});var r=n(780280),a=n(883119),i=n(785893);const o=new a.Ry(1);function s({children:e,isImagePinForUnauthOnTablet:t}){const{isAuthenticated:n}=(0,r.B)();return(0,i.jsxs)(a.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{cursor:"pointer",width:t?"40vw":void 0}},zIndex:n?void 0:o,display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!t||void 0,top:!0,children:[(0,i.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000",borderRadius:"6px 6px 0 0",WebkitTransition:"opacity .04s linear",transition:"opacity .04s linear"}},left:!0,opacity:.4,position:"absolute",right:!0,top:!0}),e]})}},538232:(e,t,n)=>{n.d(t,{R:()=>i,q:()=>a});var r=n(425288);const{Provider:a,useHook:i}=(0,r.Z)("CloseupPageContext")},183007:(e,t,n)=>{n.d(t,{N:()=>b,Z:()=>w});var r=n(667294),a=n(223815),i=n(248041),o=n(898781),s=n(52022),l=n(867820),c=n(883119),d=n(785893);function u({icon:e}){const{hide:t}=(0,i.Z)(),n=(0,o.ZP)(),r=(0,s.Z)();return(0,d.jsx)(a.Z,{children:(0,d.jsx)(c.xu,{"data-test-id":"expandButton",children:(0,d.jsx)(c.hU,{icon:e||"maximize",size:e?"md":"lg",iconColor:"darkGray",bgColor:"white",padding:3,accessibilityLabel:n.bt(" ", "Expand Image", "mweb.closeup.image.expand.a11y", undefined, true),onClick:({event:e})=>{e.stopPropagation(),(0,l.My)("mweb_pin_page.pin_image.enlarge_image"),(0,l.NC)("click_expand_image"),r({action:"click",item:"expand-button",within:"pin-image"}),t()}})})})}var p=n(700380),h=n(50286),m=n(792182),_=n(398061),f=n(444445),g=n(773285);const y=.3,v=.75,b=new c.H3([_.e]),w=({children:e,closableDrawer:t})=>{var n;const{hide:a}=(0,i.Z)(),o=(0,r.useRef)(null),s=(0,r.useRef)(null),[l,_]=(0,r.useState)(null),[w,S]=(0,r.useState)(0),[E,P]=(0,r.useState)(!1),x=(null===(n=(0,m.Z)())||void 0===n?void 0:n.height)||0,[T,I]=(0,r.useState)(!1),A=(0,h.ZP)(),{checkExperiment:R}=(0,g.F)(),k=null!=l?l:.75*x,C=()=>{var e;const t=(null===(e=o.current)||void 0===e?void 0:e.offsetTop)||0;return t>0&&x>0?t-x*y+60:0};return(0,r.useEffect)((()=>{const e=()=>{var e;const t=(null===(e=o.current)||void 0===e?void 0:e.offsetTop)||0;window.scrollY+k>t&&a()};e();const t=(0,p.Z)(e,10);return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)}),[a,k]),(0,d.jsxs)(r.Fragment,{children:[(0,d.jsxs)(c.xu,{position:"fixed",bottom:!0,left:!0,right:!0,color:"default",zIndex:b,height:null===l?"25vh":`calc(100vh - ${l}px)`,dangerouslySetInlineStyle:{__style:{...E?{transitionDuration:"500ms",transitionProperty:"maxHeight, borderRadius"}:{},borderRadius:0===l&&E?0:"32px 32px 0 0",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.3)",overscrollBehavior:"none",touchAction:"none"}},"data-test-id":"related-pins-drawer","data-layout-shift-boundary-id":"Drawer",ref:s,onTouchStart:e=>{const{clientY:t}=e.touches[0];S(t),P(!1)},onTouchMove:e=>{e.preventDefault();const{clientY:t}=e.touches[0],n=null!=l?l:.75*window.innerHeight,r=t-w;if(null!==n&&r){const e=x*y,t=x*v,i=Math.floor(Math.min(t,Math.max(e,n+r)));_(i);const o=C();if(x>0&&o>0){const e=o*(a=i/x,1-(Math.max(y,Math.min(v,a))-y)/.45);window.pageYOffset<e&&window.scrollTo({top:e})}i<.525*x&&I(!0)}var a;S(t)},onTouchEnd:()=>{if(T){P(!0);_(x*y);const e=C();e&&window.scrollTo({top:e,behavior:"smooth"}),I(!1)}},children:["desktop"!==A&&(t?(0,d.jsx)(c.xu,{position:"absolute",top:!0,left:!0,margin:1,marginTop:t?0:4,paddingY:1,children:(0,d.jsx)(u,{icon:"cancel"})}):!R("pcons_remove_expand_button").anyEnabled&&(0,d.jsx)(c.xu,{position:"absolute",top:!0,right:!0,children:(0,d.jsx)(c.xu,{position:"absolute",bottom:!0,right:!0,children:(0,d.jsx)(c.xu,{padding:3,children:(0,d.jsx)(u,{})})})})),(0,d.jsx)(c.xu,{paddingX:f.D6,children:e})]}),(0,d.jsx)(c.xu,{ref:o,height:"100vh"})]})}},350948:(e,t,n)=>{n.d(t,{IS:()=>b,Ys:()=>v,ZP:()=>A,j$:()=>E});var r,a=n(667294),i=n(485710),o=n(134185),s=n(319530),l=n(50286),c=n(349700),d=n(578661),u=n(923297),p=n(773285),h=n(350118),m=n(898781),_=n(883119),f=n(167912),g=n(785893);const y=void 0!==r?r:r=n(906587),v=({m:e,h:t,rm:n,rh:r},a)=>e&&(!t||r<=0)?(0,c.nk)(a.nbt(["{{mins}} ", "{{mins}} ", "{{mins}} "], n, "number showing the minutes to complete a recipe", true),{mins:n.toString()}):t?(0,c.nk)(a.nbt(["{{hrs}} ", "{{hrs}} ", "{{hrs}} "], r, "number showing the hours to complete a recipe", true),{hrs:r.toString()}):null,b=({m:e,h:t,rm:n,rh:r,i18n:a})=>e&&(!t||r<=0)?(0,c.nk)(a.bt("{{mins}}", "{{mins}}m", "number showing minutes to complete a recipe", undefined, true),{mins:n.toString()}):t?(0,c.nk)(a.bt("{{hrs}} {{mins}}", "{{hrs}}h {{mins}}m", "number showing hours to complete a recipe", undefined, true),{hrs:t.toString(),mins:e.toString()}):null,w=(e,t)=>{const n=e&&e.length>0&&e.join(", "),r=t&&t.summary;return n&&r?`${n}  ${r}`:n||r},S=e=>e?e.reduce(((e,t)=>{var n,r;return e+(null!==(n=null===(r=t.ingredients)||void 0===r?void 0:r.length)&&void 0!==n?n:0)}),0):0,E=({cookTimesCookM:e,cookTimesCookH:t,cookTimesTotalM:n,cookTimesTotalH:r,hasCookTimesTotal:a,i18n:i})=>{let o;return o=a?(0,u.X)({m:n||0,h:r||0}):(0,u.X)({m:e||0,h:t||0}),v(o,i)};function P({category:e,ingredients:t,textSize:n="300"}){return(0,g.jsxs)(_.xu,{marginBottom:4,children:[e&&(0,g.jsx)(_.xu,{children:(0,g.jsx)(_.xv,{weight:"bold",size:n,children:e})}),(null!=t?t:[]).map((e=>{var t,r;return(0,g.jsx)(_.xu,{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",marginTop:1,children:(0,g.jsxs)(_.xv,{size:n,children:[e.amt||null," ",e.name]})},`${null!==(t=e.name)&&void 0!==t?t:""}-${null!==(r=e.name)&&void 0!==r?r:""}`)}))]})}const x=({categorizedIngredients:e,cookTimes:t,image:n,ingredientCount:r,ingredientsDescription:c,name:u,pinLink:p,checkExperiment:h})=>{var f,y,v,b;const w=(0,m.ZP)(),S=(0,l.ZP)();if(!E({cookTimesCookM:null==t||null===(f=t.cook)||void 0===f?void 0:f.m,cookTimesCookH:null==t||null===(y=t.cook)||void 0===y?void 0:y.h,cookTimesTotalM:null==t||null===(v=t.total)||void 0===v?void 0:v.m,cookTimesTotalH:null==t||null===(b=t.total)||void 0===b?void 0:b.h,hasCookTimesTotal:!(!t||!t.total),i18n:w})&&!r&&!c)return null;const x="desktop"===S,T=h("closeup_dweb_unauth_onepin_title_and_description").anyEnabled,I=w.bt("", "Ingredients", "Closeup.PinRecipe.ingredientsLabel", undefined, true);return(0,g.jsxs)(_.xu,{"data-test-id":"pin-recipe-container",display:"flex",direction:"column",marginTop:8,children:[(0,g.jsxs)(_.xu,{direction:"column",display:"flex",marginTop:4,marginBottom:4,marginEnd:6,overflow:"hidden",children:[(!T||!x)&&(0,g.jsx)(_.xu,{marginBottom:4,children:(0,g.jsx)(_.xv,{weight:"bold",align:"desktop"===S?"start":"center",children:I})}),(0,g.jsxs)(o.Z,{itemScope:!0,itemType:d.G,children:[(0,g.jsx)("meta",{content:u,itemProp:"name"}),n&&(0,g.jsx)("meta",{content:n,itemProp:"image"}),T&&x&&(0,g.jsx)(_.xu,{"data-test-id":"one-pin-layout",children:Array.isArray(e)&&e.length>0&&(0,g.jsx)(i.Z,{heading:I,children:(0,g.jsx)(s.Z,{children:e.map((({category:e,ingredients:t},n)=>{const r=`ingredient-${n}`;return(0,g.jsx)(a.Fragment,{children:(0,g.jsx)(_.xu,{marginBottom:4,children:(0,g.jsx)(P,{category:e,ingredients:t,textSize:"300"})})},r)}))})})}),(!T||!x)&&Array.isArray(e)&&e.length>0&&(0,g.jsx)(_.xu,{column:12,"data-test-id":"single-column-ingredients",children:e.map((({category:e,ingredients:t},n)=>(0,g.jsx)(_.xu,{marginBottom:2,children:(0,g.jsx)(P,{category:e,ingredients:t,textSize:"300"})},n)))})]})]}),(!T||!x)&&(0,g.jsx)(_.xu,{marginBottom:4,display:"flex",justifyContent:"phone"===S?"center":void 0,children:p&&(0,g.jsx)(_.zx,{text:w.bt("", "Make it", "closeup.recipe.make_it_button", undefined, true),role:"link",href:p,target:"blank"})})]})},T=({graphqlRef:e,checkExperiment:t})=>{const n=(0,f.useFragment)(y,e),{imageSpec_474x:r,link:a,richMetadata:i}=n,o=null==i?void 0:i.recipe,s=null==o?void 0:o.categorizedIngredients,l=S(s),c=(null==o?void 0:o.categorizedIngredients)&&w(o.diets,o.servingsSummary);return(0,g.jsx)(x,{categorizedIngredients:s,cookTimes:null==o?void 0:o.cookTimes,image:null==r?void 0:r.url,ingredientCount:l,ingredientsDescription:c,name:null==o?void 0:o.name,pinLink:a,checkExperiment:t})},I=({pinId:e,checkExperiment:t})=>{var n,r;const a=(0,h.S6)()(e),i=(null==a||null===(n=a.rich_metadata)||void 0===n?void 0:n.recipe)||{},{cook_times:o,name:s,categorized_ingredients:l,diets:c,servings_summary:d}=i,u=S(l),p=l&&w(c,d);return(0,g.jsx)(x,{categorizedIngredients:l,cookTimes:o,image:(null===(r=((null==a?void 0:a.images)||{})["474x"])||void 0===r?void 0:r.url)||"",ingredientCount:u,ingredientsDescription:p,name:s,pinLink:(null==a?void 0:a.link)||"",checkExperiment:t})};function A({graphqlRef:e,pinId:t}){const{checkExperiment:n}=(0,p.F)();return e?(0,g.jsx)(T,{graphqlRef:e,checkExperiment:n}):(0,g.jsx)(I,{pinId:t,checkExperiment:n})}},725214:(e,t,n)=>{n.d(t,{Z:()=>r});const r=e=>{switch(e.action){case"PUSH":case"REPLACE":return"click";case"POP":return e.location.key?"click":"deeplink";default:return null}}},298024:(e,t,n)=>{n.d(t,{Ph:()=>a,Re:()=>o,si:()=>i});var r=n(50286);const a=e=>e&&e.promoter&&!e.is_downstream_promotion?e.promoter:null,i=()=>"phone"!==(0,r.ZP)()?180:130,o=()=>"phone"!==(0,r.ZP)()?180:80},248041:(e,t,n)=>{n.d(t,{Z:()=>c,t:()=>l});var r=n(667294),a=n(867820),i=n(276775),o=n(785893);const s=(0,r.createContext)({hide:()=>{},isHidden:!0,isScrolledToPins:!1,scrollToPins:()=>{}});function l({children:e,isEligible:t}){const[n,l]=(0,r.useState)(!t),[c,d]=(0,r.useState)(!1),{pathname:u}=(0,i.useLocation)();(0,r.useEffect)((()=>{l(!t)}),[u,t]);const p=(0,r.useCallback)((()=>{(0,a.My)("web_unification.expand_click.hide_drawer"),l(!0)}),[]),h=(0,r.useCallback)((e=>{d(!!e)}),[]),m=(0,r.useMemo)((()=>({isHidden:n,hide:p,isScrolledToPins:c,scrollToPins:h})),[n,p,c,h]);return(0,o.jsx)(s.Provider,{value:m,children:e})}const c=()=>(0,r.useContext)(s)},759177:(e,t,n)=>{n.d(t,{Z:()=>o});var r,a=n(167912);const i=void 0!==r?r:r=n(96795);const o=e=>function(e){var t,n,r,a,i,o,s,l,c,d,u,p,h,m,_,f,g,y,v,b,w,S,E,P,x,T,I;return{"60x60":{height:(null==e||null===(t=e.imageSpec_60x60)||void 0===t?void 0:t.height)||void 0,url:(null==e||null===(n=e.imageSpec_60x60)||void 0===n?void 0:n.url)||void 0,width:(null==e||null===(r=e.imageSpec_60x60)||void 0===r?void 0:r.width)||void 0},"136x136":{height:(null==e||null===(a=e.imageSpec_136x136)||void 0===a?void 0:a.height)||void 0,url:(null==e||null===(i=e.imageSpec_136x136)||void 0===i?void 0:i.url)||void 0,width:(null==e||null===(o=e.imageSpec_136x136)||void 0===o?void 0:o.width)||void 0},"170x":{height:(null==e||null===(s=e.imageSpec_170x)||void 0===s?void 0:s.height)||void 0,url:(null==e||null===(l=e.imageSpec_170x)||void 0===l?void 0:l.url)||void 0,width:(null==e||null===(c=e.imageSpec_170x)||void 0===c?void 0:c.width)||void 0},"236x":{height:(null==e||null===(d=e.imageSpec_236x)||void 0===d?void 0:d.height)||void 0,url:(null==e||null===(u=e.imageSpec_236x)||void 0===u?void 0:u.url)||void 0,width:(null==e||null===(p=e.imageSpec_236x)||void 0===p?void 0:p.width)||void 0},"474x":{height:(null==e||null===(h=e.imageSpec_474x)||void 0===h?void 0:h.height)||void 0,url:(null==e||null===(m=e.imageSpec_474x)||void 0===m?void 0:m.url)||void 0,width:(null==e||null===(_=e.imageSpec_474x)||void 0===_?void 0:_.width)||void 0},"564x":{height:(null==e||null===(f=e.imageSpec_564x)||void 0===f?void 0:f.height)||void 0,url:(null==e||null===(g=e.imageSpec_564x)||void 0===g?void 0:g.url)||void 0,width:(null==e||null===(y=e.imageSpec_564x)||void 0===y?void 0:y.width)||void 0},"736x":{height:(null==e||null===(v=e.imageSpec_736x)||void 0===v?void 0:v.height)||void 0,url:(null==e||null===(b=e.imageSpec_736x)||void 0===b?void 0:b.url)||void 0,width:(null==e||null===(w=e.imageSpec_736x)||void 0===w?void 0:w.width)||void 0},"600x315":{height:(null==e||null===(S=e.imageSpec_600x315)||void 0===S?void 0:S.height)||void 0,url:(null==e||null===(E=e.imageSpec_600x315)||void 0===E?void 0:E.url)||void 0,width:(null==e||null===(P=e.imageSpec_600x315)||void 0===P?void 0:P.width)||void 0},orig:{height:(null==e||null===(x=e.imageSpec_orig)||void 0===x?void 0:x.height)||void 0,url:(null==e||null===(T=e.imageSpec_orig)||void 0===T?void 0:T.url)||void 0,width:(null==e||null===(I=e.imageSpec_orig)||void 0===I?void 0:I.width)||void 0}}}((0,a.useFragment)(i,e))},865607:(e,t,n)=>{n.d(t,{O:()=>c,Z:()=>d});var r=n(667294),a=n(898781),i=n(966113),o=n(883119),s=n(785893);const l={xs:12,sm:16,md:20,lg:24};function c({children:e}){const t=(0,a.ZP)();return(0,s.jsx)(o.u,{link:(0,s.jsx)(o.rU,{href:i.vB,target:"blank",children:(0,s.jsx)(o.xv,{color:"inverse",size:"100",weight:"bold",children:t.bt("", "Learn more", "verifiedBadge.tooltip.link", undefined, true)})}),text:t.bt("    Pinterest  ", "This retailer meets Pinterest's Merchant Guidelines", "merchantVerification.badge.tooltip", undefined, true),children:e})}function d({hasVerifiedIdentity:e,iconOnly:t,isVerifiedMerchant:n,showText:i,size:d}){const u=(0,a.ZP)(),p=(0,s.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[(0,s.jsx)(o.JO,{accessibilityLabel:u.bt("  ", "Merchant verification badge icon", "merchantVerification.badge.icon", undefined, true),color:"shopping",icon:"workflow-status-ok",inline:!0,size:l[d]}),i&&(0,s.jsx)(o.xu,{marginStart:2,children:(0,s.jsx)(o.xv,{color:"shopping",inline:!0,weight:"bold",children:u.bt(" ", "Verified merchant", "creator.header.verifiedMerchant", undefined, true)})})]});return(0,s.jsxs)(r.Fragment,{children:[n&&!t&&(0,s.jsx)(c,{children:p}),n&&t&&p,e&&!n&&(0,s.jsx)(o.JO,{accessibilityLabel:u.bt("  ", "Domain verification icon", "domainVerification.badge.icon", undefined, true),color:"error",icon:"check-circle",size:l[d]})]})}},998651:(e,t,n)=>{n.d(t,{LM:()=>s,h9:()=>l,r$:()=>o});var r=n(385740),a=n(909499);const i=["search_articles_story","shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2","search_for_you_upsell"];function o({query:e,rs:t,scope:n},i){const o=(0,r.BE)(),s=!(null!=o&&o.viewType||null!=o&&o.viewParameter),l=(0,a.wF)(n);if(!s&&l){const{viewType:n,viewParameter:r}=null!=o?o:{};i({event_type:l,view_type:n,view_parameter:r,aux_data:{query:e,rs:t||"Unknown"}})}"hashtag_closeup"===t?i({event_type:101,component:13065,element:10273,view_type:142}):"hashtag_pinrep"===t&&i({event_type:101,component:0,element:10349,view_type:142})}const s=(e=[])=>{let t=!0;return e.reduce(((e,n)=>{var r;return t&&n.story_type&&i.includes(n.story_type)&&0===(null===(r=n.display_options)||void 0===r?void 0:r.num_columns_requested)?e.searchFullWidthStories.push(n):(t=!1,e.filteredResults.push(n)),e}),{searchFullWidthStories:[],filteredResults:[]})};function l(e){const{results:t=[]}=e||{};return!!t.find((e=>!(null==e||!e.is_eligible_for_filters)))}},962832:(e,t,n)=>{n.d(t,{$J:()=>x,AP:()=>L,Dm:()=>T,Fv:()=>E,H$:()=>O,In:()=>N,Ng:()=>P,RH:()=>b,Wj:()=>D,_P:()=>I,go:()=>S});var r=n(126098),a=n(6637),i=n(550858),o=n(30287),s=n(53987),l=n(867820),c=n(844974);const d="home",u="closeup",p="news_hub",h="board",m="profile",_="topic",f="today",g="business",y="search";let v;const b="_push",w=e=>{e.onupdatefound=()=>{(0,l.My)("mweb_service_worker.update_found")}},S=()=>Boolean("undefined"!=typeof navigator&&navigator.serviceWorker&&navigator.serviceWorker.controller),E=()=>new Promise(((e,t)=>{const n=navigator.serviceWorker,{pwaType:r,twaType:a}=v.getState().session,i=new URLSearchParams({source_url:window.location.pathname});r&&a&&(0,o.Rx)(a)&&(i.append("pwa_type",r),i.append("twa_type",a)),Boolean("undefined"!=typeof document&&document.referrer&&!document.referrer.startsWith(window.location.origin))&&i.append("referrer",document.referrer),n&&n.register?((0,l.My)("mweb_service_worker.install_attempt"),n.register(`/sw.js?${i.toString()}`).then((t=>{(0,l.My)("mweb_service_worker.install_success"),w(t),e(t)})).catch((e=>{(0,l.tj)("mweb_service_worker.install_fail",{error:e.message}),t(e)}))):e()})),P=()=>new Promise(((e,t)=>{const n=navigator.serviceWorker;n&&n.getRegistration?((0,l.My)("mweb_service_worker.update_attempt"),n.getRegistration().then((n=>{n?n.update().then((()=>{(0,l.My)("mweb_service_worker.update_success"),w(n),e(n)})).catch((e=>{(0,l.tj)("mweb_service_worker.update_fail",{error:e.message}),t(e)})):E().then(e)}))):e()})),x=()=>{const e=v.getState().session.isAuthenticated;(0,l.My)(`mweb.${e?"auth":"unauth"}.register_service_worker`),E()},T=()=>{const e=navigator.serviceWorker;return e&&e.getRegistration?((0,l.My)("mweb_service_worker.unregister_attempt"),(0,i.Qi)(),e.getRegistration().then((e=>{if(e)return e.unregister().then((()=>((0,l.My)("mweb_service_worker.unregister_success"),navigator.serviceWorker&&window.caches?window.caches.keys().then((e=>{const t=e.find((e=>e.startsWith("workbox-precaching")));return t?window.caches.delete(t):null})).then((()=>(0,l.My)("mweb_service_worker.clear_app_shell"))):Promise.resolve()))).catch((e=>{(0,l.tj)("mweb_service_worker.unregister_fail",{error:e.message})}))}))):Promise.resolve()},I=()=>!(!S()||!("SyncManager"in window)),A=e=>(0,s.C$)(e)?d:(0,s.L6)(e)?u:(0,s.l4)(e)?p:(0,s.am)(e)?h:(0,s.cD)(e)?m:(0,s.En)(e)?y:(0,s.$V)(e)?_:(0,s.Zz)(e)?f:(0,s.Ni)(e)?g:"undefined",R=e=>{switch(A(e)){case d:return{viewType:1,viewParameter:92};case u:return{viewType:3,viewParameter:void 0};case p:return{viewType:107,viewParameter:3081};case h:return{viewType:5,viewParameter:void 0};case y:return{viewType:2,viewParameter:43};case _:return{viewType:210,viewParameter:void 0};case m:return{viewType:4,viewParameter:void 0};case g:return{viewType:409,viewParameter:3397};case f:return{viewType:1,viewParameter:3372};default:return{viewType:void 0,viewParameter:void 0}}},k=(e,t)=>(0,l.tj)(e,{browser:v.getState().session.browser,version:Math.floor(parseInt(v.getState().session.browserVersion,10)),...t}),C=(0,r.Z)(),O="default"===C||"granted"===C,D=(e,t,n,r)=>{const i=navigator.serviceWorker,o=Boolean((0,c.qn)(b)),s={experimentName:n||"noExperiment",experimentGroup:r||"noGroup"};return i&&i.ready&&O&&!o?(t({event_type:13,view_type:170,component:13125,aux_data:{experiment_name:n,experiment_group:r}}),k(`mweb.notifications_upsell.${A(e)}.viewed`,s),i.ready.then((e=>e.pushManager.subscribe({userVisibleOnly:!0}))).then((n=>((e,t,n,r)=>{a.Z.create("WebPushDeviceResource",{}).callGet().then((t=>{const n=(({subscriptionId:e,endpoint:t})=>{return e||(n=t.split("/"))[n.length-1];var n})(e);if(t.resource_response.data[n])return;const r={registration_id:n,subscription_endpoint:e.endpoint};a.Z.create("WebPushDeviceResource",r).callCreate()})),(0,c.Nh)(b,"subscribed"),k(`mweb.notifications_upsell.${A(t)}.subscribed`,n);const i=R(t);r({component:13125,element:10357,event_type:102,view_type:i.viewType,view_parameter:i.viewParameter,aux_data:{experiment_name:n.experimentName,experiment_group:n.experimentGroup}})})(n,e,s,t)),(()=>((e,t,n)=>{(0,c.Nh)(b,"denied"),k(`mweb.notifications_upsell.${A(e)}.denied`,t);const r=R(e);n({component:13125,element:10358,event_type:102,view_type:r.viewType,view_parameter:r.viewParameter,aux_data:{experiment_name:t.experimentName,experiment_group:t.experimentGroup}})})(e,s,t)))):Promise.reject()},N=e=>{v=e},L=({isAuthenticated:e,isAppShell:t})=>{let n=!1;const r=r=>{if(n)return;n=!0;const a=`${t?"warm":"cold"}.${e?"auth":"unauth"}`;(0,l.My)(`mweb_service_worker.appshell_status.${a}.${r}`)},a=navigator.serviceWorker,i=null==a?void 0:a.controller;a&&i?setTimeout((()=>r("timeout")),1e3):r("no_worker")}},886076:(e,t,n)=>{function r({isEligibleForPdp:e,isOosProduct:t,isStaleProduct:n,pinShoppingFlags:r}){if(r){const a=r,i={pin_is_shop_the_look:a.includes(2),pin_show_pdp:e||t||n,is_available:a.includes(1),is_product_pin_v2:a.includes(5),is_rich_product_pin:a.includes(6)};return JSON.stringify(i)}}n.d(t,{Z:()=>r})},830157:(e,t,n)=>{function r(e,t){return e||(t?`${t}~0`:"~0")}n.d(t,{Z:()=>r})},62409:(e,t,n)=>{n.d(t,{AH:()=>l,Bk:()=>i,CK:()=>s,Xe:()=>a,kb:()=>o,wS:()=>r});const r=(e,t,n,r)=>{let a;return a=t||(e?e.official_user:n||r),a};function a({hasLinkDomain:e,hasNativeCreator:t,hasOriginPinner:n,pinDomain:r,sourceUserUsername:a,sourceUserFullName:i}){return!t&&(e||n)&&a?{pinCreditLink:`/${a}/`,pinCredit:i}:{pinCreditLink:void 0,pinCredit:!t&&e?r:""}}const i=({i18n:e,isLego:t,hasLinkDomain:n,hasRichMetadataArticle:r,hasRichMetadataTutorial:a,hasRichMetadataRecipeCategorizedIngredients:i,hasRichMetadataProductOfferSummary:o,hasRichSummaryProductOfferSummary:s,richMetadataRecipeFromAggregatedData:l,richMetadataProductName:c,richSummaryProductName:d})=>{const u=i;let p;c&&o&&(p=!0);const h=r,m=a;let _=t?e.bt(": ", "From ", "Closeup pin annotation", undefined, true):e.bt(": ", "Saved from ", "Closeup pin annotation", undefined, true);return!n||l?_=e.bt(": ", "Saved by ", "Closeup pin annotation", undefined, true):p?_=e.bt(": ", "Product sold by ", "pin annotation", undefined, true):m?(t&&(_=e.bt(": ", "From ", "pin annotation", undefined, true)),_=e.bt(": ", "Saved from ", "pin annotation", undefined, true)):u?_=e.bt(" : ", "Recipe from ", "pin annotation", undefined, true):h&&(_=e.bt(" : ", "Article from ", "pin annotation", undefined, true)),!o&&d&&s&&(_=e.bt(": ", "Product sold by ", "pin annotation", undefined, true)),_},o=(e,t,n)=>{let r;if(e&&!(t&&t.recipe&&t.recipe.from_aggregated_data)){let e;var a;if(t&&t.products&&t.products[0]&&(e=!!(t&&t.products[0].name&&t.products[0].offer_summary)),e)r=null==t||null===(a=t.products)||void 0===a?void 0:a[0].offer_summary}if(!r&&n){let e;n&&n.products&&n.products[0]&&(e=!!(n&&n.products[0].name&&n.products[0].offer_summary),e&&(r=n.products[0].offer_summary))}return r},s=({hasRichMetadata:e,hasRichMetadataProducts:t,hasRichMetadataArticle:n,hasRichMetadataRecipe:r})=>e?t?144:n?141:r?145:139:140,l=e=>!!e&&!e.startsWith("https://i.pinimg.com")},772486:(e,t,n)=>{n.d(t,{XK:()=>s,jC:()=>o,yd:()=>l});var r=n(745760);let a=null,i=null;const o=((e,t)=>{let n=null;return o=>{var s;if(o&&!n)return n={...o,event_type:e,time:(0,r.h1)()},null===(s=i)||void 0===s||s.logContextEvent(n),a&&n&&a.storeClickthroughProperties(n),e;if(!o&&n){var l;const e={...n,event_type:t,duration_ns:(0,r.h1)()-n.time};return null===(l=i)||void 0===l||l.logContextEvent(e),n=null,t}return null}})(12,4100),s=e=>{a=e},l=e=>{i=e}},534427:(e,t,n)=>{n.d(t,{E:()=>o,S:()=>s});var r=n(667294),a=n(844974);const i="_loggingInNotHome",o=e=>{e?(0,a.Nh)(i,1):(0,a.L_)(i)},s=()=>{const[e,t]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{t(!0)}),[]),e&&(0,a.qn)(i)}},987318:(e,t,n)=>{n.d(t,{H:()=>i,o:()=>a});var r=n(425288);const{Provider:a,useHook:i}=(0,r.Z)("LimitedLogin")},945698:(e,t,n)=>{n.d(t,{N4:()=>i,Wh:()=>r,hr:()=>a});const r=e=>e.bt(",  ", "Log in to continue", "limitedLogin.modalHeader.default", undefined, true),a=e=>e.bt(" !   Pinterest,      .", "You're almost there! Log in to access all of Pinterest", "loginModal.limitedLogin.subheader", undefined, true),i=({i18n:e,toFollow:t})=>t?e.bt(",  ", "Log in to follow", "limitedLogin.modalHeader.follow", undefined, true):e.bt(",  ", "Log in to unfollow", "limitedLogin.modalHeader.unfollow", undefined, true)},927383:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(898781),a=n(50286),i=n(987318),o=n(945698);const s=()=>{const e=(0,r.ZP)(),t=(0,a.HG)(),{viewer:n,loginForMore:s,limitedLoginModalSubheader:l,limitedLoginModalNextLocation:c}=(0,i.H)();return"LIMITED_LOGIN"===n.type?({modalHeader:n,nextLocation:r})=>a=>{let i=null;a&&(a.nativeEvent&&a.nativeEvent instanceof Event?i=a:a.event&&(i=a.event)),i&&(i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation()),null==s||s.setVisible(!0),null==l||l.setText(n||(t?(0,o.hr)(e):(0,o.Wh)(e))),r&&(null==c||c.setRoute(r))}:({fn:e})=>e}},574724:(e,t,n)=>{n.d(t,{Ee:()=>v,Hn:()=>u,Jw:()=>f,L7:()=>r,PS:()=>y,Qc:()=>a,UF:()=>c,UT:()=>p,UV:()=>o,W1:()=>i,Ws:()=>h,ZW:()=>l,cK:()=>g,cy:()=>_,o4:()=>m,tr:()=>d,uQ:()=>b,vF:()=>s});const r=1,a=2,i="female",o="male",s="unspecified",l="en-US",c="US",d=3,u="has_done_closeup",p=[503459,505150,503761,505139],h="Gender",m="InterestPicker",_="LoadingStep",f="AppInstall",g={NUX_GENDER_STEP_NAME:h,NUX_INTEREST_PICKER_STEP_NAME:m,NUX_LOADING_STEP_NAME:_,NUX_APP_INSTALL_STEP_NAME:f},y="mweb_cfa_full_modal_opt_in_tp",v="mweb_modernize_nux",b="checklist_education_feed_card"},239682:(e,t,n)=>{function r(e,t,n){return{privacy_filter:t?"secret":"public",sort:n||"last_pinned_to",field_set_key:"profile_grid_item",username:e}}n.d(t,{Z:()=>r})},59644:(e,t,n)=>{n.d(t,{Z:()=>r});const r=(e,t)=>`${e}:${t||""}`},240265:(e,t,n)=>{n.d(t,{O:()=>s,Q:()=>l});var r=n(59644),a=n(414327),i=n(956800);const o=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],s={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,filterStories:t,mixPublicSecret:n,username:r},a)=>({privacy_filter:"all",sort:e||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:t,username:r,page_size:25,group_by:n?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0,...a?{orbac_subject_id:a}:Object.freeze({})})},l=e=>o.reduce(((t,n)=>{const o=[(0,i.N8)("profileBoards",(0,r.Z)(e,n))];return[!0,!1].forEach((t=>{[!0,!1].forEach((r=>{o.push((0,a.jB)(s.name,s.options({username:e,boardOrder:n,mixPublicSecret:t,filterStories:r})))}))})),t.concat(o)}),[])},254176:(e,t,n)=>{n.d(t,{$z:()=>H,Br:()=>w,Cr:()=>N,K8:()=>I,KQ:()=>G,L1:()=>K,NH:()=>re,OA:()=>W,RZ:()=>X,Tq:()=>x,Xi:()=>z,YQ:()=>$,YV:()=>D,ZP:()=>L,aX:()=>M,eo:()=>E,fJ:()=>Y,h6:()=>Q,k8:()=>ee,md:()=>S,oG:()=>P,oL:()=>j,of:()=>A,rS:()=>ae,xH:()=>T,xQ:()=>R,xR:()=>V,xk:()=>C,yT:()=>b,yt:()=>te,zC:()=>ne,zS:()=>q});var r,a,i,o,s,l,c=n(702664),d=n(27255),u=n(239682),p=n(172071),h=n(422946),m=n(379725),_=n(240265),f=n(414327),g=n(6637),y=n(956800),v=n(167912);function b(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function w(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}function S(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function E({viewingUserId:e,viewingUsername:t,boardId:n,boardPinCount:r}){return{type:"BOARD_DELETE",payload:{viewingUserId:e,viewingUsername:t,boardId:n,boardPinCount:r}}}const P=(e,t)=>n=>n((0,m.U)("BoardResource",{options:{board_id:e,field_set_key:t}}));function x(e,t,n){return(0,m.U)("BoardResource",{options:{board_id:e,field_set_key:t,...n?{orbac_subject_id:n}:{}}})}function T(e,t,n){return r=>g.Z.create("BoardsMergeResource",{source_board_id:e,target_board_id:t,...n?{orbac_subject_id:n}:{}}).callUpdate().then((()=>Promise.all([r(E({boardId:e})),r(x(t,"pin_count")),r((0,y.N8)(h.DV.BOARD_SECTIONS,t))])))}function I(e){return t=>{e&&(0,_.Q)(e).forEach((e=>{t(e)}))}}const A=e=>({type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}),R=e=>P(e,"pin_count");function k(e,t){return{type:"BOARD_ARCHIVE",payload:{boardId:e,username:t}}}function C(e,t){return n=>(n(k(e)),g.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callUpdate())}function O(e){return{type:"BOARD_UNARCHIVE",payload:{boardId:e}}}function D(e,t){return n=>(n(O(e)),g.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callDelete())}const N=(e,t)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}),L=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}});function M(e,t,n){const r={name:e,privacy:d.Z.BoardPrivacy.PUBLIC,username:t,...n?{orbac_subject_id:n}:Object.freeze({})};return e=>g.Z.create("BoardResource",r).callCreate().then((n=>{const r=n.resource_response.data;return e(t&&(0,f.jB)("BoardsResource",(0,u.Z)(t,!1))),r}))}function j(e={},t,n){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:n}}const F=(e,t,n)=>({type:"BOARD_INVITE_APPROVED_BY_VIEWER",payload:{boardId:e,isRequestToJoin:t,collaboratingUser:n}}),U=(e,t)=>({type:"BOARD_INVITE_DENIED_BY_VIEWER",payload:{boardId:e,userId:t}}),B=(e,t,n)=>({type:"BOARD_COLLABORATOR_DELETE",payload:{boardId:e,userId:t,viewingUser:n}}),Z=(e,t,n,r)=>({type:"BOARD_COLLABORATOR_ADD",payload:{boardId:e,viewingUser:t,status:n,collaboratingUsers:r}}),z=(e,t=!1,n)=>r=>(r(F(e,t,n)),g.Z.create("BoardInviteResource",{board_id:e,invited_user_id:null==n?void 0:n.id}).callUpdate()),V=(e,t)=>n=>(n(U(e,t)),g.Z.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callDelete()),H=(e,t,n)=>r=>(r(Z(e,t,"new",n)),g.Z.create("BoardInviteResource",{board_id:e,invited_user_ids:n.map((({id:e})=>e))}).callCreate()),$=(e,t,n,r,a)=>i=>{var o,s;const l="accepted"===t?"BoardCollaboratorResource":"BoardInviteResource";return i(B(e,null!==(o=null==r?void 0:r.id)&&void 0!==o?o:"",n)),g.Z.create(l,{board_id:e,field_set_key:"boardEdit",invited_user_id:null!==(s=null==r?void 0:r.id)&&void 0!==s?s:"",...a?{orbac_subject_id:a}:{}}).callDelete().catch((()=>i(Z(e,n,t,[r]))))},G=(e,t)=>n=>g.Z.create("SocialSearchCampaignResource",{boardId:e}).callGet().then((r=>{if(!r||!r.resource_response)return{};const a=r.resource_response.data||{},i=(a.model||{}).custom_properties||{},{campaign_id:o="unknown"}=i,s=a.display_data||{},l=!!a.display_data,c=s.header_image_mobile,d=s.header_background_color,u=s.text_icon_color,h={boardId:e,isSocialSeasonalBoard:l,socialHeaderBgImage:c,socialHeaderBgColor:d,textIconColor:u};return p.Z.increment(`mweb.seasonal_board.${o}.${t}.land`),n((e=>({type:"SET_SOCIAL_SEASONAL_BOARD",payload:e}))(h))})),W=(e,t)=>()=>g.Z.create("BoardEmailInviteResource",{board_id:e,emails:t}).callCreate(),K=(e,t,n,r)=>a=>{const i=g.Z.create("BoardResource",{board_id:n}).callDelete();return a(E({viewingUserId:e,viewingUsername:t,boardId:n,boardPinCount:r})),i},q=(e,t)=>n=>g.Z.create("BoardArchiveResource",{boardId:e}).callUpdate().then((r=>(n((0,y.Qv)("archived-boards",[{id:e,type:"board"}])),n(k(e,t)),r))),Y=(e,t)=>n=>g.Z.create("BoardArchiveResource",{boardId:e}).callDelete().then((r=>(n((0,y.Qv)(`profile-boards:${t}`,[{id:e,type:"board"}])),n(O(e)),r))),X=()=>{const e=void 0!==r?r:r=n(604955),[t]=(0,v.useMutation)(e);return async e=>{const n={boardId:e};return await new Promise(((e,r)=>{t({variables:{...n},onCompleted:(t,n)=>{n&&r(n[0]),e(t)},onError:e=>r(e)})}))}},J=()=>{const e=void 0!==a?a:a=n(90105),[t]=(0,v.useMutation)(e);return async(e,n,r)=>{const a={boardId:e,userId:n,ban:r||!1};return await new Promise(((e,n)=>{t({variables:{...a},onCompleted:(t,r)=>{r&&n(r[0]),e(t)},onError:e=>n(e)})}))}},Q=()=>{const e=void 0!==o?o:o=n(518190),[t]=(0,v.useMutation)(e),r=(0,c.useDispatch)();return async(e,n,a)=>{const i={boardId:e,userId:(null==a?void 0:a.id)||""};return await new Promise(((o,s)=>{t({variables:{...i},onCompleted:(t,i)=>{i&&s(i[0]),r(F(e,n,a)),o(t)},onError:e=>s(e)})}))}},ee=()=>{const e=J();return(t,n)=>r=>(r(U(t,n)),e(t,n))},te=()=>{const e=void 0!==s?s:s=n(16945),[t]=(0,v.useMutation)(e);return async(e,n)=>{const r={boardId:e,collaboratorIds:n.map((({id:e})=>e)),message:""};return await new Promise(((e,n)=>{t({variables:{...r},onCompleted:(t,r)=>{r&&n(r[0]),e(t)},onError:e=>n(e)})}))}},ne=()=>{const e=void 0!==l?l:l=n(787525),[t]=(0,v.useMutation)(e);return async(e,n)=>{const r={board:e,emails:n,message:""};return await new Promise(((e,n)=>{t({variables:{...r},onCompleted:(t,r)=>{r&&n(r[0]),e(t)},onError:e=>n(e)})}))}},re=()=>{const e=te();return(t,n,r)=>a=>(a(Z(t,n,"new",r)),e(t,r))},ae=()=>{const e=J(),t=(()=>{const e=void 0!==i?i:i=n(472297),[t]=(0,v.useMutation)(e);return async(e,n)=>{const r={board:e,collaboratorIds:[n]};return await new Promise(((e,n)=>{t({variables:{...r},onCompleted:(t,r)=>{r&&n(r[0]),e(t)},onError:e=>n(e)})}))}})();return(n,r,a,i)=>o=>{var s,l;const c="accepted"===r?t:e;return o(B(n,null!==(s=null==i?void 0:i.id)&&void 0!==s?s:"",a)),c(n,null!==(l=null==i?void 0:i.id)&&void 0!==l?l:"").catch((()=>o(Z(n,a,r,[i]))))}}},956800:(e,t,n)=>{function r(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function a(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}n.d(t,{EX:()=>o,N8:()=>a,Qv:()=>i,_f:()=>r,vX:()=>s});const i=(e,t,n=Object.freeze({}))=>({type:"APPEND_FEED_ITEMS",payload:{id:e,options:n,items:t}});function o(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function s(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},447948:(e,t,n)=>{function r(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:t}}}function a(e,t){return{type:"SET_PIN_COMMENTS_DISABLED",payload:{id:e,pinCommentsDisabled:t}}}function i(e,t,n,r,a){return{type:"PIN_SAVE",payload:{id:e,boardId:t,title:n,url:r,localPinId:a}}}function o(e){return{type:"PIN_UNSAVE",payload:{id:e}}}n.d(t,{Gb:()=>o,I1:()=>d,Ib:()=>p,NA:()=>c,Ur:()=>i,Vw:()=>l,b9:()=>m,fH:()=>f,i0:()=>h,mO:()=>a,q1:()=>u,t_:()=>s,yR:()=>r,yj:()=>_});const s=(e,t,n)=>({type:"PIN_UNDO_SAVE",payload:{pinId:e,boardId:t,boardSectionId:n}});function l(e){return{type:"PIN_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function c({id:e,text:t,undoAction:n,undoActionOptions:r,undoText:a}){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e,value:!0,text:t,undoAction:n,undoActionOptions:r,undoText:a}}}function d(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function u(e,t){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t}}}function p(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function h(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}function m(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function _(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}const f=(e,t)=>({type:"PIN_FEEDBACK",payload:{id:e,value:t}})},461773:(e,t,n)=>{n.d(t,{KF:()=>c,ZN:()=>o,fv:()=>l,kE:()=>u,yA:()=>s});var r=n(6637),a=n(90326);function i(e,t){return r.Z.create("UserFollowResource",{user_id:e,aux_data:t?{pin_id:t}:void 0})}function o(e,t=null){return n=>{i(e,t).callCreate().catch((()=>n((0,a.P_)(e,!1)))),n((0,a.P_)(e,!0))}}function s(e,t=null){return async n=>{n((0,a.P_)(e,!0)),await i(e,t).callCreate().catch((t=>{throw n((0,a.P_)(e,!1)),t}))}}function l(e,t=null){return n=>{i(e,t).callDelete().catch((()=>n((0,a.P_)(e,!0)))),n((0,a.P_)(e,!1))}}function c(e,t=null){return async n=>{n((0,a.P_)(e,!1)),await i(e,t).callDelete().catch((t=>{throw n((0,a.P_)(e,!0)),t}))}}const d=(e,t)=>({type:"USER_BULK_FOLLOW",payload:{ids:e,value:t}}),u=e=>t=>{e.length>0&&(r.Z.create("ApiResource",{url:"/v3/users/follow/",data:{followee_ids:e.join(",")}}).callUpdate().catch((()=>t(d(e,!1)))),t(d(e,!0)))}},90326:(e,t,n)=>{n.d(t,{Ge:()=>l,JS:()=>i,OF:()=>f,P_:()=>o,Q_:()=>u,b8:()=>p,eR:()=>_,h2:()=>c,h6:()=>d});var r=n(962832),a=n(6637);function i(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}const o=(e,t)=>({type:"USER_FOLLOW",payload:{id:e,value:t}}),s=(e,t)=>({type:"USER_BLOCK",payload:{id:e,value:t}}),l=(e,t)=>n=>(n(s(e,!0)),a.Z.create("UserBlockResource",{blocked_user_id:e,orbac_subject_id:t}).callCreate().catch((()=>n(s(e,!1))))),c=e=>t=>(t(s(e,!1)),a.Z.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch((()=>t(s(e,!0)))));function d(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}const u=(e,t)=>()=>a.Z.create("UserStateResource",{state:e,value:t}).callCreate(),p=(e,t,n)=>(i,o)=>{a.Z.create("ApiResource",{url:"/v3/users/me/"}).callCreate().then((()=>{n({event_type:48,object_id_str:o().session.userId}),e(),(0,r.Dm)()}),t)};const h=async(e,t,n)=>{var r;const i=await a.Z.create("VIPResource",{upload_ids:[e]}).callGet();if(null!==(r=i.resource_response)&&void 0!==r&&r.data[e]){const r=i.resource_response.data[e],{status:a,signature:o}=r;if("processing"===a||"registered"===a)setTimeout((async()=>{h(e,t,n)}),5e3);else if("succeeded"===a){const e=((e,t="150x150")=>e&&`https://i.pinimg.com/${t}/${e.substring(0,2)}/${e.substring(2,4)}/${e.substring(4,6)}/${e}.jpg`||"")(o);t(e)}else n()}else n()},m=e=>new Promise(((t,n)=>{var r,i,o,s,l;r=e,i="pinimage",o=()=>{},s=e=>{t(e)},l=e=>{n(e)},(new FormData).append("img",r),a.Z.create("VIPResource",{type:i}).callCreate().then((e=>{var t;if(null!==(t=e.resource_response)&&void 0!==t&&t.data){const{upload_id:t,upload_url:n,upload_parameters:a}=e.resource_response.data,i=new XMLHttpRequest;i.open("POST",n,!0),i.onload=()=>{var e;(e=i.status)>=200&&e<400?(o(100),h(t,s,l)):l()},i.upload.onprogress=e=>{const t=Math.round(100*e.loaded/e.total);o(t)};const c=new FormData;for(const e in a)c.append(e,a[e]);c.append("file",r),i.send(c)}}),(()=>{l()}))})),_=e=>new Promise(((t,n)=>{"string"==typeof e?e.startsWith("data")&&m(function(e,t=512){const n=e.split(";"),r=n[0].split(":")[1],a=n[1].split(",")[1],i=atob(a),o=[];for(let s=0;s<i.length;s+=t){const e=i.slice(s,s+t),n=new Array(e.length);for(let t=0;t<e.length;t+=1)n[t]=e.charCodeAt(t);const r=new Uint8Array(n);o.push(r)}return new Blob(o,{type:r})}(e)).then((e=>t(e))):n("Invalid Image")})),f=e=>()=>a.Z.create("ApiResource",{url:"/v3/register/exists/",data:{email:e}}).callGet()},483025:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(819063);const a={AggregatedCommentResource:r.rm,AggregatedCommentFeedResource:r.LR,AggregatedCommentReplyResource:r.rm,AggregatedCommentReplyFeedResource:r.LR,AggregatedActivityFeedResource:r.LR,BestPinsFeedAltResource:r.LR,BoardArchiveResource:r.LR,BoardCollaboratorsResource:r.LR,BoardContentRecommendationResource:r.LR,BoardFeedResource:r.LR,BoardFollowingResource:r.LR,BoardInviteResource:r.sf,BoardInvitesResource:r.Ht,BoardlessPinsResource:r.LR,BoardPickerBoardsResource:{all_boards:r.LR,boards_shortlist:r.LR},BoardSectionEditResource:r._F,BoardSectionsRepinResource:r.LR,BoardSectionsResource:r.LR,BoardsFeedResource:r.LR,BoardResource:r.IY,BoardSectionResource:r._F,BoardSectionPinsResource:r.LR,BoardToolsFeedResource:r.LR,ContactRequestsResource:r.LR,ConversationsResource:r.LR,ConversationMessagesResource:r.dq,DidItCommentsResource:r.LR,DidItLikedByResource:r.Gn,DidItUserFeedResource:r.LR,ExploreArticleBlockPinResource:r.LR,ExploreArticleBlockSearchResource:r.LR,ExploreArticleBlockUserResource:r.LR,ExploreArticleBlockUserDidItDataResource:r.LR,ExploreArticleResource:r.yg,FollowingFeedResource:r.LR,HolidaySpotlightRelatedFeedResource:r.LR,HolidaySpotlightResource:r.LR,InterestFollowingResource:r.LR,InterestResource:r.cC,MoreIdeasTabsBoardsResource:r.LR,NewsHubResource:r.LR,NewsHubDetailsResource:r.LR,NewsHubSummaryResource:r.t6,NuxInterestsResource:r.LR,NuxTopicToCreatorsResource:r.Gn,PinResource:r.Cj,PinCatalogResource:r.LR,PinsFromBrandResource:r.LR,ReactionsResource:r.fE,RelatedArticlesResource:r.LR,RelatedInterestsResource:r.LR,RelatedModulesResource:r.LR,RelatedPinFeedResource:r.LR,RelatedProductFeedResource:r.LR,RelatedStreamResource:r.LR,RepinResource:r.Cj,BaseSearchResource:{results:r.LR},SearchResource:r.LR,SectionToolsFeedResource:r.LR,ShareSuggestionsTypeaheadResource:{items:r.LR},ShoppingFeedModularizedResource:r.LR,StoryFeedResource:r.LR,StoryPinTaggedProductsResource:r.LR,SuggestedCreatorFollowsResource:r.Gn,TodayArticleFeedResource:r.LR,IdeasHubTodayArticlesResource:r.LR,TodayArticleResource:r.iF,TodayTabInterestFeedResource:r.LR,TodayTabResource:r.LR,TopicFeedResource:r.LR,UnifiedCommentsResource:r.LR,UserActivityPinsResource:r.LR,UserFollowingResource:r.LR,UserRecentActivityResource:r.LR,UserHomefeedResource:r.LR,UserPinsResource:r.LR,UserSettingsResource:r.EA,UserStoryPinsFeedResource:r.LR,UserResource:r.EA,VideosFeedResource:r.LR,VisualLiveSearchResource:{results:r.LR},VisualLiveSearchProductFeedResource:r.LR,VisualSearchFlashlightUnifiedResource:r.LR,SeoTier1CandidateResource:r.LR}},819063:(e,t,n)=>{n.d(t,{Cj:()=>c,EA:()=>i,Gn:()=>x,Ht:()=>P,IY:()=>l,LR:()=>I,_F:()=>p,cC:()=>v,dq:()=>m,fE:()=>u,iF:()=>y,rm:()=>o,sN:()=>T,sf:()=>b,t6:()=>E,yg:()=>f});var r=n(782677);const a=Object.freeze({aggregatedComment:"aggregatedComments",article:"articles",board:"boards",boardsection:"boardsections",contactrequest:"contactrequests",conversation:"conversations",conversationMessage:"conversationMessages",inbox:"inbox",notification:"notifications",pin:"pins",reaction:"reactions",story:"stories",todayArticle:"todayArticles",topic:"topics",triedit:"triedits",user:"users",invite:"collaboratorinvite"}),i=new r.fK.Entity(a.user),o=new r.fK.Entity(a.aggregatedComment,{user:i,tagged_users:[i]}),s=new r.fK.Entity(a.article,{curator:i}),l=new r.fK.Entity(a.board),c=new r.fK.Entity(a.pin),d=new r.fK.Entity(a.reaction,{user:i}),u=new r.fK.Array(d),p=new r.fK.Entity(a.boardsection),h=new r.fK.Entity(a.conversationMessage,{sender:i,users:[i],board:l,pin:c,user:i}),m=new r.fK.Array(h),_=new r.fK.Entity(a.contactrequest),f=new r.fK.Entity(a.story,{cover_pin:c,user:i}),g=new r.fK.Entity(a.triedit,{pin:c,user:i}),y=new r.fK.Entity(a.todayArticle,{article_creator_user:i,content_pin:c,content_pin_official_user:i,video_pin:c}),v=new r.fK.Entity(a.topic,{},{processStrategy:(e,t,n)=>({...e,slug:e.slug?e.slug:e.url_name?e.url_name.includes(":")?e.url_name.split(":")[1]:e.url_name:""})}),b=new r.fK.Entity(a.invite,{invited_by_user:i,invited_user:i,board:l},{idAttribute:e=>`${e.board.id}:${e.invited_user.id}`}),w=e=>{switch(e.type){case"aggregatedcomment":return"aggregatedComment";case"conversationMessage":return"conversationMessage";case"explorearticle":return"article";case"news":return"notification";case"interest":return"topic";case"userdiditdata":return"triedit";case"board_section":return"boardsection";case"klp_featured_data":return"topic";case"todayarticle":return"todayArticle";default:return e.type}},S=new r.fK.Union({user:i,board:l,invite:b,pin:c,topic:v,triedit:g},w),E=new r.fK.Entity(a.notification,{content_items:[{content_object:S}],header_icon_objects:[S]}),P=new r.fK.Array(b),x=new r.fK.Array(i),T=new r.fK.Array(l),I=new r.fK.Array({aggregatedComment:o,article:s,board:l,boardsection:p,contactrequest:_,conversationMessage:h,notification:E,pin:c,story:f,todayArticle:y,topic:v,triedit:g,user:i},w,(e=>{switch(e.type){case"collaboratorinvite":return e.board.id;case"category":return"key";default:return"id"}}));f.define({objects:I})},550858:(e,t,n)=>{n.d(t,{Qi:()=>c,RK:()=>l,$_:()=>s});var r=n(766935);var a=n(844974);const i="REDUX_STATE",o=()=>!!navigator.serviceWorker,s=()=>o()&&JSON.parse((0,a.qn)(i))||{},l=e=>(0,r.Z)((t=>{const n={};n[e]=t,o()&&(e=>{if(window.requestIdleCallback)return window.requestIdleCallback(e);{const t=Date.now();setTimeout((()=>{e({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-t))})}),1)}})((()=>(e=>{o()&&(0,a.Nh)(i,JSON.stringify({...s(),...e}))})(n)))}),1e3),c=()=>{(0,a.L_)(i)}},422946:(e,t,n)=>{n.d(t,{DV:()=>d,J:()=>_,ZP:()=>v});var r=n(59644),a=n(932995),i=n(483025),o=n(998651),s=n(648284),l=n(819063),c=n(338739);const d={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardlessPins",BOARD_SECTIONS:"board-sections",BOARD_SECTION_PINS:"board-section-pins",CALL_TO_CREATE_RESPONSES_FEED:"callToCreateResponsesFeed",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",TRIED_IT_FEED:"trieditfeed"},u=new Set(["PinResource","RepinResource"]),p={ApiResource:e=>{return"/v3/orientation/nux_creator_recommendations/"===(null==e?void 0:e.url)?"nux-creator-recommendations":null!=e&&e.url.match(/\/v3\/call_to_create_pins\/([0-9]|[a-z]|[A-Z])+\/pins\//)?`call-to-create-pins:${e.pin_id}`:"/v3/users/me/interests/"===(null==e?void 0:e.url)?`recommended-interests:${null===(t=e.data)||void 0===t?void 0:t.blend_type}`:"";var t},AggregatedActivityFeedResource:e=>`trieditfeed:${e.aggregated_pin_data_id}`,AggregatedCommentFeedResource:e=>`aggregated-comments:${e.objectId}`,AggregatedCommentReplyFeedResource:e=>`${d.AGGREGATED_COMMENT_REPLIES}:${e.objectId}`,BoardlessPinsResource:e=>`boardless-pins:${e.userId}`,BestPinsFeedAltResource:e=>`idea-page-best-pins:${e.interest}`,BoardArchiveResource:e=>"archived-boards",BoardCollaboratorsResource:e=>`board-collaborators:${e.board_id}`,BoardContentRecommendationResource:e=>`recommendation-feed:${e.id}`,BoardFeedResource:e=>`boardfeed:${e.board_id}`,BoardSectionsRepinResource:e=>`board-sections:${e.board_id}`,BoardSectionsResource:e=>`board-sections:${e.board_id}`,BoardSectionPinsResource:e=>`board-section-pins:${e.section_id}`,BoardsFeedResource:e=>`profile-boards:${e.username}`,BoardToolsFeedResource:e=>`board-tools:${e.boardId}`,ConversationsResource:e=>"conversations",DidItLikedByResource:e=>`triedit-likes:${e.didItDataId}`,DidItUserFeedResource:e=>`profile-tried:${e.username}`,ExploreArticleBlockSearchResource:e=>`explore-search:${e.article_id}:${e.block_id}`,ExploreArticleBlockUserResource:e=>`explore-user:${e.article_id}:${e.block_id}`,ExploreArticleBlockPinResource:e=>`explore-pin:${e.article_id}:${e.block_id}`,ExploreArticleBlockUserDidItDataResource:e=>`explore-did_it:${e.article_id}:${e.block_id}`,ExploreArticleResource:({response:e})=>{if(!e)return"";const t="explore_tab_pin".length,n=e.resource_response.data,{story_type:r}=n?n.objects[0]:{story_type:""};return`explore-${r.slice(t)}:${n.id}`},FollowingFeedResource:()=>"following",HolidaySpotlightRelatedFeedResource:e=>`holiday-spotlight-related:${e.storyType}`,HolidaySpotlightResource:e=>`holiday-spotlight:${e.storyType}`,InterestResource:e=>`klp-pins:${e.interest}`,MoreIdeasTabsBoardsResource:()=>"homefeed-more-ideas-tabs",NewsHubResource:()=>"notifications",NewsHubDetailsResource:e=>`newshubdetail:${e.news_id}`,NuxInterestsResource:e=>"nuxTopics",PinsFromBrandResource:e=>`brand-pins:${e.pin}`,ReactionsResource:e=>`reactions:${e.pin_id}`,RelatedArticlesResource:e=>`related-articles:${e.article_id}`,RelatedModulesResource:e=>`related-modules:${e.pin_id}`,RelatedPinFeedResource:e=>`related-pins:${e.pin}`,RelatedProductFeedResource:e=>"pin"===e.shop_source?`closeup-related-products:${e.pin}`:`related-products:${e.pin}`,RelatedStreamResource:e=>`related-story-pins:${e.pinId}`,SearchResource:e=>{const t=`search:${e.scope}:${e.query}:${e.filters||""}:${e.article||""}`;return e.auto_correction_disabled?`${t}:auto-correction-disabled`:t},BaseSearchResource:e=>{const t=`search:${e.scope}:${e.query}:${e.filters||""}:${e.appliedProductFilters}:${e.article||""}`;return e.auto_correction_disabled?`${t}:auto-correction-disabled`:t},SectionToolsFeedResource:e=>`section-tools:${e.sectionId}`,ShareSuggestionsTypeaheadResource:e=>`share-suggestions:${e.board||e.user}:${e.term}`,ShoppingFeedModularizedResource:e=>e.saved_products_only?`board-shop-saved:${e.board_id}`:`board-shop-related:${e.board_id}`,StoryFeedResource:e=>`story-feed:${e.feed_type}:${e.request_params}`,SuggestedCreatorFollowsResource:()=>"suggested-creator-follows",StoryPinTaggedProductsResource:()=>"story-pin-tagged-products",TodayArticleFeedResource:e=>`today-article:${e.id}`,IdeasHubTodayArticlesResource:e=>`today-article:${e.interest_id}`,TodayTabInterestFeedResource:e=>`today-article-interestfeed:${e.interest_id}`,TodayTabResource:()=>"today-tab",SeoTier1CandidateResource:()=>"tier1-feed",UnifiedCommentsResource:e=>`unified-comments:${e.aggregated_pin_id}`,UserActivityPinsResource:e=>`profile-pins-feed:${e.user_id}`,UserHomefeedResource:e=>e.pin_quiz?"pin-quiz":"homefeed",UserFollowingResource:e=>`user-following:${e.username}`,UserRecentActivityResource:()=>"user-recent-activity",UserStoryPinsFeedResource:e=>`story-pins-feed:${e.user_id}`,VideosFeedResource:e=>"videos-feed",VisualLiveSearchResource:e=>`visual-search:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualLiveSearchProductFeedResource:e=>`visual-search-products:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualSearchFlashlightUnifiedResource:e=>`related-products-unified:${e.pin_id}`,BoardFollowingResource:e=>`board-following:${e.username}`,InterestFollowingResource:e=>`topic-following:${e.username}`,UserPinsResource:e=>`profile-pins:${e.username}`,TopicFeedResource:e=>e.best_pins?`best-topic-pins:${e.interest}`:`topic-pins:${e.interest}`},h={ApiResource:({options:e})=>null!=e&&e.url.match(/\/v3\/call_to_create_pins\/([0-9]|[a-z]|[A-Z])+\/pins\//)?{type:d.CALL_TO_CREATE_RESPONSES_FEED,id:e.pin_id}:null,AggregatedActivityFeedResource:({options:{aggregated_pin_data_id:e}})=>({type:d.TRIED_IT_FEED,id:e}),AggregatedCommentFeedResource:({options:{objectId:e}})=>({type:d.AGGREGATED_COMMENTS,id:e}),AggregatedCommentReplyFeedResource:({options:{isUnifiedComment:e,objectId:t}})=>({type:e?d.AGGREGATED_COMMENT_REPLIES:d.AGGREGATED_COMMENTS,id:t,reversed:!0}),BoardFeedResource:({options:{board_id:e}})=>({type:d.BOARDFEED,id:e}),BoardlessPinsResource:({options:{userId:e}})=>({type:d.BOARDLESS_PINS,id:e}),BoardSectionPinsResource:({options:{section_id:e}})=>({type:d.BOARD_SECTION_PINS,id:e}),BoardSectionsResource:({options:{board_id:e}})=>({type:d.BOARD_SECTIONS,id:e}),BoardsResource:({options:{username:e,sort:t}})=>({type:d.PROFILE_BOARDS,id:(0,r.Z)(e,t)}),BaseSearchResource:({options:{auto_correction_disabled:e,appliedProductFilters:t,scope:n,filters:r,query_pin_sigs:a,query:i,user:l},response:c})=>{var u;return{type:d.SEARCH_PINS,id:(0,s.Tb)({appliedProductFilters:t,autoCorrectionDisabled:e,filters:r,query:i,selectedPinImgSig:a,scope:n,user:l}),items:null!==(u=c.resource_response.data)&&void 0!==u&&u.results?(0,o.LM)(c.resource_response.data.results).filteredResults:[]}},DidItCommentsResource:({options:{objectId:e}})=>({type:d.AGGREGATED_COMMENTS,id:e,reversed:!0}),DidItUserFeedResource:({options:{username:e}})=>({type:d.TRIED_IT_FEED,id:e}),IdeasHubTodayArticlesResource:({options:{interest_id:e}})=>({type:d.TODAY_TAB,id:e}),RelatedArticlesResource:({options:{article_id:e}})=>({type:d.TODAY_TAB,id:e}),StoryPinDraftsResource:({options:{userId:e}})=>({type:d.STORY_PIN_DATA,id:e}),TodayTabInterestFeedResource:({options:{interest_id:e}})=>({type:d.TODAY_ARTICLE_INTEREST_FEED,id:e}),TodayTabResource:()=>({type:d.TODAY_TAB,id:"todayTab"}),UnifiedCommentsPreviewResource:({options:{aggregated_pin_id:e}})=>({type:d.UNIFIED_COMMENTS,id:e}),UnifiedCommentsResource:({options:{aggregated_pin_id:e,is_reversed:t}})=>({type:d.UNIFIED_COMMENTS,id:e,reversed:t}),UserActivityPinsResource:({options:{user_id:e}})=>({type:d.PROFILE_PINS_FEED,id:e}),UserStoryPinsFeedResource:({response:e,options:{user_id:t}})=>({type:d.STORY_PINS_FEED,id:t,items:e.resource_response.data||[]})},m=(e,{pinId:t,oldFeedId:n,newFeedId:r})=>n===r?e:((e,{pinId:t,feedId:n})=>e[n]?{...e,[n]:[{type:"pin",id:t},...e[n]]}:e)(((e,{pinId:t,feedId:n})=>e[n]?{...e,[n]:e[n].filter((e=>!("pin"===e.type&&e.id===t)))}:e)(e,{pinId:t,feedId:n}),{pinId:t,feedId:r}),_=(e,t)=>e in p?p[e](t):null,f=(e,t)=>t?`board-section-pins:${t}`:`boardfeed:${e}`,g=(e,t)=>e.map((({id:e,schema:n})=>n?{id:e,type:n,trackingParams:"pin"===n?t.pins[e].tracking_params:void 0,user_id:void 0}:null)).filter(Boolean),y=(e,t,n)=>Object.keys(e).reduce(((r,a)=>{const i=e[a]||[],o=i.filter((e=>!(e.type===t&&e.id===n)));return i.length!==o.length&&(r[a]=o),r}),{...e}),v=(e={},t)=>{switch(t.type){case c.zP:case c.aW:{const{payload:r}=t,{resource:a,options:o,normalizedResponse:s,schema:u}=r;if(s&&a in p){const n=((e,t,n)=>{const r=n||i.Z[e];if(r===l.LR)return t.result;if(r===l.sN)return t.result.map((e=>({id:e,schema:"board"})));if(r===l.Gn)return t.result.map((e=>({id:e,schema:"user"})));if(r===l.Ht)return t.result.map((e=>({id:e,schema:"invite"})));if(r===l.fE)return t.result.map((e=>({id:e,schema:"reaction"})));if("object"==typeof r){const e=Object.entries(r).find((([e,t])=>t===l.LR));if(e)return t.result[e[0]]}return null})(a,s,u);if(n&&Array.isArray(n)){const r=p[a](o);if("ShoppingFeedModularizedResource"===a){const{board_id:t,saved_products_only:r}=null!=o?o:{},a=`board-shop-related:${t}`,i=`board-shop-saved:${t}`,l=`board-shop-saved-preview:${t}`,c=[...e[a]||[]],d=[...e[i]||[]],u=[...e[l]||[]];return g(n,s.entities).forEach((e=>{var n;r?d.push(e):s.entities.pins&&(null===(n=s.entities.pins[e.id])||void 0===n?void 0:n.board)===t?u.push(e):c.push(e)})),{...e,[a]:c,[i]:d,[l]:u}}if("BoardToolsFeedResource"===a||"SectionToolsFeedResource"===a)return{...e,[r]:n};{const a=(t.type===c.aW&&e[r]||[]).concat(g(n,s.entities));return{...e,[r]:a}}}}else{var n;const a=r.response.resource_response.data;if(null===(n=r.options)||void 0===n||!n.redux_normalize_feed)return e;const i=h[r.resource](r);if(i){const{type:n,id:r,items:o,reversed:s}=i;let l=(o||a||[]).map((e=>((e,t)=>{switch(e.type){case"story":return{id:e.id,type:"story",story_type:e.story_type};case"module":return{id:e.id,type:"module",name:e.name};case"user":return{id:e.id,type:"user"};case"board":return t===d.PROFILE_BOARDS?{id:e.id,type:"board",onProfile:!0,profileGroup:e.archived_by_me_at?"archived":e.privacy||"public"}:{id:e.id,type:"board",onProfile:!1};case"board_section":return{type:"boardsection",id:e.id};case"triedit":return{type:"triedit",id:e.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:e.id};case"home_feed_tab":return{type:"home_feed_tab",id:e.id,name:e.name};case"storypindata":return{id:e.id,type:"storypindata"};case"todayarticle":return{type:"todayarticle",id:e.id};case"unifiedcommentspreview":return"userdiditdata"===e.unified_comment.type?{type:"triedit",id:e.unified_comment.id}:{type:"aggregatedcomment",id:e.unified_comment.id};default:return{type:"pin",id:e.id}}})(e,n)));s&&(l=l.reverse());const u=`${n}:${r}`,p=e[u];if(p||t.type!==c.aW){const n=p||[];let r=l;return t.type===c.aW&&(r=s?l.concat(n):n.concat(l)),{...e,[u]:r}}}}break}case"FEED_ITEM_REORDERED":{const{payload:{feedType:n,feedId:r,itemType:i,targetItemId:o,sourceItemId:s}}=t,l=`${n}:${r}`,c=e[l]||[];let u=-1,p=-1;if([d.BOARDFEED,d.BOARD_SECTION_PINS,d.BOARD_SECTIONS,"profileBoards"].includes(n)&&(u=c.findIndex((e=>e.type===i&&e.id===s)),p=c.findIndex((e=>e.type===i&&e.id===o))),-1!==u&&-1!==p)return{...e,[l]:(0,a.Z)(c,u,p)};break}case"FEED_ITEMS_REMOVED":{const{payload:{feedType:n,feedId:r,inverseSelection:a,itemType:i,itemIds:o=[]}}=t,s=`${n}:${r}`,l=e[s]||[];if(l&&l.length>0&&(n===d.BOARD_SECTION_PINS||n===d.BOARDFEED)){const t=l.filter((e=>{const t=o.includes(e.id);return!(e.type===i&&(a&&!t||!a&&t))})),n=!!t.find((e=>"pin"===e.type));return{...e,[s]:n?t:[]}}if(l&&l.length>0&&n===d.BOARD_SECTIONS){const t=l.filter((e=>{const t=o.includes(e.id);return!(e.type===i&&t)}));return{...e,[s]:t}}if(l&&l.length>0&&(n===d.AGGREGATED_COMMENTS||n===d.BOARDLESS_PINS||n===d.PROFILE_PINS_FEED||n===d.STORY_PINS_FEED||n===d.UNIFIED_COMMENTS||n===d.TRIED_IT_FEED||n===d.STORY_PIN_DATA)){const t=l.filter((e=>{const t=o.includes(e.id);return!(e.type===i&&t)}));return{...e,[s]:t}}break}case"FEED_ITEMS_ADDED":{const{payload:{feedType:n,feedId:r,itemType:a,itemIds:i=[],prepend:o}}=t,s=`${n}:${r}`,l=e[s]||[];if(l&&(n===d.BOARD_SECTION_PINS||n===d.BOARDFEED||n===d.BOARDLESS_PINS)){const t=i.map((e=>({id:e,type:a})));let n=0;"story"===(l[0]||{}).type&&(n=1),"story"===(l[1]||{}).type&&(n=2);const r=[...l.slice(0,n),...t,...l.slice(n)];return{...e,[s]:r}}if(l&&n===d.BOARD_SECTIONS){const t=[...i].reverse().map((e=>({id:e,type:"boardsection"}))),n=l?[...t,...l]:[...t];return{...e,[s]:n}}if(n===d.AGGREGATED_COMMENTS||n===d.AGGREGATED_COMMENT_REPLIES||n===d.PROFILE_PINS_FEED||n===d.STORY_PINS_FEED||n===d.UNIFIED_COMMENTS){const t=i.map((e=>({id:e,type:a}))),n=l?[...o?t:l,...o?l:t]:t;return{...e,[s]:n}}if(n===d.TRIED_IT_FEED){const t=i.map((e=>({id:e,type:a}))),n=l?[...t,...l]:t;return{...e,[s]:n}}break}case"FEED_INVALIDATE":{const{payload:{feedType:n,feedId:r}}=t,a=`${n}:${r}`;if(e[a]||[])return{...e,[a]:null};break}case"APPEND_FEED_ITEMS":{const{payload:{id:n,items:r,options:a}}=t,i=e[n];if(i){let t;return t=a.isPrepend?i[0]&&"story"===i[0].type?[].concat(i[0],r,i.slice(1)):r.concat(i):i.concat(r),{...e,[n]:t}}return{...e,[n]:r}}case"PIN_DELETE":{const{payload:{pinId:n}}=t;return y(e,"pin",n)}case"BOARD_ARCHIVE":{const{payload:{boardId:n,username:r}}=t,a=`profile-boards:${null!=r?r:""}`;if(e[a])return{...e,[a]:e[a].filter((e=>e.id!==n))};break}case"BOARD_UNARCHIVE":{const{payload:{boardId:n}}=t,r="archived-boards";if(e[r])return{...e,[r]:e[r].filter((e=>e.id!==n))};break}case"BOARD_DELETE":{const{payload:{boardId:n}}=t;return y(e,"board",n)}case"BOARD_SECTION_DELETE":{const{payload:{boardSectionId:n}}=t;return y(e,"boardsection",n)}case"PINS_MOVE":{const{payload:{source:n,target:r,pinIds:a,userId:i}}=t,o=n.boardlessPins&&i&&`boardless-pins:${i}`||n.boardId&&f(n.boardId,n.sectionId),s=f(r.boardId,r.sectionId);return a.reduce(((e,t)=>m(e,{pinId:t,oldFeedId:o,newFeedId:s})),e)}case"PINS_MOVE_ALL":{const{payload:{source:n,target:r,excludePinIds:a}}=t,i=f(n.boardId,n.sectionId),o=f(r.boardId,r.sectionId),s={...e,[i]:a.map((e=>({type:"pin",id:e})))};return delete s[o],s}case"PIN_EDIT":{const{payload:{pinId:n,boardId:r,section:a,source:{boardId:i,sectionId:o}}}=t,s=f(i,o),l=f(r,null==a?void 0:a.id);return m(e,{pinId:n,oldFeedId:s,newFeedId:l})}case c.AF:if(u.has(t.payload.resource)){const n=t.payload.response.resource_response.data,r=n.board;let a;if("quick_saves"===r.layout)a=`boardless-pins:${t.payload.options.user_id}`;else{const e=t.payload.options.section;a=e?`board-section-pins:${e}`:`boardfeed:${r.id}`}if(e[a]){const t={...e},r={id:n.id,type:"pin",trackingParams:null==n?void 0:n.tracking_params};return t[a]=[r].concat(e[a]),t}}if("BoardSectionResource"===t.payload.resource&&t.payload.normalizedResponse){const n=t.payload.normalizedResponse.result,r=`board-sections:${t.payload.normalizedResponse.entities.boardsections[n].board}`;if(e[r]){const t={...e},a={id:n,type:"boardsection"};return t[r]=[a].concat(e[r]),t}}if("AggregatedCommentResource"===t.payload.resource&&t.payload.normalizedResponse){const n={id:t.payload.normalizedResponse.result,type:"aggregatedcomment"},r=["aggregated-comments","unified-comments"];let a={...e};for(const i of r){const r=`${i}:${t.payload.options.objectId}`;e[r]&&(a={...a,[r]:[n].concat(a[r])})}return a}if("AggregatedCommentReplyResource"===t.payload.resource&&t.payload.normalizedResponse){const n=`${d.AGGREGATED_COMMENT_REPLIES}:${t.payload.options.objectId}`;return{...e,[n]:[...e[n]||[],{id:t.payload.normalizedResponse.result,type:"aggregatedComment"}]}}if("ReactionsResource"===t.payload.resource&&t.payload.normalizedResponse){const{reaction_pin_id:n}=t.payload.options;if("reaction"===t.payload.options.action_type){const r=`reactions:${t.payload.options.pin_id}`,a={...e},i={id:`${n}:${t.payload.options.user_id}`,type:"reaction",trackingParams:void 0};return a[r]=[i].concat(e[r]),a}if("unreaction"===t.payload.options.action_type){const r=`${n}:${t.payload.options.user_id}`;return y(e,"reaction",r)}}break;case"COMPLETE_STORY":{const{payload:{storyId:n}}=t;return y(e,"story",n)}}return e}},749049:(e,t,n)=>{n.d(t,{O:()=>r});const r=e=>{switch(e){case 2:return 331;case 3:return 12631;default:return 72}}},829084:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(66743);function a(e){var t;return{defaultStyle:0,fontFamily:null!==(t=e.name)&&void 0!==t?t:"",fontGroup:r.gu,fontOverrides:{letterSpacing:e.letter_spacing,lineHeight:e.line_height},format:"truetype",id:e.id,styles:[{fontStyle:"",fontUrl:e.url,fontWeight:"normal",name:"normal"}]}}},201155:(e,t,n)=>{n.d(t,{Z:()=>d});var r=n(883119),a=n(785893);function i({ideaPinImages:e}){const t={1:28,2:40,3:48},n=e.map(((e,t)=>{var n,i,o;return(0,a.jsx)(r.xu,{height:48,width:28,color:"default",borderStyle:"sm",overflow:"hidden",rounding:2,dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:t}},children:(0,a.jsx)(r.Ee,{alt:"",src:null!==(n=null==e?void 0:e.url)&&void 0!==n?n:"",color:"#696969",fit:"cover",naturalHeight:null!==(i=null==e?void 0:e.height)&&void 0!==i?i:1,naturalWidth:null!==(o=null==e?void 0:e.width)&&void 0!==o?o:1})},t)}));return(0,a.jsx)(r.kC,{justifyContent:"center",children:(0,a.jsx)(r.kC,{justifyContent:"start",width:t[e.length],children:n})})}var o=n(499128),s=n(898781),l=n(784590),c=n(50286);function d({handleHide:e,text:t,userId:n,href:d,imageUrl:u}){const p=(0,s.ZP)(),h=(0,c.HG)(),m=(0,l.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:n}}),_=Array.isArray(t)?t.join(" "):t;if(0===(m.data||[]).length){const t=u?(0,a.jsx)(r.xu,{height:48,overflow:"hidden",width:48,children:(0,a.jsx)(r.Ee,{alt:p.bt(" ,     ", "Image of who you followed", "userFollowingToast.thumbnail.userImage", undefined, true),fit:"cover",naturalHeight:1,naturalWidth:1,src:u})}):void 0;return(0,a.jsx)(o.ZP,{duration:5e3,onHide:e,text:_,href:d,iconThumbnail:t,thumbnailShape:"circle"})}const f=(m.data||[]).slice(0,3).map((e=>{var t;return null===(t=e.images)||void 0===t?void 0:t[h?"236x":"170x"]})),g=(0,a.jsx)(i,{ideaPinImages:f});return(0,a.jsx)(o.ZP,{href:d,duration:5e3,onHide:e,iconThumbnail:g,text:_,thumbnailShape:"square"})}},926749:(e,t,n)=>{n.d(t,{ZP:()=>P});var r=n(667294),a=n(23279),i=n.n(a),o=n(722767);function s(e){const{eventData:{videoEvent:{videoDuration:t,startTime:n,endTime:r,videoStartTime:a,videoEndTime:i,isAudible:o,height:s,width:l,playbackState:c,quartile:d,quartilePercentValue:u,windowHeight:p,windowWidth:h,viewability:m}},component:_,objectId:f,view:g,viewParameter:y,...v}=e;return{component:_,object_id_str:f,view_type:g,view_parameter:y,aux_data:{...v},event_data:{videoEventData:{videoDuration:t,time:n,endTime:r,videoTime:a,endVideoTime:i,isAudible:o,height:s,width:l,playbackState:c,quartile:d,quartilePercentValue:u,windowHeight:p,windowWidth:h,viewability:m}}}}var l=n(121630),c=n(944546),d=n(407043),u=n(158103),p=n(883119),h=n(785893);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _=[0,.25,.5,.75,.95,.97],f=[0,.5,.8,.99,1],g="-64px 0px 0px 0px",y={rootMargin:g,threshold:f},v={rootMargin:g,threshold:c.iM},b=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function w(){return(new Date).getTime()}function S(e){return!!e.volume&&e.volume>0}class E extends r.Component{constructor(e){super(e),m(this,"videoWrapperRef",(0,r.createRef)()),m(this,"handleWindowResize",(()=>{if(!this.fullscreen){const e=this.getDimensions(),{height:t,width:n}=this.currentInterval;e.height!==t||e.width!==n?this.startNewInterval(e):(this.currentInterval.windowHeight=e.windowHeight,this.currentInterval.windowWidth=e.windowWidth)}})),m(this,"handlePlayheadDown",(({event:e})=>{const{onPlayheadDown:t}=this.props;this.setState({seeking:!0}),t&&t({event:e})})),m(this,"handlePlayheadUp",(({event:e})=>{const{onPlayheadUp:t}=this.props;this.setState({seeking:!1}),t&&t({event:e})})),m(this,"handleLoop",(()=>{this.videoTime=0})),m(this,"handleTimeChange",(e=>{const{seeking:t,ready:n}=this.state;if(!this.currentInterval.videoDuration)return;const r=1e3*e.time,a=function(e,t,n,r){if(e>t)return null;if(n<=0)return null;for(const a of r){const r=a*n;if(e<=r&&t>r)return a}return null}(this.videoTime,r,this.currentInterval.videoDuration,_);if("number"==typeof a&&this.props.playing&&!t&&n){const e=w();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*a),quartilePercentValue:a})}this.videoTime=r,this.props.onTimeChange&&this.props.onTimeChange(e)})),m(this,"handleDurationChange",(e=>{this.currentInterval.videoDuration=1e3*e.duration,this.props.onDurationChange&&this.props.onDurationChange(e)})),m(this,"handleReady",(e=>{const{ready:t}=this.state;t||this.setState({ready:!0}),this.props.onReady&&this.props.onReady(e)})),m(this,"handleEnded",(e=>{this.logFourthQuartileEvent(),this.props.loop&&(this.startNewInterval(),this.currentInterval.videoStartTime=0),this.props.onEnded&&this.props.onEnded(e)})),m(this,"handleVisibilityChange",((e,t)=>{if(0===e.length)return;const n=e.slice(-1)[0],r=function(e,t){for(let n=0;n<t.length;n+=1){const r=t[n],a=t[n+1];if(null==a)return r;if(r<=e&&e<a)return r}return null}(Number.parseFloat(n.intersectionRatio.toFixed(2)),f);"number"==typeof r&&(this.visible=r>=.5),null==r||r===this.currentInterval.viewability||this.fullscreen||(0===r?this.startNewInterval({viewability:r,playbackState:b.PAUSED}):this.startNewInterval({viewability:r}))})),m(this,"handleFullscreenChange",(({event:e,fullscreen:t})=>{if(t){const{height:e,width:t}=window.screen;this.startNewInterval({height:e,width:t,windowHeight:e,windowWidth:t})}else t||this.startNewInterval(this.getDimensions());this.fullscreen=t,this.props.onFullscreenChange&&this.props.onFullscreenChange({event:e,fullscreen:t})})),m(this,"handleClose",(()=>{this.startNewInterval()})),m(this,"handleContextMenu",(e=>{e.preventDefault()})),this.state={ready:!1,seeking:!1};const t=w();this.handleWindowResize=i()(this.handleWindowResize,1e3),this.currentInterval={videoDuration:0,startTime:t,endTime:t,videoStartTime:0,videoEndTime:0,isAudible:S(e),playbackState:this.getPlaybackState(e,this.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},this.videoTime=0,this.fullscreen=!1,this.visible=null}componentDidMount(){this.currentInterval={...this.currentInterval,...this.getDimensions()},window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}componentDidUpdate(e,t){const n={};S(e)&&!S(this.props)?n.isAudible=!1:!S(e)&&S(this.props)&&(n.isAudible=!0);const r=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,t)!==r&&(n.playbackState=r),Object.keys(n).length>0&&this.startNewInterval(n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}getPlaybackState(e,t){return t.ready?e.playing&&!t.seeking?b.PLAYING:b.PAUSED:b.LOADING}getDimensions(){let e,t;if(this.videoWrapperRef.current){const n=this.videoWrapperRef.current;n.clientHeight&&n.clientWidth&&(e=n.clientHeight,t=n.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}logVideoEvent(e,t){const{closeupStoryPinViewability:n,contextLogData:r,logContextEvent:a}=this.props,{height:i,width:o,windowHeight:l,windowWidth:c,viewability:d,...u}=t;if(null!=i&&null!=o&&null!=l&&null!=c&&null!=d){const t={...u,height:i,width:o,windowHeight:l,windowWidth:c,viewability:n||d};a({event_type:e,...s({...r,view:this.fullscreen?108:r.view,eventData:{videoEvent:t}})})}}logFourthQuartileEvent(){const e=w();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1})}startNewInterval(e){const t=w();this.logVideoEvent(6904,{...this.currentInterval,endTime:t,videoEndTime:this.videoTime}),this.currentInterval={...this.currentInterval,...e,startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1}}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:r,accessibilityPlayLabel:a,accessibilityProgressBarLabel:i,accessibilityUnmuteLabel:s,aspectRatio:c,backgroundColor:d,captions:m,contextLogData:_,controls:f,cropHeight:g,hlsConfig:b,inAdsDesktopVideoExperiment:w,isAutoPlay:S,loop:E,objectFit:P,onLoadedChange:x,onControlsPause:T,onControlsPlay:I,onSeek:A,onVolumeChange:R,playbackRate:k,playing:C,playsInline:O,poster:D,preload:N,rootMargin:L,src:M,surface:j,videoStartTime:F,volume:U}=this.props,{seeking:B}=this.state,Z=w?v:y;return void 0!==L&&(Z.rootMargin=j?(0,l.e)(j):L),(0,h.jsx)(o.Z,{options:Z,onVisibilityChange:this.handleVisibilityChange,children:(0,h.jsx)(p.xu,{ref:this.videoWrapperRef,onContextMenu:this.handleContextMenu,dangerouslySetInlineStyle:{__style:g?{display:"flex",alignItems:"center",height:`${g}px`}:{}},children:(0,h.jsx)(u.default,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:r,accessibilityPlayLabel:a,accessibilityProgressBarLabel:i,accessibilityUnmuteLabel:s,aspectRatio:g?236/g:c,backgroundColor:d,captions:m,contextLogData:_,controls:f,hlsConfig:b,isAutoPlay:S,loop:E,objectFit:P,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:x,onLoop:this.handleLoop,onControlsPause:T,onControlsPlay:I,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onSeek:A,onTimeChange:this.handleTimeChange,onVolumeChange:R,playbackRate:k,playing:!B&&C,onPlay:()=>{},onPlayError:()=>{},playsInline:O,poster:D,preload:N,src:M,videoStartTime:F,visible:this.visible,volume:U})})})}}function P(e){const{logContextEvent:t}=(0,d.v)();return(0,h.jsx)(E,{...e,logContextEvent:t})}m(E,"defaultProps",p.nk.defaultProps)},158103:(e,t,n)=>{n.r(t),n.d(t,{VideoWrapper:()=>S,default:()=>E,getPlaylistSourceSrc:()=>w});var r=n(667294),a=n(19121),i=n(965900),o=n(407043),s=n(773285),l=n(858416),c=n(780280),d=n(883119),u=n(969315),p=n(179888),h=n(785893);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){if(!e||void 0===e)return"undefined";if("string"==typeof e){let n=e;if(t){const r="control"===t?"v3.pinimg.com":"v2.pinimg.com";n=e.replace("v.pinimg.com",r)}return n}if(Array.isArray(e)&&e[0].src){let n=e[0].src;if(t){const e="control"===t?"v3.pinimg.com":"v2.pinimg.com";n=n.replace("v.pinimg.com",e)}return n}return"unsupported_type_"+typeof e}class f extends r.Component{constructor(...e){super(...e),m(this,"state",{canPlayVideo:!1,playbackState:p.Cy.DEFAULT}),m(this,"errorRetryCount",2),m(this,"hasSegmentStarted",!1),m(this,"hasPlaybackStarted",!1),m(this,"hasVideoSessionStarted",!1),m(this,"hasVideoSessionEnded",!1),m(this,"lastStallTime",null),m(this,"lastPauseTime",null),m(this,"logSessionStartOnNextPlay",!1),m(this,"playerId",""),m(this,"videoSessionId",""),m(this,"videoVisibleTime",null),m(this,"playbackPerformance",{canPlayTime:null,detailedErrors:"",errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numberOfStalls:0,numberOfSeeks:0,playbackStartTimestamp:null,segments:[],srcString:_(this.props.src,this.props.quicExpGroup),totalStallDurationMs:0,totalPauseDurationMs:0}),m(this,"componentDidMount",(()=>{const{contextLogData:e={},playing:t}=this.props,{is_closeup_video:n=!1}=e;(0,u.tE)("videoMounted",!1,n),t&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(p.DR,{initiator:"mount"}))})),m(this,"componentDidUpdate",(e=>{const{playing:t,visible:n,appInFocus:r}=this.props;e.appInFocus&&!r&&(this.logPlaybackPerformance(p.$f,{initiator:"update"}),this.logSessionStartOnNextPlay=!0),e.visible&&!1===n&&(this.logSessionStartOnNextPlay=!1,this.updatePauseDuration(),this.logPlaybackPerformance(p.$f,{initiator:"update"})),!1===e.visible&&!0===n&&(this.videoVisibleTime=this.videoVisibleTime||new Date,t?(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(p.DR,{initiator:"update"})):this.logSessionStartOnNextPlay=!0),t&&r&&this.logSessionStartOnNextPlay&&(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(p.DR,{initiator:"update"}),this.logSessionStartOnNextPlay=!1)})),m(this,"addSegment",(()=>{const{canPlayTime:e,loadStartTime:t,segments:n,srcString:r}=this.playbackPerformance;let a=-1;e&&t&&0===n.length&&(a=e>t?e-t:0);const i=this.videoPlayerRef&&this.videoPlayerRef.video,o={indicatedKbps:-1,duration:i&&i.duration*p.gJ||-1,lastStartPlayTime:null,level:-1,numServerAddressChange:-1,observedKbps:-1,playbackStartDate:null,serverAddress:"",sourceWidth:-1,sourceHeight:-1,startupTimeMs:a,switchBitrateKbps:-1,uri:r,viewportWidth:i&&i.clientWidth||-1,viewportHeight:i&&i.clientHeight||-1,watchedDurationMs:0};n.push(o)})),m(this,"getCurrentVideoTime",(()=>this.videoPlayerRef&&this.videoPlayerRef.video?this.videoPlayerRef.video.currentTime*p.gJ:0)),m(this,"getVideoResourceTiming",(()=>{var e,t;if(null!==(e=window)&&void 0!==e&&null!==(t=e.performance)&&void 0!==t&&t.getEntriesByName&&this.playbackPerformance.srcString){const e=window.performance.getEntriesByName(this.playbackPerformance.srcString);return e.length>0&&e[0]||null}return null})),m(this,"handleCanPlayVideo",(e=>{const{contextLogData:t={},onReady:n,playing:r}=this.props,{is_closeup_video:a=!1}=t,{canPlayVideo:i}=this.state;(0,u.tE)("handleCanPlayVideo",!1,a,{firstCanPlayEvent:!i,playing:r}),this.playbackPerformance.hasFatalError=!1,i||(this.playbackPerformance.canPlayTime=new Date),this.setState({canPlayVideo:!0}),n&&n(e)})),m(this,"handleEnded",(e=>{const{loop:t,onEnded:n}=this.props,{segments:r}=this.playbackPerformance,a=r&&r[r.length-1];t&&this.videoPlayerRef&&this.videoPlayerRef.video?(this.updateWatchDurationForCurrentSegment(),a&&(a.lastStartPlayTime=0),this.hasSegmentStarted=!1):t||this.logPlaybackPerformance(p.$f,{initiator:"videoEnded",loop:t}),this.setState({playbackState:p.Cy.ENDED}),n&&n(e)})),m(this,"handleError",(()=>{var e,t,n,r,a,i,o,s;const{contextLogData:l={}}=this.props,{is_closeup_video:c=!1}=l,d=this.videoPlayerRef&&this.videoPlayerRef.video;(null==d||null===(e=d.error)||void 0===e?void 0:e.code)!==p.lG.MEDIA_ERR_ABORTED&&(this.playbackPerformance.hasFatalError=!0),this.playbackPerformance.detailedErrors+=`${this.playbackPerformance.detailedErrors.length>0?", ":""}${(null==d||null===(t=d.error)||void 0===t?void 0:t.message)||""}`,this.playbackPerformance.errorCode=(null==d||null===(n=d.error)||void 0===n?void 0:n.code)||0,this.playbackPerformance.errorName=(null==d||null===(r=d.error)||void 0===r||null===(a=r.message)||void 0===a?void 0:a.slice(0,100))||"unknown",this.playbackPerformance.errorReason=(null==d||null===(i=d.error)||void 0===i||null===(o=i.message)||void 0===o?void 0:o.slice(0,100))||"unknown";const h={errorName:this.playbackPerformance.errorCode,errorReason:this.playbackPerformance.errorName,errorRetryCount:this.errorRetryCount,playbackState:this.state.playbackState,networkState:(null==d?void 0:d.networkState)||"unknown"};switch((0,u.tE)("fatalError",!1,c,h),null==d||null===(s=d.error)||void 0===s?void 0:s.code){case p.lG.MEDIA_ERR_ABORTED:break;case p.lG.MEDIA_ERR_NETWORK:case p.lG.MEDIA_ERR_DECODE:case p.lG.MEDIA_ERR_SRC_NOT_SUPPORTED:default:this.errorRetryCount>0&&(null==d||d.load(),this.errorRetryCount-=1)}this.updateWatchDurationForCurrentSegment(),this.setState({playbackState:p.Cy.FAILED})})),m(this,"handleLoadedMetadata",(()=>{this.setState({playbackState:p.Cy.LOADED_METADATA})})),m(this,"handleLoadStart",(()=>{this.playbackPerformance.loadStartTime=new Date,this.setState({playbackState:p.Cy.LOAD_START})})),m(this,"handleLoadedData",(()=>{this.setState({playbackState:p.Cy.LOADED_DATA})})),m(this,"handlePlaying",(()=>{this.playbackPerformance.hasFatalError=!1,this.setPlaybackStartTime(),this.hasSegmentStarted||this.addSegment(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.updateStallDuration(),this.updatePauseDuration(),this.setState({playbackState:p.Cy.PLAYING}),this.props.clearSeekTime&&this.props.clearSeekTime()})),m(this,"handleUserPause",(e=>{const{onControlsPause:t}=this.props;this.lastPauseTime=new Date,t&&t(e)})),m(this,"handleVideoPause",(()=>{this.state.playbackState!==p.Cy.STALLING&&this.state.playbackState!==p.Cy.SEEKING&&(this.updateWatchDurationForCurrentSegment(),this.lastPauseTime||this.updateStallDuration()),this.setState({playbackState:p.Cy.PAUSED})})),m(this,"handleSeeking",(()=>{this.playbackPerformance.numberOfSeeks+=1;const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&(t.lastStartPlayTime=null),this.state.playbackState!==p.Cy.ENDED&&this.setState({playbackState:p.Cy.SEEKING})})),m(this,"handleStalled",(()=>{null===this.lastStallTime&&this.state.playbackState!==p.Cy.ENDED&&(this.lastStallTime=new Date,this.playbackPerformance.numberOfStalls+=1,this.setState({playbackState:p.Cy.STALLING}))})),m(this,"handleTimeUpdate",(e=>{const{onTimeChange:t}=this.props;t&&t(e),this.state.playbackState===p.Cy.PLAYING&&(this.updateWatchDurationForCurrentSegment(),this.setLastSegmentStartPlayTime())})),m(this,"resetPlaybackMetrics",(()=>{this.hasSegmentStarted=!0,this.hasPlaybackStarted=!1,this.hasVideoSessionStarted=!1,this.hasVideoSessionEnded=!0,this.lastStallTime=null,this.lastPauseTime=null,this.videoSessionId="",this.videoVisibleTime=null,this.logSessionStartOnNextPlay=!1;const e={...this.playbackPerformance.segments[this.playbackPerformance.segments.length-1],lastStartPlayTime:null,playbackStartDate:null,watchedDurationMs:0};this.playbackPerformance.detailedErrors="",this.playbackPerformance.errorCode=0,this.playbackPerformance.errorName="",this.playbackPerformance.errorReason="",this.playbackPerformance.hasFatalError=!1,this.playbackPerformance.numberOfStalls=0,this.playbackPerformance.numberOfSeeks=0,this.playbackPerformance.playbackStartTimestamp=null,this.playbackPerformance.totalStallDurationMs=0,this.playbackPerformance.segments=[e]})),m(this,"setLastSegmentStartPlayTime",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.lastStartPlayTime&&(t.lastStartPlayTime=this.getCurrentVideoTime())})),m(this,"setLastSegmentPlaybackStartDate",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.playbackStartDate&&(t.playbackStartDate=Date.now())})),m(this,"setPlaybackStartTime",(()=>{this.hasPlaybackStarted||(this.playbackPerformance.playbackStartTimestamp=Date.now(),this.hasPlaybackStarted=!0)})),m(this,"setVideoPlayerRef",(e=>{const{setVideoRef:t}=this.props;if(e&&(t&&t(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){const e=this.videoPlayerRef.video;e.addEventListener("loadedmetadata",this.handleLoadedMetadata),e.addEventListener("loadeddata",this.handleLoadedData),e.addEventListener("pause",this.handleVideoPause),e.readyState>=3&&(this.setState({canPlayVideo:!0}),this.playbackPerformance.canPlayTime=new Date)}})),m(this,"updateStallDuration",(()=>{if(null!==this.lastStallTime){const e=this.lastStallTime;this.playbackPerformance.totalStallDurationMs+=new Date-e,this.lastStallTime=null}})),m(this,"updatePauseDuration",(()=>{if(null!==this.lastPauseTime){const e=this.lastPauseTime;this.playbackPerformance.totalPauseDurationMs+=new Date-e,this.lastPauseTime=null}})),m(this,"updateWatchDurationForCurrentSegment",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1],n=t?t.lastStartPlayTime:null,r=this.getCurrentVideoTime();if(t&&null!==n&&"number"==typeof r&&"number"==typeof n){const e=r-n;e>0&&(t.watchedDurationMs+=e,t.lastStartPlayTime=null)}})),m(this,"logPlaybackPerformance",((e,t)=>{const{contextLogData:n={},userId:r,isAutoPlay:a,logContextEvent:i}=this.props,{is_closeup_video:o=!1}=n,{canPlayTime:s,detailedErrors:l,errorCode:c,errorName:d,errorReason:h,hasFatalError:m,loadStartTime:_,totalPauseDurationMs:f,totalStallDurationMs:g,numberOfStalls:y,numberOfSeeks:v,playbackStartTimestamp:b,segments:w,srcString:S}=this.playbackPerformance,E=this.videoPlayerRef&&this.videoPlayerRef.video,P=e===p.DR,x=P&&!this.hasVideoSessionStarted,T=!P&&!this.hasVideoSessionEnded&&this.hasVideoSessionStarted;if(E&&(x||T)){var I;let x=-1;s&&_&&(x=s>_?s-_:0);let T=-1;s&&this.videoVisibleTime&&(T=s>this.videoVisibleTime?s-this.videoVisibleTime:0),P&&(this.videoSessionId=(0,p.Y7)(r),this.playerId=this.playerId||(0,p.EB)());const A=this.getVideoResourceTiming(),R={averageVideoKbps:-1,autoplaying:a,detailedErrors:l,downloadedKiloBytes:"number"==typeof(null==A?void 0:A.decodedBodySize)&&A.decodedBodySize/p.Fm||0,errorCode:c,errorName:d,errorReason:h,fatalError:m,isCellular:!1,nativeVideoDurationMs:E.duration*p.gJ||-1,numberOfStalls:y,numberOfSeeks:v,overallPausedDurationMs:f,overallBufferDurationMs:g,overallWatchedDurationMs:-1,rebufferRate:-1,playbackSessionId:this.videoSessionId,playbackStartTimestamp:b||-1,segments:[],sessionMark:e,screenPixelScale:null!==(I=window)&&void 0!==I&&I.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:E.clientWidth,startupPlayerHeight:E.clientHeight,startupTimeMs:x,startupLatencyMs:T,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:E.videoWidth,startupVariantHeight:E.videoHeight,videoUrl:S};if(!P){this.updateWatchDurationForCurrentSegment(),this.updateStallDuration();const e=w.reduce(((e,t)=>e+(t.watchedDurationMs||0)),0);R.overallWatchedDurationMs=e,R.startupVariantWatchedDurationMs=e,R.segments=this.playbackPerformance.segments,0===e?(R.errorName="invalid_watch_duration",R.rebufferRate=-1):R.rebufferRate=g/e}(0,u.ZP)(R,!1,o,{playbackState:this.state.playbackState,...t});const{view:k,viewParameter:C,component:O,element:D,objectId:N,...L}=n;i({event_type:3606,event_data:{videoPerformanceData:R},view_type:k,view_parameter:C,component:O,element:D,object_id_str:N,aux_data:{...L,is_closeup_video:o,playback_session_id:this.videoSessionId}}),P?(this.hasVideoSessionStarted=!0,this.hasVideoSessionEnded=!1):this.resetPlaybackMetrics(),(0,u.tE)(P?"sessionStart":"sessionEnd",!1,o,{playbackState:this.state.playbackState,...t})}}))}componentWillUnmount(){const{loop:e}=this.props;this.updatePauseDuration(),this.logPlaybackPerformance(p.$f,{initiator:"unmount",loop:e})}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:r,accessibilityPlayLabel:a,accessibilityProgressBarLabel:i,accessibilityUnmuteLabel:o,aspectRatio:s,captions:l,controls:c,loop:u,loopOverride:p,objectFit:m,onDurationChange:f,onFullscreenChange:g,onLoadedChange:y,onControlsPlay:v,onPlayheadDown:b,onPlayheadUp:w,onSeek:S,onVolumeChange:E,playbackRate:P,playing:x,playsInline:T,poster:I,preload:A,src:R,videoStartTime:k,volume:C}=this.props,{canPlayVideo:O}=this.state;return(0,h.jsx)(d.nk,{autoplay:O&&x,accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:r,accessibilityPlayLabel:a,accessibilityProgressBarLabel:i,accessibilityUnmuteLabel:o,aspectRatio:s,captions:l,controls:c,loop:void 0===p?u:p,objectFit:m,onDurationChange:f,onEnded:this.handleEnded,onError:this.handleError,onFullscreenChange:g,onLoadedChange:y,onLoadStart:this.handleLoadStart,onControlsPause:this.handleUserPause,onControlsPlay:v,onPlaying:this.handlePlaying,onPlayheadDown:b,onPlayheadUp:w,onReady:this.handleCanPlayVideo,onSeek:S,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:E,onWaiting:this.handleStalled,playbackRate:P,onPlay:()=>{},onPlayError:()=>{},playing:O&&x,playsInline:T,poster:I,preload:A,ref:this.setVideoPlayerRef,src:_(R,this.props.quicExpGroup),startTime:k||void 0,volume:C})}}const g=(0,r.memo)((function(e){const{logContextEvent:t}=(0,o.v)(),{country:n,isAuthenticated:r,isBot:d,isSocialBot:p,unauthId:m,userAgent:_}=(0,c.B)(),{browserName:g,browserVersion:y,isMobile:v}=_,{contextLogData:b={}}=e,{is_closeup_video:w=!1,view:S,viewParameter:E}=b,{appUI:{appInFocus:P}}=(0,i.I)(),{checkExperiment:x}=(0,s.F)(),{clearSeekTime:T}=(0,l.RC)();let I=null;r&&(I=x("web_video_quic").group.length?x("web_video_quic").group:null);const A=(0,a.Z)(),R={browserName:g,browserVersion:y,country:n,isAuthenticated:r,isBot:d,is_closeup_video:w,isMobile:v,isSocialBot:p,view:S,viewParameter:E};return(0,u.r$)(R),(0,h.jsx)(f,{...e,userId:A.id||m,appInFocus:P,quicExpGroup:I,logContextEvent:t,clearSeekTime:T})}));var y=n(562559),v=n(366284);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const w=e=>{if(Array.isArray(e)){const t=e.find((e=>"video/m3u8"===e.type));return t?t.src:void 0}return RegExp("m3u8$").test(e)?e:void 0};class S extends r.PureComponent{constructor(e){super(e),b(this,"componentDidUpdate",((e,t)=>{var n;e.videoStartTime&&this.props.videoStartTime&&e.videoStartTime<this.props.videoStartTime&&null!==(n=this.videoPlayerRef)&&void 0!==n&&n.video&&(this.videoPlayerRef.video.currentTime=this.props.videoStartTime)})),b(this,"setVideoPlayerRef",(e=>{e&&(this.videoPlayerRef=e)})),b(this,"handleOnEnded",(({event:e})=>{const{loop:t,onLoop:n,onEnded:r}=this.props;r&&(r({event:e}),this.videoPlayerRef&&this.videoPlayerRef.video&&t&&(this.videoPlayerRef.video.play(),n&&n()))}));const t=w(e.src);this.state={useHlsVideo:!e.preferMp4&&!(0,v.G6)(e.requestContext.userAgent.browserName)&&!!t}}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:r,accessibilityPlayLabel:a,accessibilityProgressBarLabel:i,accessibilityUnmuteLabel:o,aspectRatio:s,appInFocus:l,backgroundColor:c,captions:d,contextLogData:u,controls:p,hlsConfig:m,isAutoPlay:_,loop:f,objectFit:v,onDurationChange:b,onEnded:S,onFullscreenChange:E,onLoadedChange:P,onControlsPause:x,onControlsPlay:T,onPlayheadDown:I,onPlayheadUp:A,onReady:R,onSeek:k,onTimeChange:C,onVolumeChange:O,playbackRate:D,playing:N,playsInline:L,poster:M,preferMp4:j,preload:F,src:U,videoStartTime:B,visible:Z,volume:z}=this.props,{useHlsVideo:V}=this.state,H=w(U),$={...m,startPosition:B||-1},G=!S&&f;return V&&H?(0,h.jsx)(y.Z,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:r,accessibilityPlayLabel:a,accessibilityProgressBarLabel:i,accessibilityUnmuteLabel:o,aspectRatio:s,appInFocus:l,backgroundColor:c,captions:d,contextLogData:u,controls:p,hlsConfig:$,isAutoPlay:_,loop:f,loopOverride:G,onDurationChange:b,onEnded:this.handleOnEnded,onFullscreenChange:E,onLoadedChange:P,onControlsPause:x,onControlsPlay:T,onPlayheadDown:I,onPlayheadUp:A,onReady:R,onSeek:k,onTimeChange:C,onVolumeChange:O,playbackRate:D,onPlay:()=>{},onPlayError:()=>{},playing:N,playsInline:L,poster:M,preload:F,setVideoRef:this.setVideoPlayerRef,src:H,visible:Z,volume:z}):(0,h.jsx)(g,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:r,accessibilityPlayLabel:a,accessibilityProgressBarLabel:i,accessibilityUnmuteLabel:o,aspectRatio:s,captions:d,contextLogData:u,controls:p,isAutoPlay:_,loop:f,loopOverride:G,objectFit:v,onDurationChange:b,onEnded:this.handleOnEnded,onFullscreenChange:E,onLoadedChange:P,onControlsPause:x,onControlsPlay:T,onPlayheadDown:I,onPlayheadUp:A,onReady:R,onSeek:k,onTimeChange:C,onVolumeChange:O,playbackRate:D,onPlay:()=>{},onPlayError:()=>{},playing:N,playsInline:L,poster:M,preload:F,setVideoRef:this.setVideoPlayerRef,src:j?U:H||U,videoStartTime:B,visible:Z,volume:z})}}function E(e){const{appUI:{appInFocus:t}}=(0,i.I)(),n=(0,c.B)();return(0,h.jsx)(S,{...e,appInFocus:t,requestContext:n})}},944546:(e,t,n)=>{n.d(t,{HJ:()=>a,VS:()=>r,iM:()=>i});const r=2,a="V_HLSV3_MOBILE",i=[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1,.11,.12,.13,.14,.15,.16,.17,.18,.19,.2,.21,.22,.23,.24,.25,.26,.27,.28,.29,.3,.31,.32,.33,.34,.35,.36,.37,.38,.39,.4,.41,.42,.43,.44,.45,.46,.47,.48,.49,.5,.51,.52,.53,.54,.55,.56,.57,.58,.59,.6,.61,.62,.63,.64,.65,.66,.67,.68,.69,.7,.71,.72,.73,.74,.75,.76,.77,.78,.79,.8,.81,.82,.83,.84,.85,.86,.87,.88,.89,.9,.91,.92,.93,.94,.95,.96,.97,.98,.99,1]},464228:(e,t,n)=>{n.d(t,{P:()=>i,Z:()=>o});var r=n(667294);const a=(0,r.createContext)();function i(){return(0,r.useContext)(a)}const o=a},373897:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},163405:(e,t,n)=>{var r=n(373897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},474704:(e,t,n)=>{var r=n(386116);e.exports=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw o}}}},e.exports.__esModule=!0,e.exports.default=e.exports},238416:e=>{e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},564836:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},379498:e=>{e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},742281:e=>{e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},242122:(e,t,n)=>{var r=n(238416);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},600861:(e,t,n)=>{var r=n(163405),a=n(379498),i=n(386116),o=n(742281);e.exports=function(e){return r(e)||a(e)||i(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},386116:(e,t,n)=>{var r=n(373897);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},204942:(e,t,n)=>{function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>r})},601413:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(204942);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/49366.ru_RU-655b5e0ba141121d.mjs.map